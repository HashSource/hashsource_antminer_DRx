// Decompiled: cgminer_01d84f42fbe617d6


int _init(EVP_PKEY_CTX *ctx)

{
  int iVar1;
  
  iVar1 = FUN_0000f20c();
  return iVar1;
}




void FUN_0000b498(void)

{
  char local_808 [4];
  char acStack_804 [4];
  char acStack_800 [4];
  char acStack_7fc [4];
  char local_7f8 [4];
  char acStack_7f4 [4];
  char acStack_7f0 [4];
  char acStack_7ec [2024];
  
  local_808[0] = 'F';
  local_808[1] = 'a';
  local_808[2] = 'i';
  local_808[3] = 'l';
  acStack_804[0] = 'e';
  acStack_804[1] = 'd';
  acStack_804[2] = ' ';
  acStack_804[3] = 't';
  acStack_800[0] = 'o';
  acStack_800[1] = ' ';
  acStack_800[2] = 'c';
  acStack_800[3] = 'r';
  acStack_7fc[0] = 'e';
  acStack_7fc[1] = 'a';
  acStack_7fc[2] = 't';
  acStack_7fc[3] = 'e';
  local_7f8[0] = ' ';
  local_7f8[1] = 'r';
  local_7f8[2] = 'e';
  local_7f8[3] = 's';
  acStack_7f4[0] = 't';
  acStack_7f4[1] = 'a';
  acStack_7f4[2] = 'r';
  acStack_7f4[3] = 't';
  acStack_7f0[0] = ' ';
  acStack_7f0[1] = 't';
  acStack_7f0[2] = 'h';
  acStack_7f0[3] = 'r';
  acStack_7ec[0] = 'e';
  acStack_7ec[1] = 'a';
  acStack_7ec[2] = 'd';
  acStack_7ec[3] = '\0';
  FUN_00038438(3,local_808,1);
  FUN_00016724(1);
  return;
}




void FUN_0000b4e4(undefined4 param_1,undefined4 param_2)

{
  int *piVar1;
  char acStack_810 [2052];
  
  piVar1 = __errno_location();
  snprintf(acStack_810,0x800,"WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d",*piVar1,"cgminer.c",param_1,param_2);
  FUN_00038438(3,acStack_810,1);
  FUN_00016724(1);
  return;
}




void FUN_0000b550(undefined4 param_1,undefined4 param_2)

{
  int *piVar1;
  char acStack_810 [2052];
  
  piVar1 = __errno_location();
  snprintf(acStack_810,0x800,"WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d",*piVar1,"cgminer.c",param_1,param_2);
  FUN_00038438(3,acStack_810,1);
  FUN_00016724(1);
  return;
}




void FUN_0000b5bc(undefined4 param_1,undefined4 param_2)

{
  int *piVar1;
  char acStack_810 [2052];
  
  piVar1 = __errno_location();
  snprintf(acStack_810,0x800,"Failed to pthread_mutex_init errno=%d in %s %s():%d",*piVar1,"cgminer.c",param_1,param_2);
  FUN_00038438(3,acStack_810,1);
  FUN_00016724(1);
  return;
}




void FUN_0000b628(undefined4 param_1,undefined4 param_2)

{
  int *piVar1;
  char acStack_810 [2052];
  
  piVar1 = __errno_location();
  snprintf(acStack_810,0x800,"Failed to pthread_rwlock_init errno=%d in %s %s():%d",*piVar1,"cgminer.c",param_1,param_2)
  ;
  FUN_00038438(3,acStack_810,1);
  FUN_00016724(1);
  return;
}




void FUN_0000b694(undefined4 param_1,undefined4 param_2)

{
  int *piVar1;
  char acStack_810 [2052];
  
  piVar1 = __errno_location();
  snprintf(acStack_810,0x800,"WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d",*piVar1,"cgminer.c",param_1,param_2);
  FUN_00038438(3,acStack_810,1);
  FUN_00016724(1);
  return;
}




void FUN_0000b700(undefined4 param_1,undefined4 param_2)

{
  int *piVar1;
  char acStack_810 [2052];
  
  piVar1 = __errno_location();
  snprintf(acStack_810,0x800,"WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d",*piVar1,"cgminer.c",param_1,param_2);
  FUN_00038438(3,acStack_810,1);
  FUN_00016724(1);
  return;
}




void FUN_0000b76c(undefined4 param_1,undefined4 param_2)

{
  int *piVar1;
  char acStack_810 [2052];
  
  piVar1 = __errno_location();
  snprintf(acStack_810,0x800,"WTF RDLOCK ERROR ON LOCK! errno=%d in %s %s():%d",*piVar1,"cgminer.c",param_1,param_2);
  FUN_00038438(3,acStack_810,1);
  FUN_00016724(1);
  return;
}




void FUN_0000b7d8(undefined4 param_1,undefined4 param_2)

{
  int *piVar1;
  char acStack_810 [2052];
  
  piVar1 = __errno_location();
  snprintf(acStack_810,0x800,"WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d",*piVar1,"util.c",param_1,param_2);
  FUN_00038438(3,acStack_810,1);
  FUN_00016724(1);
  return;
}




void FUN_0000b844(undefined4 param_1,undefined4 param_2)

{
  int *piVar1;
  char acStack_810 [2052];
  
  piVar1 = __errno_location();
  snprintf(acStack_810,0x800,"WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d",*piVar1,"api.c",param_1,param_2);
  FUN_00038438(3,acStack_810,1);
  FUN_00016724(1);
  return;
}




void FUN_0000b8b0(undefined4 param_1,undefined4 param_2)

{
  int *piVar1;
  char acStack_810 [2052];
  
  piVar1 = __errno_location();
  snprintf(acStack_810,0x800,"WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d",*piVar1,"api.c",param_1,param_2);
  FUN_00038438(3,acStack_810,1);
  FUN_00016724(1);
  return;
}




void FUN_0000b91c(undefined4 param_1,undefined4 param_2)

{
  int *piVar1;
  char acStack_810 [2052];
  
  piVar1 = __errno_location();
  snprintf(acStack_810,0x800,"WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d",*piVar1,"api.c",param_1,param_2);
  FUN_00038438(3,acStack_810,1);
  FUN_00016724(1);
  return;
}




void FUN_0000b988(undefined4 param_1)

{
  int *piVar1;
  char acStack_808 [2048];
  
  piVar1 = __errno_location();
  snprintf(acStack_808,0x800,"Failed to pthread_mutex_init errno=%d in %s %s():%d",*piVar1,"driver-btm-L3.c",
           "bitmain_L3_prepare",param_1);
  FUN_00038438(3,acStack_808,1);
  FUN_00016724(1);
  return;
}




/* WARNING: Restarted to delay deadcode elimination for space: ram */

void FUN_0000b9f0(int param_1,byte *param_2)

{
  byte *pbVar1;
  byte *pbVar2;
  byte *pbVar3;
  byte *pbVar4;
  byte *pbVar5;
  byte *pbVar6;
  byte bVar7;
  char cVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  long lVar11;
  void *pvVar12;
  undefined4 uVar13;
  undefined4 **ppuVar14;
  char *pcVar15;
  char *pcVar16;
  size_t sVar17;
  uint uVar18;
  undefined4 *puVar19;
  FILE *pFVar20;
  size_t sVar21;
  __sighandler_t p_Var22;
  __sighandler_t p_Var23;
  int iVar24;
  int *piVar25;
  undefined8 *puVar26;
  uint uVar28;
  int *piVar29;
  char *pcVar30;
  undefined4 uVar31;
  code *extraout_r3;
  code *pcVar32;
  uint uVar33;
  byte *pbVar34;
  int *piVar35;
  int iVar36;
  int iVar37;
  byte *pbVar38;
  int iVar39;
  byte *pbVar40;
  uint uVar41;
  FILE **ppFVar42;
  int *unaff_r7;
  void *__s;
  undefined4 *unaff_r9;
  byte *pbVar43;
  uint uVar44;
  char **ppcVar45;
  bool bVar46;
  size_t local_2a10 [4];
  char acStack_2a00 [4104];
  char local_19f8 [4];
  char acStack_19f4 [4];
  undefined1 local_19f0;
  char *local_a00 [5];
  int *local_9ec;
  int *local_9e8;
  undefined4 *local_9e4;
  char *local_9e0;
  undefined4 *local_9dc;
  char *local_9d8;
  byte *local_9d4;
  int *local_9d0;
  byte *local_9cc;
  byte *local_9c8;
  int local_9c4 [2];
  _union_1051 local_9bc;
  sigset_t sStack_9b8;
  int local_938;
  char acStack_930 [256];
  int local_830;
  int local_82c;
  uint local_828;
  char acStack_824 [4];
  char local_820 [4];
  undefined2 local_81c [2];
  char local_818 [4];
  char local_814 [4];
  char local_810 [4];
  uint local_80c;
  undefined1 local_808;
  undefined8 *puVar27;
  
  ppcVar45 = local_a00;
  DAT_000630a0 = 0x2b61;
  DAT_000630a2 = 0;
  DAT_00062fa4._0_1_ = 'n';
  DAT_00062fa4._1_1_ = 'e';
  DAT_00062fa4._2_1_ = 'r';
  DAT_00062fa4._3_1_ = '.';
  DAT_00062fa8._0_1_ = 'l';
  DAT_00062fa8._1_1_ = 'o';
  DAT_00062fa8._2_1_ = 'g';
  DAT_00062fa8._3_1_ = '\0';
  DAT_00062fa0._0_1_ = 'c';
  DAT_00062fa0._1_1_ = 'g';
  DAT_00062fa0._2_1_ = 'm';
  DAT_00062fa0._3_1_ = 'i';
  DAT_00062f98 = 0;
  local_9d4 = param_2;
  local_9c4[0] = param_1;
  lVar11 = sysconf(0x54);
  bVar46 = lVar11 == 1;
  pcVar32 = extraout_r3;
  if (bVar46) {
    pcVar32 = sched_yield;
  }
  if (bVar46) {
    unaff_r9 = &DAT_00060178;
  }
  if (bVar46) {
    *unaff_r9 = pcVar32;
  }
  pvVar12 = malloc((local_9c4[0] + 1) * 4);
  pbVar38 = local_9d4;
  DAT_0006141c = pvVar12;
  if (0 < local_9c4[0]) {
    iVar37 = 0;
    iVar39 = 0;
    do {
      iVar39 = iVar39 + 1;
      uVar13 = __strdup(*(undefined4 *)(pbVar38 + iVar37));
      *(undefined4 *)((int)pvVar12 + iVar37) = uVar13;
      iVar37 = iVar37 + 4;
      unaff_r7 = (int *)pbVar38;
    } while (iVar39 < local_9c4[0]);
  }
  *(undefined4 *)((int)pvVar12 + local_9c4[0] * 4) = 0;
  FUN_000173c0(&DAT_0006392c,&DAT_0004a378,0x29c9);
  FUN_000173c0(&DAT_00063dfc,&DAT_0004a378,0x29ca);
  FUN_000173c0(&DAT_00063d48,&DAT_0004a378,0x29cb);
  pbVar38 = (byte *)&DAT_00060e88;
  FUN_00017418(&DAT_00063fb0,&DAT_0004a378,0x29cc);
  FUN_000173c0(&DAT_000632f4,&DAT_0004a378,0x29cd);
  FUN_000173c0(&DAT_00061538,&DAT_0004a378,0x29ce);
  FUN_00017418(&DAT_00063f78,&DAT_0004a378,0x29cf);
  FUN_000173c0(&DAT_000612dc,&DAT_0004a378,0x29d0);
  FUN_000173ec(&DAT_00061550,&DAT_0004a378,0x29d1);
  FUN_000173ec(&DAT_00063880,&DAT_0004a378,0x29d2);
  FUN_000173ec(&DAT_00063bf0,&DAT_0004a378,0x29d3);
  FUN_000173ec(&DAT_00063ca0,&DAT_0004a378,0x29d4);
  FUN_000173c0(&DAT_00061314,&DAT_0004a378,0x29d6);
  iVar37 = pthread_cond_init((pthread_cond_t *)&DAT_00061330,(pthread_condattr_t *)0x0);
  if (iVar37 != 0) {
    local_830._0_1_ = 'F';
    local_830._1_1_ = 'a';
    local_830._2_1_ = 'i';
    local_830._3_1_ = 'l';
    local_82c._0_1_ = 'e';
    local_82c._1_1_ = 'd';
    local_82c._2_1_ = ' ';
    local_82c._3_1_ = 't';
    local_828._0_1_ = 'o';
    local_828._1_1_ = ' ';
    local_828._2_1_ = 'p';
    local_828._3_1_ = 't';
    acStack_824[0] = 'h';
    acStack_824[1] = 'r';
    acStack_824[2] = 'e';
    acStack_824[3] = 'a';
    local_820[0] = 'd';
    local_820[1] = '_';
    local_820[2] = 'c';
    local_820[3] = 'o';
    local_81c[0]._0_1_ = 'n';
    local_81c[0]._1_1_ = 'd';
    local_81c[1]._0_1_ = '_';
    local_81c[1]._1_1_ = 'i';
    local_818[0] = 'n';
    local_818[1] = 'i';
    local_818[2] = 't';
    local_818[3] = ' ';
    local_814[0] = 'l';
    local_814[1] = 'p';
    local_814[2] = '_';
    local_814[3] = 'c';
    local_810[0] = 'o';
    local_810[1] = 'n';
    local_810[2] = 'd';
    local_810[3] = '\0';
    FUN_00038438(3,&local_830,1);
    FUN_0001c160(1,0);
LAB_0000df98:
    local_828._0_1_ = 'o';
    local_828._1_1_ = ' ';
    local_828._2_1_ = 'p';
    local_828._3_1_ = 't';
    acStack_824[0] = 'h';
    acStack_824[1] = 'r';
    acStack_824[2] = 'e';
    acStack_824[3] = 'a';
    local_820[0] = 'd';
    local_820[1] = '_';
    local_820[2] = 'c';
    local_820[3] = 'o';
    local_81c[0]._0_1_ = 'n';
    local_81c[0]._1_1_ = 'd';
    local_81c[1]._0_1_ = '_';
    local_81c[1]._1_1_ = 'i';
    local_818[0] = 'n';
    local_818[1] = 'i';
    local_818[2] = 't';
    local_818[3] = ' ';
    local_814[0] = 'g';
    local_814[1] = 'w';
    local_814[2] = 's';
    local_814[3] = '_';
    local_810[0] = 'c';
    local_810[1] = 'o';
    local_810[2] = 'n';
    local_810[3] = 'd';
    local_80c = local_80c & 0xffffff00;
LAB_0000d874:
    local_82c._0_1_ = 'e';
    local_82c._1_1_ = 'd';
    local_82c._2_1_ = ' ';
    local_82c._3_1_ = 't';
    local_830._0_1_ = 'F';
    local_830._1_1_ = 'a';
    local_830._2_1_ = 'i';
    local_830._3_1_ = 'l';
    FUN_00038438(3,&local_830,1);
    FUN_0001c160(1,0);
LAB_0000d88c:
    snprintf((char *)local_9d0,0x800,"Open miner version file %s error",DAT_00060ea0);
LAB_0000d8a8:
    FUN_00038438(3,local_9d0,0);
LAB_0000c688:
    if (*local_9d8 == '\0') {
LAB_0000c6a0:
      local_9e0 = &DAT_000630c0;
      if ((DAT_000630c0 != '\0') || (2 < DAT_00060964)) goto LAB_0000c6c0;
    }
    else {
LAB_0000c6c0:
      *ppcVar45 = &DAT_00062b0c;
      snprintf((char *)local_9d0,0x800,"Miner compile time: %s type: %s",&DAT_00062a0c);
      FUN_00038438(3,local_9d0,0);
    }
LAB_0000c6ec:
    if (DAT_00060e90 != (char *)0x0) {
      DAT_00062f98 = 1;
      strcpy((char *)&DAT_00062fa0,DAT_00060e90);
      if (DAT_00060e9c != (char *)0x0) {
        strcpy((char *)&DAT_000630a0,DAT_00060e9c);
      }
      if (((*local_9d8 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
        *ppcVar45 = (char *)&DAT_000630a0;
        snprintf((char *)local_9d0,0x800,"Log file path: %s Open flag: %s",&DAT_00062fa0);
        FUN_00038438(3,local_9d0,0);
      }
    }
    iVar37 = DAT_00060e98;
    pcVar30 = (char *)&DAT_00060e88;
    pbVar38 = &DAT_00062e80;
    unaff_r7 = (int *)pcVar30;
    if (DAT_00060e98 != 0) {
      memset(acStack_930,0,0x100);
      if (DAT_00060e94 == (char *)0x0) {
        if (((*local_9d8 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
          snprintf((char *)local_9d0,0x800,"Log work path: %s",iVar37);
          FUN_00038438(3,local_9d0,0);
        }
      }
      else {
        if (*DAT_00060e94 == '\0') {
          *local_9d0 = 0x20676f4c;
          local_9d0[1] = 0x6b726f77;
          local_9d0[2] = 0x69736120;
          local_9d0[3] = 0x756e2063;
          local_9d0[4] = 0x6d65206d;
          local_9d0[5] = 0x797470;
          FUN_00038438(3,local_9d0,1);
          FUN_00016724(1);
        }
        DAT_00062c0c = strtol(DAT_00060e94,(char **)0x0,10);
        if ((DAT_00062c0c != 0x20 && DAT_00062c0c != 1) && (DAT_00062c0c != 0x40)) {
          *local_9d0 = 0x20676f4c;
          local_9d0[1] = 0x6b726f77;
          local_9d0[2] = 0x69736120;
          local_9d0[3] = 0x756e2063;
          local_9d0[4] = 0x756d206d;
          local_9d0[5] = 0x62207473;
          local_9d0[6] = 0x2c312065;
          local_9d0[7] = 0x2c323320;
          local_9d0[8] = 0x343620;
          FUN_00038438(3,local_9d0,1);
          FUN_00016724(1);
        }
        if (((*local_9d8 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
          *ppcVar45 = DAT_00060e94;
          snprintf((char *)local_9d0,0x800,"Log work path: %s Asic num: %s",DAT_00060e98);
          FUN_00038438(3,local_9d0,0);
        }
      }
      sprintf(acStack_930,"%s.txt",DAT_00060e98);
      DAT_00062c10 = fopen(acStack_930,"a+");
      if (((*local_9d8 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
        snprintf((char *)local_9d0,0x800,"Log work open file %s",acStack_930);
        FUN_00038438(3,local_9d0,0);
      }
      piVar29 = local_9d0;
      if (DAT_00062c0c == 1) {
        sprintf(acStack_930,"%s%02d.txt",DAT_00060e98);
        DAT_00062c14 = fopen(acStack_930,"a+");
        if (((*local_9d8 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
          *ppcVar45 = acStack_930;
          snprintf((char *)local_9d0,0x800,"Log work open asic %d file %s",DAT_00062c0c);
          FUN_00038438(3,local_9d0,0);
        }
      }
      else if ((DAT_00062c0c == 0x20 || DAT_00062c0c == 0x40) && (-1 < DAT_00062c0c)) {
        pcVar30 = &DAT_000630c0;
        ppFVar42 = &DAT_00062c10;
        iVar37 = 0;
        do {
          *ppcVar45 = (char *)iVar37;
          sprintf(acStack_930,"%s%02d_%02d.txt",DAT_00060e98);
          pFVar20 = fopen(acStack_930,"a+");
          cVar8 = *local_9d8;
          ppFVar42 = ppFVar42 + 1;
          *ppFVar42 = pFVar20;
          if (((cVar8 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
            *ppcVar45 = acStack_930;
            snprintf((char *)piVar29,0x800,"Log work open asic %d file %s",DAT_00062c0c);
            FUN_00038438(3,piVar29,0);
          }
          iVar37 = iVar37 + 1;
        } while (iVar37 <= DAT_00062c0c);
      }
      piVar29 = local_9d0;
      pcVar15 = local_9d8;
      unaff_r7 = (int *)pcVar30;
      if (DAT_00062d18 != '\0') {
        local_9c8 = &DAT_00062e80;
        iVar37 = 0;
        pcVar30 = &DAT_00062d18;
        do {
          sprintf(acStack_930,"%s_diff_%02d.txt",DAT_00060e98,iVar37);
          pFVar20 = fopen(acStack_930,"a+");
          cVar8 = *pcVar15;
          pcVar30 = pcVar30 + 4;
          *(FILE **)pcVar30 = pFVar20;
          if (((cVar8 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
            snprintf((char *)piVar29,0x800,"Log work open diff file %s",acStack_930);
            FUN_00038438(3,piVar29,0);
          }
          iVar37 = iVar37 + 1;
          pbVar38 = local_9c8;
          unaff_r7 = (int *)&DAT_000630c0;
        } while (iVar37 != 0x41);
      }
    }
    if (DAT_000640b8 == '\0') {
      local_9dc = &DAT_0005f890;
      if (DAT_0006007c != '\0') {
        FUN_000277b0();
      }
    }
    else {
      local_9dc = &DAT_0005f890;
      DAT_0006007c = '\0';
    }
    if (((*local_9d8 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
      snprintf((char *)local_9d0,0x800,"Started %s",&DAT_00060ea4);
      FUN_00038438(4,local_9d0,0);
    }
    if (DAT_000611d4 != (char *)0x0) {
      if ((DAT_000630c1 != '\0') && (((*local_9d8 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
        snprintf((char *)local_9d0,0x800,"Loaded configuration file %s");
        FUN_00038438(7,local_9d0,0);
      }
      if (DAT_000612a4 == -1) {
        if (((*local_9d8 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
          *local_9d0 = 0x6f727245;
          local_9d0[1] = 0x6e692072;
          local_9d0[2] = 0x6e6f6320;
          local_9d0[3] = 0x75676966;
          local_9d0[4] = 0x69746172;
          local_9d0[5] = 0x66206e6f;
          local_9d0[6] = 0x2c656c69;
          local_9d0[7] = 0x72617020;
          local_9d0[8] = 0x6c616974;
          local_9d0[9] = 0x6c20796c;
          local_9d0[10] = 0x6564616f;
          *(undefined2 *)(local_9d0 + 0xb) = 0x2e64;
          *(char *)((int)local_9d0 + 0x2e) = '\0';
          FUN_00038438(4,local_9d0,0);
        }
        if ((*(char *)(local_9dc + 0x1fb) != '\0') &&
           (((*local_9d8 != '\0' || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)))) {
          *local_9d0 = 0x72617453;
          local_9d0[1] = 0x67632074;
          local_9d0[2] = 0x656e696d;
          local_9d0[3] = 0x69772072;
          local_9d0[4] = 0x2d206874;
          local_9d0[5] = 0x6f742054;
          local_9d0[6] = 0x65657320;
          local_9d0[7] = 0x61687720;
          local_9d0[8] = 0x61662074;
          local_9d0[9] = 0x64656c69;
          local_9d0[10] = 0x206f7420;
          local_9d0[0xb] = 0x64616f6c;
          *(undefined2 *)(local_9d0 + 0xc) = 0x2e;
          FUN_00038438(4,local_9d0,0);
        }
      }
      else if (DAT_000612a4 == 0) {
        if (((*local_9d8 == '\0') && (DAT_000630c0 == '\0')) && (local_9e8 = &DAT_00060964, DAT_00060964 < 4)) {
LAB_0000cd28:
          local_9e8 = &DAT_00060964;
          if (DAT_00060964 < 4) goto LAB_0000cd6c;
        }
        else {
          *local_9d0 = 0x61746146;
          local_9d0[1] = 0x534a206c;
          local_9d0[2] = 0x65204e4f;
          local_9d0[3] = 0x726f7272;
          local_9d0[4] = 0x206e6920;
          local_9d0[5] = 0x666e6f63;
          local_9d0[6] = 0x72756769;
          local_9d0[7] = 0x6f697461;
          local_9d0[8] = 0x6966206e;
          local_9d0[9] = 0x2e656c;
          FUN_00038438(4,local_9d0,0);
          if ((*local_9d8 == '\0') && (DAT_000630c0 == '\0')) goto LAB_0000cd28;
        }
        *local_9d0 = 0x666e6f43;
        local_9d0[1] = 0x72756769;
        local_9d0[2] = 0x6f697461;
        local_9d0[3] = 0x6966206e;
        local_9d0[4] = 0x6320656c;
        local_9d0[5] = 0x646c756f;
        local_9d0[6] = 0x746f6e20;
        local_9d0[7] = 0x20656220;
        local_9d0[8] = 0x64657375;
        *(undefined2 *)(local_9d0 + 9) = 0x2e;
        FUN_00038438(4,local_9d0,0);
      }
LAB_0000cd6c:
      free(DAT_000611d4);
      DAT_000611d4 = (char *)0x0;
    }
    pcVar30 = DAT_00064214;
    sVar17 = strlen(DAT_00064214);
    (pcVar30 + sVar17)[0] = '/';
    (pcVar30 + sVar17)[1] = '\0';
    if (DAT_00063df8 != '\0') {
      DAT_000630c0 = '\x01';
    }
    if ((int)local_9dc[0x200] < 0) {
      if (DAT_00063df9 == '\0') {
        uVar13 = 0x3c;
      }
      else {
        uVar13 = 0x1e;
      }
      local_9dc[0x200] = uVar13;
    }
    pbVar38[-0xffffffff00000060] = 8;
    pbVar38[-0xffffffff0000005f] = 0;
    pbVar38[-0xffffffff0000005e] = 0;
    pbVar38[-0xffffffff0000005d] = 0;
    DAT_000636a4 = (char *)calloc(8,0x40);
    pcVar30 = DAT_000636a4;
    if (DAT_000636a4 == (char *)0x0) {
LAB_0000da4c:
      *local_9d0 = 0x6c696146;
      local_9d0[1] = 0x74206465;
      local_9d0[2] = 0x6163206f;
      local_9d0[3] = 0x636f6c6c;
      local_9d0[4] = 0x6e6f6320;
      local_9d0[5] = 0x6c6f7274;
      local_9d0[6] = 0x7268745f;
      *(char *)(local_9d0 + 7) = '\0';
      FUN_00038438(3,local_9d0,1);
      FUN_0001c160(1,pcVar30);
LAB_0000da84:
      local_9c8 = (byte *)&DAT_00063bc8;
      FUN_0001a4ec(&DAT_00063ca0,"load_temp_cutoffs",0x47e);
      iVar39 = DAT_00063cc0;
      iVar37 = DAT_00063bc8;
      while ((int)pcVar30 < iVar39) {
        iVar24 = *(int *)(iVar37 + (int)pcVar30 * 4);
        pcVar30 = pcVar30 + 1;
        if (*(int *)(iVar24 + 0xb8) == 0) {
          *(undefined4 *)(iVar24 + 0xb8) = 0x5f;
        }
      }
      FUN_00019598(&DAT_00063ca0,"load_temp_cutoffs",0x484);
    }
    else {
      pcVar30 = (char *)0x0;
      unaff_r7 = (int *)&DAT_00063d78;
      DAT_00062e24 = 0;
      local_9ec = (int *)&DAT_00063cc8;
      FUN_000278e0(&DAT_00063cc8);
      FUN_000278e0(&DAT_00063270);
      FUN_000278e0(&DAT_00063d78);
      FUN_000278e0(&DAT_000639f0);
      FUN_000278e0(&DAT_00060d68);
      FUN_000278e0(&DAT_00064240);
      FUN_000278e0(&DAT_00063a78);
      FUN_000278e0(&DAT_00063c18);
      FUN_000278e0(&DAT_00063fe8);
      FUN_000278e0(&DAT_00063310);
      FUN_000278e0(&DAT_00064110);
      FUN_000278e0(&DAT_00063418);
      FUN_000278e0(&DAT_000638a8);
      FUN_000278e0(&DAT_00063800);
      FUN_000278e0(&DAT_00063518);
      FUN_000278e0(&DAT_00063e60);
      FUN_000278e0(&DAT_00063620);
      FUN_000278e0(&DAT_00063598);
      FUN_000278e0(&DAT_00063b00);
      FUN_000278e0(&DAT_00063948);
      FUN_000278e0(&DAT_00063778);
      FUN_000278e0(&DAT_00064190);
      FUN_000278e0(&DAT_00063498);
      FUN_000278e0(&DAT_00063390);
      (*(code *)local_9ec[3])(0);
      (*DAT_0006327c)(0);
      (*DAT_00063d84)(0);
      (*DAT_000639fc)(0);
      (*(code *)PTR_FUN_00060d74)(0);
      (*DAT_0006424c)(0);
      (*DAT_00063a84)(0);
      (*DAT_00063c24)(0);
      (*DAT_00063ff4)(0);
      (*DAT_0006331c)(0);
      (*DAT_0006411c)(0);
      (*DAT_00063424)(0);
      (*DAT_000638b4)(0);
      (*DAT_0006380c)(0);
      (*DAT_00063524)(0);
      (*DAT_00063e6c)(0);
      (*DAT_0006362c)(0);
      (*DAT_000635a4)(0);
      (*DAT_00063b0c)(0);
      (*DAT_00063954)(0);
      (*DAT_00063784)(0);
      (*DAT_0006419c)(0);
      (*DAT_000634a4)(0);
      (*DAT_0006339c)(0);
      DAT_0006410c = 0;
      if (0 < DAT_00063cc0) {
        unaff_r7 = &DAT_00063bc8;
        local_9c8 = (byte *)&DAT_00063bc8;
        do {
          iVar37 = (int)pcVar30 * 4;
          pcVar30 = pcVar30 + 1;
          FUN_00027b20(*(undefined4 *)(DAT_00063bc8 + iVar37));
        } while ((int)pcVar30 < DAT_00063cc0);
      }
      if (DAT_00063cc0 == 0) {
        *local_9d0 = 0x206c6c41;
        local_9d0[1] = 0x69766564;
        local_9d0[2] = 0x20736563;
        local_9d0[3] = 0x61736964;
        local_9d0[4] = 0x64656c62;
        local_9d0[5] = 0x6163202c;
        local_9d0[6] = 0x746f6e6e;
        local_9d0[7] = 0x6e696d20;
        *(undefined2 *)(local_9d0 + 8) = 0x2165;
        *(char *)((int)local_9d0 + 0x22) = '\0';
        FUN_00038438(3,local_9d0,1);
        FUN_0001c160(1,0);
        goto LAB_0000da4c;
      }
      DAT_0006130c = DAT_00063cc0;
      pcVar30 = DAT_000611b0;
      if (DAT_000611b0 == (char *)0x0) goto LAB_0000da84;
      pcVar30 = strtok(DAT_000611b0,",");
      piVar29 = local_9d0;
      local_9c8 = (byte *)&DAT_00063bc8;
      if (pcVar30 == (char *)0x0) {
        iVar37 = 0;
        uVar44 = 0;
LAB_0000df04:
        unaff_r7 = (int *)0x0;
        FUN_0001a4ec(&DAT_00063ca0,"load_temp_cutoffs",0x48a);
        iVar39 = DAT_00063cc0;
        iVar24 = *(int *)local_9c8;
        for (; iVar37 < iVar39; iVar37 = iVar37 + 1) {
          *(uint *)(*(int *)(iVar24 + iVar37 * 4) + 0xb8) = uVar44;
        }
        FUN_00019598(&DAT_00063ca0,"load_temp_cutoffs",0x48d);
      }
      else {
        iVar37 = 0;
        do {
          if (DAT_00063cc0 <= iVar37) {
            *piVar29 = 0x206f6f54;
            piVar29[1] = 0x796e616d;
            piVar29[2] = 0x6c617620;
            piVar29[3] = 0x20736575;
            piVar29[4] = 0x73736170;
            piVar29[5] = 0x74206465;
            piVar29[6] = 0x6573206f;
            piVar29[7] = 0x65742074;
            piVar29[8] = 0x6320706d;
            piVar29[9] = 0x666f7475;
            *(undefined2 *)(piVar29 + 10) = 0x66;
            FUN_00038438(3,piVar29,1);
            FUN_00016724(1);
          }
          uVar44 = strtol(pcVar30,(char **)0x0,10);
          if (200 < uVar44) {
            *piVar29 = 0x61766e49;
            piVar29[1] = 0x2064696c;
            piVar29[2] = 0x756c6176;
            piVar29[3] = 0x61702065;
            piVar29[4] = 0x64657373;
            piVar29[5] = 0x206f7420;
            piVar29[6] = 0x20746573;
            piVar29[7] = 0x706d6574;
            piVar29[8] = 0x74756320;
            piVar29[9] = 0x66666f;
            FUN_00038438(3,piVar29,1);
            FUN_00016724(1);
          }
          FUN_0001a4ec(&DAT_00063ca0,"load_temp_cutoffs",0x477);
          iVar39 = iVar37 * 4;
          iVar37 = iVar37 + 1;
          *(uint *)(*(int *)(DAT_00063bc8 + iVar39) + 0xb8) = uVar44;
          FUN_00019598(&DAT_00063ca0,"load_temp_cutoffs",0x479);
          pcVar30 = strtok((char *)0x0,",");
        } while (pcVar30 != (char *)0x0);
        unaff_r7 = (int *)0x0;
        if (iVar37 == 1) goto LAB_0000df04;
      }
    }
    if (0 < DAT_00063cc0) {
      piVar25 = *(int **)local_9c8 + DAT_00063cc0;
      piVar29 = *(int **)local_9c8;
      do {
        piVar35 = piVar29 + 1;
        *(undefined4 *)(*piVar29 + 0x138) = 99999999;
        piVar29 = piVar35;
      } while (piVar35 != piVar25);
    }
    if (DAT_00063ee0 == '\0') {
      DAT_000612fc = DAT_000612fc + DAT_0006130c;
      DAT_00061304 = DAT_000612fc + 1;
      FUN_000191c4();
    }
    if (DAT_00063740 == 0) {
      if (((*local_9d8 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
        *local_9d0 = 0x6465654e;
        local_9d0[1] = 0x206f7420;
        local_9d0[2] = 0x63657073;
        local_9d0[3] = 0x20796669;
        local_9d0[4] = 0x6c207461;
        local_9d0[5] = 0x74736165;
        local_9d0[6] = 0x656e6f20;
        local_9d0[7] = 0x6f6f7020;
        local_9d0[8] = 0x6573206c;
        local_9d0[9] = 0x72657672;
        *(undefined2 *)(local_9d0 + 10) = 0x2e;
        FUN_00038438(4,local_9d0,0);
      }
      if ((*(char *)(local_9dc + 0x1fb) == '\0') || (iVar37 = FUN_00026934(0), iVar37 == 0)) {
        *local_9d0 = 0x6c6f6f50;
        local_9d0[1] = 0x74657320;
        local_9d0[2] = 0x66207075;
        local_9d0[3] = 0x656c6961;
        *(undefined2 *)(local_9d0 + 4) = 100;
        FUN_00038438(3,local_9d0,1);
        FUN_0001c160(1,0);
      }
    }
    ppuVar14 = &DAT_000639e0;
    if (0 < DAT_00063740) {
      iVar37 = 0;
LAB_0000d4c8:
      iVar39 = DAT_000639e0[iVar37];
      *(undefined4 *)(iVar39 + 0x18c) = 99999999;
      *(undefined4 *)(iVar39 + 0x1b0) = 99999999;
      if (*(int *)(iVar39 + 0xa8) == 0) {
        if (*(int *)(iVar39 + 0xb0) == 0) goto LAB_0000f1bc;
        do {
          pcVar30 = *(char **)(iVar39 + 0xac);
          if (pcVar30 != (char *)0x0) {
            sVar17 = strlen(pcVar30);
            local_9ec = *(int **)(iVar39 + 0xb0);
            sVar21 = strlen((char *)local_9ec);
            sVar17 = sVar17 + sVar21 + 2;
            pcVar15 = (char *)malloc(sVar17);
            *(char **)(iVar39 + 0xa8) = pcVar15;
            if (pcVar15 != (char *)0x0) goto code_r0x0000d538;
            *local_9d0 = 0x6c696146;
            local_9d0[1] = 0x74206465;
            local_9d0[2] = 0x616d206f;
            local_9d0[3] = 0x636f6c6c;
            local_9d0[4] = 0x65737520;
            local_9d0[5] = 0x73617072;
            *(undefined2 *)(local_9d0 + 6) = 0x73;
            FUN_00038438(3,local_9d0,1);
            FUN_0001c160(1,0);
            pbVar38 = (byte *)0x0;
          }
          *ppcVar45 = (char *)*(undefined4 *)(iVar39 + 0xa4);
          snprintf((char *)local_9d0,0x800,"No login credentials supplied for pool %u %s",iVar37);
          FUN_00038438(3,local_9d0,1);
          FUN_0001c160(1,pcVar30);
LAB_0000f1bc:
          pvVar12 = calloc(1,1);
          *(void **)(iVar39 + 0xb0) = pvVar12;
        } while( true );
      }
      goto LAB_0000d4b0;
    }
LAB_0000d640:
    DAT_00061310 = *DAT_000639e0;
    if (*local_9d8 != '\0') {
      openlog("cgminer",1,8);
    }
    if (*(int *)(pbVar38 + -0x58) != 0) {
      iVar37 = pipe(local_9d0);
      if (iVar37 < 0) {
        perror("pipe - failed to create pipe for --monitor");
                    /* WARNING: Subroutine does not return */
        exit(1);
      }
      fflush(stderr);
      iVar37 = dup2(local_82c,2);
      if (iVar37 < 0) {
        perror("dup2 - failed to alias stderr to write end of pipe for --monitor");
                    /* WARNING: Subroutine does not return */
        exit(1);
      }
      iVar37 = close(local_82c);
      if (iVar37 < 0) {
        perror("close - failed to close write end of pipe for --monitor");
                    /* WARNING: Subroutine does not return */
        exit(1);
      }
      p_Var22 = signal(0xd,(__sighandler_t)0x1);
      p_Var23 = signal(0xd,(__sighandler_t)0x1);
      if (p_Var23 == (__sighandler_t)0xffffffff || p_Var22 == (__sighandler_t)0xffffffff) {
        perror("signal - failed to edit signal mask for --monitor");
                    /* WARNING: Subroutine does not return */
        exit(1);
      }
      unaff_r7 = (int *)fork();
      DAT_00061418 = (byte *)unaff_r7;
      if ((int)unaff_r7 < 0) {
        perror("fork - failed to fork child process for --monitor");
                    /* WARNING: Subroutine does not return */
        exit(1);
      }
      if ((byte *)unaff_r7 == (byte *)0x0) {
        iVar37 = dup2(local_830,0);
        if (iVar37 < 0) {
          perror("dup2 - in child, failed to alias read end of pipe to stdin for --monitor");
                    /* WARNING: Subroutine does not return */
          exit(1);
        }
        close(local_830);
        *ppcVar45 = (char *)0x0;
        execl("/bin/bash","/bin/bash",&DAT_00050114,DAT_00062e28);
        perror("execl - in child failed to exec user specified command for --monitor");
                    /* WARNING: Subroutine does not return */
        exit(1);
      }
      iVar37 = close(local_830);
      if (iVar37 < 0) {
        perror("close - failed to close read end of pipe for --monitor");
                    /* WARNING: Subroutine does not return */
        exit(1);
      }
    }
    DAT_00063b80 = (int *)calloc(DAT_0006410c,4);
    if (DAT_00063b80 == (int *)0x0) {
      *local_9d0 = 0x6c696146;
      local_9d0[1] = 0x74206465;
      local_9d0[2] = 0x6163206f;
      local_9d0[3] = 0x636f6c6c;
      local_9d0[4] = 0x6e696d20;
      local_9d0[5] = 0x5f676e69;
      local_9d0[6] = 0x726874;
      piVar29 = (int *)0x0;
      piVar25 = local_9d0;
      goto LAB_0000e038;
    }
    for (unaff_r7 = (int *)0x0; piVar29 = DAT_00063b80, (int)unaff_r7 < (int)DAT_0006410c;
        unaff_r7 = (int *)((int)unaff_r7 + 1)) {
      pvVar12 = calloc(1,0x40);
      piVar29[(int)unaff_r7] = (int)pvVar12;
      piVar29 = (int *)DAT_00063b80[(int)unaff_r7];
      if (piVar29 == (int *)0x0) goto LAB_0000edb0;
    }
    iVar39 = 0;
    local_9cc = pbVar38;
    for (iVar37 = 0; pbVar38 = local_9cc, puVar19 = DAT_000639e0, iVar24 = DAT_00063740, iVar37 < DAT_00063cc0;
        iVar37 = iVar37 + 1) {
      unaff_r7 = (int *)0x0;
      pbVar38 = *(byte **)(*(int *)local_9c8 + iVar37 * 4);
      iVar24 = *(int *)(pbVar38 + 0x94);
      pvVar12 = malloc((iVar24 + 1) * 4);
      *(void **)(pbVar38 + 0x98) = pvVar12;
      *(undefined4 *)((int)pvVar12 + iVar24 * 4) = 0;
      pbVar38[0x60] = 4;
      pbVar38[0x61] = 0;
      pbVar38[0x62] = 0;
      pbVar38[99] = 0;
      if (0 < *(int *)(pbVar38 + 0x94)) {
        do {
          piVar29 = (int *)FUN_0001c36c(iVar39);
          *piVar29 = iVar39;
          piVar29[9] = (int)pbVar38;
          piVar29[1] = (int)unaff_r7;
          iVar24 = (**(code **)(*(int *)(pbVar38 + 4) + 0x2c))();
          if (iVar24 != 0) {
            iVar24 = FUN_0002f0ec(piVar29,0,FUN_00011a5c,piVar29);
            if (iVar24 != 0) {
              snprintf((char *)local_9d0,0x800,"thread %d create failed",*piVar29);
              FUN_00038438(3,local_9d0,1);
              FUN_0001c160(1,0);
              goto LAB_0000edb0;
            }
            *(int **)(*(int *)(pbVar38 + 0x98) + (int)unaff_r7 * 4) = piVar29;
            if (*(int *)(pbVar38 + 0x20) != 1) {
              if ((DAT_000630c1 != '\0') && (((*local_9d8 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
                snprintf((char *)local_9d0,0x800,"Pushing sem post to thread %d",*piVar29);
                FUN_00038438(7,local_9d0,0);
              }
              FUN_0002f134(piVar29 + 4,"cgminer.c",&DAT_0004a378,0x2b5e);
            }
          }
          unaff_r7 = (int *)((int)unaff_r7 + 1);
          iVar39 = iVar39 + 1;
        } while ((int)unaff_r7 < *(int *)(pbVar38 + 0x94));
      }
    }
    if ((DAT_000615c9 == '\0') && (DAT_000612ac == 0)) {
      iVar37 = 0;
      do {
        if (iVar24 <= iVar37) goto LAB_0000ecd4;
        iVar39 = puVar19[iVar37];
        iVar37 = iVar37 + 1;
        *(undefined1 *)(iVar39 + 0x61) = 1;
        if (*(int *)(iVar39 + 100) != 1) {
          *(undefined4 *)(iVar39 + 100) = 1;
          DAT_00063b84 = DAT_00063b84 + 1;
        }
      } while( true );
    }
LAB_0000dcf8:
    DAT_00063268._0_4_ = 0;
    DAT_00063268._4_4_ = 0;
    puVar26 = &DAT_00061380;
    do {
      puVar27 = puVar26 + 1;
      *(undefined4 *)puVar26 = 0;
      *(undefined4 *)((int)puVar26 + 4) = 0;
      iVar37 = DAT_00063cc0;
      puVar26 = puVar27;
    } while (puVar27 != (undefined8 *)&DAT_000613e0);
    DAT_000613e0 = 0;
    iVar39 = *(int *)local_9c8;
    for (iVar24 = 0; iVar24 < iVar37; iVar24 = iVar24 + 1) {
      iVar36 = *(int *)(iVar39 + iVar24 * 4);
      *(undefined4 *)(iVar36 + 0x50) = 0;
      *(undefined4 *)(iVar36 + 0x54) = 0;
      *(undefined4 *)(iVar36 + 0x30) = 0;
      *(undefined4 *)(iVar36 + 0x34) = 0;
    }
    FUN_0002b13c(&DAT_00061370);
    FUN_0002b13c(&DAT_000613e4);
    FUN_0002b13c(&DAT_00061378);
    FUN_00014d9c(&DAT_000613ec,0x28,&DAT_00061370);
    pcVar30 = DAT_000636a4;
    DAT_00061420 = 2;
    iVar37 = FUN_0002f0ec(DAT_000636a4 + 0x80,0,FUN_00021364,0);
    if (iVar37 != 0) {
      *local_9d0 = 0x63746177;
      local_9d0[1] = 0x6f6f7068;
      local_9d0[2] = 0x6874206c;
      local_9d0[3] = 0x64616572;
      local_9d0[4] = 0x65726320;
      local_9d0[5] = 0x20657461;
      local_9d0[6] = 0x6c696166;
      *(undefined2 *)(local_9d0 + 7) = 0x6465;
      *(char *)((int)local_9d0 + 0x1e) = '\0';
      FUN_00038438(3,local_9d0,1);
      FUN_0001c160(1,0);
LAB_0000ecd4:
      if ((DAT_000630c1 != '\0') && (((*local_9d8 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
        *local_9d0 = 0x626f7250;
        local_9d0[1] = 0x20676e69;
        local_9d0[2] = 0x20726f66;
        local_9d0[3] = 0x61206e61;
        local_9d0[4] = 0x6576696c;
        local_9d0[5] = 0x6f6f7020;
        *(undefined2 *)(local_9d0 + 6) = 0x6c;
        FUN_00038438(7,local_9d0,0);
      }
      for (iVar37 = 0; iVar37 < DAT_00063740; iVar37 = iVar37 + 1) {
        pvVar12 = (void *)DAT_000639e0[iVar37];
        *(undefined1 *)((int)pvVar12 + 0x11c) = 1;
        pthread_create((pthread_t *)((int)pvVar12 + 0x118),(pthread_attr_t *)0x0,(__start_routine *)&LAB_0001f99c,
                       pvVar12);
      }
      iVar37 = 0x3c;
      do {
        sleep(1);
        piVar29 = local_9d0;
        pcVar30 = local_9d8;
        if (DAT_000615c8 != '\0') {
          iVar37 = 0;
          break;
        }
        iVar37 = iVar37 + -1;
      } while (iVar37 != 0);
      do {
        if (DAT_000615c8 != '\0') goto LAB_0000dcf8;
        if (iVar37 == 0) {
          if (((*pcVar30 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 3)) {
LAB_0000eeb0:
            if (2 < DAT_00060964) goto LAB_0000eebc;
LAB_0000f0f8:
            if (2 < DAT_00060964) goto LAB_0000eef8;
          }
          else {
            *piVar29 = 0x73206f4e;
            piVar29[1] = 0x65767265;
            piVar29[2] = 0x77207372;
            piVar29[3] = 0x20657265;
            piVar29[4] = 0x6e756f66;
            piVar29[5] = 0x68742064;
            piVar29[6] = 0x63207461;
            piVar29[7] = 0x646c756f;
            piVar29[8] = 0x20656220;
            piVar29[9] = 0x64657375;
            piVar29[10] = 0x206f7420;
            piVar29[0xb] = 0x20746567;
            piVar29[0xc] = 0x6b726f77;
            piVar29[0xd] = 0x6f726620;
            *(undefined2 *)(piVar29 + 0xe) = 0x2e6d;
            *(undefined1 *)((int)piVar29 + 0x3a) = 0;
            FUN_00038438(3,piVar29,0);
            if ((*pcVar30 == '\0') && (DAT_000630c0 == '\0')) goto LAB_0000eeb0;
LAB_0000eebc:
            memcpy(piVar29,"Please check the details from the list below of the servers you have input",0x4b);
            FUN_00038438(3,piVar29,0);
            if ((*pcVar30 == '\0') && (DAT_000630c0 == '\0')) goto LAB_0000f0f8;
LAB_0000eef8:
            memcpy(piVar29,
                   "Most likely you have input the wrong URL, forgotten to add a port, or have not set up workers",0x5e)
            ;
            FUN_00038438(3,piVar29,0);
          }
          for (iVar37 = 0; iVar37 < DAT_00063740; iVar37 = iVar37 + 1) {
            iVar39 = DAT_000639e0[iVar37];
            if (((*pcVar30 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
              *ppcVar45 = (char *)*(undefined4 *)(iVar39 + 0xa4);
              ppcVar45[1] = (char *)*(size_t *)(iVar39 + 0xac);
              ppcVar45[2] = (char *)*(size_t *)(iVar39 + 0xb0);
              snprintf((char *)piVar29,0x800,"Pool: %d  URL: %s  User: %s  Password: %s",iVar37);
              FUN_00038438(4,piVar29,0);
            }
          }
          if (*(char *)(local_9dc + 0x1fb) != '\0') {
            if (((*pcVar30 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
              iVar37 = 1;
              memcpy(piVar29,"Press any key to exit, or cgminer will wait indefinitely for an alive pool.",0x4c);
              FUN_00038438(3,piVar29,0);
              goto LAB_0000f044;
            }
            iVar37 = 1;
            goto LAB_0000f054;
          }
LAB_0000f0a4:
          *local_9d0 = 0x73206f4e;
          local_9d0[1] = 0x65767265;
          local_9d0[2] = 0x63207372;
          local_9d0[3] = 0x646c756f;
          local_9d0[4] = 0x20656220;
          local_9d0[5] = 0x64657375;
          local_9d0[6] = 0x78452021;
          local_9d0[7] = 0x6e697469;
          *(undefined2 *)(local_9d0 + 8) = 0x2e67;
          *(char *)((int)local_9d0 + 0x22) = '\0';
          FUN_00038438(3,local_9d0,1);
          FUN_0001c160(0,0);
        }
        else {
LAB_0000f044:
          if (*(char *)(local_9dc + 0x1fb) == '\0') goto LAB_0000f0a4;
LAB_0000f054:
          if (DAT_000639d8 != 0) {
            iVar39 = (int)*(short *)(DAT_000639d8 + 4);
          }
          else {
            iVar39 = -1;
          }
          local_9ec = &DAT_000639d8;
          if (DAT_000639d8 != 0) {
            iVar39 = iVar39 + 1;
          }
          wtouchln(DAT_000639d8,0,iVar39,1);
          wrefresh(*local_9ec);
          halfdelay(10);
          iVar39 = wgetch(stdscr);
          if (iVar39 != -1) goto LAB_0000f0a4;
        }
        cbreak();
      } while( true );
    }
    piVar29 = (int *)0x3;
    pthread_detach(*(pthread_t *)(pcVar30 + 0x8c));
    local_9ec = (int *)DAT_000636a4;
    DAT_00061424 = 3;
    iVar37 = FUN_0002f0ec(DAT_000636a4 + 0xc0,0,FUN_00023018,0);
    unaff_r7 = (int *)0x0;
    if (iVar37 != 0) goto LAB_0000e050;
    pthread_detach(local_9ec[0x33]);
    DAT_000611a8 = 5;
    iVar39 = FUN_0002f0ec(DAT_000636a4 + 0x140,0,FUN_00011cbc,DAT_000636a4 + 0x140);
    pcVar30 = DAT_000636a4;
    iVar37 = 0;
    if (iVar39 == 0) {
      pbVar38[-0xffffffff00000054] = 7;
      pbVar38[-0xffffffff00000053] = 0;
      pbVar38[-0xffffffff00000052] = 0;
      pbVar38[-0xffffffff00000051] = 0;
      pcVar15 = pcVar30 + 0x1c0;
      iVar37 = FUN_0002f0ec(pcVar15,0,FUN_000276a8,pcVar15);
      if (iVar37 != 0) {
        *local_9d0 = 0x75706e69;
        local_9d0[1] = 0x68742074;
        local_9d0[2] = 0x64616572;
        local_9d0[3] = 0x65726320;
        local_9d0[4] = 0x20657461;
        local_9d0[5] = 0x6c696166;
        *(undefined2 *)(local_9d0 + 6) = 0x6465;
        *(char *)((int)local_9d0 + 0x1a) = '\0';
        FUN_00038438(3,local_9d0,1);
        FUN_0001c160(1,0);
        goto LAB_0000ec70;
      }
      pthread_detach(*(pthread_t *)(pcVar30 + 0x1cc));
      if (DAT_00062e20 == 8) goto LAB_0000e088;
      snprintf((char *)local_9d0,0x800,"incorrect total_control_threads (%d) should be 8");
    }
    else {
LAB_0000ec70:
      *local_9d0 = 0x20495041;
      local_9d0[1] = 0x65726874;
      local_9d0[2] = 0x63206461;
      local_9d0[3] = 0x74616572;
      local_9d0[4] = 0x61662065;
      local_9d0[5] = 0x64656c69;
      *(char *)(local_9d0 + 6) = '\0';
    }
    FUN_00038438(3,local_9d0,1);
    FUN_0001c160(1,iVar37);
LAB_0000deac:
                    /* WARNING: Subroutine does not return */
    exit(-1);
  }
  FUN_000173c0(&DAT_00063bcc,&DAT_0004a378,0x29da);
  ppuVar14 = (undefined4 **)pthread_cond_init((pthread_cond_t *)&DAT_00064080,(pthread_condattr_t *)0x0);
  if (ppuVar14 != (undefined4 **)0x0) {
    local_830._0_1_ = 'F';
    local_830._1_1_ = 'a';
    local_830._2_1_ = 'i';
    local_830._3_1_ = 'l';
    local_82c._0_1_ = 'e';
    local_82c._1_1_ = 'd';
    local_82c._2_1_ = ' ';
    local_82c._3_1_ = 't';
    local_828._0_1_ = 'o';
    local_828._1_1_ = ' ';
    local_828._2_1_ = 'p';
    local_828._3_1_ = 't';
    acStack_824[0] = 'h';
    acStack_824[1] = 'r';
    acStack_824[2] = 'e';
    acStack_824[3] = 'a';
    local_820[0] = 'd';
    local_820[1] = '_';
    local_820[2] = 'c';
    local_820[3] = 'o';
    local_81c[0]._0_1_ = 'n';
    local_81c[0]._1_1_ = 'd';
    local_81c[1]._0_1_ = '_';
    local_81c[1]._1_1_ = 'i';
    local_818[0] = 'n';
    local_818[1] = 'i';
    local_818[2] = 't';
    local_818[3] = ' ';
    local_814[0] = 'r';
    local_814[1] = 'e';
    local_814[2] = 's';
    local_814[3] = 't';
    local_810[0] = 'a';
    local_810[1] = 'r';
    local_810[2] = 't';
    local_810[3] = '_';
    local_80c._0_1_ = 'c';
    local_80c._1_1_ = 'o';
    local_80c._2_1_ = 'n';
    local_80c._3_1_ = 'd';
    local_808 = 0;
    piVar29 = (int *)0x0;
    piVar25 = &local_830;
    goto LAB_0000e038;
  }
  iVar37 = pthread_cond_init((pthread_cond_t *)&DAT_00063748,(pthread_condattr_t *)0x0);
  if (iVar37 != 0) goto LAB_0000df98;
  DAT_00063bc0 = FUN_0002aa90();
  if (DAT_00063bc0 == 0) {
    local_828._0_1_ = 'o';
    local_828._1_1_ = ' ';
    local_828._2_1_ = 'c';
    local_828._3_1_ = 'r';
    acStack_824[0] = 'e';
    acStack_824[1] = 'a';
    acStack_824[2] = 't';
    acStack_824[3] = 'e';
    local_820[0] = ' ';
    local_820[1] = 'g';
    local_820[2] = 'e';
    local_820[3] = 't';
    local_81c[0] = 0x71;
    goto LAB_0000d874;
  }
  DAT_000612c8 = (pthread_mutex_t *)(DAT_00063bc0 + 0xc);
  local_a00[0] = "4.9.0";
  snprintf(&DAT_00060ea4,0x100,"%s %s","cgminer");
  local_9bc.sa_handler = FUN_0001738c;
  local_938 = iVar37;
  sigemptyset(&sStack_9b8);
  sigaction(0xf,(sigaction *)&local_9bc,(sigaction *)&DAT_000636b0);
  sigaction(2,(sigaction *)&local_9bc,(sigaction *)&DAT_00063eec);
  signal(0xd,(__sighandler_t)0x1);
  local_19f8[0] = '/';
  local_19f8[1] = 'u';
  local_19f8[2] = 's';
  local_19f8[3] = 'r';
  acStack_19f4[0] = '/';
  acStack_19f4[1] = 'b';
  acStack_19f4[2] = 'i';
  acStack_19f4[3] = 'n';
  DAT_00064214 = local_19f8;
  ppcVar45 = (char **)local_2a10;
  DAT_00063e54 = acStack_2a00;
  local_19f0 = 0;
  pcVar15 = (char *)__strdup(*(undefined4 *)local_9d4);
  pcVar30 = DAT_00063e54;
  pcVar16 = dirname(pcVar15);
  strcpy(pcVar30,pcVar16);
  free(pcVar15);
  pcVar30 = DAT_00063e54;
  sVar17 = strlen(DAT_00063e54);
  (pcVar30 + sVar17)[0] = '/';
  (pcVar30 + sVar17)[1] = '\0';
  DAT_00061308 = 8;
  DAT_000612fc = 9;
  DAT_00061304 = 10;
  pbVar38 = (byte *)calloc(0x68,1);
  if (pbVar38 == (byte *)0x0) {
    local_9d0 = &local_830;
    local_830._0_1_ = 'm';
    local_830._1_1_ = 'a';
    local_830._2_1_ = 'i';
    local_830._3_1_ = 'n';
    local_82c._0_1_ = ' ';
    local_82c._1_1_ = 'O';
    local_82c._2_1_ = 'O';
    local_82c._3_1_ = 'M';
    local_828 = local_828 & 0xffffff00;
    FUN_00038438(3,local_9d0,1);
    FUN_00016724(1);
  }
  iVar37 = 0x24;
  do {
    sVar17 = strlen((char *)pbVar38);
    iVar37 = iVar37 + -1;
    (pbVar38 + sVar17)[0] = '0';
    (pbVar38 + sVar17)[1] = '\0';
  } while (iVar37 != 0);
  pbVar38[0x4c] = 0;
  pbVar38[0x4d] = 0;
  pbVar38[0x4e] = 0;
  pbVar38[0x4f] = 0;
  *(byte **)(pbVar38 + 0x58) = pbVar38;
  sVar17 = strlen((char *)pbVar38);
  pbVar43 = DAT_00061570;
  bVar46 = DAT_00061570 == (byte *)0x0;
  *(size_t *)(pbVar38 + 0x5c) = sVar17;
  if (bVar46) {
    pbVar38[0x48] = 0;
    pbVar38[0x49] = 0;
    pbVar38[0x4a] = 0;
    pbVar38[0x4b] = 0;
    DAT_00061570 = pbVar38;
    puVar19 = (undefined4 *)malloc(0x2c);
    *(undefined4 **)(pbVar38 + 0x44) = puVar19;
    if (puVar19 == (undefined4 *)0x0) goto LAB_0000deac;
    memset(puVar19,0,0x2c);
    local_9c8 = pbVar38 + 0x44;
    puVar19[1] = 0x20;
    puVar19[2] = 5;
    puVar19[4] = local_9c8;
    puVar19[5] = 0x44;
    pvVar12 = malloc(0x180);
    *puVar19 = pvVar12;
    if (pvVar12 == (void *)0x0) goto LAB_0000deac;
    memset(pvVar12,0,0x180);
    puVar19[10] = 0xa0111fe1;
    pbVar43 = pbVar38;
  }
  else {
    local_9c8 = pbVar38 + 0x44;
    *(byte **)(*(int *)(*(int *)(pbVar43 + 0x44) + 0x10) + 8) = pbVar38;
    *(int *)(pbVar38 + 0x48) = *(int *)(*(int *)(pbVar43 + 0x44) + 0x10) - *(int *)(*(int *)(pbVar43 + 0x44) + 0x14);
    *(byte **)(*(int *)(pbVar43 + 0x44) + 0x10) = local_9c8;
  }
  uVar44 = 0xfeedbeef;
  pvVar12 = (void *)0x9e3779b9;
  *(int *)(*(int *)(pbVar43 + 0x44) + 0xc) = *(int *)(*(int *)(pbVar43 + 0x44) + 0xc) + 1;
  uVar13 = *(undefined4 *)(pbVar43 + 0x44);
  pbVar38[0x60] = 0xef;
  pbVar38[0x61] = 0xbe;
  pbVar38[0x62] = 0xed;
  pbVar38[99] = 0xfe;
  *(undefined4 *)(pbVar38 + 0x44) = uVar13;
  uVar18 = strlen((char *)pbVar38);
  __s = pvVar12;
  pbVar40 = pbVar38;
  for (; 0xb < uVar18; uVar18 = uVar18 - 0xc) {
    pbVar34 = pbVar40 + 2;
    pbVar1 = pbVar40 + 1;
    pbVar2 = pbVar40 + 6;
    pbVar3 = pbVar40 + 5;
    bVar7 = *pbVar40;
    pbVar4 = pbVar40 + 4;
    pbVar5 = pbVar40 + 3;
    pbVar6 = pbVar40 + 7;
    uVar44 = (uint)pbVar40[10] * 0x10000 + (uint)pbVar40[9] * 0x100 + (uint)pbVar40[8] + (uint)pbVar40[0xb] * 0x1000000
             + uVar44;
    pbVar40 = pbVar40 + 0xc;
    iVar37 = (uint)*pbVar2 * 0x10000 + (uint)*pbVar3 * 0x100 + (uint)*pbVar4 + (uint)*pbVar6 * 0x1000000 + (int)__s;
    uVar41 = ((((uint)*pbVar34 * 0x10000 + (uint)*pbVar1 * 0x100 + (uint)bVar7 + (uint)*pbVar5 * 0x1000000) - uVar44) -
             iVar37) + (int)pvVar12 ^ uVar44 >> 0xd;
    uVar28 = (iVar37 - uVar44) - uVar41 ^ uVar41 << 8;
    uVar33 = (uVar44 - uVar41) - uVar28 ^ uVar28 >> 0xd;
    uVar44 = (uVar41 - uVar28) - uVar33 ^ uVar33 >> 0xc;
    uVar28 = (uVar28 - uVar33) - uVar44 ^ uVar44 << 0x10;
    uVar33 = (uVar33 - uVar44) - uVar28 ^ uVar28 >> 5;
    pvVar12 = (void *)((uVar44 - uVar28) - uVar33 ^ uVar33 >> 3);
    __s = (void *)((uVar28 - uVar33) - (int)pvVar12 ^ (int)pvVar12 << 10);
    uVar44 = (uVar33 - (int)pvVar12) - (int)__s ^ (uint)__s >> 0xf;
    *(uint *)(pbVar38 + 0x60) = uVar44;
  }
  sVar17 = strlen((char *)pbVar38);
  *(uint *)(pbVar38 + 0x60) = uVar44 + sVar17;
  switch(uVar18) {
  case 1:
    uVar44 = *(uint *)(pbVar38 + 0x60);
    while( true ) {
      pvVar12 = (void *)((int)pvVar12 + (uint)*pbVar40);
LAB_0000bfa0:
      uVar28 = (int)pvVar12 + (-uVar44 - (int)__s) ^ uVar44 >> 0xd;
      uVar18 = (int)__s + (-uVar28 - uVar44) ^ uVar28 << 8;
      uVar33 = (uVar44 - uVar28) - uVar18 ^ uVar18 >> 0xd;
      uVar28 = (uVar28 - uVar18) - uVar33 ^ uVar33 >> 0xc;
      uVar44 = (uVar18 - uVar33) - uVar28 ^ uVar28 << 0x10;
      uVar33 = (uVar33 - uVar28) - uVar44 ^ uVar44 >> 5;
      uVar18 = (uVar28 - uVar44) - uVar33 ^ uVar33 >> 3;
      uVar44 = (uVar44 - uVar33) - uVar18 ^ uVar18 << 10;
      uVar44 = (uVar33 - uVar18) - uVar44 ^ uVar44 >> 0xf;
      *(uint *)(pbVar38 + 0x60) = uVar44;
      iVar37 = (uVar44 & (*(int **)(pbVar43 + 0x44))[1] - 1U) * 0xc;
      iVar39 = **(int **)(pbVar43 + 0x44) + iVar37;
      *(int *)(iVar39 + 4) = *(int *)(iVar39 + 4) + 1;
      uVar13 = *(undefined4 *)(**(int **)(pbVar43 + 0x44) + iVar37);
      pbVar38[0x50] = 0;
      pbVar38[0x51] = 0;
      pbVar38[0x52] = 0;
      pbVar38[0x53] = 0;
      *(undefined4 *)(pbVar38 + 0x54) = uVar13;
      piVar29 = *(int **)(pbVar43 + 0x44);
      if (*(int *)(*piVar29 + iVar37) != 0) {
        *(byte **)(*(int *)(*piVar29 + iVar37) + 0xc) = local_9c8;
        piVar29 = *(int **)(pbVar43 + 0x44);
      }
      *(byte **)(*piVar29 + iVar37) = local_9c8;
      if (((uint)((*(int *)(**(int **)(pbVar43 + 0x44) + iVar37 + 8) + 1) * 10) <=
           *(uint *)(**(int **)(pbVar43 + 0x44) + iVar37 + 4)) &&
         (pbVar40 = *(byte **)(pbVar38 + 0x44), *(int *)(pbVar40 + 0x24) != 1)) {
        pvVar12 = (void *)(*(int *)(pbVar40 + 4) * 0x18);
        __s = malloc((size_t)pvVar12);
        if (__s == (void *)0x0) goto LAB_0000deac;
        memset(__s,0,(size_t)pvVar12);
        *(uint *)(pbVar40 + 0x18) =
             (uint)((*(int *)(pbVar40 + 4) * 2 - 1U & *(uint *)(pbVar40 + 0xc)) != 0) +
             (*(uint *)(pbVar40 + 0xc) >> (*(int *)(pbVar40 + 8) + 1U & 0xff));
        *(undefined4 *)(*(int *)(pbVar38 + 0x44) + 0x1c) = 0;
        piVar29 = *(int **)(pbVar38 + 0x44);
        pbVar34 = (byte *)piVar29[1];
        if (pbVar34 != (byte *)0x0) {
          local_9c8 = (byte *)0x0;
          local_9cc = (byte *)0x0;
          do {
            pbVar40 = *(byte **)(local_9c8 + *piVar29);
            if (pbVar40 != (byte *)0x0) {
              while( true ) {
                pbVar43 = *(byte **)(pbVar40 + 0x10);
                uVar18 = (int)pbVar34 * 2 - 1U & *(uint *)(pbVar40 + 0x1c);
                pvVar12 = (void *)(uVar18 * 3);
                uVar44 = *(int *)((int)__s + uVar18 * 0xc + 4) + 1;
                *(uint *)((int)__s + uVar18 * 0xc + 4) = uVar44;
                if ((uint)piVar29[6] < uVar44) {
                  piVar29[7] = piVar29[7] + 1;
                  uVar13 = FUN_00048ec0(*(undefined4 *)((int)__s + uVar18 * 0xc + 4),
                                        *(undefined4 *)(*(int *)(pbVar38 + 0x44) + 0x18));
                  *(undefined4 *)((int)__s + uVar18 * 0xc + 8) = uVar13;
                }
                pbVar40[0xc] = 0;
                pbVar40[0xd] = 0;
                pbVar40[0xe] = 0;
                pbVar40[0xf] = 0;
                *(undefined4 *)(pbVar40 + 0x10) = *(undefined4 *)((int)__s + uVar18 * 0xc);
                iVar37 = *(int *)((int)__s + uVar18 * 0xc);
                if (iVar37 != 0) {
                  *(byte **)(iVar37 + 0xc) = pbVar40;
                }
                *(byte **)((int)__s + uVar18 * 0xc) = pbVar40;
                if (pbVar43 == (byte *)0x0) break;
                piVar29 = *(int **)(pbVar38 + 0x44);
                pbVar34 = (byte *)piVar29[1];
                pbVar40 = pbVar43;
              }
              piVar29 = *(int **)(pbVar38 + 0x44);
            }
            pbVar34 = (byte *)piVar29[1];
            pbVar43 = local_9cc + 1;
            local_9c8 = local_9c8 + 0xc;
            local_9cc = pbVar43;
          } while (pbVar43 < pbVar34);
        }
        free((void *)*piVar29);
        *(int *)(*(int *)(pbVar38 + 0x44) + 4) = *(int *)(*(int *)(pbVar38 + 0x44) + 4) << 1;
        *(int *)(*(int *)(pbVar38 + 0x44) + 8) = *(int *)(*(int *)(pbVar38 + 0x44) + 8) + 1;
        **(undefined4 **)(pbVar38 + 0x44) = __s;
        iVar37 = *(int *)(pbVar38 + 0x44);
        if (*(uint *)(iVar37 + 0xc) >> 1 < *(uint *)(iVar37 + 0x1c)) {
          iVar39 = *(int *)(iVar37 + 0x20) + 1;
        }
        else {
          iVar39 = 0;
        }
        *(int *)(iVar37 + 0x20) = iVar39;
        if (1 < *(uint *)(*(int *)(pbVar38 + 0x44) + 0x20)) {
          *(undefined4 *)(*(int *)(pbVar38 + 0x44) + 0x24) = 1;
        }
      }
      strcpy(&DAT_000640c8,(char *)pbVar38);
      DAT_000639e8 = &DAT_000639e8;
      DAT_000639ec = &DAT_000639e8;
      FUN_00048430(&DAT_0005f8a0,"Options for both config file and command line");
      FUN_00048430(&DAT_000600c4,"Options for command line only");
      FUN_000484fc(local_9c4,local_9d4,&LAB_0001187c);
      if (local_9c4[0] == 1) break;
      local_830._0_1_ = 'U';
      local_830._1_1_ = 'n';
      local_830._2_1_ = 'e';
      local_830._3_1_ = 'x';
      local_82c._0_1_ = 'p';
      local_82c._1_1_ = 'e';
      local_82c._2_1_ = 'c';
      local_82c._3_1_ = 't';
      local_828._0_1_ = 'e';
      local_828._1_1_ = 'd';
      local_828._2_1_ = ' ';
      local_828._3_1_ = 'e';
      acStack_824[0] = 'x';
      acStack_824[1] = 't';
      acStack_824[2] = 'r';
      acStack_824[3] = 'a';
      local_820[0] = ' ';
      local_820[1] = 'c';
      local_820[2] = 'o';
      local_820[3] = 'm';
      local_81c[0]._0_1_ = 'm';
      local_81c[0]._1_1_ = 'a';
      local_81c[1]._0_1_ = 'n';
      local_81c[1]._1_1_ = 'd';
      local_818[0] = 'l';
      local_818[1] = 'i';
      local_818[2] = 'n';
      local_818[3] = 'e';
      local_814[0] = ' ';
      local_814[1] = 'a';
      local_814[2] = 'r';
      local_814[3] = 'g';
      local_810[0] = 'u';
      local_810[1] = 'm';
      local_810[2] = 'e';
      local_810[3] = 'n';
      local_80c = CONCAT13(local_80c._3_1_,0x7374);
      FUN_00038438(3,&local_830,1);
      FUN_0001c160(1,0);
switchD_0000bf04_caseD_2:
      uVar44 = *(uint *)(pbVar38 + 0x60);
LAB_0000bf90:
      pvVar12 = (void *)((int)pvVar12 + (uint)pbVar40[1] * 0x100);
    }
    if (DAT_000611d0 == '\0') {
      DAT_000611d4 = (char *)malloc(0x1000);
      FUN_00015c88();
      iVar37 = access(DAT_000611d4,4);
      if (iVar37 == 0) {
        FUN_00016814();
      }
      else {
        free(DAT_000611d4);
        DAT_000611d4 = (char *)0x0;
      }
    }
    if ((DAT_000615c9 == '\0') && (DAT_000612ac == 0)) {
      local_9d0 = &local_830;
    }
    else {
      if (DAT_00063df9 == '\0') {
        local_9d0 = &local_830;
      }
      else {
        local_9d0 = &local_830;
        local_830._0_1_ = 'C';
        local_830._1_1_ = 'a';
        local_830._2_1_ = 'n';
        local_830._3_1_ = 'n';
        local_82c._0_1_ = 'o';
        local_82c._1_1_ = 't';
        local_82c._2_1_ = ' ';
        local_82c._3_1_ = 'u';
        local_828._0_1_ = 's';
        local_828._1_1_ = 'e';
        local_828._2_1_ = ' ';
        local_828._3_1_ = 'b';
        acStack_824[0] = 'e';
        acStack_824[1] = 'n';
        acStack_824[2] = 'c';
        acStack_824[3] = 'h';
        local_820[0] = 'm';
        local_820[1] = 'a';
        local_820[2] = 'r';
        local_820[3] = 'k';
        local_81c[0]._0_1_ = ' ';
        local_81c[0]._1_1_ = 'm';
        local_81c[1]._0_1_ = 'o';
        local_81c[1]._1_1_ = 'd';
        local_818[0] = 'e';
        local_818[1] = ' ';
        local_818[2] = 'w';
        local_818[3] = 'i';
        local_814[0] = 't';
        local_814[1] = 'h';
        local_814[2] = ' ';
        local_814[3] = 's';
        local_810[0] = 'c';
        local_810[1] = 'r';
        local_810[2] = 'y';
        local_810[3] = 'p';
        local_80c = CONCAT22(local_80c._2_2_,0x74);
        FUN_00038438(3,local_9d0,1);
        FUN_00016724(1);
      }
      iVar37 = FUN_0001746c();
      puVar19 = (undefined4 *)malloc(0xff);
      if (DAT_000612ac == 0) {
        pcVar30 = "Benchmark";
      }
      else {
        pcVar30 = "Benchfile";
      }
      *(undefined4 **)(iVar37 + 0xa4) = puVar19;
      uVar13 = *(undefined4 *)(pcVar30 + 4);
      uVar31 = *(undefined4 *)(pcVar30 + 8);
      *puVar19 = *(undefined4 *)pcVar30;
      puVar19[1] = uVar13;
      *(short *)(puVar19 + 2) = (short)uVar31;
      uVar13 = *(undefined4 *)(iVar37 + 0xa4);
      *(undefined4 *)(iVar37 + 0xac) = uVar13;
      *(undefined4 *)(iVar37 + 0xb0) = uVar13;
      *(undefined4 *)(iVar37 + 0xa8) = uVar13;
      *(undefined4 *)(iVar37 + 0x250) = uVar13;
      strncpy((char *)(iVar37 + 0x30),"?",7);
      *(undefined1 *)(iVar37 + 0x37) = 0;
      if (*(int *)(iVar37 + 100) != 1) {
        *(undefined4 *)(iVar37 + 100) = 1;
        DAT_00063b84 = DAT_00063b84 + 1;
      }
      *(undefined1 *)(iVar37 + 0x61) = 0;
      DAT_00062f60 = 1;
      iVar37 = 0;
      do {
        iVar39 = iVar37 + 1;
        FUN_000295b8(&DAT_000615d8 + iVar37 * 0xa0,
                     "000000029c6bf469abe4ad37605c097a860cff3cf5c1ef4377618f74000000000000000082b1514e7b6565941e5824f084292164ec5f97e7ea20c494bd96e524d478977b536dd2261900896c8b10020000000080000000000000000000000000000000000000000000000000000000000000000000000000000000008002000064e4e3becc01064d808269b330f40f4de82dc92e894d635025daa3e2e2c410b4"
                     + iVar37 * 0x144,0xa0);
        FUN_000295b8(&DAT_00061fd8 + iVar37 * 0xa0,
                     "00000002c01f502cb3e9fdb053230ec12a4954c1021a6b35862b5e29000000000000000084d1b83ae44057025e8c5b5756b44f04df5fffe4a7a30e5c12d12a97a7a4c2ea536dce431900896cb6d60e00000000800000000000000000000000000000000000000000000000000000000000000000000000000000000080020000d08f7e14c50dad77dc238b4db2901a0578e657b1954779ab9cd82a73829edf7f"
                     + iVar37 * 0x144,0xa0);
        iVar37 = iVar39;
      } while (iVar39 != 0x10);
      FUN_00015d7c(0,&DAT_000629ec);
    }
    if (DAT_00060ea0 != (char *)0x0) {
      pFVar20 = fopen(DAT_00060ea0,"rb");
      memset(acStack_930,0,0x100);
      if (pFVar20 != (FILE *)0x0) {
        sVar17 = fread(acStack_930,1,0x100,pFVar20);
        if ((int)sVar17 < 1) {
          local_9d8 = &DAT_000632f0;
          if (((DAT_000632f0 == '\0') && (local_9e0 = &DAT_000630c0, DAT_000630c0 == '\0')) && (DAT_00060964 < 3))
          goto LAB_0000d788;
          local_2a10[0] = sVar17;
          snprintf((char *)local_9d0,0x800,"Read miner version file %s error %d",DAT_00060ea0);
          goto LAB_0000d8a8;
        }
        pcVar30 = strchr(acStack_930,10);
        pcVar16 = acStack_930;
        pcVar15 = &DAT_00062a0c;
        if (pcVar30 != (char *)0x0) {
          memcpy(&DAT_00062a0c,pcVar16,(int)pcVar30 - (int)pcVar16);
          pcVar15 = &DAT_00062b0c;
          pcVar16 = pcVar30 + 1;
        }
        strcpy(pcVar15,pcVar16);
        sVar17 = strlen(&DAT_00062a0c);
        if (*(char *)((int)&DAT_00062a08 + sVar17 + 3) == '\n') {
          *(undefined1 *)((int)&DAT_00062a08 + sVar17 + 3) = 0;
        }
        sVar17 = strlen(&DAT_00062a0c);
        if (*(char *)((int)&DAT_00062a08 + sVar17 + 3) == '\r') {
          *(undefined1 *)((int)&DAT_00062a08 + sVar17 + 3) = 0;
        }
        sVar17 = strlen(&DAT_00062b0c);
        if ((&DAT_00062b0b)[sVar17] == '\n') {
          (&DAT_00062b0b)[sVar17] = 0;
        }
        sVar17 = strlen(&DAT_00062b0c);
        if ((&DAT_00062b0b)[sVar17] == '\r') {
          (&DAT_00062b0b)[sVar17] = 0;
          local_9d8 = &DAT_000632f0;
        }
        else {
          local_9d8 = &DAT_000632f0;
        }
        goto LAB_0000c688;
      }
      local_9d8 = &DAT_000632f0;
      if (((DAT_000632f0 != '\0') || (local_9e0 = &DAT_000630c0, DAT_000630c0 != '\0')) || (2 < DAT_00060964))
      goto LAB_0000d88c;
LAB_0000d788:
      local_9d8 = &DAT_000632f0;
      goto LAB_0000c6a0;
    }
    local_9d8 = &DAT_000632f0;
    goto LAB_0000c6ec;
  case 2:
    goto switchD_0000bf04_caseD_2;
  case 3:
    uVar44 = *(uint *)(pbVar38 + 0x60);
    goto LAB_0000bf88;
  case 4:
    uVar44 = *(uint *)(pbVar38 + 0x60);
    goto LAB_0000bf80;
  case 5:
    uVar44 = *(uint *)(pbVar38 + 0x60);
    goto LAB_0000bf78;
  case 6:
    uVar44 = *(uint *)(pbVar38 + 0x60);
    goto LAB_0000bf70;
  case 7:
    uVar44 = *(uint *)(pbVar38 + 0x60);
    goto LAB_0000bf68;
  case 8:
    uVar44 = *(uint *)(pbVar38 + 0x60);
    goto LAB_0000bf60;
  case 9:
    iVar37 = *(int *)(pbVar38 + 0x60);
    break;
  case 0xb:
    *(uint *)(pbVar38 + 0x60) = uVar44 + sVar17 + (uint)pbVar40[10] * 0x1000000;
  case 10:
    iVar37 = *(int *)(pbVar38 + 0x60) + (uint)pbVar40[9] * 0x10000;
    *(int *)(pbVar38 + 0x60) = iVar37;
    break;
  default:
    uVar44 = *(uint *)(pbVar38 + 0x60);
    goto LAB_0000bfa0;
  }
  uVar44 = iVar37 + (uint)pbVar40[8] * 0x100;
  *(uint *)(pbVar38 + 0x60) = uVar44;
LAB_0000bf60:
  __s = (void *)((int)__s + (uint)pbVar40[7] * 0x1000000);
LAB_0000bf68:
  __s = (void *)((int)__s + (uint)pbVar40[6] * 0x10000);
LAB_0000bf70:
  __s = (void *)((int)__s + (uint)pbVar40[5] * 0x100);
LAB_0000bf78:
  __s = (void *)((int)__s + (uint)pbVar40[4]);
LAB_0000bf80:
  pvVar12 = (void *)((int)pvVar12 + (uint)pbVar40[3] * 0x1000000);
LAB_0000bf88:
  pvVar12 = (void *)((int)pvVar12 + (uint)pbVar40[2] * 0x10000);
  goto LAB_0000bf90;
code_r0x0000d538:
  *ppcVar45 = (char *)local_9ec;
  snprintf(pcVar15,sVar17,"%s:%s",pcVar30);
LAB_0000d4b0:
  iVar37 = iVar37 + 1;
  unaff_r7 = (int *)pbVar38;
  if (DAT_00063740 <= iVar37) goto LAB_0000d640;
  goto LAB_0000d4c8;
LAB_0000edb0:
  snprintf((char *)local_9d0,0x800,"Failed to calloc mining_thr[%d]",unaff_r7);
  piVar25 = local_9d0;
LAB_0000e038:
  FUN_00038438(3,piVar25,1);
  FUN_0001c160(1,piVar29);
LAB_0000e050:
  *local_9d0 = 0x63746177;
  local_9d0[1] = 0x676f6468;
  local_9d0[2] = 0x72687420;
  local_9d0[3] = 0x20646165;
  local_9d0[4] = 0x61657263;
  local_9d0[5] = 0x66206574;
  local_9d0[6] = 0x656c6961;
  *(undefined2 *)(local_9d0 + 7) = 100;
  FUN_00038438(piVar29,local_9d0,1);
  FUN_0001c160(1,unaff_r7);
LAB_0000e088:
  iVar37 = nice(-10);
  if (iVar37 == 0) {
    local_9d4 = (byte *)&DAT_000630c1;
    if (DAT_000630c1 == '\0') {
      local_9e0 = &DAT_000630c0;
      local_9e8 = &DAT_00060964;
    }
    else {
      local_9e0 = &DAT_000630c0;
      if (((*local_9d8 != '\0') || (DAT_000630c0 != '\0')) || (local_9e8 = &DAT_00060964, 6 < DAT_00060964)) {
        local_9e8 = &DAT_00060964;
        *local_9d0 = 0x62616e55;
        local_9d0[1] = 0x7420656c;
        local_9d0[2] = 0x6573206f;
        local_9d0[3] = 0x68742074;
        local_9d0[4] = 0x64616572;
        local_9d0[5] = 0x206f7420;
        local_9d0[6] = 0x68676968;
        local_9d0[7] = 0x69727020;
        local_9d0[8] = 0x7469726f;
        *(undefined2 *)(local_9d0 + 9) = 0x79;
        FUN_00038438(7,local_9d0,0);
      }
    }
  }
  else {
    local_9e0 = &DAT_000630c0;
    local_9d4 = (byte *)&DAT_000630c1;
    local_9e8 = &DAT_00060964;
  }
  local_9cc = (byte *)0x0;
  local_9e4 = &DAT_00060178;
LAB_0000e124:
  while( true ) {
    iVar37 = local_9dc[0x1f8];
    if (DAT_00063e4c != '\0') {
      if ((*local_9d4 != '\0') && (((*local_9d8 != '\0' || (*local_9e0 != '\0')) || (6 < *local_9e8)))) {
        *local_9d0 = 0x6b726f57;
        local_9d0[1] = 0x64707520;
        local_9d0[2] = 0x20657461;
        local_9d0[3] = 0x7373656d;
        local_9d0[4] = 0x20656761;
        local_9d0[5] = 0x65636572;
        local_9d0[6] = 0x64657669;
        *(char *)(local_9d0 + 7) = '\0';
        FUN_00038438(7,local_9d0,0);
      }
      FUN_0002b13c(&DAT_000611bc);
      iVar39 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_00063bf0);
      if (iVar39 != 0) {
        FUN_0000b76c("signal_work_update",0x14ac);
      }
      if (0 < (int)DAT_0006410c) {
        piVar25 = DAT_00063b80 + DAT_0006410c;
        piVar29 = DAT_00063b80;
        do {
          piVar35 = piVar29 + 1;
          *(undefined1 *)(*piVar29 + 0x3f) = 1;
          piVar29 = piVar35;
        } while (piVar35 != piVar25);
      }
      iVar39 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_00063bf0);
      if (iVar39 != 0) {
        FUN_0000b700("signal_work_update",0x14af);
      }
      (*(code *)*local_9e4)();
    }
    DAT_00063e4c = '\0';
    FUN_0001d644();
    iVar39 = pthread_mutex_lock(DAT_000612c8);
    if (iVar39 != 0) {
      FUN_0000b4e4(&DAT_0004a378,0x2be7);
    }
    iVar39 = DAT_000612cc;
    if (DAT_000612cc != 0) {
      iVar39 = *(int *)(*(int *)(DAT_000612cc + 0x158) + 0xc);
    }
    if (iVar37 < iVar39) {
      if ((DAT_000612d2 != '\0') && ((int)local_9dc[0x1f8] < (int)local_9dc[0x1f9])) {
        DAT_00060070 = local_9dc[0x1f8] + 1;
        DAT_000612d2 = '\0';
      }
      DAT_000612d1 = 1;
      pthread_cond_wait((pthread_cond_t *)&DAT_00063748,DAT_000612c8);
      iVar39 = DAT_000612cc;
      if (DAT_000612cc != 0) {
        iVar39 = *(int *)(*(int *)(DAT_000612cc + 0x158) + 0xc);
      }
    }
    iVar24 = pthread_mutex_unlock(DAT_000612c8);
    if (iVar24 != 0) {
      FUN_0000b694(&DAT_0004a378,0x2bf9);
    }
    (*(code *)*local_9e4)();
    if (iVar39 <= iVar37) break;
    if ((DAT_000612d2 != '\0') && ((int)local_9dc[0x1f8] < (int)local_9dc[0x1f9])) {
      DAT_00060070 = local_9dc[0x1f8] + 1;
      DAT_000612d2 = '\0';
    }
    DAT_000612d1 = 1;
    local_9cc = (byte *)FUN_00017a14(0);
    if (local_9cc != (byte *)0x0) {
      FUN_000154ec();
      local_9cc = (byte *)0x0;
    }
  }
  if (local_9cc != (byte *)0x0) {
    FUN_000154ec(local_9cc);
  }
  local_9cc = (byte *)FUN_00019da0();
  pbVar43 = (byte *)FUN_0001d644();
  iVar37 = DAT_00063740;
  if (DAT_000611ac == 4) {
    pbVar40 = (byte *)FUN_00011da8();
  }
  else {
    pbVar40 = pbVar43;
    if (DAT_000611ac == 3) {
      if (DAT_00063740 < 1) {
LAB_0000e910:
        iVar39 = *(int *)(pbVar38 + -0x50);
        *(int *)(pbVar38 + -0x50) = iVar39 + 1;
        if (iVar37 <= iVar39 + 1) {
          DAT_00062e30 = 0;
        }
      }
      else {
        piVar29 = *ppuVar14;
        if (*(int *)(*piVar29 + 0x3c) <= *(int *)(*piVar29 + 0x40)) {
          iVar39 = 0;
          piVar25 = piVar29;
LAB_0000e8ec:
          iVar39 = iVar39 + 1;
          if (iVar39 != DAT_00063740) goto LAB_0000e8d8;
          piVar25 = piVar29 + DAT_00063740;
          do {
            piVar35 = piVar29 + 1;
            *(undefined4 *)(*piVar29 + 0x40) = 0;
            piVar29 = piVar35;
          } while (piVar35 != piVar25);
          goto LAB_0000e910;
        }
      }
LAB_0000e92c:
      iVar39 = 0;
      while (iVar24 = iVar39 + 1, iVar39 < iVar37) {
        iVar36 = *(int *)(pbVar38 + -0x50);
        pbVar40 = (byte *)(*ppuVar14)[iVar36];
        iVar39 = *(int *)(pbVar40 + 0x40);
        *(int *)(pbVar40 + 0x40) = iVar39 + 1;
        if (iVar39 < *(int *)(pbVar40 + 0x3c)) {
          if (((pbVar40[0x61] == 0) && (*(int *)(pbVar40 + 100) == 1)) &&
             ((pbVar40[0x278] == 0 || (pbVar40[0x279] != 0)))) goto LAB_0000e2e8;
          if (DAT_00063bc5 != '\0') {
            iVar39 = FUN_00011b90(0);
            iVar37 = DAT_00063740;
            iVar36 = *(int *)(pbVar38 + -0x50);
            *(int *)(iVar39 + 0x40) = *(int *)(iVar39 + 0x40) + -1;
          }
        }
        *(int *)(pbVar38 + -0x50) = iVar36 + 1;
        iVar39 = iVar24;
        if (iVar37 <= iVar36 + 1) {
          DAT_00062e30 = 0;
        }
      }
      pbVar40 = pbVar43;
      if (0 < iVar37) {
        iVar37 = 0;
        do {
          pbVar40 = (byte *)FUN_00011b90(iVar37);
          if ((pbVar40[0x61] == 0) && (*(int *)(pbVar40 + 100) == 1)) break;
          iVar37 = iVar37 + 1;
          pbVar40 = pbVar43;
        } while (iVar37 < DAT_00063740);
      }
    }
  }
LAB_0000e2e8:
  if ((*local_9d4 != '\0') && (((*local_9d8 != '\0' || (*local_9e0 != '\0')) || (6 < *local_9e8)))) {
    snprintf((char *)local_9d0,0x800,"Selecting pool %d for work",*(undefined4 *)pbVar40);
    FUN_00038438(7,local_9d0,0);
  }
  bVar7 = pbVar40[0x278];
  pbVar43 = local_9cc;
  while (local_9cc = pbVar43, bVar7 != 0) {
    do {
      if ((pbVar40[0x279] != 0) && (pbVar40[0x27b] != 0)) {
        FUN_0001a514(pbVar40,local_9cc);
        if ((*local_9d4 != '\0') && (((*local_9d8 != '\0' || (*local_9e0 != '\0')) || (6 < *local_9e8)))) {
          *local_9d0 = 0x656e6547;
          local_9d0[1] = 0x65746172;
          local_9d0[2] = 0x74732064;
          local_9d0[3] = 0x75746172;
          local_9d0[4] = 0x6f77206d;
          *(undefined2 *)(local_9d0 + 5) = 0x6b72;
          *(char *)((int)local_9d0 + 0x16) = '\0';
          FUN_00038438(7,local_9d0,0);
        }
        pbVar43 = local_9cc;
        local_9cc = (byte *)0x0;
        FUN_0001ed4c(pbVar43);
        goto LAB_0000e124;
      }
      local_9c8 = (byte *)FUN_0001d644();
      iVar37 = DAT_00063740;
      if (DAT_000611ac == 4) {
        pbVar43 = (byte *)FUN_00011da8();
      }
      else if ((DAT_000611ac == 3) || (pbVar43 = local_9c8, DAT_00063bc5 == '\0')) {
        if (DAT_00063740 < 1) {
LAB_0000e418:
          iVar39 = *(int *)(pbVar38 + -0x50);
          *(int *)(pbVar38 + -0x50) = iVar39 + 1;
          if (iVar37 <= iVar39 + 1) {
            DAT_00062e30 = 0;
          }
        }
        else {
          piVar29 = *ppuVar14;
          if (*(int *)(*piVar29 + 0x3c) <= *(int *)(*piVar29 + 0x40)) {
            iVar39 = 0;
            piVar25 = piVar29;
LAB_0000e3f8:
            iVar39 = iVar39 + 1;
            if (iVar39 != DAT_00063740) goto LAB_0000e3e4;
            piVar25 = piVar29 + DAT_00063740;
            do {
              piVar35 = piVar29 + 1;
              *(undefined4 *)(*piVar29 + 0x40) = 0;
              piVar29 = piVar35;
            } while (piVar35 != piVar25);
            goto LAB_0000e418;
          }
        }
LAB_0000e42c:
        iVar39 = 0;
        while (iVar24 = iVar39 + 1, iVar39 < iVar37) {
          iVar36 = *(int *)(pbVar38 + -0x50);
          pbVar43 = (byte *)(*ppuVar14)[iVar36];
          iVar39 = *(int *)(pbVar43 + 0x40);
          *(int *)(pbVar43 + 0x40) = iVar39 + 1;
          if (iVar39 < *(int *)(pbVar43 + 0x3c)) {
            if (((pbVar43[0x61] == 0) && (*(int *)(pbVar43 + 100) == 1)) &&
               ((pbVar43[0x278] == 0 || (pbVar43[0x279] != 0)))) goto LAB_0000e56c;
            if (DAT_00063bc5 != '\0') {
              iVar39 = FUN_00011b90(0);
              iVar37 = DAT_00063740;
              iVar36 = *(int *)(pbVar38 + -0x50);
              *(int *)(iVar39 + 0x40) = *(int *)(iVar39 + 0x40) + -1;
            }
          }
          *(int *)(pbVar38 + -0x50) = iVar36 + 1;
          iVar39 = iVar24;
          if (iVar37 <= iVar36 + 1) {
            DAT_00062e30 = 0;
          }
        }
        pbVar43 = local_9c8;
        if (0 < iVar37) {
          iVar37 = 0;
          do {
            pbVar43 = (byte *)FUN_00011b90(iVar37);
            if ((pbVar43[0x61] == 0) && (*(int *)(pbVar43 + 100) == 1)) break;
            iVar37 = iVar37 + 1;
            pbVar43 = local_9c8;
          } while (iVar37 < DAT_00063740);
        }
      }
LAB_0000e56c:
      local_9c8 = pbVar43;
      if ((*local_9d4 != '\0') && (((*local_9d8 != '\0' || (*local_9e0 != '\0')) || (6 < *local_9e8)))) {
        snprintf((char *)local_9d0,0x800,"Selecting pool %d for work",*(undefined4 *)local_9c8);
        FUN_00038438(7,local_9d0,0);
      }
      FUN_0002b21c(5000);
    } while (pbVar40 == local_9c8);
    pbVar40 = local_9c8;
    pbVar43 = local_9cc;
    bVar7 = local_9c8[0x278];
  }
  if (DAT_000612ac == 0) goto LAB_0000eae0;
  FUN_00016cd0();
  pbVar40 = local_9cc;
  puVar19 = *ppuVar14;
  *(undefined1 *)((int)local_9cc + 0x11a) = 1;
  *(undefined4 *)((int)local_9cc + 0x104) = *puVar19;
  FUN_0002b13c((int)pbVar43 + 400);
  FUN_0002ae20((int)pbVar40 + 0x198,(int)pbVar43 + 400);
  *(undefined1 *)((int)pbVar40 + 0x1b8) = 0x42;
  FUN_000113c4(0,local_9cc);
  if ((*local_9d4 != '\0') && (((*local_9d8 != '\0' || (*local_9e0 != '\0')) || (6 < *local_9e8)))) {
    pcVar30 = "Generated benchfile work";
    goto LAB_0000e69c;
  }
  goto LAB_0000e6c4;
LAB_0000e8d8:
  piVar25 = piVar25 + 1;
  if (*(int *)(*piVar25 + 0x40) < *(int *)(*piVar25 + 0x3c)) goto LAB_0000e92c;
  goto LAB_0000e8ec;
LAB_0000e3e4:
  piVar25 = piVar25 + 1;
  if (*(int *)(*piVar25 + 0x40) < *(int *)(*piVar25 + 0x3c)) goto LAB_0000e42c;
  goto LAB_0000e3f8;
LAB_0000eae0:
  if (DAT_000615c9 != '\0') {
    *(undefined8 *)((int)pbVar43 + 0x178) = 0x4040000000000000;
    uVar10 = DAT_000629f8;
    uVar9 = DAT_000629f4;
    uVar31 = DAT_000629f0;
    uVar13 = DAT_000629ec;
    puVar19 = *ppuVar14;
    *(undefined4 *)((int)pbVar43 + 0xf4) = 0;
    *(undefined1 *)((int)pbVar43 + 0x11a) = 1;
    *(undefined4 *)((int)pbVar43 + 0xa0) = uVar13;
    *(undefined4 *)((int)pbVar43 + 0xa4) = uVar31;
    *(undefined4 *)((int)pbVar43 + 0xa8) = uVar9;
    *(undefined4 *)((int)pbVar43 + 0xac) = uVar10;
    uVar9 = DAT_00062a08;
    uVar31 = DAT_00062a00;
    uVar13 = DAT_000629fc;
    *(undefined4 *)((int)pbVar43 + 0xb8) = DAT_00062a04;
    *(undefined4 *)((int)pbVar43 + 0xb0) = uVar13;
    *(undefined4 *)((int)pbVar43 + 0xb4) = uVar31;
    *(undefined4 *)((int)pbVar43 + 0xbc) = uVar9;
    *(undefined4 *)((int)pbVar43 + 0x104) = *puVar19;
    FUN_0002b13c((int)pbVar43 + 400);
    FUN_0002ae20((int)pbVar43 + 0x198,(int)pbVar43 + 400);
    *(undefined1 *)((int)pbVar43 + 0x1b8) = 0x42;
    if ((*local_9d4 != '\0') && (((*local_9d8 != '\0' || (*local_9e0 != '\0')) || (6 < *local_9e8)))) {
      pcVar30 = "Generated benchmark work";
LAB_0000e69c:
      iVar37 = *(int *)((int)pcVar30 + 4);
      iVar39 = *(int *)((int)pcVar30 + 8);
      iVar24 = *(int *)((int)pcVar30 + 0xc);
      *local_9d0 = *(int *)pcVar30;
      local_9d0[1] = iVar37;
      local_9d0[2] = iVar39;
      local_9d0[3] = iVar24;
      iVar37 = *(int *)((int)pcVar30 + 0x14);
      iVar39 = *(int *)((int)pcVar30 + 0x18);
      local_9d0[4] = *(int *)((int)pcVar30 + 0x10);
      local_9d0[5] = iVar37;
      *(char *)(local_9d0 + 6) = (char)iVar39;
      FUN_00038438(7,local_9d0,0);
    }
LAB_0000e6c4:
    pbVar43 = local_9cc;
    local_9cc = (byte *)0x0;
    FUN_0001ed4c(pbVar43);
  }
  goto LAB_0000e124;
}




void processEntry entry(undefined4 param_1,undefined4 param_2)

{
  __libc_start_main(FUN_0000b9f0,param_2,&stack0x00000004,FUN_00049db8,&DAT_00049e1c,param_1);
                    /* WARNING: Subroutine does not return */
  abort();
}




/* WARNING: Removing unreachable block (ram,0x0000f220) */

void FUN_0000f20c(void)

{
  __gmon_start__();
  return;
}




/* WARNING: Removing unreachable block (ram,0x0000f248) */
/* WARNING: Removing unreachable block (ram,0x0000f250) */
/* WARNING: Removing unreachable block (ram,0x0000f254) */

void FUN_0000f230(void)

{
  return;
}




void _FINI_0(void)

{
  if (DAT_00060e84 != '\0') {
    return;
  }
  FUN_0000f230();
  DAT_00060e84 = 1;
  return;
}




/* WARNING: Removing unreachable block (ram,0x0000f288) */
/* WARNING: Removing unreachable block (ram,0x0000f290) */
/* WARNING: Removing unreachable block (ram,0x0000f2f0) */
/* WARNING: Removing unreachable block (ram,0x0000f294) */

void _INIT_0(void)

{
  return;
}




char FUN_0000f3b0(int param_1,int param_2)

{
  char cVar1;
  int iVar2;
  char acStack_808 [2052];
  
  iVar2 = *(int *)(param_1 + 0x24);
  if (*(int *)(iVar2 + 0xec) == param_2) {
    cVar1 = DAT_000630c1;
    if ((DAT_000630c1 != '\0') &&
       (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (cVar1 = '\0', 6 < DAT_00060964)))) {
      snprintf(acStack_808,0x800,"%s %d duplicate share detected as HW error",*(undefined4 *)(*(int *)(iVar2 + 4) + 8),
               *(undefined4 *)(iVar2 + 8));
      FUN_00038438(7,acStack_808,0);
      cVar1 = '\0';
    }
  }
  else {
    *(int *)(iVar2 + 0xec) = param_2;
    cVar1 = '\x01';
  }
  return cVar1;
}




char * FUN_0000f46c(char *param_1)

{
  size_t sVar1;
  char *pcVar2;
  undefined4 *puVar3;
  char *pcVar4;
  char *pcVar5;
  char *pcVar6;
  char cVar7;
  
  sVar1 = strlen(param_1);
  pcVar2 = (char *)malloc(sVar1 * 2 + 1);
  puVar3 = (undefined4 *)malloc(8);
  cVar7 = *param_1;
  *puVar3 = pcVar2;
  puVar3[1] = DAT_00060e88;
  DAT_00060e88 = puVar3;
  pcVar6 = pcVar2;
  if (cVar7 != '\0') {
    pcVar4 = param_1 + -1;
    do {
      pcVar5 = pcVar6;
      if (cVar7 == '\\' || cVar7 == '\"') {
        pcVar5 = pcVar6 + 1;
        *pcVar6 = '\\';
      }
      pcVar6 = pcVar5 + 1;
      *pcVar5 = pcVar4[1];
      cVar7 = pcVar4[2];
      pcVar4 = pcVar4 + 1;
    } while (cVar7 != '\0');
  }
  *pcVar6 = '\0';
  return pcVar2;
}




undefined4 FUN_0000f570(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00047a4c(param_1,&DAT_00060ea0,param_3,param_4,param_4);
  return 0;
}




void FUN_0000f588(undefined4 param_1)

{
  undefined4 uVar1;
  
  printf("%s\nBuilt with bitmain_L3 mining support.\n",&DAT_00060ea4);
  uVar1 = FUN_00048a84(DAT_000c54d4,param_1);
  printf("%s",uVar1);
  fflush(stdout);
                    /* WARNING: Subroutine does not return */
  exit(0);
}




undefined4 FUN_0000f5e0(char *param_1)

{
  char *__fd;
  char *__format;
  char *local_814;
  char local_810 [4];
  char acStack_80c [4];
  char acStack_808 [4];
  char acStack_804 [4];
  char local_800 [4];
  char acStack_7fc [4];
  char acStack_7f8 [4];
  char acStack_7f4 [4];
  char acStack_7f0 [4];
  undefined2 local_7ec;
  
  local_814 = "";
  __fd = (char *)strtol(param_1,&local_814,10);
  if ((*local_814 == '\0') && (-1 < (int)__fd)) {
    DAT_00060fa4 = fdopen((int)__fd,"a");
    if (DAT_00060fa4 != (FILE *)0x0) {
      return 0;
    }
    if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 3)) {
      return 0;
    }
    __format = "Failed to open fd %u for share log";
    param_1 = __fd;
  }
  else {
    if ((*param_1 == '-') && (param_1[1] == '\0')) {
      DAT_00060fa4 = (FILE *)stdout;
      if (stdout != 0) {
        DAT_00060fa4 = (FILE *)stdout;
        return 0;
      }
      if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 3)) {
        DAT_00060fa4 = (FILE *)stdout;
        return 0;
      }
      local_810[0] = 'S';
      local_810[1] = 't';
      local_810[2] = 'a';
      local_810[3] = 'n';
      acStack_80c[0] = 'd';
      acStack_80c[1] = 'a';
      acStack_80c[2] = 'r';
      acStack_80c[3] = 'd';
      acStack_808[0] = ' ';
      acStack_808[1] = 'o';
      acStack_808[2] = 'u';
      acStack_808[3] = 't';
      acStack_804[0] = 'p';
      acStack_804[1] = 'u';
      acStack_804[2] = 't';
      acStack_804[3] = ' ';
      local_800[0] = 'm';
      local_800[1] = 'i';
      local_800[2] = 's';
      local_800[3] = 's';
      acStack_7fc[0] = 'i';
      acStack_7fc[1] = 'n';
      acStack_7fc[2] = 'g';
      acStack_7fc[3] = ' ';
      acStack_7f8[0] = 'f';
      acStack_7f8[1] = 'o';
      acStack_7f8[2] = 'r';
      acStack_7f8[3] = ' ';
      acStack_7f4[0] = 's';
      acStack_7f4[1] = 'h';
      acStack_7f4[2] = 'a';
      acStack_7f4[3] = 'r';
      acStack_7f0[0] = 'e';
      acStack_7f0[1] = ' ';
      acStack_7f0[2] = 'l';
      acStack_7f0[3] = 'o';
      local_7ec = 0x67;
      FUN_00038438(3,local_810,0);
      return 0;
    }
    DAT_00060fa4 = fopen(param_1,"a");
    if (DAT_00060fa4 != (FILE *)0x0) {
      return 0;
    }
    if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 3)) {
      return 0;
    }
    __format = "Failed to open %s for share log";
  }
  DAT_00060fa4 = (FILE *)0x0;
  snprintf(local_810,0x800,__format,param_1);
  FUN_00038438(3,local_810,0);
  return 0;
}




void FUN_0000f7d4(int param_1)

{
  time_t tVar1;
  int iVar2;
  
  *(undefined1 *)(param_1 + 0x3d) = 0;
  FUN_0002b13c(param_1 + 0x2c);
  *(undefined4 *)(*(int *)(param_1 + 0x24) + 0x60) = 0;
  iVar2 = *(int *)(param_1 + 0x24);
  tVar1 = time((time_t *)0x0);
  *(time_t *)(iVar2 + 0xf0) = tVar1;
  return;
}




void FUN_0000f808(int param_1)

{
  time_t tVar1;
  int iVar2;
  
  *(undefined1 *)(param_1 + 0x3d) = 1;
  FUN_0002b13c(param_1 + 0x2c);
  *(undefined4 *)(*(int *)(param_1 + 0x24) + 0x60) = 0;
  iVar2 = *(int *)(param_1 + 0x24);
  tVar1 = time((time_t *)0x0);
  *(time_t *)(iVar2 + 0xf0) = tVar1;
  return;
}




void FUN_0000f840(uint *param_1,uint *param_2,int param_3)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  int iVar7;
  int iVar8;
  uint *puVar9;
  uint uVar10;
  uint uVar11;
  uint uVar12;
  uint *puVar13;
  uint uVar14;
  uint auStack_13c [71];
  
  if (param_3 == 0) {
    puVar13 = param_2 + 0x10;
    puVar9 = auStack_13c + 7;
    do {
      uVar3 = *param_2;
      uVar1 = param_2[1];
      uVar4 = param_2[2];
      uVar10 = param_2[3];
      param_2 = param_2 + 4;
      *puVar9 = uVar3;
      puVar9[1] = uVar1;
      puVar9[2] = uVar4;
      puVar9[3] = uVar10;
      puVar9 = puVar9 + 4;
    } while (param_2 != puVar13);
  }
  else {
    iVar8 = 0;
    do {
      uVar3 = *(uint *)((int)param_2 + iVar8);
      *(uint *)((int)auStack_13c + iVar8 + 0x1c) =
           uVar3 << 0x18 | (uVar3 >> 8 & 0xff) << 0x10 | (uVar3 >> 0x10 & 0xff) << 8 | uVar3 >> 0x18;
      iVar8 = iVar8 + 4;
    } while (iVar8 != 0x40);
  }
  puVar9 = auStack_13c + 0x15;
  do {
    uVar10 = *puVar9;
    uVar3 = puVar9[1];
    uVar4 = puVar9[-0xd];
    uVar1 = puVar9[-0xc];
    puVar9[2] = puVar9[-0xe] + puVar9[-5] +
                ((uVar10 >> 0x11 | uVar10 << 0xf) ^ (uVar10 >> 0x13 | uVar10 << 0xd) ^ uVar10 >> 10) +
                ((uVar4 >> 7 | uVar4 << 0x19) ^ (uVar4 >> 0x12 | uVar4 << 0xe) ^ uVar4 >> 3);
    puVar9[3] = uVar4 + puVar9[-4] + ((uVar3 >> 0x11 | uVar3 << 0xf) ^ (uVar3 >> 0x13 | uVar3 << 0xd) ^ uVar3 >> 10) +
                ((uVar1 >> 7 | uVar1 << 0x19) ^ (uVar1 >> 0x12 | uVar1 << 0xe) ^ uVar1 >> 3);
    puVar9 = puVar9 + 2;
  } while (puVar9 != auStack_13c + 0x45);
  uVar3 = *param_1;
  uVar10 = param_1[1];
  uVar5 = param_1[2];
  uVar1 = param_1[4];
  uVar2 = param_1[5];
  uVar6 = param_1[6];
  iVar8 = param_1[7] + auStack_13c[7] + 0x428a2f98 +
          ((uVar1 >> 6 | uVar1 << 0x1a) ^ (uVar1 >> 0xb | uVar1 << 0x15) ^ (uVar1 >> 0x19 | uVar1 << 7)) +
          ((uVar6 ^ uVar2) & uVar1 ^ uVar6);
  uVar4 = iVar8 + param_1[3];
  uVar14 = ((uVar5 | uVar10) & uVar3 | uVar5 & uVar10) +
           ((uVar3 >> 2 | uVar3 << 0x1e) ^ (uVar3 >> 0xd | uVar3 << 0x13) ^ (uVar3 >> 0x16 | uVar3 << 10)) + iVar8;
  iVar8 = uVar6 + auStack_13c[8] + 0x71374491 + (uVar4 & (uVar2 ^ uVar1) ^ uVar2) +
          ((uVar4 >> 6 | uVar4 * 0x4000000) ^ (uVar4 >> 0xb | uVar4 * 0x200000) ^ (uVar4 >> 0x19 | uVar4 * 0x80));
  uVar5 = iVar8 + uVar5;
  uVar12 = ((uVar14 >> 2 | uVar14 * 0x40000000) ^ (uVar14 >> 0xd | uVar14 * 0x80000) ^ (uVar14 >> 0x16 | uVar14 * 0x400)
           ) + (uVar14 & (uVar10 | uVar3) | uVar10 & uVar3) + iVar8;
  iVar8 = uVar2 + auStack_13c[9] + -0x4a3f0431 + (uVar5 & (uVar4 ^ uVar1) ^ uVar1) +
          ((uVar5 >> 6 | uVar5 * 0x4000000) ^ (uVar5 >> 0xb | uVar5 * 0x200000) ^ (uVar5 >> 0x19 | uVar5 * 0x80));
  uVar2 = ((uVar12 >> 2 | uVar12 * 0x40000000) ^ (uVar12 >> 0xd | uVar12 * 0x80000) ^ (uVar12 >> 0x16 | uVar12 * 0x400))
          + (uVar12 & (uVar14 | uVar3) | uVar14 & uVar3) + iVar8;
  uVar10 = iVar8 + uVar10;
  iVar8 = uVar1 + auStack_13c[10] + -0x164a245b + (uVar10 & (uVar5 ^ uVar4) ^ uVar4) +
          ((uVar10 >> 6 | uVar10 * 0x4000000) ^ (uVar10 >> 0xb | uVar10 * 0x200000) ^ (uVar10 >> 0x19 | uVar10 * 0x80));
  uVar6 = ((uVar2 >> 2 | uVar2 * 0x40000000) ^ (uVar2 >> 0xd | uVar2 * 0x80000) ^ (uVar2 >> 0x16 | uVar2 * 0x400)) +
          (uVar2 & (uVar12 | uVar14) | uVar12 & uVar14) + iVar8;
  uVar3 = iVar8 + uVar3;
  iVar8 = auStack_13c[0xb] + 0x3956c25b + uVar4 + (uVar3 & (uVar10 ^ uVar5) ^ uVar5) +
          ((uVar3 >> 6 | uVar3 * 0x4000000) ^ (uVar3 >> 0xb | uVar3 * 0x200000) ^ (uVar3 >> 0x19 | uVar3 * 0x80));
  uVar11 = ((uVar6 >> 2 | uVar6 * 0x40000000) ^ (uVar6 >> 0xd | uVar6 * 0x80000) ^ (uVar6 >> 0x16 | uVar6 * 0x400)) +
           (uVar6 & (uVar2 | uVar12) | uVar2 & uVar12) + iVar8;
  uVar14 = iVar8 + uVar14;
  iVar8 = auStack_13c[0xc] + 0x59f111f1 + uVar5 + (uVar14 & (uVar3 ^ uVar10) ^ uVar10) +
          ((uVar14 >> 6 | uVar14 * 0x4000000) ^ (uVar14 >> 0xb | uVar14 * 0x200000) ^ (uVar14 >> 0x19 | uVar14 * 0x80));
  uVar1 = ((uVar11 >> 2 | uVar11 * 0x40000000) ^ (uVar11 >> 0xd | uVar11 * 0x80000) ^ (uVar11 >> 0x16 | uVar11 * 0x400))
          + (uVar11 & (uVar6 | uVar2) | uVar6 & uVar2) + iVar8;
  uVar12 = iVar8 + uVar12;
  iVar8 = auStack_13c[0xd] + -0x6dc07d5c + uVar10 + (uVar12 & (uVar14 ^ uVar3) ^ uVar3) +
          ((uVar12 >> 6 | uVar12 * 0x4000000) ^ (uVar12 >> 0xb | uVar12 * 0x200000) ^ (uVar12 >> 0x19 | uVar12 * 0x80));
  uVar2 = iVar8 + uVar2;
  uVar10 = ((uVar1 >> 2 | uVar1 * 0x40000000) ^ (uVar1 >> 0xd | uVar1 * 0x80000) ^ (uVar1 >> 0x16 | uVar1 * 0x400)) +
           (uVar1 & (uVar11 | uVar6) | uVar11 & uVar6) + iVar8;
  iVar8 = auStack_13c[0xe] + -0x54e3a12b + uVar3 + (uVar2 & (uVar12 ^ uVar14) ^ uVar14) +
          ((uVar2 >> 6 | uVar2 * 0x4000000) ^ (uVar2 >> 0xb | uVar2 * 0x200000) ^ (uVar2 >> 0x19 | uVar2 * 0x80));
  uVar6 = iVar8 + uVar6;
  uVar5 = ((uVar10 >> 2 | uVar10 * 0x40000000) ^ (uVar10 >> 0xd | uVar10 * 0x80000) ^ (uVar10 >> 0x16 | uVar10 * 0x400))
          + (uVar10 & (uVar1 | uVar11) | uVar1 & uVar11) + iVar8;
  iVar8 = auStack_13c[0xf] + -0x27f85568 + uVar14 + (uVar6 & (uVar2 ^ uVar12) ^ uVar12) +
          ((uVar6 >> 6 | uVar6 * 0x4000000) ^ (uVar6 >> 0xb | uVar6 * 0x200000) ^ (uVar6 >> 0x19 | uVar6 * 0x80));
  uVar11 = iVar8 + uVar11;
  uVar14 = ((uVar5 >> 2 | uVar5 * 0x40000000) ^ (uVar5 >> 0xd | uVar5 * 0x80000) ^ (uVar5 >> 0x16 | uVar5 * 0x400)) +
           (uVar5 & (uVar10 | uVar1) | uVar10 & uVar1) + iVar8;
  iVar8 = auStack_13c[0x10] + 0x12835b01 + uVar12 + (uVar11 & (uVar6 ^ uVar2) ^ uVar2) +
          ((uVar11 >> 6 | uVar11 * 0x4000000) ^ (uVar11 >> 0xb | uVar11 * 0x200000) ^ (uVar11 >> 0x19 | uVar11 * 0x80));
  uVar4 = ((uVar14 >> 2 | uVar14 * 0x40000000) ^ (uVar14 >> 0xd | uVar14 * 0x80000) ^ (uVar14 >> 0x16 | uVar14 * 0x400))
          + (uVar14 & (uVar5 | uVar10) | uVar5 & uVar10) + iVar8;
  uVar1 = iVar8 + uVar1;
  iVar8 = auStack_13c[0x11] + 0x243185be + uVar2 + (uVar1 & (uVar11 ^ uVar6) ^ uVar6) +
          ((uVar1 >> 6 | uVar1 * 0x4000000) ^ (uVar1 >> 0xb | uVar1 * 0x200000) ^ (uVar1 >> 0x19 | uVar1 * 0x80));
  uVar3 = ((uVar4 >> 2 | uVar4 * 0x40000000) ^ (uVar4 >> 0xd | uVar4 * 0x80000) ^ (uVar4 >> 0x16 | uVar4 * 0x400)) +
          (uVar4 & (uVar14 | uVar5) | uVar14 & uVar5) + iVar8;
  uVar10 = iVar8 + uVar10;
  iVar8 = auStack_13c[0x12] + 0x550c7dc3 + uVar6 + (uVar10 & (uVar1 ^ uVar11) ^ uVar11) +
          ((uVar10 >> 6 | uVar10 * 0x4000000) ^ (uVar10 >> 0xb | uVar10 * 0x200000) ^ (uVar10 >> 0x19 | uVar10 * 0x80));
  uVar5 = iVar8 + uVar5;
  uVar12 = ((uVar3 >> 2 | uVar3 * 0x40000000) ^ (uVar3 >> 0xd | uVar3 * 0x80000) ^ (uVar3 >> 0x16 | uVar3 * 0x400)) +
           (uVar3 & (uVar4 | uVar14) | uVar4 & uVar14) + iVar8;
  iVar8 = auStack_13c[0x13] + 0x72be5d74 + uVar11 + (uVar5 & (uVar10 ^ uVar1) ^ uVar1) +
          ((uVar5 >> 6 | uVar5 * 0x4000000) ^ (uVar5 >> 0xb | uVar5 * 0x200000) ^ (uVar5 >> 0x19 | uVar5 * 0x80));
  uVar2 = ((uVar12 >> 2 | uVar12 * 0x40000000) ^ (uVar12 >> 0xd | uVar12 * 0x80000) ^ (uVar12 >> 0x16 | uVar12 * 0x400))
          + (uVar12 & (uVar3 | uVar4) | uVar3 & uVar4) + iVar8;
  uVar14 = iVar8 + uVar14;
  iVar8 = auStack_13c[0x14] + -0x7f214e02 + uVar1 + (uVar14 & (uVar5 ^ uVar10) ^ uVar10) +
          ((uVar14 >> 6 | uVar14 * 0x4000000) ^ (uVar14 >> 0xb | uVar14 * 0x200000) ^ (uVar14 >> 0x19 | uVar14 * 0x80));
  uVar4 = iVar8 + uVar4;
  uVar6 = ((uVar2 >> 2 | uVar2 * 0x40000000) ^ (uVar2 >> 0xd | uVar2 * 0x80000) ^ (uVar2 >> 0x16 | uVar2 * 0x400)) +
          (uVar2 & (uVar12 | uVar3) | uVar12 & uVar3) + iVar8;
  iVar8 = auStack_13c[0x15] + -0x6423f959 + uVar10 + (uVar4 & (uVar14 ^ uVar5) ^ uVar5) +
          ((uVar4 >> 6 | uVar4 * 0x4000000) ^ (uVar4 >> 0xb | uVar4 * 0x200000) ^ (uVar4 >> 0x19 | uVar4 * 0x80));
  uVar10 = ((uVar6 >> 2 | uVar6 * 0x40000000) ^ (uVar6 >> 0xd | uVar6 * 0x80000) ^ (uVar6 >> 0x16 | uVar6 * 0x400)) +
           (uVar6 & (uVar2 | uVar12) | uVar2 & uVar12) + iVar8;
  uVar3 = iVar8 + uVar3;
  iVar8 = auStack_13c[0x16] + -0x3e640e8c + uVar5 + (uVar3 & (uVar4 ^ uVar14) ^ uVar14) +
          ((uVar3 >> 6 | uVar3 * 0x4000000) ^ (uVar3 >> 0xb | uVar3 * 0x200000) ^ (uVar3 >> 0x19 | uVar3 * 0x80));
  uVar1 = ((uVar10 >> 2 | uVar10 * 0x40000000) ^ (uVar10 >> 0xd | uVar10 * 0x80000) ^ (uVar10 >> 0x16 | uVar10 * 0x400))
          + (uVar10 & (uVar6 | uVar2) | uVar6 & uVar2) + iVar8;
  uVar12 = iVar8 + uVar12;
  iVar8 = auStack_13c[0x17] + -0x1b64963f + uVar14 + (uVar12 & (uVar3 ^ uVar4) ^ uVar4) +
          ((uVar12 >> 6 | uVar12 * 0x4000000) ^ (uVar12 >> 0xb | uVar12 * 0x200000) ^ (uVar12 >> 0x19 | uVar12 * 0x80));
  uVar11 = ((uVar1 >> 2 | uVar1 * 0x40000000) ^ (uVar1 >> 0xd | uVar1 * 0x80000) ^ (uVar1 >> 0x16 | uVar1 * 0x400)) +
           (uVar1 & (uVar10 | uVar6) | uVar10 & uVar6) + iVar8;
  uVar2 = iVar8 + uVar2;
  iVar8 = auStack_13c[0x18] + -0x1041b87a + uVar4 + (uVar2 & (uVar12 ^ uVar3) ^ uVar3) +
          ((uVar2 >> 6 | uVar2 * 0x4000000) ^ (uVar2 >> 0xb | uVar2 * 0x200000) ^ (uVar2 >> 0x19 | uVar2 * 0x80));
  uVar6 = iVar8 + uVar6;
  uVar5 = ((uVar11 >> 2 | uVar11 * 0x40000000) ^ (uVar11 >> 0xd | uVar11 * 0x80000) ^ (uVar11 >> 0x16 | uVar11 * 0x400))
          + (uVar11 & (uVar1 | uVar10) | uVar1 & uVar10) + iVar8;
  iVar8 = auStack_13c[0x19] + 0xfc19dc6 + uVar3 + (uVar6 & (uVar2 ^ uVar12) ^ uVar12) +
          ((uVar6 >> 6 | uVar6 * 0x4000000) ^ (uVar6 >> 0xb | uVar6 * 0x200000) ^ (uVar6 >> 0x19 | uVar6 * 0x80));
  uVar14 = ((uVar5 >> 2 | uVar5 * 0x40000000) ^ (uVar5 >> 0xd | uVar5 * 0x80000) ^ (uVar5 >> 0x16 | uVar5 * 0x400)) +
           (uVar5 & (uVar11 | uVar1) | uVar11 & uVar1) + iVar8;
  uVar10 = iVar8 + uVar10;
  iVar8 = auStack_13c[0x1a] + 0x240ca1cc + uVar12 + (uVar10 & (uVar6 ^ uVar2) ^ uVar2) +
          ((uVar10 >> 6 | uVar10 * 0x4000000) ^ (uVar10 >> 0xb | uVar10 * 0x200000) ^ (uVar10 >> 0x19 | uVar10 * 0x80));
  uVar1 = iVar8 + uVar1;
  uVar4 = ((uVar14 >> 2 | uVar14 * 0x40000000) ^ (uVar14 >> 0xd | uVar14 * 0x80000) ^ (uVar14 >> 0x16 | uVar14 * 0x400))
          + (uVar14 & (uVar5 | uVar11) | uVar5 & uVar11) + iVar8;
  iVar8 = auStack_13c[0x1b] + 0x2de92c6f + uVar2 + (uVar1 & (uVar10 ^ uVar6) ^ uVar6) +
          ((uVar1 >> 6 | uVar1 * 0x4000000) ^ (uVar1 >> 0xb | uVar1 * 0x200000) ^ (uVar1 >> 0x19 | uVar1 * 0x80));
  uVar3 = ((uVar4 >> 2 | uVar4 * 0x40000000) ^ (uVar4 >> 0xd | uVar4 * 0x80000) ^ (uVar4 >> 0x16 | uVar4 * 0x400)) +
          (uVar4 & (uVar14 | uVar5) | uVar14 & uVar5) + iVar8;
  uVar11 = iVar8 + uVar11;
  iVar8 = auStack_13c[0x1c] + 0x4a7484aa + uVar6 + (uVar11 & (uVar1 ^ uVar10) ^ uVar10) +
          ((uVar11 >> 6 | uVar11 * 0x4000000) ^ (uVar11 >> 0xb | uVar11 * 0x200000) ^ (uVar11 >> 0x19 | uVar11 * 0x80));
  uVar12 = ((uVar3 >> 2 | uVar3 * 0x40000000) ^ (uVar3 >> 0xd | uVar3 * 0x80000) ^ (uVar3 >> 0x16 | uVar3 * 0x400)) +
           (uVar3 & (uVar4 | uVar14) | uVar4 & uVar14) + iVar8;
  uVar5 = iVar8 + uVar5;
  iVar8 = auStack_13c[0x1d] + 0x5cb0a9dc + uVar10 + (uVar5 & (uVar11 ^ uVar1) ^ uVar1) +
          ((uVar5 >> 6 | uVar5 * 0x4000000) ^ (uVar5 >> 0xb | uVar5 * 0x200000) ^ (uVar5 >> 0x19 | uVar5 * 0x80));
  uVar2 = ((uVar12 >> 2 | uVar12 * 0x40000000) ^ (uVar12 >> 0xd | uVar12 * 0x80000) ^ (uVar12 >> 0x16 | uVar12 * 0x400))
          + (uVar12 & (uVar3 | uVar4) | uVar3 & uVar4) + iVar8;
  uVar14 = iVar8 + uVar14;
  iVar8 = auStack_13c[0x1e] + 0x76f988da + uVar1 + (uVar14 & (uVar5 ^ uVar11) ^ uVar11) +
          ((uVar14 >> 6 | uVar14 * 0x4000000) ^ (uVar14 >> 0xb | uVar14 * 0x200000) ^ (uVar14 >> 0x19 | uVar14 * 0x80));
  uVar4 = iVar8 + uVar4;
  uVar6 = ((uVar2 >> 2 | uVar2 * 0x40000000) ^ (uVar2 >> 0xd | uVar2 * 0x80000) ^ (uVar2 >> 0x16 | uVar2 * 0x400)) +
          (uVar2 & (uVar12 | uVar3) | uVar12 & uVar3) + iVar8;
  iVar8 = auStack_13c[0x1f] + -0x67c1aeae + uVar11 + (uVar4 & (uVar14 ^ uVar5) ^ uVar5) +
          ((uVar4 >> 6 | uVar4 * 0x4000000) ^ (uVar4 >> 0xb | uVar4 * 0x200000) ^ (uVar4 >> 0x19 | uVar4 * 0x80));
  uVar10 = ((uVar6 >> 2 | uVar6 * 0x40000000) ^ (uVar6 >> 0xd | uVar6 * 0x80000) ^ (uVar6 >> 0x16 | uVar6 * 0x400)) +
           (uVar6 & (uVar2 | uVar12) | uVar2 & uVar12) + iVar8;
  uVar3 = iVar8 + uVar3;
  iVar8 = auStack_13c[0x20] + -0x57ce3993 + uVar5 + (uVar3 & (uVar4 ^ uVar14) ^ uVar14) +
          ((uVar3 >> 6 | uVar3 * 0x4000000) ^ (uVar3 >> 0xb | uVar3 * 0x200000) ^ (uVar3 >> 0x19 | uVar3 * 0x80));
  uVar12 = iVar8 + uVar12;
  uVar1 = ((uVar10 >> 2 | uVar10 * 0x40000000) ^ (uVar10 >> 0xd | uVar10 * 0x80000) ^ (uVar10 >> 0x16 | uVar10 * 0x400))
          + (uVar10 & (uVar6 | uVar2) | uVar6 & uVar2) + iVar8;
  iVar8 = auStack_13c[0x21] + -0x4ffcd838 + uVar14 + (uVar12 & (uVar3 ^ uVar4) ^ uVar4) +
          ((uVar12 >> 6 | uVar12 * 0x4000000) ^ (uVar12 >> 0xb | uVar12 * 0x200000) ^ (uVar12 >> 0x19 | uVar12 * 0x80));
  uVar11 = ((uVar1 >> 2 | uVar1 * 0x40000000) ^ (uVar1 >> 0xd | uVar1 * 0x80000) ^ (uVar1 >> 0x16 | uVar1 * 0x400)) +
           (uVar1 & (uVar10 | uVar6) | uVar10 & uVar6) + iVar8;
  uVar2 = iVar8 + uVar2;
  iVar8 = auStack_13c[0x22] + -0x40a68039 + uVar4 + (uVar2 & (uVar12 ^ uVar3) ^ uVar3) +
          ((uVar2 >> 6 | uVar2 * 0x4000000) ^ (uVar2 >> 0xb | uVar2 * 0x200000) ^ (uVar2 >> 0x19 | uVar2 * 0x80));
  uVar5 = ((uVar11 >> 2 | uVar11 * 0x40000000) ^ (uVar11 >> 0xd | uVar11 * 0x80000) ^ (uVar11 >> 0x16 | uVar11 * 0x400))
          + (uVar11 & (uVar1 | uVar10) | uVar1 & uVar10) + iVar8;
  uVar6 = iVar8 + uVar6;
  iVar8 = auStack_13c[0x23] + -0x391ff40d + uVar3 + (uVar6 & (uVar2 ^ uVar12) ^ uVar12) +
          ((uVar6 >> 6 | uVar6 * 0x4000000) ^ (uVar6 >> 0xb | uVar6 * 0x200000) ^ (uVar6 >> 0x19 | uVar6 * 0x80));
  uVar14 = ((uVar5 >> 2 | uVar5 * 0x40000000) ^ (uVar5 >> 0xd | uVar5 * 0x80000) ^ (uVar5 >> 0x16 | uVar5 * 0x400)) +
           (uVar5 & (uVar11 | uVar1) | uVar11 & uVar1) + iVar8;
  uVar10 = iVar8 + uVar10;
  iVar8 = auStack_13c[0x24] + -0x2a586eb9 + uVar12 + (uVar10 & (uVar6 ^ uVar2) ^ uVar2) +
          ((uVar10 >> 6 | uVar10 * 0x4000000) ^ (uVar10 >> 0xb | uVar10 * 0x200000) ^ (uVar10 >> 0x19 | uVar10 * 0x80));
  uVar1 = iVar8 + uVar1;
  uVar4 = ((uVar14 >> 2 | uVar14 * 0x40000000) ^ (uVar14 >> 0xd | uVar14 * 0x80000) ^ (uVar14 >> 0x16 | uVar14 * 0x400))
          + (uVar14 & (uVar5 | uVar11) | uVar5 & uVar11) + iVar8;
  iVar8 = auStack_13c[0x25] + 0x6ca6351 + uVar2 + (uVar1 & (uVar10 ^ uVar6) ^ uVar6) +
          ((uVar1 >> 6 | uVar1 * 0x4000000) ^ (uVar1 >> 0xb | uVar1 * 0x200000) ^ (uVar1 >> 0x19 | uVar1 * 0x80));
  uVar3 = ((uVar4 >> 2 | uVar4 * 0x40000000) ^ (uVar4 >> 0xd | uVar4 * 0x80000) ^ (uVar4 >> 0x16 | uVar4 * 0x400)) +
          (uVar4 & (uVar14 | uVar5) | uVar14 & uVar5) + iVar8;
  uVar11 = iVar8 + uVar11;
  iVar8 = auStack_13c[0x26] + 0x14292967 + uVar6 + (uVar11 & (uVar1 ^ uVar10) ^ uVar10) +
          ((uVar11 >> 6 | uVar11 * 0x4000000) ^ (uVar11 >> 0xb | uVar11 * 0x200000) ^ (uVar11 >> 0x19 | uVar11 * 0x80));
  uVar5 = iVar8 + uVar5;
  uVar12 = ((uVar3 >> 2 | uVar3 * 0x40000000) ^ (uVar3 >> 0xd | uVar3 * 0x80000) ^ (uVar3 >> 0x16 | uVar3 * 0x400)) +
           (uVar3 & (uVar4 | uVar14) | uVar4 & uVar14) + iVar8;
  iVar8 = auStack_13c[0x27] + 0x27b70a85 + uVar10 + (uVar5 & (uVar11 ^ uVar1) ^ uVar1) +
          ((uVar5 >> 6 | uVar5 * 0x4000000) ^ (uVar5 >> 0xb | uVar5 * 0x200000) ^ (uVar5 >> 0x19 | uVar5 * 0x80));
  uVar2 = ((uVar12 >> 2 | uVar12 * 0x40000000) ^ (uVar12 >> 0xd | uVar12 * 0x80000) ^ (uVar12 >> 0x16 | uVar12 * 0x400))
          + (uVar12 & (uVar3 | uVar4) | uVar3 & uVar4) + iVar8;
  uVar14 = iVar8 + uVar14;
  iVar8 = auStack_13c[0x28] + 0x2e1b2138 + uVar1 + (uVar14 & (uVar5 ^ uVar11) ^ uVar11) +
          ((uVar14 >> 6 | uVar14 * 0x4000000) ^ (uVar14 >> 0xb | uVar14 * 0x200000) ^ (uVar14 >> 0x19 | uVar14 * 0x80));
  uVar6 = ((uVar2 >> 2 | uVar2 * 0x40000000) ^ (uVar2 >> 0xd | uVar2 * 0x80000) ^ (uVar2 >> 0x16 | uVar2 * 0x400)) +
          (uVar2 & (uVar12 | uVar3) | uVar12 & uVar3) + iVar8;
  uVar4 = iVar8 + uVar4;
  iVar8 = auStack_13c[0x29] + 0x4d2c6dfc + uVar11 + (uVar4 & (uVar14 ^ uVar5) ^ uVar5) +
          ((uVar4 >> 6 | uVar4 * 0x4000000) ^ (uVar4 >> 0xb | uVar4 * 0x200000) ^ (uVar4 >> 0x19 | uVar4 * 0x80));
  uVar10 = ((uVar6 >> 2 | uVar6 * 0x40000000) ^ (uVar6 >> 0xd | uVar6 * 0x80000) ^ (uVar6 >> 0x16 | uVar6 * 0x400)) +
           (uVar6 & (uVar2 | uVar12) | uVar2 & uVar12) + iVar8;
  uVar3 = iVar8 + uVar3;
  iVar8 = auStack_13c[0x2a] + 0x53380d13 + uVar5 + (uVar3 & (uVar4 ^ uVar14) ^ uVar14) +
          ((uVar3 >> 6 | uVar3 * 0x4000000) ^ (uVar3 >> 0xb | uVar3 * 0x200000) ^ (uVar3 >> 0x19 | uVar3 * 0x80));
  uVar12 = iVar8 + uVar12;
  uVar1 = ((uVar10 >> 2 | uVar10 * 0x40000000) ^ (uVar10 >> 0xd | uVar10 * 0x80000) ^ (uVar10 >> 0x16 | uVar10 * 0x400))
          + (uVar10 & (uVar6 | uVar2) | uVar6 & uVar2) + iVar8;
  iVar8 = auStack_13c[0x2b] + 0x650a7354 + uVar14 + (uVar12 & (uVar3 ^ uVar4) ^ uVar4) +
          ((uVar12 >> 6 | uVar12 * 0x4000000) ^ (uVar12 >> 0xb | uVar12 * 0x200000) ^ (uVar12 >> 0x19 | uVar12 * 0x80));
  uVar11 = ((uVar1 >> 2 | uVar1 * 0x40000000) ^ (uVar1 >> 0xd | uVar1 * 0x80000) ^ (uVar1 >> 0x16 | uVar1 * 0x400)) +
           (uVar1 & (uVar10 | uVar6) | uVar10 & uVar6) + iVar8;
  uVar2 = iVar8 + uVar2;
  iVar8 = auStack_13c[0x2c] + 0x766a0abb + uVar4 + (uVar2 & (uVar12 ^ uVar3) ^ uVar3) +
          ((uVar2 >> 6 | uVar2 * 0x4000000) ^ (uVar2 >> 0xb | uVar2 * 0x200000) ^ (uVar2 >> 0x19 | uVar2 * 0x80));
  uVar6 = iVar8 + uVar6;
  uVar5 = ((uVar11 >> 2 | uVar11 * 0x40000000) ^ (uVar11 >> 0xd | uVar11 * 0x80000) ^ (uVar11 >> 0x16 | uVar11 * 0x400))
          + (uVar11 & (uVar1 | uVar10) | uVar1 & uVar10) + iVar8;
  iVar8 = auStack_13c[0x2d] + -0x7e3d36d2 + uVar3 + (uVar6 & (uVar2 ^ uVar12) ^ uVar12) +
          ((uVar6 >> 6 | uVar6 * 0x4000000) ^ (uVar6 >> 0xb | uVar6 * 0x200000) ^ (uVar6 >> 0x19 | uVar6 * 0x80));
  uVar14 = ((uVar5 >> 2 | uVar5 * 0x40000000) ^ (uVar5 >> 0xd | uVar5 * 0x80000) ^ (uVar5 >> 0x16 | uVar5 * 0x400)) +
           (uVar5 & (uVar11 | uVar1) | uVar11 & uVar1) + iVar8;
  uVar10 = iVar8 + uVar10;
  iVar8 = auStack_13c[0x2e] + -0x6d8dd37b + uVar12 + (uVar10 & (uVar6 ^ uVar2) ^ uVar2) +
          ((uVar10 >> 6 | uVar10 * 0x4000000) ^ (uVar10 >> 0xb | uVar10 * 0x200000) ^ (uVar10 >> 0x19 | uVar10 * 0x80));
  uVar4 = ((uVar14 >> 2 | uVar14 * 0x40000000) ^ (uVar14 >> 0xd | uVar14 * 0x80000) ^ (uVar14 >> 0x16 | uVar14 * 0x400))
          + (uVar14 & (uVar5 | uVar11) | uVar5 & uVar11) + iVar8;
  uVar1 = iVar8 + uVar1;
  iVar8 = auStack_13c[0x2f] + -0x5d40175f + uVar2 + (uVar1 & (uVar10 ^ uVar6) ^ uVar6) +
          ((uVar1 >> 6 | uVar1 * 0x4000000) ^ (uVar1 >> 0xb | uVar1 * 0x200000) ^ (uVar1 >> 0x19 | uVar1 * 0x80));
  uVar3 = ((uVar4 >> 2 | uVar4 * 0x40000000) ^ (uVar4 >> 0xd | uVar4 * 0x80000) ^ (uVar4 >> 0x16 | uVar4 * 0x400)) +
          (uVar4 & (uVar14 | uVar5) | uVar14 & uVar5) + iVar8;
  uVar11 = iVar8 + uVar11;
  iVar8 = auStack_13c[0x30] + -0x57e599b5 + uVar6 + (uVar11 & (uVar1 ^ uVar10) ^ uVar10) +
          ((uVar11 >> 6 | uVar11 * 0x4000000) ^ (uVar11 >> 0xb | uVar11 * 0x200000) ^ (uVar11 >> 0x19 | uVar11 * 0x80));
  uVar5 = iVar8 + uVar5;
  uVar12 = ((uVar3 >> 2 | uVar3 * 0x40000000) ^ (uVar3 >> 0xd | uVar3 * 0x80000) ^ (uVar3 >> 0x16 | uVar3 * 0x400)) +
           (uVar3 & (uVar4 | uVar14) | uVar4 & uVar14) + iVar8;
  iVar8 = auStack_13c[0x31] + -0x3db47490 + uVar10 + (uVar5 & (uVar11 ^ uVar1) ^ uVar1) +
          ((uVar5 >> 6 | uVar5 * 0x4000000) ^ (uVar5 >> 0xb | uVar5 * 0x200000) ^ (uVar5 >> 0x19 | uVar5 * 0x80));
  uVar2 = ((uVar12 >> 2 | uVar12 * 0x40000000) ^ (uVar12 >> 0xd | uVar12 * 0x80000) ^ (uVar12 >> 0x16 | uVar12 * 0x400))
          + (uVar12 & (uVar3 | uVar4) | uVar3 & uVar4) + iVar8;
  uVar14 = iVar8 + uVar14;
  iVar8 = auStack_13c[0x32] + -0x3893ae5d + uVar1 + (uVar14 & (uVar5 ^ uVar11) ^ uVar11) +
          ((uVar14 >> 6 | uVar14 * 0x4000000) ^ (uVar14 >> 0xb | uVar14 * 0x200000) ^ (uVar14 >> 0x19 | uVar14 * 0x80));
  uVar4 = iVar8 + uVar4;
  uVar6 = ((uVar2 >> 2 | uVar2 * 0x40000000) ^ (uVar2 >> 0xd | uVar2 * 0x80000) ^ (uVar2 >> 0x16 | uVar2 * 0x400)) +
          (uVar2 & (uVar12 | uVar3) | uVar12 & uVar3) + iVar8;
  iVar8 = auStack_13c[0x33] + -0x2e6d17e7 + uVar11 + (uVar4 & (uVar14 ^ uVar5) ^ uVar5) +
          ((uVar4 >> 6 | uVar4 * 0x4000000) ^ (uVar4 >> 0xb | uVar4 * 0x200000) ^ (uVar4 >> 0x19 | uVar4 * 0x80));
  uVar10 = ((uVar6 >> 2 | uVar6 * 0x40000000) ^ (uVar6 >> 0xd | uVar6 * 0x80000) ^ (uVar6 >> 0x16 | uVar6 * 0x400)) +
           (uVar6 & (uVar2 | uVar12) | uVar2 & uVar12) + iVar8;
  uVar3 = iVar8 + uVar3;
  iVar8 = auStack_13c[0x34] + -0x2966f9dc + uVar5 + (uVar3 & (uVar4 ^ uVar14) ^ uVar14) +
          ((uVar3 >> 6 | uVar3 * 0x4000000) ^ (uVar3 >> 0xb | uVar3 * 0x200000) ^ (uVar3 >> 0x19 | uVar3 * 0x80));
  uVar1 = ((uVar10 >> 2 | uVar10 * 0x40000000) ^ (uVar10 >> 0xd | uVar10 * 0x80000) ^ (uVar10 >> 0x16 | uVar10 * 0x400))
          + (uVar10 & (uVar6 | uVar2) | uVar6 & uVar2) + iVar8;
  uVar12 = iVar8 + uVar12;
  iVar8 = auStack_13c[0x35] + -0xbf1ca7b + uVar14 + (uVar12 & (uVar3 ^ uVar4) ^ uVar4) +
          ((uVar12 >> 6 | uVar12 * 0x4000000) ^ (uVar12 >> 0xb | uVar12 * 0x200000) ^ (uVar12 >> 0x19 | uVar12 * 0x80));
  uVar11 = ((uVar1 >> 2 | uVar1 * 0x40000000) ^ (uVar1 >> 0xd | uVar1 * 0x80000) ^ (uVar1 >> 0x16 | uVar1 * 0x400)) +
           (uVar1 & (uVar10 | uVar6) | uVar10 & uVar6) + iVar8;
  uVar2 = iVar8 + uVar2;
  iVar8 = auStack_13c[0x36] + 0x106aa070 + uVar4 + (uVar2 & (uVar12 ^ uVar3) ^ uVar3) +
          ((uVar2 >> 6 | uVar2 * 0x4000000) ^ (uVar2 >> 0xb | uVar2 * 0x200000) ^ (uVar2 >> 0x19 | uVar2 * 0x80));
  uVar6 = iVar8 + uVar6;
  uVar5 = ((uVar11 >> 2 | uVar11 * 0x40000000) ^ (uVar11 >> 0xd | uVar11 * 0x80000) ^ (uVar11 >> 0x16 | uVar11 * 0x400))
          + (uVar11 & (uVar1 | uVar10) | uVar1 & uVar10) + iVar8;
  iVar8 = auStack_13c[0x37] + 0x19a4c116 + uVar3 + (uVar6 & (uVar2 ^ uVar12) ^ uVar12) +
          ((uVar6 >> 6 | uVar6 * 0x4000000) ^ (uVar6 >> 0xb | uVar6 * 0x200000) ^ (uVar6 >> 0x19 | uVar6 * 0x80));
  uVar14 = ((uVar5 >> 2 | uVar5 * 0x40000000) ^ (uVar5 >> 0xd | uVar5 * 0x80000) ^ (uVar5 >> 0x16 | uVar5 * 0x400)) +
           (uVar5 & (uVar11 | uVar1) | uVar11 & uVar1) + iVar8;
  uVar10 = iVar8 + uVar10;
  iVar8 = auStack_13c[0x38] + 0x1e376c08 + uVar12 + (uVar10 & (uVar6 ^ uVar2) ^ uVar2) +
          ((uVar10 >> 6 | uVar10 * 0x4000000) ^ (uVar10 >> 0xb | uVar10 * 0x200000) ^ (uVar10 >> 0x19 | uVar10 * 0x80));
  uVar1 = iVar8 + uVar1;
  uVar4 = ((uVar14 >> 2 | uVar14 * 0x40000000) ^ (uVar14 >> 0xd | uVar14 * 0x80000) ^ (uVar14 >> 0x16 | uVar14 * 0x400))
          + (uVar14 & (uVar5 | uVar11) | uVar5 & uVar11) + iVar8;
  iVar8 = auStack_13c[0x39] + 0x2748774c + uVar2 + (uVar1 & (uVar10 ^ uVar6) ^ uVar6) +
          ((uVar1 >> 6 | uVar1 * 0x4000000) ^ (uVar1 >> 0xb | uVar1 * 0x200000) ^ (uVar1 >> 0x19 | uVar1 * 0x80));
  uVar3 = ((uVar4 >> 2 | uVar4 * 0x40000000) ^ (uVar4 >> 0xd | uVar4 * 0x80000) ^ (uVar4 >> 0x16 | uVar4 * 0x400)) +
          (uVar4 & (uVar14 | uVar5) | uVar14 & uVar5) + iVar8;
  uVar11 = iVar8 + uVar11;
  iVar8 = auStack_13c[0x3a] + 0x34b0bcb5 + uVar6 + (uVar11 & (uVar1 ^ uVar10) ^ uVar10) +
          ((uVar11 >> 6 | uVar11 * 0x4000000) ^ (uVar11 >> 0xb | uVar11 * 0x200000) ^ (uVar11 >> 0x19 | uVar11 * 0x80));
  uVar12 = ((uVar3 >> 2 | uVar3 * 0x40000000) ^ (uVar3 >> 0xd | uVar3 * 0x80000) ^ (uVar3 >> 0x16 | uVar3 * 0x400)) +
           (uVar3 & (uVar4 | uVar14) | uVar4 & uVar14) + iVar8;
  uVar5 = iVar8 + uVar5;
  iVar8 = auStack_13c[0x3b] + 0x391c0cb3 + uVar10 + (uVar5 & (uVar11 ^ uVar1) ^ uVar1) +
          ((uVar5 >> 6 | uVar5 * 0x4000000) ^ (uVar5 >> 0xb | uVar5 * 0x200000) ^ (uVar5 >> 0x19 | uVar5 * 0x80));
  uVar2 = ((uVar12 >> 2 | uVar12 * 0x40000000) ^ (uVar12 >> 0xd | uVar12 * 0x80000) ^ (uVar12 >> 0x16 | uVar12 * 0x400))
          + (uVar12 & (uVar3 | uVar4) | uVar3 & uVar4) + iVar8;
  uVar14 = iVar8 + uVar14;
  iVar8 = auStack_13c[0x3c] + 0x4ed8aa4a + uVar1 + (uVar14 & (uVar5 ^ uVar11) ^ uVar11) +
          ((uVar14 >> 6 | uVar14 * 0x4000000) ^ (uVar14 >> 0xb | uVar14 * 0x200000) ^ (uVar14 >> 0x19 | uVar14 * 0x80));
  uVar4 = iVar8 + uVar4;
  uVar6 = ((uVar2 >> 2 | uVar2 * 0x40000000) ^ (uVar2 >> 0xd | uVar2 * 0x80000) ^ (uVar2 >> 0x16 | uVar2 * 0x400)) +
          (uVar2 & (uVar12 | uVar3) | uVar12 & uVar3) + iVar8;
  iVar8 = auStack_13c[0x3d] + 0x5b9cca4f + uVar11 + (uVar4 & (uVar14 ^ uVar5) ^ uVar5) +
          ((uVar4 >> 6 | uVar4 * 0x4000000) ^ (uVar4 >> 0xb | uVar4 * 0x200000) ^ (uVar4 >> 0x19 | uVar4 * 0x80));
  uVar10 = ((uVar6 >> 2 | uVar6 * 0x40000000) ^ (uVar6 >> 0xd | uVar6 * 0x80000) ^ (uVar6 >> 0x16 | uVar6 * 0x400)) +
           (uVar6 & (uVar2 | uVar12) | uVar2 & uVar12) + iVar8;
  uVar3 = iVar8 + uVar3;
  iVar8 = auStack_13c[0x3e] + 0x682e6ff3 + uVar5 + (uVar3 & (uVar4 ^ uVar14) ^ uVar14) +
          ((uVar3 >> 6 | uVar3 * 0x4000000) ^ (uVar3 >> 0xb | uVar3 * 0x200000) ^ (uVar3 >> 0x19 | uVar3 * 0x80));
  uVar12 = iVar8 + uVar12;
  uVar1 = ((uVar10 >> 2 | uVar10 * 0x40000000) ^ (uVar10 >> 0xd | uVar10 * 0x80000) ^ (uVar10 >> 0x16 | uVar10 * 0x400))
          + (uVar10 & (uVar6 | uVar2) | uVar6 & uVar2) + iVar8;
  iVar8 = auStack_13c[0x3f] + 0x748f82ee + uVar14 + (uVar12 & (uVar3 ^ uVar4) ^ uVar4) +
          ((uVar12 >> 6 | uVar12 * 0x4000000) ^ (uVar12 >> 0xb | uVar12 * 0x200000) ^ (uVar12 >> 0x19 | uVar12 * 0x80));
  auStack_13c[6] =
       ((uVar1 >> 2 | uVar1 * 0x40000000) ^ (uVar1 >> 0xd | uVar1 * 0x80000) ^ (uVar1 >> 0x16 | uVar1 * 0x400)) +
       (uVar1 & (uVar10 | uVar6) | uVar10 & uVar6) + iVar8;
  uVar2 = iVar8 + uVar2;
  iVar8 = auStack_13c[0x40] + 0x78a5636f + uVar4 + (uVar2 & (uVar12 ^ uVar3) ^ uVar3) +
          ((uVar2 >> 6 | uVar2 * 0x4000000) ^ (uVar2 >> 0xb | uVar2 * 0x200000) ^ (uVar2 >> 0x19 | uVar2 * 0x80));
  auStack_13c[5] =
       ((auStack_13c[6] >> 2 | auStack_13c[6] * 0x40000000) ^ (auStack_13c[6] >> 0xd | auStack_13c[6] * 0x80000) ^
       (auStack_13c[6] >> 0x16 | auStack_13c[6] * 0x400)) + (auStack_13c[6] & (uVar1 | uVar10) | uVar1 & uVar10) + iVar8
  ;
  uVar6 = iVar8 + uVar6;
  iVar8 = auStack_13c[0x41] + -0x7b3787ec + uVar3 + (uVar6 & (uVar2 ^ uVar12) ^ uVar12) +
          ((uVar6 >> 6 | uVar6 * 0x4000000) ^ (uVar6 >> 0xb | uVar6 * 0x200000) ^ (uVar6 >> 0x19 | uVar6 * 0x80));
  uVar10 = iVar8 + uVar10;
  auStack_13c[4] =
       ((auStack_13c[5] >> 2 | auStack_13c[5] * 0x40000000) ^ (auStack_13c[5] >> 0xd | auStack_13c[5] * 0x80000) ^
       (auStack_13c[5] >> 0x16 | auStack_13c[5] * 0x400)) +
       (auStack_13c[5] & (auStack_13c[6] | uVar1) | auStack_13c[6] & uVar1) + iVar8;
  iVar8 = auStack_13c[0x42] + -0x7338fdf8 + uVar12 + (uVar10 & (uVar6 ^ uVar2) ^ uVar2) +
          ((uVar10 >> 6 | uVar10 * 0x4000000) ^ (uVar10 >> 0xb | uVar10 * 0x200000) ^ (uVar10 >> 0x19 | uVar10 * 0x80));
  uVar1 = iVar8 + uVar1;
  uVar3 = ((auStack_13c[4] >> 2 | auStack_13c[4] * 0x40000000) ^ (auStack_13c[4] >> 0xd | auStack_13c[4] * 0x80000) ^
          (auStack_13c[4] >> 0x16 | auStack_13c[4] * 0x400)) +
          (auStack_13c[4] & (auStack_13c[5] | auStack_13c[6]) | auStack_13c[5] & auStack_13c[6]) + iVar8;
  iVar8 = auStack_13c[0x43] + -0x6f410006 + uVar2 + (uVar1 & (uVar10 ^ uVar6) ^ uVar6) +
          ((uVar1 >> 6 | uVar1 * 0x4000000) ^ (uVar1 >> 0xb | uVar1 * 0x200000) ^ (uVar1 >> 0x19 | uVar1 * 0x80));
  auStack_13c[6] = iVar8 + auStack_13c[6];
  auStack_13c[2] =
       ((uVar3 >> 2 | uVar3 * 0x40000000) ^ (uVar3 >> 0xd | uVar3 * 0x80000) ^ (uVar3 >> 0x16 | uVar3 * 0x400)) +
       (uVar3 & (auStack_13c[4] | auStack_13c[5]) | auStack_13c[4] & auStack_13c[5]) + iVar8;
  iVar8 = auStack_13c[0x44] + -0x5baf9315 + uVar6 + (auStack_13c[6] & (uVar1 ^ uVar10) ^ uVar10) +
          ((auStack_13c[6] >> 6 | auStack_13c[6] * 0x4000000) ^ (auStack_13c[6] >> 0xb | auStack_13c[6] * 0x200000) ^
          (auStack_13c[6] >> 0x19 | auStack_13c[6] * 0x80));
  auStack_13c[1] =
       ((auStack_13c[2] >> 2 | auStack_13c[2] * 0x40000000) ^ (auStack_13c[2] >> 0xd | auStack_13c[2] * 0x80000) ^
       (auStack_13c[2] >> 0x16 | auStack_13c[2] * 0x400)) +
       (auStack_13c[2] & (uVar3 | auStack_13c[4]) | uVar3 & auStack_13c[4]) + iVar8;
  auStack_13c[5] = iVar8 + auStack_13c[5];
  iVar8 = auStack_13c[0x45] + -0x41065c09 + uVar10 + (auStack_13c[5] & (auStack_13c[6] ^ uVar1) ^ uVar1) +
          ((auStack_13c[5] >> 6 | auStack_13c[5] * 0x4000000) ^ (auStack_13c[5] >> 0xb | auStack_13c[5] * 0x200000) ^
          (auStack_13c[5] >> 0x19 | auStack_13c[5] * 0x80));
  auStack_13c[4] = iVar8 + auStack_13c[4];
  auStack_13c[0] =
       ((auStack_13c[1] >> 2 | auStack_13c[1] * 0x40000000) ^ (auStack_13c[1] >> 0xd | auStack_13c[1] * 0x80000) ^
       (auStack_13c[1] >> 0x16 | auStack_13c[1] * 0x400)) +
       (auStack_13c[1] & (auStack_13c[2] | uVar3) | auStack_13c[2] & uVar3) + iVar8;
  iVar8 = auStack_13c[0x46] + -0x398e870e + uVar1 +
          (auStack_13c[4] & (auStack_13c[5] ^ auStack_13c[6]) ^ auStack_13c[6]) +
          ((auStack_13c[4] >> 6 | auStack_13c[4] * 0x4000000) ^ (auStack_13c[4] >> 0xb | auStack_13c[4] * 0x200000) ^
          (auStack_13c[4] >> 0x19 | auStack_13c[4] * 0x80));
  iVar7 = ((auStack_13c[0] >> 2 | auStack_13c[0] * 0x40000000) ^ (auStack_13c[0] >> 0xd | auStack_13c[0] * 0x80000) ^
          (auStack_13c[0] >> 0x16 | auStack_13c[0] * 0x400)) +
          (auStack_13c[0] & (auStack_13c[1] | auStack_13c[2]) | auStack_13c[1] & auStack_13c[2]) + iVar8;
  auStack_13c[3] = iVar8 + uVar3;
  iVar8 = 0;
  while( true ) {
    *(int *)((int)param_1 + iVar8) = *(int *)((int)param_1 + iVar8) + iVar7;
    if (iVar8 + 4 == 0x20) break;
    iVar7 = *(int *)((int)auStack_13c + iVar8);
    iVar8 = iVar8 + 4;
  }
  return;
}




void FUN_000110c4(float param_1,int *param_2)

{
  double dVar1;
  
  dVar1 = log10((double)param_1);
  if (*param_2 < (int)(longlong)(dVar1 + 1.0)) {
    *param_2 = *param_2 + 1;
  }
  return;
}




void FUN_000110f8(int param_1,int *param_2)

{
  double dVar1;
  
  dVar1 = log10((double)(longlong)param_1);
  if (*param_2 < (int)(longlong)(dVar1 + 1.0)) {
    *param_2 = *param_2 + 1;
  }
  return;
}




void FUN_00011130(uint param_1,uint param_2,char *param_3,size_t param_4,int param_5)

{
  bool bVar1;
  double dVar2;
  undefined2 local_34 [2];
  
  bVar1 = param_2 < 0xde0b6b4;
  if (param_2 == 0xde0b6b3) {
    bVar1 = param_1 < 0xa7640000;
  }
  local_34[0] = 0;
  if (bVar1) {
    bVar1 = param_2 < 0x38d7f;
    if (param_2 == 0x38d7e) {
      bVar1 = param_1 < 0xa4c68000;
    }
    if (bVar1) {
      bVar1 = param_2 < 0xe9;
      if (param_2 == 0xe8) {
        bVar1 = param_1 < 0xd4a51000;
      }
      if (bVar1) {
        bVar1 = param_2 == 0;
        if (param_2 == 0) {
          bVar1 = param_1 < 1000000000;
        }
        if (bVar1) {
          bVar1 = param_2 == 0;
          if (param_2 == 0) {
            bVar1 = param_1 < 1000000;
          }
          if (bVar1) {
            bVar1 = param_2 == 0;
            if (param_2 == 0) {
              bVar1 = param_1 < 1000;
            }
            if (bVar1) {
              dVar2 = (double)FUN_000493c8();
              if (param_5 == 0) {
                snprintf(param_3,param_4,"%d%s",(uint)(0.0 < dVar2) * (int)(longlong)dVar2,local_34);
                return;
              }
              goto LAB_00011210;
            }
            dVar2 = (double)FUN_000493c8();
            local_34[0] = 0x4b;
            dVar2 = dVar2 / 1000.0;
          }
          else {
            FUN_0004943c(param_1,param_2,1000,0);
            dVar2 = (double)FUN_000493c8();
            local_34[0] = 0x4d;
            dVar2 = dVar2 / 1000.0;
          }
        }
        else {
          FUN_0004943c(param_1,param_2,1000000,0);
          dVar2 = (double)FUN_000493c8();
          local_34[0] = 0x47;
          dVar2 = dVar2 / 1000.0;
        }
      }
      else {
        FUN_0004943c(param_1,param_2,1000000000,0);
        dVar2 = (double)FUN_000493c8();
        local_34[0] = 0x54;
        dVar2 = dVar2 / 1000.0;
      }
    }
    else {
      FUN_0004943c(param_1,param_2,0xd4a51000,0xe8);
      dVar2 = (double)FUN_000493c8();
      local_34[0] = 0x50;
      dVar2 = dVar2 / 1000.0;
    }
  }
  else {
    FUN_0004943c(param_1,param_2,0xa4c68000,0x38d7e);
    dVar2 = (double)FUN_000493c8();
    local_34[0] = 0x45;
    dVar2 = dVar2 / 1000.0;
  }
  if (param_5 == 0) {
    snprintf(param_3,param_4,"%.3g%s",local_34,dVar2,local_34);
    return;
  }
LAB_00011210:
  if (dVar2 <= 0.0) {
    dVar2 = 0.0;
  }
  else {
    dVar2 = log10(dVar2);
    dVar2 = floor(dVar2);
  }
  snprintf(param_3,param_4,"%*.*f%s",param_5 + 1,(int)(longlong)((double)(longlong)(param_5 + -1) - dVar2));
  return;
}




void FUN_000113c4(int param_1)

{
  int extraout_r3;
  int iVar1;
  int iVar2;
  double in_d0;
  double dVar3;
  double dVar4;
  double dVar5;
  double dVar6;
  double dVar7;
  undefined8 uVar8;
  
  iVar2 = *(int *)(param_1 + 0x104);
  if (in_d0 == 0.0) {
    dVar3 = 65536.0;
    if (DAT_00063df9 == '\0') {
      dVar3 = 2.695953529101131e+67;
    }
    dVar4 = (double)FUN_000493c8(*(undefined4 *)(param_1 + 0xb8),*(undefined4 *)(param_1 + 0xbc));
    dVar5 = (double)FUN_000493c8(*(undefined4 *)(param_1 + 0xb0),*(undefined4 *)(param_1 + 0xb4));
    dVar6 = (double)FUN_000493c8(*(undefined4 *)(param_1 + 0xa8),*(undefined4 *)(param_1 + 0xac));
    dVar7 = (double)FUN_000493c8(*(undefined4 *)(param_1 + 0xa0),*(undefined4 *)(param_1 + 0xa4));
    dVar7 = dVar4 * 6.277101735386681e+57 + dVar5 * 3.402823669209385e+38 + dVar6 * 1.8446744073709552e+19 + dVar7;
    if (dVar7 == 0.0) {
      dVar7 = 1.0;
    }
    in_d0 = dVar3 / dVar7;
  }
  *(double *)(param_1 + 0x178) = in_d0;
  *(double *)(iVar2 + 0x1d8) = in_d0;
  dVar3 = round(in_d0);
  uVar8 = FUN_000494c0(SUB84(dVar3,0),(int)((ulonglong)dVar3 >> 0x20));
  FUN_00011130((int)uVar8,(int)((ulonglong)uVar8 >> 0x20),*(int *)(param_1 + 0x104) + 0x30,8,0);
  dVar3 = *(double *)(iVar2 + 0x1c8);
  if (dVar3 == in_d0) {
    iVar1 = *(int *)(iVar2 + 0x1e0) + 1;
    *(int *)(iVar2 + 0x1e0) = iVar1;
LAB_000114ac:
    dVar3 = *(double *)(iVar2 + 0x1d0);
  }
  else {
    if (dVar3 <= in_d0) {
      iVar1 = extraout_r3;
      if (dVar3 != 0.0) goto LAB_000114ac;
      *(double *)(iVar2 + 0x1c8) = in_d0;
      *(undefined4 *)(iVar2 + 0x1e0) = 1;
    }
    else {
      *(double *)(iVar2 + 0x1c8) = in_d0;
      *(undefined4 *)(iVar2 + 0x1e0) = 1;
    }
    iVar1 = 1;
    dVar3 = *(double *)(iVar2 + 0x1d0);
  }
  if (dVar3 == in_d0) {
    *(int *)(iVar2 + 0x1e4) = *(int *)(iVar2 + 0x1e4) + 1;
  }
  else {
    if (dVar3 < in_d0) {
      iVar1 = 1;
    }
    if (dVar3 < in_d0) {
      *(double *)(iVar2 + 0x1d0) = in_d0;
      *(int *)(iVar2 + 0x1e4) = iVar1;
    }
  }
  return;
}




void FUN_0001155c(undefined4 param_1,uint param_2)

{
  int iVar1;
  int iVar2;
  undefined1 auStack_c08 [1024];
  char acStack_808 [2048];
  
  iVar1 = 4;
  iVar2 = 0;
  do {
    iVar1 = iVar1 + -1;
    iVar2 = (param_2 & 0xff) + iVar2 * 0x100;
    param_2 = param_2 >> 8;
  } while (iVar1 != 0);
  FUN_00029460(auStack_c08,param_1,0x80);
  if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
    snprintf(acStack_808,0x800,"BENCHFILE nonce %u=0x%08x for work=%s",iVar2,iVar2,auStack_c08);
    FUN_00038438(3,acStack_808,0);
  }
  return;
}




undefined4 FUN_0001161c(void)

{
  tm *ptVar1;
  undefined4 uVar2;
  int iVar3;
  time_t local_1c;
  time_t local_18 [2];
  
  if ((DAT_00063e14 == '\0') && (DAT_00063b90 == '\0')) {
LAB_000116c8:
    uVar2 = 1;
  }
  else {
    FUN_0002b13c(local_18);
    local_1c = local_18[0];
    ptVar1 = localtime(&local_1c);
    if (DAT_00063e14 == '\0') {
      if ((ptVar1->tm_hour < DAT_00063b9c) || ((ptVar1->tm_hour == DAT_00063b9c && (ptVar1->tm_min < DAT_00063b98))))
      goto LAB_000116c8;
    }
    else if (DAT_00063b90 == '\0') {
      if ((DAT_00063e20 <= ptVar1->tm_hour) && ((ptVar1->tm_hour != DAT_00063e20 || (DAT_00063e1c <= ptVar1->tm_min))))
      {
        DAT_00063e14 = 0;
        return 1;
      }
    }
    else {
      if ((DAT_00063b9c <= DAT_00063e20) && ((DAT_00063e20 != DAT_00063b9c || (DAT_00063b98 <= DAT_00063e1c)))) {
        iVar3 = ptVar1->tm_hour;
        if (iVar3 < DAT_00063e20) {
          if (DAT_00063b9c <= iVar3) {
LAB_0001176c:
            if ((DAT_00063b9c != iVar3) || (DAT_00063b98 <= ptVar1->tm_min)) goto LAB_000116ec;
          }
        }
        else if ((DAT_00063e20 == iVar3) && (ptVar1->tm_min < DAT_00063e1c)) goto LAB_0001176c;
        goto LAB_000116c8;
      }
      iVar3 = ptVar1->tm_hour;
      if ((((iVar3 < DAT_00063b9c) || ((DAT_00063b9c == iVar3 && (ptVar1->tm_min < DAT_00063b98)))) &&
          (DAT_00063e20 <= iVar3)) && ((DAT_00063e20 != iVar3 || (DAT_00063e1c <= ptVar1->tm_min)))) goto LAB_000116c8;
    }
LAB_000116ec:
    uVar2 = 0;
  }
  return uVar2;
}




void FUN_000117a4(int param_1)

{
  int iVar1;
  uint uVar2;
  undefined1 auStack_78 [32];
  uint local_58 [20];
  
  iVar1 = 0;
  do {
    uVar2 = *(uint *)(param_1 + iVar1);
    *(uint *)((int)local_58 + iVar1) =
         uVar2 << 0x18 | (uVar2 >> 8 & 0xff) << 0x10 | (uVar2 >> 0x10 & 0xff) << 8 | uVar2 >> 0x18;
    iVar1 = iVar1 + 4;
  } while (iVar1 != 0x50);
  FUN_000303dc(local_58,0x50,auStack_78);
  FUN_000303dc(auStack_78,0x20,param_1 + 0xc0);
  return;
}




void FUN_000117f4(int param_1)

{
  uint uVar1;
  int iVar2;
  uint local_f8 [16];
  undefined1 auStack_b8 [136];
  undefined4 local_30;
  undefined4 uStack_2c;
  undefined4 uStack_28;
  undefined4 uStack_24;
  undefined4 local_20;
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  
  iVar2 = 0;
  do {
    uVar1 = *(uint *)(param_1 + iVar2);
    *(uint *)((int)local_f8 + iVar2) =
         uVar1 << 0x18 | (uVar1 >> 8 & 0xff) << 0x10 | (uVar1 >> 0x10 & 0xff) << 8 | uVar1 >> 0x18;
    iVar2 = iVar2 + 4;
  } while (iVar2 != 0x40);
  FUN_00030210(auStack_b8);
  FUN_00030244(auStack_b8,local_f8,0x40);
  *(undefined4 *)(param_1 + 0x80) = local_30;
  *(undefined4 *)(param_1 + 0x84) = uStack_2c;
  *(undefined4 *)(param_1 + 0x88) = uStack_28;
  *(undefined4 *)(param_1 + 0x8c) = uStack_24;
  *(undefined4 *)(param_1 + 0x90) = local_20;
  *(undefined4 *)(param_1 + 0x94) = uStack_1c;
  *(undefined4 *)(param_1 + 0x98) = uStack_18;
  *(undefined4 *)(param_1 + 0x9c) = uStack_14;
  return;
}




void FUN_00011854(void)

{
  pthread_t __th;
  
  __th = pthread_self();
  pthread_detach(__th);
  pthread_setcanceltype(1,(int *)0x0);
  sleep(5);
                    /* WARNING: Subroutine does not return */
  exit(1);
}




void FUN_000118c4(int param_1,undefined4 param_2,int param_3)

{
  char cVar1;
  int iVar2;
  char local_820 [4];
  char acStack_81c [4];
  char acStack_818 [4];
  char acStack_814 [4];
  char local_810 [4];
  char acStack_80c [4];
  char acStack_808 [4];
  undefined2 uStack_804;
  undefined1 local_802;
  
  if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
    snprintf(local_820,0x800,"Thread %d being disabled",param_2);
    FUN_00038438(4,local_820,0);
  }
  cVar1 = DAT_000630c1;
  iVar2 = *(int *)(param_1 + 0x24);
  *(undefined4 *)(iVar2 + 0x30) = 0;
  *(undefined4 *)(iVar2 + 0x34) = 0;
  if ((cVar1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    local_820[0] = 'W';
    local_820[1] = 'a';
    local_820[2] = 'i';
    local_820[3] = 't';
    acStack_81c[0] = 'i';
    acStack_81c[1] = 'n';
    acStack_81c[2] = 'g';
    acStack_81c[3] = ' ';
    acStack_818[0] = 'o';
    acStack_818[1] = 'n';
    acStack_818[2] = ' ';
    acStack_818[3] = 's';
    acStack_814[0] = 'e';
    acStack_814[1] = 'm';
    acStack_814[2] = ' ';
    acStack_814[3] = 'i';
    local_810[0] = 'n';
    local_810[1] = ' ';
    local_810[2] = 'm';
    local_810[3] = 'i';
    acStack_80c[0] = 'n';
    acStack_80c[1] = 'e';
    acStack_80c[2] = 'r';
    acStack_80c[3] = ' ';
    acStack_808[0] = 't';
    acStack_808[1] = 'h';
    acStack_808[2] = 'r';
    acStack_808[3] = 'e';
    uStack_804 = 0x6461;
    local_802 = 0;
    FUN_00038438(7,local_820,0);
  }
  FUN_0002f1f8(param_1 + 0x10,"cgminer.c","mt_disable",0x2175);
  if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
    snprintf(local_820,0x800,"Thread %d being re-enabled",param_2);
    FUN_00038438(4,local_820,0);
  }
  (**(code **)(param_3 + 0x5c))(param_1);
  return;
}




undefined4 FUN_00011a5c(undefined4 *param_1)

{
  int iVar1;
  time_t tVar2;
  int iVar3;
  int iVar4;
  char acStack_820 [16];
  char local_810 [4];
  char acStack_80c [4];
  char acStack_808 [4];
  char acStack_804 [4];
  char local_800 [4];
  char acStack_7fc [4];
  char acStack_7f8 [4];
  undefined2 uStack_7f4;
  undefined1 local_7f2;
  
  iVar4 = param_1[9];
  iVar3 = *(int *)(iVar4 + 4);
  snprintf(acStack_820,0x10,"%d/Miner",*param_1);
  FUN_0002f02c(acStack_820);
  FUN_0000f808(param_1);
  iVar1 = (**(code **)(iVar3 + 0x34))(param_1);
  if (iVar1 == 0) {
    FUN_0002ed00(iVar4);
  }
  else {
    if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      local_810[0] = 'W';
      local_810[1] = 'a';
      local_810[2] = 'i';
      local_810[3] = 't';
      acStack_80c[0] = 'i';
      acStack_80c[1] = 'n';
      acStack_80c[2] = 'g';
      acStack_80c[3] = ' ';
      acStack_808[0] = 'o';
      acStack_808[1] = 'n';
      acStack_808[2] = ' ';
      acStack_808[3] = 's';
      acStack_804[0] = 'e';
      acStack_804[1] = 'm';
      acStack_804[2] = ' ';
      acStack_804[3] = 'i';
      local_800[0] = 'n';
      local_800[1] = ' ';
      local_800[2] = 'm';
      local_800[3] = 'i';
      acStack_7fc[0] = 'n';
      acStack_7fc[1] = 'e';
      acStack_7fc[2] = 'r';
      acStack_7fc[3] = ' ';
      acStack_7f8[0] = 't';
      acStack_7f8[1] = 'h';
      acStack_7f8[2] = 'r';
      acStack_7f8[3] = 'e';
      uStack_7f4 = 0x6461;
      local_7f2 = 0;
      FUN_00038438(7,local_810,0);
    }
    FUN_0002f1f8(param_1 + 4,"cgminer.c","miner_thread",0x23bf);
    tVar2 = time((time_t *)0x0);
    *(time_t *)(iVar4 + 0xe8) = tVar2;
    (**(code **)(iVar3 + 0x3c))(param_1);
    (**(code **)(iVar3 + 0x58))(param_1);
  }
  return 0;
}




int FUN_00011b90(int param_1)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  char acStack_808 [2052];
  
  if (0 < DAT_00063740) {
    iVar2 = *DAT_000639e0;
    if (*(int *)(iVar2 + 4) != param_1) {
      iVar3 = 0;
      piVar1 = DAT_000639e0;
      do {
        iVar3 = iVar3 + 1;
        if (iVar3 == DAT_00063740) goto LAB_0000b410;
        piVar1 = piVar1 + 1;
        iVar2 = *piVar1;
      } while (*(int *)(iVar2 + 4) != param_1);
    }
    return iVar2;
  }
LAB_0000b410:
  if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
    snprintf(acStack_808,0x800,"WTF No pool %d found!",param_1);
    FUN_00038438(3,acStack_808,0);
  }
  return DAT_000639e0[param_1];
}




void FUN_00011c4c(void)

{
  int iVar1;
  undefined4 in_r3;
  char acStack_808 [2048];
  undefined4 uStack_8;
  
  uStack_8 = in_r3;
  iVar1 = nice(10);
  if (iVar1 != 0) {
    return;
  }
  if (DAT_000630c1 == '\0') {
    return;
  }
  if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 7)) {
    return;
  }
  builtin_strncpy(acStack_808,"Unable to set thread to low priority",0x24);
  acStack_808[0x24] = 0;
  FUN_00038438(7,acStack_808,0);
  return;
}




undefined4 FUN_00011cbc(int param_1)

{
  pthread_t __th;
  
  __th = pthread_self();
  pthread_detach(__th);
  pthread_setcanceltype(1,(int *)0x0);
  FUN_0002f02c(&DAT_0004cde0);
  FUN_00011c4c();
  FUN_0003646c(DAT_000611a8);
  *(undefined4 *)(param_1 + 0xc) = 0;
  return 0;
}




char * FUN_00011d08(undefined4 param_1,float *param_2)

{
  char *pcVar1;
  
  pcVar1 = (char *)FUN_00047a58();
  if (pcVar1 != (char *)0x0) {
    return pcVar1;
  }
  if (100.0 <= *param_2) {
    if (*param_2 <= 250.0) {
      return (char *)0x0;
    }
  }
  return "Value out of range";
}




char * FUN_00011d58(undefined4 param_1,float *param_2)

{
  char *pcVar1;
  
  pcVar1 = (char *)FUN_00047a58();
  if (pcVar1 != (char *)0x0) {
    return pcVar1;
  }
  if (125.0 <= *param_2) {
    if (*param_2 <= 500.0) {
      return (char *)0x0;
    }
  }
  return "Value out of range";
}




void FUN_00011da8(int param_1)

{
  int *piVar1;
  int iVar3;
  int iVar4;
  int *piVar2;
  
  iVar4 = *(int *)(param_1 + 0x9c);
  if (0 < DAT_00063740) {
    piVar1 = DAT_000639e0;
    do {
      while( true ) {
        piVar2 = piVar1 + 1;
        iVar3 = *piVar1;
        piVar1 = piVar2;
        if (((*(char *)(iVar3 + 0x61) != '\0') || (*(int *)(iVar3 + 100) != 1)) ||
           ((*(char *)(iVar3 + 0x278) != '\0' && (*(char *)(iVar3 + 0x279) == '\0')))) break;
        if (*(int *)(iVar3 + 0x9c) < iVar4) {
          iVar4 = *(int *)(iVar3 + 0x9c);
          param_1 = iVar3;
        }
        if (piVar2 == DAT_000639e0 + DAT_00063740) goto LAB_00011e24;
      }
    } while (piVar2 != DAT_000639e0 + DAT_00063740);
LAB_00011e24:
    iVar4 = *(int *)(param_1 + 0x9c);
  }
  *(int *)(param_1 + 0x9c) = iVar4 + 1;
  return;
}




void FUN_00011e40(int param_1,int param_2,undefined4 *param_3)

{
  uint uVar1;
  uint *puVar2;
  uint uVar3;
  uint uVar4;
  uint *puVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  void *pvVar9;
  uint *puVar10;
  uint uVar11;
  uint uVar12;
  uint uVar13;
  uint uVar14;
  uint uVar15;
  uint uVar16;
  uint uVar17;
  uint uVar18;
  uint uVar19;
  uint uVar20;
  uint uVar21;
  uint uVar22;
  uint uVar23;
  uint uVar24;
  uint uVar25;
  uint uVar26;
  uint uVar27;
  uint uVar28;
  uint uVar29;
  uint uVar30;
  uint uVar31;
  uint uVar32;
  uint uVar33;
  uint uVar34;
  int iVar35;
  uint uVar36;
  uint uVar37;
  uint uVar38;
  uint uVar39;
  uint uVar40;
  uint uVar41;
  uint uVar42;
  uint uVar43;
  uint uVar44;
  uint uVar45;
  uint uVar46;
  uint uVar47;
  uint uVar48;
  uint uVar49;
  uint uVar50;
  uint uVar51;
  uint local_2ec;
  uint local_2e8;
  uint local_2e4;
  uint local_2e0;
  uint local_2dc;
  uint local_2d8;
  uint local_2d4;
  uint local_2d0;
  uint local_2cc;
  uint local_2c8;
  int local_2c4;
  void *local_244;
  uint local_228;
  undefined4 local_224;
  undefined4 local_220;
  undefined4 local_21c;
  undefined4 local_218;
  undefined4 local_214;
  undefined4 local_210;
  undefined4 local_20c;
  uint local_208 [8];
  undefined4 local_1e8;
  undefined4 uStack_1e4;
  undefined4 uStack_1e0;
  undefined4 uStack_1dc;
  undefined4 local_1d8;
  undefined4 uStack_1d4;
  undefined4 uStack_1d0;
  undefined4 uStack_1cc;
  uint local_1c8 [8];
  uint local_1a8 [25];
  uint local_144;
  uint local_140;
  uint local_13c;
  uint local_138;
  uint local_134 [11];
  uint local_108 [17];
  undefined4 uStack_c4;
  undefined4 uStack_c0;
  undefined4 uStack_bc;
  undefined4 local_b8;
  undefined4 uStack_b4;
  undefined4 uStack_b0;
  undefined4 uStack_ac;
  uint local_a8 [5];
  uint local_94;
  uint local_90;
  uint local_8c;
  uint local_88;
  uint local_84;
  uint local_80;
  uint local_7c;
  uint local_78;
  uint local_74;
  uint local_70;
  uint local_6c;
  uint local_68;
  uint local_64;
  uint local_60;
  uint local_5c;
  uint local_58;
  uint local_54;
  uint local_50;
  uint local_4c;
  uint local_48;
  uint local_44;
  uint local_40;
  uint local_3c;
  uint local_38;
  uint local_34;
  uint local_30;
  uint local_2c;
  uint uStack_28;
  
  pvVar9 = (void *)(param_2 + 0x3fU & 0xffffffc0);
  local_228 = 0x6a09e667;
  local_224 = 0xbb67ae85;
  local_220 = 0x3c6ef372;
  local_21c = 0xa54ff53a;
  local_218 = 0x510e527f;
  local_214 = 0x9b05688c;
  local_210 = 0x1f83d9ab;
  local_20c = 0x5be0cd19;
  FUN_0000f840(&local_228,param_1,1);
  local_1a8[4] = 0x80;
  local_1a8[5] = 0;
  local_1a8[6] = 0;
  local_1a8[7] = 0;
  local_1a8[8] = 0;
  local_1a8[9] = 0;
  local_1a8[10] = 0;
  local_1a8[0xb] = 0;
  local_1a8[0xc] = 0;
  local_1a8[0xd] = 0;
  local_1a8[0xe] = 0;
  local_1a8[0xf] = 0x80020000;
  FUN_0000f840(&local_228,local_1a8,1);
  local_1a8[0x13] = 0xa54ff53a;
  local_1a8[0x14] = 0x510e527f;
  local_208[0] = local_228;
  local_208[1] = local_224;
  local_208[2] = local_220;
  local_208[3] = local_21c;
  local_1a8[0x10] = 0x6a09e667;
  iVar35 = 0;
  local_1a8[0x11] = 0xbb67ae85;
  local_1a8[0x12] = 0x3c6ef372;
  local_1a8[0x15] = 0x9b05688c;
  local_1a8[0x16] = 0x1f83d9ab;
  local_1a8[0x17] = 0x5be0cd19;
  local_208[4] = local_218;
  local_208[5] = local_214;
  local_208[6] = local_210;
  local_208[7] = local_20c;
  do {
    *(uint *)((int)local_1a8 + iVar35) = *(uint *)((int)local_208 + iVar35) ^ 0x36363636;
    iVar35 = iVar35 + 4;
  } while (iVar35 != 0x20);
  local_1a8[8] = 0x36363636;
  local_1a8[9] = 0x36363636;
  local_1a8[10] = 0x36363636;
  local_1a8[0xb] = 0x36363636;
  local_1a8[0xc] = 0x36363636;
  local_1a8[0xd] = 0x36363636;
  local_1a8[0xe] = 0x36363636;
  local_1a8[0xf] = 0x36363636;
  FUN_0000f840(local_1a8 + 0x10,local_1a8,0);
  FUN_0000f840(local_1a8 + 0x10,param_1,1);
  puVar10 = &DAT_00049e74;
  puVar2 = &local_138;
  uVar3 = *(uint *)(param_1 + 0x40);
  uVar46 = *(uint *)(param_1 + 0x44);
  uVar41 = *(uint *)(param_1 + 0x48);
  local_1a8[0x18] = uVar3 << 0x18 | (uVar3 >> 8 & 0xff) << 0x10 | (uVar3 >> 0x10 & 0xff) << 8 | uVar3 >> 0x18;
  uVar3 = *(uint *)(param_1 + 0x4c);
  local_144 = uVar46 << 0x18 | (uVar46 >> 8 & 0xff) << 0x10 | (uVar46 >> 0x10 & 0xff) << 8 | uVar46 >> 0x18;
  local_140 = uVar41 << 0x18 | (uVar41 >> 8 & 0xff) << 0x10 | (uVar41 >> 0x10 & 0xff) << 8 | uVar41 >> 0x18;
  local_13c = uVar3 << 0x18 | (uVar3 >> 8 & 0xff) << 0x10 | (uVar3 >> 0x10 & 0xff) << 8 | uVar3 >> 0x18;
  do {
    puVar10 = puVar10 + 1;
    uVar3 = *puVar10;
    puVar2 = puVar2 + 1;
    *puVar2 = uVar3 << 0x18 | (uVar3 >> 8 & 0xff) << 0x10 | (uVar3 >> 0x10 & 0xff) << 8 | uVar3 >> 0x18;
  } while (puVar10 != (uint *)&UNK_00049ea0);
  iVar35 = 0;
  local_108[0] = 0x6a09e667;
  local_108[1] = 0xbb67ae85;
  local_108[2] = 0x3c6ef372;
  local_108[3] = 0xa54ff53a;
  local_108[4] = 0x510e527f;
  local_108[5] = 0x9b05688c;
  local_108[6] = 0x1f83d9ab;
  local_108[7] = 0x5be0cd19;
  do {
    *(uint *)((int)local_1a8 + iVar35) = *(uint *)((int)local_208 + iVar35) ^ 0x5c5c5c5c;
    iVar35 = iVar35 + 4;
  } while (iVar35 != 0x20);
  local_1a8[8] = 0x5c5c5c5c;
  local_1a8[9] = 0x5c5c5c5c;
  local_1a8[10] = 0x5c5c5c5c;
  local_1a8[0xb] = 0x5c5c5c5c;
  local_1a8[0xc] = 0x5c5c5c5c;
  local_1a8[0xd] = 0x5c5c5c5c;
  local_1a8[0xe] = 0x5c5c5c5c;
  local_1a8[0xf] = 0x5c5c5c5c;
  FUN_0000f840(local_108,local_1a8,0);
  puVar2 = local_a8;
  uVar3 = 0;
  local_108[0x10] = 0x80000000;
  uStack_c4 = 0;
  uStack_c0 = 0;
  uStack_bc = 0;
  local_b8 = 0;
  uStack_b4 = 0;
  uStack_b0 = 0;
  uStack_ac = 0x300;
  do {
    uVar3 = uVar3 + 1;
    local_1e8 = local_1a8[0x10];
    uStack_1e4 = local_1a8[0x11];
    uStack_1e0 = local_1a8[0x12];
    uStack_1dc = local_1a8[0x13];
    local_1d8 = local_1a8[0x14];
    uStack_1d4 = local_1a8[0x15];
    uStack_1d0 = local_1a8[0x16];
    uStack_1cc = local_1a8[0x17];
    local_138 = uVar3;
    FUN_0000f840(&local_1e8,local_1a8 + 0x18,0);
    local_108[8] = local_1e8;
    local_108[9] = uStack_1e4;
    local_108[10] = uStack_1e0;
    local_108[0xb] = uStack_1dc;
    local_108[0xc] = local_1d8;
    local_108[0xd] = uStack_1d4;
    local_108[0xe] = uStack_1d0;
    local_108[0xf] = uStack_1cc;
    local_1c8[0] = local_108[0];
    local_1c8[1] = local_108[1];
    local_1c8[2] = local_108[2];
    local_1c8[3] = local_108[3];
    local_1c8[4] = local_108[4];
    local_1c8[5] = local_108[5];
    local_1c8[6] = local_108[6];
    local_1c8[7] = local_108[7];
    FUN_0000f840(local_1c8,local_108 + 8,0);
    iVar35 = 0;
    do {
      uVar41 = *(uint *)((int)local_1c8 + iVar35);
      *(uint *)((int)puVar2 + iVar35) =
           uVar41 << 0x18 | (uVar41 >> 8 & 0xff) << 0x10 | (uVar41 >> 0x10 & 0xff) << 8 | uVar41 >> 0x18;
      iVar35 = iVar35 + 4;
    } while (iVar35 != 0x20);
    puVar2 = puVar2 + 8;
  } while (uVar3 != 4);
  local_244 = pvVar9;
  do {
    uVar51 = local_2c;
    uVar39 = local_30;
    uVar32 = local_34;
    uVar25 = local_38;
    uVar18 = local_3c;
    uVar44 = local_40;
    uVar34 = local_44;
    uVar31 = local_48;
    uVar24 = local_4c;
    uVar17 = local_50;
    uVar50 = local_54;
    uVar38 = local_58;
    uVar30 = local_5c;
    uVar23 = local_60;
    uVar16 = local_64;
    uVar8 = local_68;
    uVar29 = local_6c;
    uVar22 = local_70;
    uVar14 = local_74;
    uVar48 = local_78;
    uVar37 = local_7c;
    uVar28 = local_80;
    uVar21 = local_84;
    uVar13 = local_88;
    uVar47 = local_8c;
    uVar36 = local_90;
    uVar27 = local_94;
    uVar20 = local_a8[4];
    uVar12 = local_a8[3];
    uVar46 = local_a8[2];
    uVar41 = local_a8[1];
    uVar3 = local_a8[0];
    memcpy(local_244,local_a8,0x80);
    uVar3 = uVar8 ^ uVar3;
    uVar41 = uVar16 ^ uVar41;
    uVar46 = uVar23 ^ uVar46;
    uVar12 = uVar30 ^ uVar12;
    uVar20 = uVar38 ^ uVar20;
    uVar27 = uVar50 ^ uVar27;
    uVar36 = uVar17 ^ uVar36;
    uVar47 = uVar24 ^ uVar47;
    uVar13 = uVar31 ^ uVar13;
    uVar21 = uVar34 ^ uVar21;
    uVar28 = uVar44 ^ uVar28;
    uVar37 = uVar18 ^ uVar37;
    uVar29 = uVar51 ^ uVar29;
    uVar14 = uVar32 ^ uVar14;
    uVar22 = uVar39 ^ uVar22;
    uVar48 = uVar25 ^ uVar48;
    local_2c8 = 4;
    uVar1 = uVar12;
    uVar4 = uVar20;
    uVar6 = uVar21;
    uVar11 = uVar22;
    uVar15 = uVar29;
    uVar19 = uVar3;
    uVar26 = uVar46;
    uVar43 = uVar28;
    uVar33 = uVar47;
    uVar7 = uVar41;
    uVar40 = uVar13;
    local_2e4 = uVar48;
    local_2e0 = uVar36;
    local_2dc = uVar37;
    local_2d0 = uVar14;
    local_2cc = uVar27;
    do {
      uVar4 = uVar4 ^ (local_2e4 + uVar19 >> 0x19 | (local_2e4 + uVar19) * 0x80);
      uVar11 = uVar11 ^ (local_2e0 + uVar43 >> 0x19 | (local_2e0 + uVar43) * 0x80);
      local_2c8 = local_2c8 + -1;
      uVar1 = uVar1 ^ (local_2dc + uVar15 >> 0x19 | (local_2dc + uVar15) * 0x80);
      uVar6 = uVar6 ^ (uVar7 + local_2cc >> 0x19 | (uVar7 + local_2cc) * 0x80);
      uVar40 = uVar40 ^ (uVar4 + uVar19 >> 0x17 | (uVar4 + uVar19) * 0x200);
      uVar26 = uVar26 ^ (uVar11 + uVar43 >> 0x17 | (uVar11 + uVar43) * 0x200);
      uVar33 = uVar33 ^ (uVar1 + uVar15 >> 0x17 | (uVar1 + uVar15) * 0x200);
      local_2e4 = local_2e4 ^ (uVar40 + uVar4 >> 0x13 | (uVar40 + uVar4) * 0x2000);
      local_2d0 = local_2d0 ^ (uVar6 + local_2cc >> 0x17 | (uVar6 + local_2cc) * 0x200);
      local_2dc = local_2dc ^ (uVar33 + uVar1 >> 0x13 | (uVar33 + uVar1) * 0x2000);
      uVar42 = local_2e4 + uVar40;
      local_2e0 = local_2e0 ^ (uVar26 + uVar11 >> 0x13 | (uVar26 + uVar11) * 0x2000);
      uVar49 = local_2dc + uVar33;
      uVar7 = uVar7 ^ (local_2d0 + uVar6 >> 0x13 | (local_2d0 + uVar6) * 0x2000);
      uVar19 = uVar19 ^ (uVar42 >> 0xe | uVar42 * 0x40000);
      uVar42 = local_2e0 + uVar26;
      uVar15 = uVar15 ^ (uVar49 >> 0xe | uVar49 * 0x40000);
      uVar49 = uVar7 + local_2d0;
      uVar43 = uVar43 ^ (uVar42 >> 0xe | uVar42 * 0x40000);
      local_2cc = local_2cc ^ (uVar49 >> 0xe | uVar49 * 0x40000);
      local_2e4 = local_2e4 ^ (uVar15 + uVar11 >> 0x19 | (uVar15 + uVar11) * 0x80);
      local_2dc = local_2dc ^ (uVar43 + uVar6 >> 0x19 | (uVar43 + uVar6) * 0x80);
      local_2e0 = local_2e0 ^ (local_2cc + uVar4 >> 0x19 | (local_2cc + uVar4) * 0x80);
      uVar7 = uVar7 ^ (uVar19 + uVar1 >> 0x19 | (uVar19 + uVar1) * 0x80);
      uVar40 = uVar40 ^ (local_2dc + uVar43 >> 0x17 | (local_2dc + uVar43) * 0x200);
      uVar33 = uVar33 ^ (local_2e0 + local_2cc >> 0x17 | (local_2e0 + local_2cc) * 0x200);
      uVar26 = uVar26 ^ (uVar7 + uVar19 >> 0x17 | (uVar7 + uVar19) * 0x200);
      local_2d0 = local_2d0 ^ (local_2e4 + uVar15 >> 0x17 | (local_2e4 + uVar15) * 0x200);
      uVar1 = uVar1 ^ (uVar26 + uVar7 >> 0x13 | (uVar26 + uVar7) * 0x2000);
      uVar4 = uVar4 ^ (uVar33 + local_2e0 >> 0x13 | (uVar33 + local_2e0) * 0x2000);
      uVar6 = uVar6 ^ (uVar40 + local_2dc >> 0x13 | (uVar40 + local_2dc) * 0x2000);
      uVar11 = uVar11 ^ (local_2d0 + local_2e4 >> 0x13 | (local_2d0 + local_2e4) * 0x2000);
      local_2cc = local_2cc ^ (uVar4 + uVar33 >> 0xe | (uVar4 + uVar33) * 0x40000);
      uVar19 = uVar19 ^ (uVar1 + uVar26 >> 0xe | (uVar1 + uVar26) * 0x40000);
      uVar43 = uVar43 ^ (uVar6 + uVar40 >> 0xe | (uVar6 + uVar40) * 0x40000);
      uVar15 = uVar15 ^ (uVar11 + local_2d0 >> 0xe | (uVar11 + local_2d0) * 0x40000);
    } while (local_2c8 != 0);
    uVar19 = uVar19 + uVar3;
    uVar7 = uVar7 + uVar41;
    uVar26 = uVar26 + uVar46;
    uVar4 = uVar4 + uVar20;
    uVar1 = uVar1 + uVar12;
    uVar43 = uVar43 + uVar28;
    uVar27 = local_2cc + uVar27;
    uVar33 = uVar33 + uVar47;
    uVar36 = local_2e0 + uVar36;
    uVar6 = uVar6 + uVar21;
    uVar11 = uVar11 + uVar22;
    uVar40 = uVar40 + uVar13;
    uVar37 = local_2dc + uVar37;
    uVar48 = local_2e4 + uVar48;
    uVar14 = local_2d0 + uVar14;
    uVar15 = uVar15 + uVar29;
    uVar8 = uVar19 ^ uVar8;
    uVar23 = uVar26 ^ uVar23;
    uVar16 = uVar7 ^ uVar16;
    uVar30 = uVar1 ^ uVar30;
    uVar38 = uVar4 ^ uVar38;
    uVar50 = uVar27 ^ uVar50;
    uVar31 = uVar40 ^ uVar31;
    uVar17 = uVar36 ^ uVar17;
    uVar24 = uVar33 ^ uVar24;
    uVar34 = uVar6 ^ uVar34;
    uVar44 = uVar43 ^ uVar44;
    uVar39 = uVar11 ^ uVar39;
    uVar25 = uVar48 ^ uVar25;
    uVar18 = uVar37 ^ uVar18;
    uVar32 = uVar14 ^ uVar32;
    uVar51 = uVar15 ^ uVar51;
    local_2c4 = 4;
    uVar3 = uVar38;
    uVar41 = uVar34;
    uVar46 = uVar51;
    uVar12 = uVar25;
    uVar20 = uVar24;
    uVar47 = uVar39;
    uVar13 = uVar8;
    uVar21 = uVar23;
    uVar28 = uVar31;
    uVar22 = uVar17;
    uVar29 = uVar32;
    local_2e0 = uVar16;
    local_2dc = uVar18;
    local_2d8 = uVar50;
    local_2d4 = uVar44;
    local_2c8 = uVar30;
    do {
      uVar3 = uVar3 ^ (uVar12 + uVar13 >> 0x19 | (uVar12 + uVar13) * 0x80);
      uVar47 = uVar47 ^ (uVar22 + local_2d4 >> 0x19 | (uVar22 + local_2d4) * 0x80);
      uVar41 = uVar41 ^ (local_2e0 + local_2d8 >> 0x19 | (local_2e0 + local_2d8) * 0x80);
      local_2c4 = local_2c4 + -1;
      local_2c8 = local_2c8 ^ (local_2dc + uVar46 >> 0x19 | (local_2dc + uVar46) * 0x80);
      uVar20 = uVar20 ^ (local_2c8 + uVar46 >> 0x17 | (local_2c8 + uVar46) * 0x200);
      uVar28 = uVar28 ^ (uVar3 + uVar13 >> 0x17 | (uVar3 + uVar13) * 0x200);
      uVar21 = uVar21 ^ (uVar47 + local_2d4 >> 0x17 | (uVar47 + local_2d4) * 0x200);
      uVar29 = uVar29 ^ (uVar41 + local_2d8 >> 0x17 | (uVar41 + local_2d8) * 0x200);
      uVar12 = uVar12 ^ (uVar28 + uVar3 >> 0x13 | (uVar28 + uVar3) * 0x2000);
      local_2dc = local_2dc ^ (uVar20 + local_2c8 >> 0x13 | (uVar20 + local_2c8) * 0x2000);
      uVar42 = local_2dc + uVar20;
      uVar22 = uVar22 ^ (uVar21 + uVar47 >> 0x13 | (uVar21 + uVar47) * 0x2000);
      uVar45 = uVar12 + uVar28;
      local_2e0 = local_2e0 ^ (uVar29 + uVar41 >> 0x13 | (uVar29 + uVar41) * 0x2000);
      uVar46 = uVar46 ^ (uVar42 >> 0xe | uVar42 * 0x40000);
      uVar49 = uVar22 + uVar21;
      uVar13 = uVar13 ^ (uVar45 >> 0xe | uVar45 * 0x40000);
      uVar42 = local_2e0 + uVar29;
      local_2d4 = local_2d4 ^ (uVar49 >> 0xe | uVar49 * 0x40000);
      local_2d8 = local_2d8 ^ (uVar42 >> 0xe | uVar42 * 0x40000);
      uVar12 = uVar12 ^ (uVar46 + uVar47 >> 0x19 | (uVar46 + uVar47) * 0x80);
      local_2dc = local_2dc ^ (local_2d4 + uVar41 >> 0x19 | (local_2d4 + uVar41) * 0x80);
      uVar22 = uVar22 ^ (local_2d8 + uVar3 >> 0x19 | (local_2d8 + uVar3) * 0x80);
      local_2e0 = local_2e0 ^ (uVar13 + local_2c8 >> 0x19 | (uVar13 + local_2c8) * 0x80);
      uVar28 = uVar28 ^ (local_2dc + local_2d4 >> 0x17 | (local_2dc + local_2d4) * 0x200);
      uVar20 = uVar20 ^ (uVar22 + local_2d8 >> 0x17 | (uVar22 + local_2d8) * 0x200);
      uVar21 = uVar21 ^ (local_2e0 + uVar13 >> 0x17 | (local_2e0 + uVar13) * 0x200);
      uVar29 = uVar29 ^ (uVar12 + uVar46 >> 0x17 | (uVar12 + uVar46) * 0x200);
      local_2c8 = local_2c8 ^ (uVar21 + local_2e0 >> 0x13 | (uVar21 + local_2e0) * 0x2000);
      uVar47 = uVar47 ^ (uVar29 + uVar12 >> 0x13 | (uVar29 + uVar12) * 0x2000);
      uVar3 = uVar3 ^ (uVar20 + uVar22 >> 0x13 | (uVar20 + uVar22) * 0x2000);
      uVar41 = uVar41 ^ (uVar28 + local_2dc >> 0x13 | (uVar28 + local_2dc) * 0x2000);
      uVar13 = uVar13 ^ (local_2c8 + uVar21 >> 0xe | (local_2c8 + uVar21) * 0x40000);
      local_2d8 = local_2d8 ^ (uVar3 + uVar20 >> 0xe | (uVar3 + uVar20) * 0x40000);
      local_2d4 = local_2d4 ^ (uVar41 + uVar28 >> 0xe | (uVar41 + uVar28) * 0x40000);
      uVar46 = uVar46 ^ (uVar47 + uVar29 >> 0xe | (uVar47 + uVar29) * 0x40000);
    } while (local_2c4 != 0);
    uVar13 = uVar13 + uVar8;
    uVar16 = local_2e0 + uVar16;
    uVar21 = uVar21 + uVar23;
    uVar30 = local_2c8 + uVar30;
    uVar3 = uVar3 + uVar38;
    uVar22 = uVar22 + uVar17;
    uVar20 = uVar20 + uVar24;
    local_2d8 = local_2d8 + uVar50;
    uVar41 = uVar41 + uVar34;
    uVar28 = uVar28 + uVar31;
    uVar12 = uVar12 + uVar25;
    uVar29 = uVar29 + uVar32;
    local_2d4 = local_2d4 + uVar44;
    uVar47 = uVar47 + uVar39;
    uVar18 = local_2dc + uVar18;
    uVar46 = uVar46 + uVar51;
    local_a8[0] = uVar19;
    local_a8[1] = uVar7;
    local_a8[2] = uVar26;
    local_a8[3] = uVar1;
    local_a8[4] = uVar4;
    local_94 = uVar27;
    local_90 = uVar36;
    local_8c = uVar33;
    local_88 = uVar40;
    local_84 = uVar6;
    local_80 = uVar43;
    local_7c = uVar37;
    local_78 = uVar48;
    local_74 = uVar14;
    local_70 = uVar11;
    local_6c = uVar15;
    local_68 = uVar13;
    local_64 = uVar16;
    local_60 = uVar21;
    local_5c = uVar30;
    local_58 = uVar3;
    local_54 = local_2d8;
    local_50 = uVar22;
    local_4c = uVar20;
    local_48 = uVar28;
    local_44 = uVar41;
    local_40 = local_2d4;
    local_3c = uVar18;
    local_38 = uVar12;
    local_34 = uVar29;
    local_30 = uVar47;
    local_2c = uVar46;
    memcpy((void *)((int)local_244 + 0x80),local_a8,0x80);
    local_2c8 = 4;
    local_a8[3] = uVar30 ^ uVar1;
    local_a8[4] = uVar3 ^ uVar4;
    local_84 = uVar41 ^ uVar6;
    local_70 = uVar47 ^ uVar11;
    local_6c = uVar46 ^ uVar15;
    local_a8[0] = uVar13 ^ uVar19;
    local_a8[2] = uVar21 ^ uVar26;
    local_80 = local_2d4 ^ uVar43;
    local_8c = uVar20 ^ uVar33;
    local_a8[1] = uVar16 ^ uVar7;
    local_88 = uVar28 ^ uVar40;
    local_2e4 = uVar12 ^ uVar48;
    local_2e0 = uVar22 ^ uVar36;
    local_2dc = uVar18 ^ uVar37;
    local_2d0 = uVar29 ^ uVar14;
    local_2cc = local_2d8 ^ uVar27;
    do {
      local_a8[4] = local_a8[4] ^ (local_2e4 + local_a8[0] >> 0x19 | (local_2e4 + local_a8[0]) * 0x80);
      local_70 = local_70 ^ (local_2e0 + local_80 >> 0x19 | (local_2e0 + local_80) * 0x80);
      local_2c8 = local_2c8 + -1;
      local_a8[3] = local_a8[3] ^ (local_2dc + local_6c >> 0x19 | (local_2dc + local_6c) * 0x80);
      local_84 = local_84 ^ (local_a8[1] + local_2cc >> 0x19 | (local_a8[1] + local_2cc) * 0x80);
      local_88 = local_88 ^ (local_a8[4] + local_a8[0] >> 0x17 | (local_a8[4] + local_a8[0]) * 0x200);
      local_a8[2] = local_a8[2] ^ (local_70 + local_80 >> 0x17 | (local_70 + local_80) * 0x200);
      local_8c = local_8c ^ (local_a8[3] + local_6c >> 0x17 | (local_a8[3] + local_6c) * 0x200);
      local_2e4 = local_2e4 ^ (local_88 + local_a8[4] >> 0x13 | (local_88 + local_a8[4]) * 0x2000);
      local_2d0 = local_2d0 ^ (local_84 + local_2cc >> 0x17 | (local_84 + local_2cc) * 0x200);
      local_2dc = local_2dc ^ (local_8c + local_a8[3] >> 0x13 | (local_8c + local_a8[3]) * 0x2000);
      uVar8 = local_2e4 + local_88;
      local_2e0 = local_2e0 ^ (local_a8[2] + local_70 >> 0x13 | (local_a8[2] + local_70) * 0x2000);
      uVar23 = local_2dc + local_8c;
      local_a8[1] = local_a8[1] ^ (local_2d0 + local_84 >> 0x13 | (local_2d0 + local_84) * 0x2000);
      local_a8[0] = local_a8[0] ^ (uVar8 >> 0xe | uVar8 * 0x40000);
      uVar8 = local_2e0 + local_a8[2];
      local_6c = local_6c ^ (uVar23 >> 0xe | uVar23 * 0x40000);
      uVar23 = local_a8[1] + local_2d0;
      local_80 = local_80 ^ (uVar8 >> 0xe | uVar8 * 0x40000);
      local_2cc = local_2cc ^ (uVar23 >> 0xe | uVar23 * 0x40000);
      local_2e4 = local_2e4 ^ (local_6c + local_70 >> 0x19 | (local_6c + local_70) * 0x80);
      local_2dc = local_2dc ^ (local_80 + local_84 >> 0x19 | (local_80 + local_84) * 0x80);
      local_2e0 = local_2e0 ^ (local_2cc + local_a8[4] >> 0x19 | (local_2cc + local_a8[4]) * 0x80);
      local_a8[1] = local_a8[1] ^ (local_a8[0] + local_a8[3] >> 0x19 | (local_a8[0] + local_a8[3]) * 0x80);
      local_88 = local_88 ^ (local_2dc + local_80 >> 0x17 | (local_2dc + local_80) * 0x200);
      local_8c = local_8c ^ (local_2e0 + local_2cc >> 0x17 | (local_2e0 + local_2cc) * 0x200);
      local_a8[2] = local_a8[2] ^ (local_a8[1] + local_a8[0] >> 0x17 | (local_a8[1] + local_a8[0]) * 0x200);
      local_2d0 = local_2d0 ^ (local_2e4 + local_6c >> 0x17 | (local_2e4 + local_6c) * 0x200);
      local_a8[3] = local_a8[3] ^ (local_a8[2] + local_a8[1] >> 0x13 | (local_a8[2] + local_a8[1]) * 0x2000);
      local_a8[4] = local_a8[4] ^ (local_8c + local_2e0 >> 0x13 | (local_8c + local_2e0) * 0x2000);
      local_84 = local_84 ^ (local_88 + local_2dc >> 0x13 | (local_88 + local_2dc) * 0x2000);
      local_70 = local_70 ^ (local_2d0 + local_2e4 >> 0x13 | (local_2d0 + local_2e4) * 0x2000);
      local_2cc = local_2cc ^ (local_a8[4] + local_8c >> 0xe | (local_a8[4] + local_8c) * 0x40000);
      local_a8[0] = local_a8[0] ^ (local_a8[3] + local_a8[2] >> 0xe | (local_a8[3] + local_a8[2]) * 0x40000);
      local_80 = local_80 ^ (local_84 + local_88 >> 0xe | (local_84 + local_88) * 0x40000);
      local_6c = local_6c ^ (local_70 + local_2d0 >> 0xe | (local_70 + local_2d0) * 0x40000);
    } while (local_2c8 != 0);
    local_a8[0] = local_a8[0] + (uVar13 ^ uVar19);
    local_a8[1] = local_a8[1] + (uVar16 ^ uVar7);
    local_a8[2] = local_a8[2] + (uVar21 ^ uVar26);
    local_a8[4] = local_a8[4] + (uVar3 ^ uVar4);
    local_a8[3] = local_a8[3] + (uVar30 ^ uVar1);
    local_80 = local_80 + (local_2d4 ^ uVar43);
    local_94 = local_2cc + (local_2d8 ^ uVar27);
    local_8c = local_8c + (uVar20 ^ uVar33);
    local_90 = local_2e0 + (uVar22 ^ uVar36);
    local_84 = local_84 + (uVar41 ^ uVar6);
    local_70 = local_70 + (uVar47 ^ uVar11);
    local_88 = local_88 + (uVar28 ^ uVar40);
    local_7c = local_2dc + (uVar18 ^ uVar37);
    local_78 = local_2e4 + (uVar12 ^ uVar48);
    local_74 = local_2d0 + (uVar29 ^ uVar14);
    local_6c = local_6c + (uVar46 ^ uVar15);
    uVar13 = local_a8[0] ^ uVar13;
    uVar21 = local_a8[2] ^ uVar21;
    uVar16 = local_a8[1] ^ uVar16;
    uVar30 = local_a8[3] ^ uVar30;
    uVar3 = local_a8[4] ^ uVar3;
    local_2d8 = local_94 ^ local_2d8;
    uVar28 = local_88 ^ uVar28;
    uVar22 = local_90 ^ uVar22;
    uVar20 = local_8c ^ uVar20;
    uVar41 = local_84 ^ uVar41;
    uVar17 = local_80 ^ local_2d4;
    uVar18 = local_7c ^ uVar18;
    uVar12 = local_78 ^ uVar12;
    uVar47 = local_70 ^ uVar47;
    uVar29 = local_74 ^ uVar29;
    uVar46 = local_6c ^ uVar46;
    local_2c8 = 4;
    uVar27 = uVar3;
    uVar36 = uVar46;
    uVar37 = uVar18;
    uVar48 = uVar41;
    uVar14 = uVar21;
    local_68 = uVar13;
    uVar8 = uVar20;
    uVar23 = uVar30;
    uVar38 = uVar28;
    uVar50 = uVar29;
    local_2e8 = uVar47;
    local_2e4 = uVar12;
    local_2e0 = uVar16;
    local_2dc = uVar22;
    local_2d4 = local_2d8;
    local_2d0 = uVar17;
    do {
      uVar27 = uVar27 ^ (local_2e4 + local_68 >> 0x19 | (local_2e4 + local_68) * 0x80);
      local_2c8 = local_2c8 + -1;
      local_2e8 = local_2e8 ^ (local_2dc + local_2d0 >> 0x19 | (local_2dc + local_2d0) * 0x80);
      uVar23 = uVar23 ^ (uVar37 + uVar36 >> 0x19 | (uVar37 + uVar36) * 0x80);
      uVar48 = uVar48 ^ (local_2e0 + local_2d4 >> 0x19 | (local_2e0 + local_2d4) * 0x80);
      uVar38 = uVar38 ^ (uVar27 + local_68 >> 0x17 | (uVar27 + local_68) * 0x200);
      uVar8 = uVar8 ^ (uVar23 + uVar36 >> 0x17 | (uVar23 + uVar36) * 0x200);
      uVar14 = uVar14 ^ (local_2e8 + local_2d0 >> 0x17 | (local_2e8 + local_2d0) * 0x200);
      uVar50 = uVar50 ^ (uVar48 + local_2d4 >> 0x17 | (uVar48 + local_2d4) * 0x200);
      local_2e4 = local_2e4 ^ (uVar38 + uVar27 >> 0x13 | (uVar38 + uVar27) * 0x2000);
      uVar37 = uVar37 ^ (uVar8 + uVar23 >> 0x13 | (uVar8 + uVar23) * 0x2000);
      uVar24 = local_2e4 + uVar38;
      local_2dc = local_2dc ^ (uVar14 + local_2e8 >> 0x13 | (uVar14 + local_2e8) * 0x2000);
      local_2e0 = local_2e0 ^ (uVar50 + uVar48 >> 0x13 | (uVar50 + uVar48) * 0x2000);
      uVar31 = uVar37 + uVar8;
      local_68 = local_68 ^ (uVar24 >> 0xe | uVar24 * 0x40000);
      uVar24 = local_2dc + uVar14;
      uVar36 = uVar36 ^ (uVar31 >> 0xe | uVar31 * 0x40000);
      uVar31 = local_2e0 + uVar50;
      local_2d0 = local_2d0 ^ (uVar24 >> 0xe | uVar24 * 0x40000);
      local_2d4 = local_2d4 ^ (uVar31 >> 0xe | uVar31 * 0x40000);
      uVar37 = uVar37 ^ (local_2d0 + uVar48 >> 0x19 | (local_2d0 + uVar48) * 0x80);
      local_2e4 = local_2e4 ^ (uVar36 + local_2e8 >> 0x19 | (uVar36 + local_2e8) * 0x80);
      local_2dc = local_2dc ^ (local_2d4 + uVar27 >> 0x19 | (local_2d4 + uVar27) * 0x80);
      local_2e0 = local_2e0 ^ (local_68 + uVar23 >> 0x19 | (local_68 + uVar23) * 0x80);
      uVar38 = uVar38 ^ (uVar37 + local_2d0 >> 0x17 | (uVar37 + local_2d0) * 0x200);
      uVar8 = uVar8 ^ (local_2dc + local_2d4 >> 0x17 | (local_2dc + local_2d4) * 0x200);
      uVar14 = uVar14 ^ (local_2e0 + local_68 >> 0x17 | (local_2e0 + local_68) * 0x200);
      uVar50 = uVar50 ^ (local_2e4 + uVar36 >> 0x17 | (local_2e4 + uVar36) * 0x200);
      uVar23 = uVar23 ^ (uVar14 + local_2e0 >> 0x13 | (uVar14 + local_2e0) * 0x2000);
      uVar27 = uVar27 ^ (uVar8 + local_2dc >> 0x13 | (uVar8 + local_2dc) * 0x2000);
      uVar48 = uVar48 ^ (uVar38 + uVar37 >> 0x13 | (uVar38 + uVar37) * 0x2000);
      local_2e8 = local_2e8 ^ (uVar50 + local_2e4 >> 0x13 | (uVar50 + local_2e4) * 0x2000);
      local_68 = local_68 ^ (uVar23 + uVar14 >> 0xe | (uVar23 + uVar14) * 0x40000);
      local_2d0 = local_2d0 ^ (uVar48 + uVar38 >> 0xe | (uVar48 + uVar38) * 0x40000);
      local_2d4 = local_2d4 ^ (uVar27 + uVar8 >> 0xe | (uVar27 + uVar8) * 0x40000);
      uVar36 = uVar36 ^ (local_2e8 + uVar50 >> 0xe | (local_2e8 + uVar50) * 0x40000);
    } while (local_2c8 != 0);
    local_68 = local_68 + uVar13;
    local_244 = (void *)((int)local_244 + 0x100);
    local_64 = local_2e0 + uVar16;
    local_60 = uVar14 + uVar21;
    local_5c = uVar23 + uVar30;
    local_54 = local_2d4 + local_2d8;
    local_58 = uVar27 + uVar3;
    local_50 = local_2dc + uVar22;
    local_4c = uVar8 + uVar20;
    local_3c = uVar37 + uVar18;
    local_48 = uVar38 + uVar28;
    local_44 = uVar48 + uVar41;
    local_40 = local_2d0 + uVar17;
    local_38 = local_2e4 + uVar12;
    local_34 = uVar50 + uVar29;
    local_30 = local_2e8 + uVar47;
    local_2c = uVar36 + uVar46;
  } while (local_244 != (void *)((int)pvVar9 + 0x20000U));
  local_244 = (void *)0x200;
  do {
    puVar2 = (uint *)((int)pvVar9 + (local_68 & 0x3ff) * 0x80 + -8);
    puVar10 = local_a8;
    do {
      uVar3 = puVar2[3];
      puVar5 = puVar10 + 2;
      *puVar10 = *puVar10 ^ puVar2[2];
      puVar10[1] = puVar10[1] ^ uVar3;
      puVar2 = puVar2 + 2;
      puVar10 = puVar5;
    } while (puVar5 != &uStack_28);
    local_2c8 = 4;
    uVar3 = local_44 ^ local_84;
    uVar41 = local_30 ^ local_70;
    uVar46 = local_2c ^ local_6c;
    uVar12 = local_3c ^ local_7c;
    uVar20 = local_34 ^ local_74;
    uVar27 = local_68 ^ local_a8[0];
    uVar36 = local_4c ^ local_8c;
    uVar47 = local_5c ^ local_a8[3];
    uVar13 = local_48 ^ local_88;
    uVar21 = local_60 ^ local_a8[2];
    local_2ec = local_58 ^ local_a8[4];
    local_2e4 = local_38 ^ local_78;
    local_2e0 = local_64 ^ local_a8[1];
    local_2dc = local_50 ^ local_90;
    local_2d4 = local_54 ^ local_94;
    local_2d0 = local_40 ^ local_80;
    do {
      local_2c8 = local_2c8 + -1;
      uVar41 = uVar41 ^ (local_2dc + local_2d0 >> 0x19 | (local_2dc + local_2d0) * 0x80);
      uVar47 = uVar47 ^ (uVar12 + uVar46 >> 0x19 | (uVar12 + uVar46) * 0x80);
      local_2ec = local_2ec ^ (local_2e4 + uVar27 >> 0x19 | (local_2e4 + uVar27) * 0x80);
      uVar3 = uVar3 ^ (local_2e0 + local_2d4 >> 0x19 | (local_2e0 + local_2d4) * 0x80);
      uVar13 = uVar13 ^ (local_2ec + uVar27 >> 0x17 | (local_2ec + uVar27) * 0x200);
      uVar36 = uVar36 ^ (uVar47 + uVar46 >> 0x17 | (uVar47 + uVar46) * 0x200);
      uVar20 = uVar20 ^ (uVar3 + local_2d4 >> 0x17 | (uVar3 + local_2d4) * 0x200);
      uVar21 = uVar21 ^ (uVar41 + local_2d0 >> 0x17 | (uVar41 + local_2d0) * 0x200);
      local_2e4 = local_2e4 ^ (uVar13 + local_2ec >> 0x13 | (uVar13 + local_2ec) * 0x2000);
      uVar12 = uVar12 ^ (uVar36 + uVar47 >> 0x13 | (uVar36 + uVar47) * 0x2000);
      local_2dc = local_2dc ^ (uVar21 + uVar41 >> 0x13 | (uVar21 + uVar41) * 0x2000);
      uVar28 = uVar12 + uVar36;
      uVar48 = local_2e4 + uVar13;
      local_2e0 = local_2e0 ^ (uVar20 + uVar3 >> 0x13 | (uVar20 + uVar3) * 0x2000);
      uVar46 = uVar46 ^ (uVar28 >> 0xe | uVar28 * 0x40000);
      uVar37 = local_2e0 + uVar20;
      uVar27 = uVar27 ^ (uVar48 >> 0xe | uVar48 * 0x40000);
      uVar28 = local_2dc + uVar21;
      local_2d0 = local_2d0 ^ (uVar28 >> 0xe | uVar28 * 0x40000);
      local_2d4 = local_2d4 ^ (uVar37 >> 0xe | uVar37 * 0x40000);
      uVar12 = uVar12 ^ (local_2d0 + uVar3 >> 0x19 | (local_2d0 + uVar3) * 0x80);
      local_2e4 = local_2e4 ^ (uVar46 + uVar41 >> 0x19 | (uVar46 + uVar41) * 0x80);
      local_2dc = local_2dc ^ (local_2d4 + local_2ec >> 0x19 | (local_2d4 + local_2ec) * 0x80);
      local_2e0 = local_2e0 ^ (uVar27 + uVar47 >> 0x19 | (uVar27 + uVar47) * 0x80);
      uVar13 = uVar13 ^ (uVar12 + local_2d0 >> 0x17 | (uVar12 + local_2d0) * 0x200);
      uVar36 = uVar36 ^ (local_2dc + local_2d4 >> 0x17 | (local_2dc + local_2d4) * 0x200);
      uVar21 = uVar21 ^ (local_2e0 + uVar27 >> 0x17 | (local_2e0 + uVar27) * 0x200);
      uVar20 = uVar20 ^ (local_2e4 + uVar46 >> 0x17 | (local_2e4 + uVar46) * 0x200);
      uVar47 = uVar47 ^ (uVar21 + local_2e0 >> 0x13 | (uVar21 + local_2e0) * 0x2000);
      local_2ec = local_2ec ^ (uVar36 + local_2dc >> 0x13 | (uVar36 + local_2dc) * 0x2000);
      uVar3 = uVar3 ^ (uVar13 + uVar12 >> 0x13 | (uVar13 + uVar12) * 0x2000);
      uVar41 = uVar41 ^ (uVar20 + local_2e4 >> 0x13 | (uVar20 + local_2e4) * 0x2000);
      uVar27 = uVar27 ^ (uVar47 + uVar21 >> 0xe | (uVar47 + uVar21) * 0x40000);
      local_2d4 = local_2d4 ^ (local_2ec + uVar36 >> 0xe | (local_2ec + uVar36) * 0x40000);
      local_2d0 = local_2d0 ^ (uVar3 + uVar13 >> 0xe | (uVar3 + uVar13) * 0x40000);
      uVar46 = uVar46 ^ (uVar41 + uVar20 >> 0xe | (uVar41 + uVar20) * 0x40000);
    } while (local_2c8 != 0);
    local_a8[0] = uVar27 + (local_68 ^ local_a8[0]);
    local_a8[1] = local_2e0 + (local_64 ^ local_a8[1]);
    local_a8[2] = uVar21 + (local_60 ^ local_a8[2]);
    local_a8[3] = uVar47 + (local_5c ^ local_a8[3]);
    local_a8[4] = local_2ec + (local_58 ^ local_a8[4]);
    local_94 = local_2d4 + (local_54 ^ local_94);
    local_8c = uVar36 + (local_4c ^ local_8c);
    local_90 = local_2dc + (local_50 ^ local_90);
    local_80 = local_2d0 + (local_40 ^ local_80);
    local_84 = uVar3 + (local_44 ^ local_84);
    local_88 = uVar13 + (local_48 ^ local_88);
    local_78 = local_2e4 + (local_38 ^ local_78);
    local_74 = uVar20 + (local_34 ^ local_74);
    local_7c = uVar12 + (local_3c ^ local_7c);
    local_70 = uVar41 + (local_30 ^ local_70);
    local_6c = uVar46 + (local_2c ^ local_6c);
    local_64 = local_a8[1] ^ local_64;
    local_60 = local_a8[2] ^ local_60;
    local_68 = local_a8[0] ^ local_68;
    local_5c = local_a8[3] ^ local_5c;
    local_58 = local_a8[4] ^ local_58;
    local_54 = local_94 ^ local_54;
    local_50 = local_90 ^ local_50;
    local_4c = local_8c ^ local_4c;
    local_48 = local_88 ^ local_48;
    local_44 = local_84 ^ local_44;
    local_40 = local_80 ^ local_40;
    local_3c = local_7c ^ local_3c;
    local_38 = local_78 ^ local_38;
    local_30 = local_70 ^ local_30;
    local_34 = local_74 ^ local_34;
    local_2c = local_6c ^ local_2c;
    local_2c8 = 4;
    uVar3 = local_58;
    uVar41 = local_2c;
    uVar46 = local_38;
    uVar12 = local_44;
    uVar20 = local_60;
    uVar27 = local_68;
    uVar36 = local_34;
    uVar47 = local_5c;
    uVar13 = local_48;
    uVar21 = local_4c;
    local_2e8 = local_30;
    local_2e4 = local_3c;
    local_2e0 = local_64;
    local_2dc = local_50;
    local_2d4 = local_54;
    local_2d0 = local_40;
    do {
      uVar3 = uVar3 ^ (uVar46 + uVar27 >> 0x19 | (uVar46 + uVar27) * 0x80);
      local_2e8 = local_2e8 ^ (local_2dc + local_2d0 >> 0x19 | (local_2dc + local_2d0) * 0x80);
      local_2c8 = local_2c8 + -1;
      uVar47 = uVar47 ^ (local_2e4 + uVar41 >> 0x19 | (local_2e4 + uVar41) * 0x80);
      uVar12 = uVar12 ^ (local_2e0 + local_2d4 >> 0x19 | (local_2e0 + local_2d4) * 0x80);
      uVar21 = uVar21 ^ (uVar47 + uVar41 >> 0x17 | (uVar47 + uVar41) * 0x200);
      uVar13 = uVar13 ^ (uVar3 + uVar27 >> 0x17 | (uVar3 + uVar27) * 0x200);
      uVar20 = uVar20 ^ (local_2e8 + local_2d0 >> 0x17 | (local_2e8 + local_2d0) * 0x200);
      uVar36 = uVar36 ^ (uVar12 + local_2d4 >> 0x17 | (uVar12 + local_2d4) * 0x200);
      uVar46 = uVar46 ^ (uVar13 + uVar3 >> 0x13 | (uVar13 + uVar3) * 0x2000);
      local_2e4 = local_2e4 ^ (uVar21 + uVar47 >> 0x13 | (uVar21 + uVar47) * 0x2000);
      local_2e0 = local_2e0 ^ (uVar36 + uVar12 >> 0x13 | (uVar36 + uVar12) * 0x2000);
      uVar37 = local_2e4 + uVar21;
      local_2dc = local_2dc ^ (uVar20 + local_2e8 >> 0x13 | (uVar20 + local_2e8) * 0x2000);
      uVar28 = uVar46 + uVar13;
      uVar41 = uVar41 ^ (uVar37 >> 0xe | uVar37 * 0x40000);
      uVar37 = local_2e0 + uVar36;
      uVar27 = uVar27 ^ (uVar28 >> 0xe | uVar28 * 0x40000);
      uVar28 = local_2dc + uVar20;
      local_2d0 = local_2d0 ^ (uVar28 >> 0xe | uVar28 * 0x40000);
      local_2d4 = local_2d4 ^ (uVar37 >> 0xe | uVar37 * 0x40000);
      uVar46 = uVar46 ^ (uVar41 + local_2e8 >> 0x19 | (uVar41 + local_2e8) * 0x80);
      local_2dc = local_2dc ^ (local_2d4 + uVar3 >> 0x19 | (local_2d4 + uVar3) * 0x80);
      local_2e4 = local_2e4 ^ (local_2d0 + uVar12 >> 0x19 | (local_2d0 + uVar12) * 0x80);
      local_2e0 = local_2e0 ^ (uVar27 + uVar47 >> 0x19 | (uVar27 + uVar47) * 0x80);
      uVar13 = uVar13 ^ (local_2e4 + local_2d0 >> 0x17 | (local_2e4 + local_2d0) * 0x200);
      uVar21 = uVar21 ^ (local_2dc + local_2d4 >> 0x17 | (local_2dc + local_2d4) * 0x200);
      uVar20 = uVar20 ^ (local_2e0 + uVar27 >> 0x17 | (local_2e0 + uVar27) * 0x200);
      uVar36 = uVar36 ^ (uVar46 + uVar41 >> 0x17 | (uVar46 + uVar41) * 0x200);
      uVar47 = uVar47 ^ (uVar20 + local_2e0 >> 0x13 | (uVar20 + local_2e0) * 0x2000);
      uVar3 = uVar3 ^ (uVar21 + local_2dc >> 0x13 | (uVar21 + local_2dc) * 0x2000);
      uVar12 = uVar12 ^ (uVar13 + local_2e4 >> 0x13 | (uVar13 + local_2e4) * 0x2000);
      local_2e8 = local_2e8 ^ (uVar36 + uVar46 >> 0x13 | (uVar36 + uVar46) * 0x2000);
      uVar27 = uVar27 ^ (uVar47 + uVar20 >> 0xe | (uVar47 + uVar20) * 0x40000);
      local_2d0 = local_2d0 ^ (uVar12 + uVar13 >> 0xe | (uVar12 + uVar13) * 0x40000);
      local_2d4 = local_2d4 ^ (uVar3 + uVar21 >> 0xe | (uVar3 + uVar21) * 0x40000);
      uVar41 = uVar41 ^ (local_2e8 + uVar36 >> 0xe | (local_2e8 + uVar36) * 0x40000);
    } while (local_2c8 != 0);
    local_68 = uVar27 + local_68;
    local_64 = local_2e0 + local_64;
    local_60 = uVar20 + local_60;
    local_5c = uVar47 + local_5c;
    local_58 = uVar3 + local_58;
    local_54 = local_2d4 + local_54;
    local_50 = local_2dc + local_50;
    local_4c = uVar21 + local_4c;
    local_48 = uVar13 + local_48;
    local_44 = uVar12 + local_44;
    local_40 = local_2d0 + local_40;
    local_3c = local_2e4 + local_3c;
    local_38 = uVar46 + local_38;
    local_34 = uVar36 + local_34;
    local_30 = local_2e8 + local_30;
    local_2c = uVar41 + local_2c;
    puVar2 = local_a8;
    puVar10 = (uint *)((int)pvVar9 + (local_68 & 0x3ff) * 0x80 + -8);
    do {
      uVar3 = puVar10[3];
      puVar5 = puVar2 + 2;
      *puVar2 = *puVar2 ^ puVar10[2];
      puVar2[1] = puVar2[1] ^ uVar3;
      puVar2 = puVar5;
      puVar10 = puVar10 + 2;
    } while (puVar5 != &uStack_28);
    local_2c8 = 4;
    uVar3 = local_44 ^ local_84;
    uVar41 = local_30 ^ local_70;
    uVar46 = local_2c ^ local_6c;
    uVar12 = local_60 ^ local_a8[2];
    uVar20 = local_34 ^ local_74;
    uVar27 = local_68 ^ local_a8[0];
    uVar36 = local_4c ^ local_8c;
    uVar47 = local_5c ^ local_a8[3];
    uVar13 = local_48 ^ local_88;
    uVar21 = local_38 ^ local_78;
    local_2ec = local_58 ^ local_a8[4];
    local_2e4 = local_3c ^ local_7c;
    local_2e0 = local_64 ^ local_a8[1];
    local_2dc = local_50 ^ local_90;
    local_2d4 = local_54 ^ local_94;
    local_2d0 = local_40 ^ local_80;
    do {
      uVar41 = uVar41 ^ (local_2d0 + local_2dc >> 0x19 | (local_2d0 + local_2dc) * 0x80);
      local_2c8 = local_2c8 + -1;
      uVar47 = uVar47 ^ (uVar46 + local_2e4 >> 0x19 | (uVar46 + local_2e4) * 0x80);
      local_2ec = local_2ec ^ (uVar27 + uVar21 >> 0x19 | (uVar27 + uVar21) * 0x80);
      uVar3 = uVar3 ^ (local_2d4 + local_2e0 >> 0x19 | (local_2d4 + local_2e0) * 0x80);
      uVar13 = uVar13 ^ (local_2ec + uVar27 >> 0x17 | (local_2ec + uVar27) * 0x200);
      uVar36 = uVar36 ^ (uVar47 + uVar46 >> 0x17 | (uVar47 + uVar46) * 0x200);
      uVar12 = uVar12 ^ (uVar41 + local_2d0 >> 0x17 | (uVar41 + local_2d0) * 0x200);
      uVar20 = uVar20 ^ (uVar3 + local_2d4 >> 0x17 | (uVar3 + local_2d4) * 0x200);
      local_2e4 = local_2e4 ^ (uVar36 + uVar47 >> 0x13 | (uVar36 + uVar47) * 0x2000);
      uVar21 = uVar21 ^ (uVar13 + local_2ec >> 0x13 | (uVar13 + local_2ec) * 0x2000);
      local_2dc = local_2dc ^ (uVar12 + uVar41 >> 0x13 | (uVar12 + uVar41) * 0x2000);
      uVar28 = local_2e4 + uVar36;
      uVar48 = uVar21 + uVar13;
      local_2e0 = local_2e0 ^ (uVar20 + uVar3 >> 0x13 | (uVar20 + uVar3) * 0x2000);
      uVar37 = local_2dc + uVar12;
      uVar46 = uVar46 ^ (uVar28 >> 0xe | uVar28 * 0x40000);
      uVar28 = local_2e0 + uVar20;
      uVar27 = uVar27 ^ (uVar48 >> 0xe | uVar48 * 0x40000);
      local_2d0 = local_2d0 ^ (uVar37 >> 0xe | uVar37 * 0x40000);
      local_2d4 = local_2d4 ^ (uVar28 >> 0xe | uVar28 * 0x40000);
      local_2e4 = local_2e4 ^ (local_2d0 + uVar3 >> 0x19 | (local_2d0 + uVar3) * 0x80);
      uVar21 = uVar21 ^ (uVar46 + uVar41 >> 0x19 | (uVar46 + uVar41) * 0x80);
      local_2e0 = local_2e0 ^ (uVar27 + uVar47 >> 0x19 | (uVar27 + uVar47) * 0x80);
      local_2dc = local_2dc ^ (local_2d4 + local_2ec >> 0x19 | (local_2d4 + local_2ec) * 0x80);
      uVar36 = uVar36 ^ (local_2dc + local_2d4 >> 0x17 | (local_2dc + local_2d4) * 0x200);
      uVar13 = uVar13 ^ (local_2e4 + local_2d0 >> 0x17 | (local_2e4 + local_2d0) * 0x200);
      uVar12 = uVar12 ^ (local_2e0 + uVar27 >> 0x17 | (local_2e0 + uVar27) * 0x200);
      uVar20 = uVar20 ^ (uVar21 + uVar46 >> 0x17 | (uVar21 + uVar46) * 0x200);
      uVar47 = uVar47 ^ (uVar12 + local_2e0 >> 0x13 | (uVar12 + local_2e0) * 0x2000);
      local_2ec = local_2ec ^ (uVar36 + local_2dc >> 0x13 | (uVar36 + local_2dc) * 0x2000);
      uVar3 = uVar3 ^ (uVar13 + local_2e4 >> 0x13 | (uVar13 + local_2e4) * 0x2000);
      uVar41 = uVar41 ^ (uVar20 + uVar21 >> 0x13 | (uVar20 + uVar21) * 0x2000);
      uVar27 = uVar27 ^ (uVar47 + uVar12 >> 0xe | (uVar47 + uVar12) * 0x40000);
      local_2d4 = local_2d4 ^ (local_2ec + uVar36 >> 0xe | (local_2ec + uVar36) * 0x40000);
      local_2d0 = local_2d0 ^ (uVar3 + uVar13 >> 0xe | (uVar3 + uVar13) * 0x40000);
      uVar46 = uVar46 ^ (uVar41 + uVar20 >> 0xe | (uVar41 + uVar20) * 0x40000);
    } while (local_2c8 != 0);
    local_a8[0] = uVar27 + (local_68 ^ local_a8[0]);
    local_a8[1] = local_2e0 + (local_64 ^ local_a8[1]);
    local_a8[2] = uVar12 + (local_60 ^ local_a8[2]);
    local_a8[3] = uVar47 + (local_5c ^ local_a8[3]);
    local_a8[4] = local_2ec + (local_58 ^ local_a8[4]);
    local_94 = local_2d4 + (local_54 ^ local_94);
    local_8c = uVar36 + (local_4c ^ local_8c);
    local_90 = local_2dc + (local_50 ^ local_90);
    local_88 = uVar13 + (local_48 ^ local_88);
    local_84 = uVar3 + (local_44 ^ local_84);
    local_78 = uVar21 + (local_38 ^ local_78);
    local_80 = local_2d0 + (local_40 ^ local_80);
    local_74 = uVar20 + (local_34 ^ local_74);
    local_7c = local_2e4 + (local_3c ^ local_7c);
    local_6c = uVar46 + (local_2c ^ local_6c);
    local_70 = uVar41 + (local_30 ^ local_70);
    local_68 = local_a8[0] ^ local_68;
    local_64 = local_a8[1] ^ local_64;
    local_60 = local_a8[2] ^ local_60;
    local_5c = local_a8[3] ^ local_5c;
    local_58 = local_a8[4] ^ local_58;
    local_54 = local_94 ^ local_54;
    local_50 = local_90 ^ local_50;
    local_44 = local_84 ^ local_44;
    local_48 = local_88 ^ local_48;
    local_4c = local_8c ^ local_4c;
    local_40 = local_80 ^ local_40;
    local_3c = local_7c ^ local_3c;
    local_38 = local_78 ^ local_38;
    local_34 = local_74 ^ local_34;
    local_30 = local_70 ^ local_30;
    local_2c = local_6c ^ local_2c;
    local_2c8 = 4;
    uVar3 = local_58;
    uVar41 = local_2c;
    uVar46 = local_3c;
    uVar12 = local_44;
    uVar20 = local_60;
    uVar27 = local_40;
    uVar36 = local_4c;
    uVar47 = local_5c;
    uVar13 = local_48;
    uVar21 = local_30;
    uVar28 = local_34;
    local_2e4 = local_38;
    local_2e0 = local_50;
    local_2dc = local_64;
    local_2d4 = local_54;
    local_2d0 = local_68;
    do {
      uVar3 = uVar3 ^ (local_2d0 + local_2e4 >> 0x19 | (local_2d0 + local_2e4) * 0x80);
      uVar21 = uVar21 ^ (uVar27 + local_2e0 >> 0x19 | (uVar27 + local_2e0) * 0x80);
      uVar47 = uVar47 ^ (uVar41 + uVar46 >> 0x19 | (uVar41 + uVar46) * 0x80);
      uVar12 = uVar12 ^ (local_2d4 + local_2dc >> 0x19 | (local_2d4 + local_2dc) * 0x80);
      local_2c8 = local_2c8 + -1;
      uVar36 = uVar36 ^ (uVar47 + uVar41 >> 0x17 | (uVar47 + uVar41) * 0x200);
      uVar13 = uVar13 ^ (uVar3 + local_2d0 >> 0x17 | (uVar3 + local_2d0) * 0x200);
      uVar20 = uVar20 ^ (uVar21 + uVar27 >> 0x17 | (uVar21 + uVar27) * 0x200);
      uVar28 = uVar28 ^ (uVar12 + local_2d4 >> 0x17 | (uVar12 + local_2d4) * 0x200);
      uVar46 = uVar46 ^ (uVar36 + uVar47 >> 0x13 | (uVar36 + uVar47) * 0x2000);
      local_2e4 = local_2e4 ^ (uVar13 + uVar3 >> 0x13 | (uVar13 + uVar3) * 0x2000);
      local_2e0 = local_2e0 ^ (uVar20 + uVar21 >> 0x13 | (uVar20 + uVar21) * 0x2000);
      uVar37 = local_2e4 + uVar13;
      local_2dc = local_2dc ^ (uVar28 + uVar12 >> 0x13 | (uVar28 + uVar12) * 0x2000);
      uVar48 = uVar46 + uVar36;
      local_2d0 = local_2d0 ^ (uVar37 >> 0xe | uVar37 * 0x40000);
      uVar37 = local_2e0 + uVar20;
      uVar41 = uVar41 ^ (uVar48 >> 0xe | uVar48 * 0x40000);
      uVar27 = uVar27 ^ (uVar37 >> 0xe | uVar37 * 0x40000);
      uVar37 = local_2dc + uVar28;
      local_2d4 = local_2d4 ^ (uVar37 >> 0xe | uVar37 * 0x40000);
      uVar46 = uVar46 ^ (uVar27 + uVar12 >> 0x19 | (uVar27 + uVar12) * 0x80);
      local_2e4 = local_2e4 ^ (uVar41 + uVar21 >> 0x19 | (uVar41 + uVar21) * 0x80);
      local_2e0 = local_2e0 ^ (local_2d4 + uVar3 >> 0x19 | (local_2d4 + uVar3) * 0x80);
      local_2dc = local_2dc ^ (local_2d0 + uVar47 >> 0x19 | (local_2d0 + uVar47) * 0x80);
      uVar36 = uVar36 ^ (local_2e0 + local_2d4 >> 0x17 | (local_2e0 + local_2d4) * 0x200);
      uVar20 = uVar20 ^ (local_2dc + local_2d0 >> 0x17 | (local_2dc + local_2d0) * 0x200);
      uVar13 = uVar13 ^ (uVar46 + uVar27 >> 0x17 | (uVar46 + uVar27) * 0x200);
      uVar28 = uVar28 ^ (local_2e4 + uVar41 >> 0x17 | (local_2e4 + uVar41) * 0x200);
      uVar47 = uVar47 ^ (uVar20 + local_2dc >> 0x13 | (uVar20 + local_2dc) * 0x2000);
      uVar12 = uVar12 ^ (uVar13 + uVar46 >> 0x13 | (uVar13 + uVar46) * 0x2000);
      uVar3 = uVar3 ^ (uVar36 + local_2e0 >> 0x13 | (uVar36 + local_2e0) * 0x2000);
      uVar21 = uVar21 ^ (uVar28 + local_2e4 >> 0x13 | (uVar28 + local_2e4) * 0x2000);
      local_2d0 = local_2d0 ^ (uVar47 + uVar20 >> 0xe | (uVar47 + uVar20) * 0x40000);
      local_2d4 = local_2d4 ^ (uVar3 + uVar36 >> 0xe | (uVar3 + uVar36) * 0x40000);
      uVar27 = uVar27 ^ (uVar12 + uVar13 >> 0xe | (uVar12 + uVar13) * 0x40000);
      uVar41 = uVar41 ^ (uVar21 + uVar28 >> 0xe | (uVar21 + uVar28) * 0x40000);
    } while (local_2c8 != 0);
    local_244 = (void *)((int)local_244 + -1);
    local_68 = local_2d0 + local_68;
    local_64 = local_2dc + local_64;
    local_60 = uVar20 + local_60;
    local_5c = uVar47 + local_5c;
    local_58 = uVar3 + local_58;
    local_54 = local_2d4 + local_54;
    local_4c = uVar36 + local_4c;
    local_50 = local_2e0 + local_50;
    local_48 = uVar13 + local_48;
    local_44 = uVar12 + local_44;
    local_40 = uVar27 + local_40;
    local_3c = uVar46 + local_3c;
    local_34 = uVar28 + local_34;
    local_38 = local_2e4 + local_38;
    local_30 = uVar21 + local_30;
    local_2c = uVar41 + local_2c;
  } while (local_244 != (void *)0x0);
  local_1a8[0] = 0x6a09e667;
  local_1a8[1] = 0xbb67ae85;
  local_1a8[2] = 0x3c6ef372;
  local_1a8[3] = 0xa54ff53a;
  local_1a8[4] = 0x510e527f;
  local_1a8[5] = 0x9b05688c;
  local_1a8[6] = 0x1f83d9ab;
  local_1a8[7] = 0x5be0cd19;
  FUN_0000f840(local_1a8,param_1,1);
  local_108[0] = *(uint *)(param_1 + 0x40);
  local_108[1] = *(undefined4 *)(param_1 + 0x44);
  local_108[2] = *(undefined4 *)(param_1 + 0x48);
  local_108[3] = *(undefined4 *)(param_1 + 0x4c);
  local_108[4] = 0x80;
  local_108[5] = 0;
  local_108[6] = 0;
  local_108[7] = 0;
  local_108[8] = 0;
  local_108[9] = 0;
  local_108[10] = 0;
  local_108[0xb] = 0;
  local_108[0xc] = 0;
  local_108[0xd] = 0;
  local_108[0xe] = 0;
  local_108[0xf] = 0x80020000;
  FUN_0000f840(local_1a8,local_108,1);
  param_3[6] = 0x1f83d9ab;
  local_1a8[0x10] = local_1a8[0];
  local_1a8[0x11] = local_1a8[1];
  local_1a8[0x12] = local_1a8[2];
  local_1a8[0x13] = local_1a8[3];
  *param_3 = 0x6a09e667;
  param_3[1] = 0xbb67ae85;
  param_3[2] = 0x3c6ef372;
  param_3[3] = 0xa54ff53a;
  param_3[4] = 0x510e527f;
  param_3[5] = 0x9b05688c;
  param_3[7] = 0x5be0cd19;
  local_1a8[0x14] = local_1a8[4];
  local_1a8[0x15] = local_1a8[5];
  local_1a8[0x16] = local_1a8[6];
  local_1a8[0x17] = local_1a8[7];
  iVar35 = 0;
  do {
    *(uint *)((int)local_108 + iVar35) = *(uint *)((int)local_1a8 + iVar35 + 0x40) ^ 0x5c5c5c5c;
    iVar35 = iVar35 + 4;
  } while (iVar35 != 0x20);
  local_108[8] = 0x5c5c5c5c;
  local_108[9] = 0x5c5c5c5c;
  local_108[10] = 0x5c5c5c5c;
  local_108[0xb] = 0x5c5c5c5c;
  local_108[0xc] = 0x5c5c5c5c;
  local_108[0xd] = 0x5c5c5c5c;
  local_108[0xe] = 0x5c5c5c5c;
  local_108[0xf] = 0x5c5c5c5c;
  FUN_0000f840(param_3,local_108,0);
  iVar35 = 0;
  local_1a8[0] = 0x6a09e667;
  local_1a8[1] = 0xbb67ae85;
  local_1a8[2] = 0x3c6ef372;
  local_1a8[3] = 0xa54ff53a;
  local_1a8[4] = 0x510e527f;
  local_1a8[5] = 0x9b05688c;
  local_1a8[6] = 0x1f83d9ab;
  local_1a8[7] = 0x5be0cd19;
  do {
    *(uint *)((int)local_108 + iVar35) = *(uint *)((int)local_1a8 + iVar35 + 0x40) ^ 0x36363636;
    iVar35 = iVar35 + 4;
  } while (iVar35 != 0x20);
  local_108[8] = 0x36363636;
  local_108[9] = 0x36363636;
  local_108[10] = 0x36363636;
  local_108[0xb] = 0x36363636;
  local_108[0xc] = 0x36363636;
  local_108[0xd] = 0x36363636;
  local_108[0xe] = 0x36363636;
  local_108[0xf] = 0x36363636;
  FUN_0000f840(local_1a8,local_108,0);
  FUN_0000f840(local_1a8,local_a8,1);
  FUN_0000f840(local_1a8,&local_68,1);
  FUN_0000f840(local_1a8,&DAT_00049ec4,0);
  local_108[0] = local_1a8[0];
  local_108[1] = local_1a8[1];
  local_108[2] = local_1a8[2];
  local_108[3] = local_1a8[3];
  local_108[4] = local_1a8[4];
  local_108[5] = local_1a8[5];
  local_108[6] = local_1a8[6];
  local_108[7] = local_1a8[7];
  local_108[8] = 0x80000000;
  local_108[9] = 0;
  local_108[10] = 0;
  local_108[0xb] = 0;
  local_108[0xc] = 0;
  local_108[0xd] = 0;
  local_108[0xe] = 0;
  local_108[0xf] = 0x300;
  FUN_0000f840(param_3,local_108,0);
  return;
}




char * FUN_00014990(char *param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  int iVar1;
  
  iVar1 = sscanf(param_1,"%d:%d",&DAT_00063b9c,&DAT_00063b98,param_4);
  if (iVar1 != 2) {
    return "Invalid time set, should be HH:MM";
  }
  if ((((DAT_00063b9c < 0x18) && (DAT_00063b98 < 0x3c)) && (-1 < DAT_00063b9c)) && (-1 < DAT_00063b98)) {
    DAT_00063b90 = 1;
    return (char *)0x0;
  }
  return "Invalid time set.";
}




char * FUN_00014a0c(char *param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  int iVar1;
  
  iVar1 = sscanf(param_1,"%d:%d",&DAT_00063e20,&DAT_00063e1c,param_4);
  if (iVar1 != 2) {
    return "Invalid time set, should be HH:MM";
  }
  if ((((DAT_00063e20 < 0x18) && (DAT_00063e1c < 0x3c)) && (-1 < DAT_00063e20)) && (-1 < DAT_00063e1c)) {
    DAT_00063e14 = 1;
    return (char *)0x0;
  }
  return "Invalid time set.";
}




void FUN_00014a88(int param_1)

{
  int iVar1;
  uint *puVar2;
  uint *puVar3;
  uint uVar4;
  uint auStack_20260 [19];
  uint uStack_20214;
  undefined4 uStack_20210;
  undefined1 auStack_2020c [131580];
  
  uStack_20210 = 0;
  memset(auStack_2020c,0,0x201fc);
  iVar1 = 0;
  do {
    uVar4 = *(uint *)(param_1 + iVar1);
    *(uint *)((int)auStack_20260 + iVar1) =
         uVar4 << 0x18 | (uVar4 >> 8 & 0xff) << 0x10 | (uVar4 >> 0x10 & 0xff) << 8 | uVar4 >> 0x18;
    iVar1 = iVar1 + 4;
  } while (iVar1 != 0x4c);
  uVar4 = *(uint *)(param_1 + 0x4c);
  uStack_20214 = uVar4 << 0x18 | (uVar4 >> 8 & 0xff) << 0x10 | (uVar4 >> 0x10 & 0xff) << 8 | uVar4 >> 0x18;
  FUN_00011e40(auStack_20260,&uStack_20210,(uint *)(param_1 + 0xc0));
  puVar2 = (uint *)(param_1 + 0xc0);
  do {
    uVar4 = *puVar2;
    puVar3 = puVar2 + 1;
    *puVar2 = uVar4 << 0x18 | (uVar4 >> 8 & 0xff) << 0x10 | (uVar4 >> 0x10 & 0xff) << 8 | uVar4 >> 0x18;
    puVar2 = puVar3;
  } while (puVar3 != (uint *)(param_1 + 0xe0));
  return;
}




undefined4 FUN_00014b28(int param_1,int param_2,uint param_3)

{
  undefined4 uVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  undefined1 auStack_20a88 [131592];
  undefined1 auStack_880 [28];
  uint local_864;
  uint local_860 [19];
  uint local_814;
  char acStack_810 [2048];
  
  uVar3 = *(uint *)(param_2 + 0x1c);
  iVar2 = 0;
  do {
    uVar4 = *(uint *)(param_1 + iVar2);
    *(uint *)((int)local_860 + iVar2) =
         uVar4 << 0x18 | (uVar4 >> 8 & 0xff) << 0x10 | (uVar4 >> 0x10 & 0xff) << 8 | uVar4 >> 0x18;
    iVar2 = iVar2 + 4;
  } while (iVar2 != 0x4c);
  local_814 = param_3 << 0x18 | (param_3 >> 8 & 0xff) << 0x10 | (param_3 >> 0x10 & 0xff) << 8 | param_3 >> 0x18;
  FUN_00011e40(local_860,auStack_20a88,auStack_880);
  uVar4 = local_864 << 0x18 | (local_864 >> 8 & 0xff) << 0x10 | (local_864 >> 0x10 & 0xff) << 8 | local_864 >> 0x18;
  if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    snprintf(acStack_810,0x800,"htarget %08lx diff1 %08lx hash %08lx",uVar3,0xffff,uVar4);
    FUN_00038438(7,acStack_810,0);
  }
  if (uVar4 < 0x10000) {
    if (uVar3 < uVar4) {
      uVar1 = 0;
    }
    else {
      uVar1 = 1;
    }
  }
  else {
    uVar1 = 0xffffffff;
  }
  return uVar1;
}




undefined1
FUN_00014c48(int param_1,undefined4 param_2,int param_3,undefined4 param_4,undefined4 param_5,int param_6,uint param_7,
            uint *param_8,uint param_9)

{
  void *__ptr;
  uint uVar1;
  int iVar2;
  undefined1 uVar3;
  uint uVar4;
  uint local_878 [19];
  uint local_82c;
  char local_828 [4];
  char acStack_824 [4];
  char acStack_820 [4];
  char acStack_81c [4];
  char local_818 [4];
  char acStack_814 [4];
  char acStack_810 [4];
  uint local_80c;
  char local_808 [4];
  char acStack_804 [4];
  char acStack_800 [4];
  undefined2 uStack_7fc;
  undefined1 local_7fa;
  
  uVar4 = *(uint *)(param_6 + 0x1c);
  iVar2 = 0;
  do {
    uVar1 = *(uint *)(param_3 + iVar2);
    *(uint *)((int)local_878 + iVar2) =
         uVar1 << 0x18 | (uVar1 >> 8 & 0xff) << 0x10 | (uVar1 >> 0x10 & 0xff) << 8 | uVar1 >> 0x18;
    iVar2 = iVar2 + 4;
  } while (iVar2 != 0x4c);
  __ptr = malloc(0x20200);
  if (__ptr == (void *)0x0) {
    if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (uVar3 = 0, 2 < DAT_00060964)) {
      uVar3 = 0;
      local_828[0] = 'F';
      local_828[1] = 'a';
      local_828[2] = 'i';
      local_828[3] = 'l';
      acStack_824[0] = 'e';
      acStack_824[1] = 'd';
      acStack_824[2] = ' ';
      acStack_824[3] = 't';
      acStack_820[0] = 'o';
      acStack_820[1] = ' ';
      acStack_820[2] = 'm';
      acStack_820[3] = 'a';
      acStack_81c[0] = 'l';
      acStack_81c[1] = 'l';
      acStack_81c[2] = 'o';
      acStack_81c[3] = 'c';
      local_818[0] = ' ';
      local_818[1] = 's';
      local_818[2] = 'c';
      local_818[3] = 'r';
      acStack_814[0] = 'a';
      acStack_814[1] = 't';
      acStack_814[2] = 'c';
      acStack_814[3] = 'h';
      acStack_810[0] = 'b';
      acStack_810[1] = 'u';
      acStack_810[2] = 'f';
      acStack_810[3] = ' ';
      local_80c._0_1_ = 'i';
      local_80c._1_1_ = 'n';
      local_80c._2_1_ = ' ';
      local_80c._3_1_ = 's';
      local_808[0] = 'c';
      local_808[1] = 'a';
      local_808[2] = 'n';
      local_808[3] = 'h';
      acStack_804[0] = 'a';
      acStack_804[1] = 's';
      acStack_804[2] = 'h';
      acStack_804[3] = '_';
      acStack_800[0] = 's';
      acStack_800[1] = 'c';
      acStack_800[2] = 'r';
      acStack_800[3] = 'y';
      uStack_7fc = 0x7470;
      local_7fa = 0;
      FUN_00038438(3,local_828,0);
    }
  }
  else {
    do {
      param_9 = param_9 + 1;
      *(uint *)(param_3 + 0x4c) = param_9;
      uVar1 = param_9 * 0x1000000 | (param_9 >> 8 & 0xff) << 0x10 | (param_9 >> 0x10 & 0xff) << 8 | param_9 >> 0x18;
      local_82c = uVar1;
      FUN_00011e40(local_878,__ptr,local_828);
      if ((local_80c << 0x18 | (local_80c >> 8 & 0xff) << 0x10 | (local_80c >> 0x10 & 0xff) << 8 | local_80c >> 0x18) <=
          uVar4) {
        *(uint *)(param_3 + 0x4c) = uVar1;
        uVar3 = 1;
        *param_8 = param_9;
        goto LAB_00014d00;
      }
    } while ((param_9 < param_7) && (*(char *)(param_1 + 0x3e) == '\0'));
    uVar3 = 0;
    *param_8 = param_9;
LAB_00014d00:
    free(__ptr);
  }
  return uVar3;
}




void FUN_00014d9c(char *param_1,size_t param_2,time_t *param_3)

{
  tm *ptVar1;
  time_t local_14 [2];
  
  local_14[0] = *param_3;
  ptVar1 = localtime(local_14);
  snprintf(param_1,param_2,"[%d-%02d-%02d %02d:%02d:%02d]",ptVar1->tm_year + 0x76c,ptVar1->tm_mon + 1,ptVar1->tm_mday,
           ptVar1->tm_hour,ptVar1->tm_min,ptVar1->tm_sec);
  return;
}




void FUN_00014e18(void)

{
  int iVar1;
  undefined4 uVar2;
  int extraout_r1;
  uint uVar3;
  int *piVar4;
  uint uVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int *piVar10;
  int *piVar11;
  char acStack_820 [2048];
  int *piVar5;
  
  piVar11 = DAT_000639e0;
  iVar1 = DAT_00063740;
  if (DAT_00063740 < 1) {
    uVar6 = 1;
  }
  else {
    uVar6 = 0xffffffff;
    piVar10 = DAT_000639e0 + DAT_00063740;
    piVar4 = DAT_000639e0;
    do {
      piVar5 = piVar4 + 1;
      uVar3 = *(uint *)(*piVar4 + 0x38);
      if ((uVar3 != 0) && (uVar3 <= uVar6)) {
        uVar6 = uVar3;
      }
      piVar4 = piVar5;
    } while (piVar5 != piVar10);
    piVar4 = DAT_000639e0;
    if (uVar6 == 0xffffffff) {
      uVar6 = 1;
    }
    else {
      do {
        while( true ) {
          piVar5 = piVar4 + 1;
          iVar7 = *(int *)(*piVar4 + 0x38);
          piVar4 = piVar5;
          if (iVar7 != 0) break;
          if (piVar5 == piVar10) goto LAB_00014e98;
        }
        while (FUN_00048f68(iVar7,uVar6), extraout_r1 != 0) {
          uVar6 = uVar6 - 1;
        }
      } while (piVar5 != piVar10);
    }
LAB_00014e98:
    iVar7 = DAT_0005f890;
    piVar11 = piVar11 + -1;
    iVar9 = 0;
    do {
      piVar11 = piVar11 + 1;
      iVar8 = *piVar11;
      iVar9 = iVar9 + 1;
      uVar2 = FUN_00048ec0(*(int *)(iVar8 + 0x40) * iVar7,uVar6);
      *(undefined4 *)(iVar8 + 0x40) = uVar2;
      uVar2 = FUN_00048ec0(*(undefined4 *)(iVar8 + 0x38),uVar6);
      *(undefined4 *)(iVar8 + 0x3c) = uVar2;
    } while (iVar9 < iVar1);
  }
  DAT_0005f890 = uVar6;
  if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    snprintf(acStack_820,0x800,"Global quota greatest common denominator set to %lu",uVar6);
    FUN_00038438(7,acStack_820,0);
  }
  return;
}




char * FUN_00014f94(undefined4 param_1,int *param_2,int param_3,int param_4)

{
  char *pcVar1;
  
  pcVar1 = (char *)FUN_00047b60();
  if (pcVar1 != (char *)0x0) {
    return pcVar1;
  }
  if ((param_3 <= *param_2) && (*param_2 <= param_4)) {
    return (char *)0x0;
  }
  return "Value out of range";
}




undefined4 FUN_000150b4(int param_1,char *param_2)

{
  int iVar1;
  undefined4 uVar2;
  
  FUN_0002b358();
  iVar1 = FUN_0002b43c(param_2,param_1 + 0x250,param_1 + 0x240);
  if ((iVar1 != 0) && (iVar1 = strncasecmp(param_2,"stratum+tcp://",0xe), iVar1 == 0)) {
    uVar2 = __strdup(param_2);
    *(undefined1 *)(param_1 + 0x278) = 1;
    *(undefined4 *)(param_1 + 0x238) = *(undefined4 *)(param_1 + 0x250);
    *(undefined4 *)(param_1 + 0xa4) = uVar2;
    return 1;
  }
  return 0;
}




char * FUN_00015128(char *param_1)

{
  uint uVar1;
  
  if ((param_1 != (char *)0x0) && (*param_1 != '\0')) {
    uVar1 = strtol(param_1,(char **)0x0,10);
    if (200 < uVar1) {
      return "Invalid value passed to set temp cutoff";
    }
    DAT_000611b0 = param_1;
    return (char *)0x0;
  }
  return "Invalid parameters for set temp cutoff";
}




void FUN_00015180(void *param_1)

{
  free(*(void **)((int)param_1 + 0x120));
  free(*(void **)((int)param_1 + 0x134));
  free(*(void **)((int)param_1 + 0x148));
  free(*(void **)((int)param_1 + 0x140));
  memset(param_1,0,0x1e0);
  return;
}




void FUN_000151bc(void *param_1,void *param_2,int param_3)

{
  uint uVar1;
  undefined4 uVar2;
  uint local_1c [2];
  
  uVar2 = *(undefined4 *)((int)param_1 + 0x154);
  FUN_00015180();
  memcpy(param_1,param_2,0x1e0);
  *(undefined4 *)((int)param_1 + 0x154) = uVar2;
  if (*(int *)((int)param_2 + 0x120) != 0) {
    uVar2 = __strdup();
    *(undefined4 *)((int)param_1 + 0x120) = uVar2;
  }
  if (*(int *)((int)param_2 + 0x140) != 0) {
    uVar2 = __strdup();
    *(undefined4 *)((int)param_1 + 0x140) = uVar2;
  }
  if (*(int *)((int)param_2 + 0x134) == 0) {
    if (param_3 != 0) {
      uVar1 = *(uint *)((int)param_1 + 0x44);
      uVar1 = (uVar1 << 0x18 | (uVar1 >> 8 & 0xff) << 0x10 | (uVar1 >> 0x10 & 0xff) << 8 | uVar1 >> 0x18) + param_3;
      *(uint *)((int)param_1 + 0x44) =
           uVar1 * 0x1000000 | (uVar1 >> 8 & 0xff) << 0x10 | (uVar1 >> 0x10 & 0xff) << 8 | uVar1 >> 0x18;
    }
  }
  else if (param_3 == 0) {
    uVar2 = __strdup();
    *(undefined4 *)((int)param_1 + 0x134) = uVar2;
  }
  else {
    uVar1 = *(uint *)((int)param_1 + 0x44);
    uVar1 = (uVar1 << 0x18 | (uVar1 >> 8 & 0xff) << 0x10 | (uVar1 >> 0x10 & 0xff) << 8 | uVar1 >> 0x18) + param_3;
    *(uint *)((int)param_1 + 0x44) =
         uVar1 * 0x1000000 | (uVar1 >> 8 & 0xff) << 0x10 | (uVar1 >> 0x10 & 0xff) << 8 | uVar1 >> 0x18;
    FUN_000295b8(local_1c,*(undefined4 *)((int)param_2 + 0x134));
    uVar1 = (local_1c[0] << 0x18 | (local_1c[0] >> 8 & 0xff) << 0x10 | (local_1c[0] >> 0x10 & 0xff) << 8 |
            local_1c[0] >> 0x18) + param_3;
    local_1c[0] = uVar1 * 0x1000000 | (uVar1 >> 8 & 0xff) << 0x10 | (uVar1 >> 0x10 & 0xff) << 8 | uVar1 >> 0x18;
    uVar2 = FUN_000294b8(local_1c,4);
    *(undefined4 *)((int)param_1 + 0x134) = uVar2;
  }
  if (*(int *)((int)param_2 + 0x148) != 0) {
    uVar2 = __strdup();
    *(undefined4 *)((int)param_1 + 0x148) = uVar2;
  }
  return;
}




void FUN_000152b8(void *param_1)

{
  FUN_00015180();
  free(param_1);
  return;
}




void FUN_000152d0(double *param_1)

{
  double in_d0;
  double dVar1;
  double in_d1;
  double in_d2;
  
  if (0.0 < in_d1) {
    dVar1 = exp(in_d1 / in_d2);
    dVar1 = 1.0 - 1.0 / dVar1;
    *param_1 = (*param_1 + dVar1 * (in_d0 / in_d1)) / (dVar1 + 1.0);
  }
  return;
}




undefined4 FUN_00015324(int param_1)

{
  undefined4 uVar1;
  double dVar2;
  undefined4 extraout_s1;
  undefined1 auStack_10 [8];
  
  dVar2 = DAT_0005f898;
  if (*(int *)(param_1 + 0x170) != 0) {
    FUN_0002b13c(auStack_10);
    uVar1 = FUN_0002b314(auStack_10,param_1 + 0x170);
    dVar2 = (double)CONCAT44(extraout_s1,uVar1);
  }
  if (dVar2 < 1.0) {
    dVar2 = 0.0;
  }
  return SUB84(dVar2,0);
}




void FUN_00015378(void)

{
  undefined1 auStack_10 [12];
  
  FUN_0002b13c(auStack_10);
  FUN_0002b314(auStack_10,&DAT_000611b4);
  return;
}




void FUN_000153a0(void)

{
  undefined1 auStack_10 [12];
  
  FUN_0002b13c(auStack_10);
  FUN_0002b314(auStack_10,&DAT_000611bc);
  return;
}




void FUN_000153c8(undefined4 param_1)

{
  wprintw(DAT_000639d8,"%s",param_1);
  return;
}




void FUN_000153e4(int param_1,uint param_2)

{
  undefined4 uVar1;
  
  *(uint *)(param_1 + 0x44) =
       param_2 << 0x18 | (param_2 >> 8 & 0xff) << 0x10 | (param_2 >> 0x10 & 0xff) << 8 | param_2 >> 0x18;
  if (*(void **)(param_1 + 0x134) == (void *)0x0) {
    return;
  }
  free(*(void **)(param_1 + 0x134));
  uVar1 = FUN_000294b8(param_1 + 0x44,4);
  *(undefined4 *)(param_1 + 0x134) = uVar1;
  return;
}




undefined8 FUN_0001541c(int param_1)

{
  double dVar1;
  double dVar2;
  double dVar3;
  double dVar4;
  double dVar5;
  undefined8 uVar6;
  
  if (param_1 != 0) {
    dVar5 = 1.7668201048317172e+72;
    if (DAT_00063df9 == '\0') {
      dVar5 = 2.695953529101131e+67;
    }
    dVar1 = (double)FUN_000493c8(*(undefined4 *)(param_1 + 0xd8),*(undefined4 *)(param_1 + 0xdc));
    dVar3 = (double)FUN_000493c8(*(undefined4 *)(param_1 + 0xd0),*(undefined4 *)(param_1 + 0xd4));
    dVar4 = (double)FUN_000493c8(*(undefined4 *)(param_1 + 200),*(undefined4 *)(param_1 + 0xcc));
    dVar2 = (double)FUN_000493c8(*(undefined4 *)(param_1 + 0xc0),*(undefined4 *)(param_1 + 0xc4));
    dVar2 = dVar1 * 6.277101735386681e+57 + dVar3 * 3.402823669209385e+38 + dVar4 * 1.8446744073709552e+19 + dVar2;
    if (dVar2 != 0.0) {
      dVar5 = dVar5 / dVar2;
      uVar6 = FUN_000494c0(SUB84(dVar5,0),(int)((ulonglong)dVar5 >> 0x20));
      return uVar6;
    }
  }
  return 0;
}




void FUN_000154ec(int param_1)

{
  int iVar1;
  bool bVar2;
  char local_808 [4];
  char acStack_804 [4];
  char acStack_800 [4];
  char acStack_7fc [4];
  char local_7f8 [4];
  char acStack_7f4 [4];
  char acStack_7f0 [4];
  char acStack_7ec [2020];
  
  if (((*(char *)(param_1 + 0x111) == '\0') && (*(int *)(param_1 + 0xf0) == 0)) && (*(char *)(param_1 + 0x110) == '\0'))
  {
    iVar1 = *(int *)(param_1 + 0x104);
    if (iVar1 != 0) {
      *(int *)(iVar1 + 0x7c) = *(int *)(iVar1 + 0x7c) + 1;
      *(int *)(*(int *)(param_1 + 0x104) + 0x40) = *(int *)(*(int *)(param_1 + 0x104) + 0x40) + -1;
      *(int *)(*(int *)(param_1 + 0x104) + 0x44) = *(int *)(*(int *)(param_1 + 0x104) + 0x44) + -1;
    }
    bVar2 = 0xfffffffe < DAT_00063d68;
    DAT_00063d68 = DAT_00063d68 + 1;
    DAT_00063d6c = DAT_00063d6c + (uint)bVar2;
  }
  else if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    local_808[0] = 'D';
    local_808[1] = 'i';
    local_808[2] = 's';
    local_808[3] = 'c';
    acStack_804[0] = 'a';
    acStack_804[1] = 'r';
    acStack_804[2] = 'd';
    acStack_804[3] = 'e';
    acStack_800[0] = 'd';
    acStack_800[1] = ' ';
    acStack_800[2] = 'c';
    acStack_800[3] = 'l';
    acStack_7fc[0] = 'o';
    acStack_7fc[1] = 'n';
    acStack_7fc[2] = 'e';
    acStack_7fc[3] = 'd';
    local_7f8[0] = ' ';
    local_7f8[1] = 'o';
    local_7f8[2] = 'r';
    local_7f8[3] = ' ';
    acStack_7f4[0] = 'r';
    acStack_7f4[1] = 'o';
    acStack_7f4[2] = 'l';
    acStack_7f4[3] = 'l';
    acStack_7f0[0] = 'e';
    acStack_7f0[1] = 'd';
    acStack_7f0[2] = ' ';
    acStack_7f0[3] = 'w';
    acStack_7ec[0] = 'o';
    acStack_7ec[1] = 'r';
    acStack_7ec[2] = 'k';
    acStack_7ec[3] = '\0';
    FUN_00038438(7,local_808,0);
  }
  FUN_000152b8(param_1);
  return;
}




void FUN_00015600(int *param_1)

{
  int iVar1;
  int *piVar2;
  int *piVar4;
  int iVar5;
  int iVar6;
  int *piVar3;
  
  iVar5 = DAT_00063740;
  iVar6 = DAT_00063740 + -1;
  if (0 < DAT_00063740) {
    piVar4 = DAT_000639e0 + DAT_00063740;
    piVar2 = DAT_000639e0;
    do {
      piVar3 = piVar2 + 1;
      iVar1 = *(int *)(*piVar2 + 4);
      if (param_1[1] < iVar1) {
        *(int *)(*piVar2 + 4) = iVar1 + -1;
      }
      piVar2 = piVar3;
    } while (piVar3 != piVar4);
  }
  if (*param_1 < iVar6) {
    *(int *)DAT_000639e0[iVar6] = *param_1;
    DAT_000639e0[*param_1] = DAT_000639e0[iVar6];
    iVar5 = DAT_00063740;
  }
  *param_1 = iVar5;
  *(undefined1 *)((int)param_1 + 0x69) = 1;
  DAT_00063740 = DAT_00063740 + -1;
  return;
}




void FUN_0001569c(FILE *param_1)

{
  int *piVar1;
  int iVar2;
  char *__s;
  char *pcVar3;
  undefined4 uVar4;
  uint uVar5;
  undefined *puVar6;
  undefined1 *puVar7;
  code *pcVar8;
  int iVar9;
  undefined4 *puVar10;
  undefined4 *puVar11;
  int iVar12;
  undefined *puVar13;
  undefined2 *puVar14;
  undefined2 *local_2c;
  
  fwrite(&DAT_0004cf70,1,0xd,param_1);
  if (0 < DAT_00063740) {
    iVar9 = 0;
    do {
      iVar2 = FUN_00011b90(iVar9);
      puVar6 = &DAT_0005220c;
      iVar12 = *(int *)(iVar2 + 0x38);
      if (iVar12 == 1) {
        puVar13 = &DAT_0004cfd4;
        if (iVar9 == 0) {
          puVar13 = puVar6;
        }
        if (*(int *)(iVar2 + 0xb8) == 0) {
LAB_00015acc:
          puVar7 = &DAT_0005220c;
LAB_00015ad0:
          puVar14 = (undefined2 *)&DAT_0005220c;
        }
        else {
          FUN_00029418(*(undefined4 *)(iVar2 + 0xb4));
          puVar6 = (undefined *)FUN_0000f46c();
          if (*(int *)(iVar2 + 0xb8) == 0) goto LAB_00015acc;
          puVar7 = (undefined1 *)FUN_0000f46c();
          if (*(int *)(iVar2 + 0xb8) == 0) goto LAB_00015ad0;
          puVar14 = &DAT_0004cf6c;
        }
        uVar4 = FUN_0000f46c(*(undefined4 *)(iVar2 + 0xa4));
        fprintf(param_1,"%s\n\t{\n\t\t\"url\" : \"%s%s%s%s\",",puVar13,puVar6,puVar7,puVar14,uVar4);
      }
      else {
        puVar13 = &DAT_0004cfd4;
        if (iVar9 == 0) {
          puVar13 = puVar6;
        }
        if (*(int *)(iVar2 + 0xb8) == 0) {
LAB_0001582c:
          puVar7 = &DAT_0005220c;
LAB_00015830:
          local_2c = (undefined2 *)&DAT_0005220c;
        }
        else {
          FUN_00029418(*(undefined4 *)(iVar2 + 0xb4));
          puVar6 = (undefined *)FUN_0000f46c();
          if (*(int *)(iVar2 + 0xb8) == 0) {
            iVar12 = *(int *)(iVar2 + 0x38);
            goto LAB_0001582c;
          }
          puVar7 = (undefined1 *)FUN_0000f46c();
          iVar12 = *(int *)(iVar2 + 0x38);
          if (*(int *)(iVar2 + 0xb8) == 0) goto LAB_00015830;
          local_2c = &DAT_0004cf6c;
        }
        uVar4 = FUN_0000f46c(*(undefined4 *)(iVar2 + 0xa4));
        fprintf(param_1,"%s\n\t{\n\t\t\"quota\" : \"%s%s%s%d;%s\",",puVar13,puVar6,puVar7,local_2c,iVar12,uVar4);
      }
      iVar9 = iVar9 + 1;
      uVar4 = FUN_0000f46c(*(undefined4 *)(iVar2 + 0xac));
      fprintf(param_1,"\n\t\t\"user\" : \"%s\",",uVar4);
      uVar4 = FUN_0000f46c(*(undefined4 *)(iVar2 + 0xb0));
      fprintf(param_1,"\n\t\t\"pass\" : \"%s\"\n\t}",uVar4);
    } while (iVar9 < DAT_00063740);
  }
  fwrite(&DAT_0004cf80,1,3,param_1);
  if (DAT_0005f8a4 != 0x10) {
    puVar10 = &DAT_0005f8bc;
    do {
      __s = (char *)__strdup(puVar10[-7]);
      pcVar3 = strtok(__s,"|");
      while (pcVar3 != (char *)0x0) {
        if ((pcVar3[1] == '-') && ((undefined4 *)puVar10[-1] != &DAT_000c54d8)) {
          uVar5 = puVar10[-6];
          if (((uVar5 & 1) == 0) ||
             (((puVar7 = (undefined1 *)puVar10[-5], puVar7 != &LAB_00047974 && (puVar7 != &UNK_00047984)) ||
              ((bool)*(char *)puVar10[-2] != (puVar7 == &LAB_00047974))))) {
            if ((uVar5 & 2) == 0) {
LAB_00015994:
              if (((uVar5 & 6) != 0) && (((int *)puVar10[-2] != (int *)&DAT_000611c4 && (*(int *)puVar10[-2] != 0)))) {
                uVar4 = FUN_0000f46c();
                fprintf(param_1,",\n\"%s\" : \"%s\"",pcVar3 + 2,uVar4);
              }
            }
            else {
              pcVar8 = (code *)puVar10[-4];
              if (((((pcVar8 == FUN_00047b60) || (pcVar8 == (code *)&LAB_00015000)) ||
                   ((pcVar8 == (code *)&LAB_00015018 ||
                    ((pcVar8 == (code *)&UNK_00015078 || (pcVar8 == (code *)&UNK_0001506c)))))) ||
                  (pcVar8 == (code *)&LAB_0001500c)) ||
                 (((((pcVar8 == (code *)&UNK_00015060 || (pcVar8 == (code *)&UNK_00015054)) ||
                    (pcVar8 == (code *)&UNK_00015048)) ||
                   ((pcVar8 == (code *)&UNK_0001503c || (pcVar8 == (code *)&UNK_00015030)))) ||
                  (pcVar8 == (code *)&UNK_00015024)))) {
                fprintf(param_1,",\n\"%s\" : \"%d\"",pcVar3 + 2,*(undefined4 *)puVar10[-2]);
              }
              else {
                if ((pcVar8 != FUN_00011d58) && (pcVar8 != FUN_00011d08)) goto LAB_00015994;
                fprintf(param_1,",\n\"%s\" : \"%.1f\"",pcVar3 + 2,(float *)puVar10[-2],(double)*(float *)puVar10[-2]);
              }
            }
          }
          else {
            fprintf(param_1,",\n\"%s\" : true",pcVar3 + 2);
          }
        }
        pcVar3 = strtok((char *)0x0,"|");
      }
      free(__s);
      piVar1 = puVar10 + 1;
      puVar10 = puVar10 + 7;
    } while (*piVar1 != 0x10);
  }
  if (DAT_000611ac == 4) {
    fwrite(",\n\"balance\" : true",1,0x12,param_1);
  }
  if (DAT_000611ac == 3) {
    fwrite(",\n\"load-balance\" : true",1,0x17,param_1);
  }
  if (DAT_000611ac == 1) {
    fwrite(",\n\"round-robin\" : true",1,0x16,param_1);
  }
  if (DAT_000611ac == 2) {
    fprintf(param_1,",\n\"rotate\" : \"%d\"",DAT_00063af8);
  }
  fwrite(&DAT_0004d084,1,3,param_1);
  puVar10 = DAT_00060e88;
  DAT_00060e88 = (undefined4 *)0x0;
  while (puVar10 != (undefined4 *)0x0) {
    puVar11 = (undefined4 *)puVar10[1];
    free((void *)*puVar10);
    free(puVar10);
    puVar10 = puVar11;
  }
  return;
}




void FUN_00015bec(void)

{
  int *piVar1;
  int iVar2;
  int *piVar3;
  int *piVar4;
  
  DAT_00060064 = 0;
  DAT_00060068 = 0;
  DAT_000611c8 = 0;
  DAT_000611cc = 0;
  FUN_00011130(0,0,&DAT_00060064,8,0);
  if (0 < DAT_00063740) {
    piVar1 = DAT_000639e0 + DAT_00063740;
    piVar3 = DAT_000639e0;
    do {
      piVar4 = piVar3 + 1;
      iVar2 = *piVar3;
      *(undefined4 *)(iVar2 + 0x170) = 0;
      *(undefined4 *)(iVar2 + 0x174) = 0;
      piVar3 = piVar4;
    } while (piVar4 != piVar1);
  }
  return;
}




void FUN_00015c88(char *param_1)

{
  char *pcVar1;
  size_t sVar2;
  
  if ((DAT_00060e8c != (char *)0x0) && (*DAT_00060e8c != '\0')) {
    strcpy(param_1,DAT_00060e8c);
    return;
  }
  pcVar1 = getenv("HOME");
  if ((pcVar1 == (char *)0x0) || (pcVar1 = getenv("HOME"), *pcVar1 == '\0')) {
    *param_1 = '\0';
  }
  else {
    pcVar1 = getenv("HOME");
    pcVar1 = stpcpy(param_1,pcVar1);
    pcVar1[0] = '/';
    pcVar1[1] = '\0';
  }
  sVar2 = strlen(param_1);
  builtin_strncpy(param_1 + sVar2,".cgminer/",10);
  mkdir(param_1,0x1ff);
  sVar2 = strlen(param_1);
  builtin_strncpy(param_1 + sVar2,"cgminer.conf",0xd);
  return;
}




void FUN_00015d7c(undefined8 *param_1)

{
  void *__ptr;
  double in_d0;
  double dVar1;
  double dVar2;
  undefined8 local_838;
  undefined8 local_830;
  undefined8 local_828;
  undefined8 local_820;
  char local_818 [4];
  char acStack_814 [4];
  char acStack_810 [4];
  char acStack_80c [4];
  char local_808 [4];
  char acStack_804 [4];
  char acStack_800 [4];
  undefined2 uStack_7fc;
  undefined1 local_7fa;
  
  if (in_d0 == 0.0) {
    if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 3)) {
      in_d0 = 1.0;
    }
    else {
      local_818[0] = 'D';
      local_818[1] = 'i';
      local_818[2] = 'f';
      local_818[3] = 'f';
      acStack_814[0] = ' ';
      acStack_814[1] = 'z';
      acStack_814[2] = 'e';
      acStack_814[3] = 'r';
      acStack_810[0] = 'o';
      acStack_810[1] = ' ';
      acStack_810[2] = 'p';
      acStack_810[3] = 'a';
      acStack_80c[0] = 's';
      acStack_80c[1] = 's';
      acStack_80c[2] = 'e';
      acStack_80c[3] = 'd';
      local_808[0] = ' ';
      local_808[1] = 't';
      local_808[2] = 'o';
      local_808[3] = ' ';
      acStack_804[0] = 's';
      acStack_804[1] = 'e';
      acStack_804[2] = 't';
      acStack_804[3] = '_';
      acStack_800[0] = 't';
      acStack_800[1] = 'a';
      acStack_800[2] = 'r';
      acStack_800[3] = 'g';
      uStack_7fc = 0x7465;
      local_7fa = 0;
      FUN_00038438(3,local_818,0);
      in_d0 = 1.0;
    }
  }
  dVar1 = 1.7668201048317172e+72;
  if (DAT_00063df9 == '\0') {
    dVar1 = 2.695953529101131e+67;
  }
  dVar2 = (dVar1 / in_d0) * 1.5930919111324523e-58;
  local_820 = FUN_000494c0(SUB84(dVar2,0),(int)((ulonglong)dVar2 >> 0x20));
  dVar2 = (double)FUN_000493c8();
  dVar1 = dVar1 / in_d0 - dVar2 * 6.277101735386681e+57;
  dVar2 = dVar1 * 2.938735877055719e-39;
  local_828 = FUN_000494c0(SUB84(dVar2,0),(int)((ulonglong)dVar2 >> 0x20));
  dVar2 = (double)FUN_000493c8();
  dVar1 = dVar1 - dVar2 * 3.402823669209385e+38;
  dVar2 = dVar1 * 5.421010862427522e-20;
  local_830 = FUN_000494c0(SUB84(dVar2,0),(int)((ulonglong)dVar2 >> 0x20));
  dVar2 = (double)FUN_000493c8();
  dVar1 = dVar1 - dVar2 * 1.8446744073709552e+19;
  local_838 = FUN_000494c0(SUB84(dVar1,0),(int)((ulonglong)dVar1 >> 0x20));
  if (DAT_000630c1 != '\0') {
    __ptr = (void *)FUN_000294b8(&local_838,0x20);
    if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      snprintf(local_818,0x800,"Generated target %s",__ptr);
      FUN_00038438(7,local_818,0);
    }
    free(__ptr);
  }
  *param_1 = local_838;
  param_1[1] = local_830;
  param_1[2] = local_828;
  param_1[3] = local_820;
  return;
}




bool FUN_00015fdc(int param_1,undefined4 param_2)

{
  uint uVar1;
  
  *(undefined4 *)(param_1 + 0x4c) = param_2;
  if (DAT_00063df9 == '\0') {
    FUN_000117a4();
  }
  else {
    FUN_00014a88();
  }
  if (DAT_00063df9 == '\0') {
    uVar1 = 0;
  }
  else {
    uVar1 = 0xffff;
  }
  return *(uint *)(param_1 + 0xdc) <= uVar1;
}




bool FUN_00016030(int param_1,undefined4 param_2)

{
  uint uVar1;
  bool bVar2;
  double in_d0;
  double dVar3;
  undefined8 uVar4;
  
  *(undefined4 *)(param_1 + 0x4c) = param_2;
  if (DAT_00063df9 == '\0') {
    FUN_000117a4();
  }
  else {
    FUN_00014a88();
  }
  dVar3 = 281470681743360.0;
  if (DAT_00063df9 == '\0') {
    dVar3 = 4294901760.0;
  }
  uVar4 = FUN_000494c0(SUB84(dVar3 / in_d0,0),(int)((ulonglong)(dVar3 / in_d0) >> 0x20));
  uVar1 = (uint)((ulonglong)uVar4 >> 0x20);
  bVar2 = *(uint *)(param_1 + 0xdc) <= uVar1;
  if (uVar1 == *(uint *)(param_1 + 0xdc)) {
    bVar2 = *(uint *)(param_1 + 0xd8) <= (uint)uVar4;
  }
  return bVar2;
}




void FUN_000160b4(int param_1,int param_2)

{
  size_t __size;
  uint uVar1;
  void *pvVar2;
  uint uVar3;
  int *piVar4;
  int iVar5;
  undefined4 uVar6;
  int iVar7;
  uint uVar8;
  uint uVar9;
  int iVar10;
  undefined4 *puVar11;
  int iVar12;
  uint local_2c;
  
  *(int *)(param_1 + 0x168) = *(int *)(param_1 + 0x168) + 1;
  *(undefined4 *)(param_2 + 0x160) = 0;
  *(int *)(param_2 + 0x16c) = param_2 + 0x154;
  *(undefined4 *)(param_2 + 0x170) = 4;
  if (*(int *)(param_1 + 0x160) == 0) {
    *(int *)(param_1 + 0x160) = param_2;
    *(undefined4 *)(param_2 + 0x15c) = 0;
    iVar7 = *(int *)(param_1 + 0x160);
    pvVar2 = malloc(0x2c);
    *(void **)(iVar7 + 0x158) = pvVar2;
    pvVar2 = *(void **)(*(int *)(param_1 + 0x160) + 0x158);
    if (pvVar2 == (void *)0x0) goto LAB_000164f8;
    memset(pvVar2,0,0x2c);
    piVar4 = (int *)(*(int *)(param_1 + 0x160) + 0x158);
    *(int **)(*piVar4 + 0x10) = piVar4;
    *(undefined4 *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 4) = 0x20;
    *(undefined4 *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 8) = 5;
    *(undefined4 *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 0x14) = 0x158;
    puVar11 = *(undefined4 **)(*(int *)(param_1 + 0x160) + 0x158);
    pvVar2 = malloc(0x180);
    *puVar11 = pvVar2;
    pvVar2 = (void *)**(undefined4 **)(*(int *)(param_1 + 0x160) + 0x158);
    if (pvVar2 == (void *)0x0) goto LAB_000164f8;
    memset(pvVar2,0,0x180);
    *(undefined4 *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 0x28) = 0xa0111fe1;
  }
  else {
    *(int *)(*(int *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 0x10) + 8) = param_2;
    iVar7 = *(int *)(*(int *)(param_1 + 0x160) + 0x158);
    *(int *)(param_2 + 0x15c) = *(int *)(iVar7 + 0x10) - *(int *)(iVar7 + 0x14);
    *(int *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 0x10) = param_2 + 0x158;
  }
  iVar7 = *(int *)(*(int *)(param_1 + 0x160) + 0x158);
  *(int *)(iVar7 + 0xc) = *(int *)(iVar7 + 0xc) + 1;
  uVar8 = *(byte *)(param_2 + 0x154) + 0x112410d + (uint)*(byte *)(param_2 + 0x157) * 0x1000000 +
          (uint)*(byte *)(param_2 + 0x156) * 0x10000 + (uint)*(byte *)(param_2 + 0x155) * 0x100 ^ 0x7f76d;
  uVar3 = 0x9f49bac6 - uVar8 ^ uVar8 << 8;
  uVar1 = (-0x112410d - uVar8) - uVar3 ^ uVar3 >> 0xd;
  puVar11 = (undefined4 *)(param_2 + 0x158);
  *puVar11 = *(undefined4 *)(*(int *)(param_1 + 0x160) + 0x158);
  uVar8 = (uVar8 - uVar3) - uVar1 ^ uVar1 >> 0xc;
  uVar3 = (uVar3 - uVar1) - uVar8 ^ uVar8 << 0x10;
  uVar9 = (uVar1 - uVar8) - uVar3 ^ uVar3 >> 5;
  uVar1 = (uVar8 - uVar3) - uVar9 ^ uVar9 >> 3;
  uVar8 = (uVar3 - uVar9) - uVar1 ^ uVar1 << 10;
  uVar1 = (uVar9 - uVar1) - uVar8 ^ uVar8 >> 0xf;
  *(uint *)(param_2 + 0x174) = uVar1;
  piVar4 = *(int **)(*(int *)(param_1 + 0x160) + 0x158);
  iVar7 = (uVar1 & piVar4[1] - 1U) * 0xc;
  iVar5 = *piVar4 + iVar7;
  *(int *)(iVar5 + 4) = *(int *)(iVar5 + 4) + 1;
  uVar6 = *(undefined4 *)(**(int **)(*(int *)(param_1 + 0x160) + 0x158) + iVar7);
  *(undefined4 *)(param_2 + 0x164) = 0;
  *(undefined4 *)(param_2 + 0x168) = uVar6;
  iVar5 = **(int **)(*(int *)(param_1 + 0x160) + 0x158);
  if (*(int *)(iVar5 + iVar7) != 0) {
    *(undefined4 **)(*(int *)(iVar5 + iVar7) + 0xc) = puVar11;
    iVar5 = **(int **)(*(int *)(param_1 + 0x160) + 0x158);
  }
  *(undefined4 **)(iVar5 + iVar7) = puVar11;
  iVar7 = **(int **)(*(int *)(param_1 + 0x160) + 0x158) + iVar7;
  if (((uint)((*(int *)(iVar7 + 8) + 1) * 10) <= *(uint *)(iVar7 + 4)) &&
     (*(int *)(*(int *)(param_2 + 0x158) + 0x24) != 1)) {
    __size = *(int *)(*(int *)(param_2 + 0x158) + 4) * 0x18;
    pvVar2 = malloc(__size);
    if (pvVar2 == (void *)0x0) {
LAB_000164f8:
                    /* WARNING: Subroutine does not return */
      exit(-1);
    }
    memset(pvVar2,0,__size);
    iVar7 = *(int *)(param_2 + 0x158);
    iVar5 = 0;
    *(uint *)(iVar7 + 0x18) =
         (uint)((*(int *)(iVar7 + 4) * 2 - 1U & *(uint *)(iVar7 + 0xc)) != 0) +
         (*(uint *)(iVar7 + 0xc) >> (*(int *)(iVar7 + 8) + 1U & 0xff));
    *(undefined4 *)(*(int *)(param_2 + 0x158) + 0x1c) = 0;
    piVar4 = *(int **)(param_2 + 0x158);
    uVar1 = piVar4[1];
    if (uVar1 != 0) {
      local_2c = 0;
      do {
        iVar7 = *(int *)(*piVar4 + iVar5);
        if (*(int *)(*piVar4 + iVar5) != 0) {
          while( true ) {
            iVar12 = *(int *)(iVar7 + 0x10);
            uVar8 = uVar1 * 2 - 1 & *(uint *)(iVar7 + 0x1c);
            uVar1 = *(int *)((int)pvVar2 + uVar8 * 0xc + 4) + 1;
            *(uint *)((int)pvVar2 + uVar8 * 0xc + 4) = uVar1;
            if ((uint)piVar4[6] < uVar1) {
              piVar4[7] = piVar4[7] + 1;
              uVar6 = FUN_00048ec0(*(undefined4 *)((int)pvVar2 + uVar8 * 0xc + 4),
                                   *(undefined4 *)(*(int *)(param_2 + 0x158) + 0x18));
              *(undefined4 *)((int)pvVar2 + uVar8 * 0xc + 8) = uVar6;
            }
            *(undefined4 *)(iVar7 + 0xc) = 0;
            *(undefined4 *)(iVar7 + 0x10) = *(undefined4 *)((int)pvVar2 + uVar8 * 0xc);
            iVar10 = *(int *)((int)pvVar2 + uVar8 * 0xc);
            if (iVar10 != 0) {
              *(int *)(iVar10 + 0xc) = iVar7;
            }
            *(int *)((int)pvVar2 + uVar8 * 0xc) = iVar7;
            piVar4 = *(int **)(param_2 + 0x158);
            if (iVar12 == 0) break;
            uVar1 = piVar4[1];
            iVar7 = iVar12;
          }
          uVar1 = piVar4[1];
        }
        iVar5 = iVar5 + 0xc;
        local_2c = local_2c + 1;
      } while (local_2c < uVar1);
    }
    free((void *)*piVar4);
    *(int *)(*(int *)(param_2 + 0x158) + 4) = *(int *)(*(int *)(param_2 + 0x158) + 4) << 1;
    *(int *)(*(int *)(param_2 + 0x158) + 8) = *(int *)(*(int *)(param_2 + 0x158) + 8) + 1;
    **(undefined4 **)(param_2 + 0x158) = pvVar2;
    iVar7 = *(int *)(param_2 + 0x158);
    if (*(uint *)(iVar7 + 0xc) >> 1 < *(uint *)(iVar7 + 0x1c)) {
      iVar5 = *(int *)(iVar7 + 0x20) + 1;
    }
    else {
      iVar5 = 0;
    }
    *(int *)(iVar7 + 0x20) = iVar5;
    if (1 < *(uint *)(*(int *)(param_2 + 0x158) + 0x20)) {
      *(undefined4 *)(*(int *)(param_2 + 0x158) + 0x24) = 1;
    }
  }
  return;
}




int FUN_00016500(int param_1,void *param_2,size_t param_3,void *param_4,int param_5,size_t param_6)

{
  int iVar1;
  int iVar2;
  
  if (param_1 != 0) {
    iVar1 = *(int *)(param_1 + 0x160);
    while( true ) {
      iVar2 = iVar1;
      iVar1 = memcmp((void *)(param_1 + 0x80),param_2,param_3);
      if ((iVar1 == 0) && (iVar1 = memcmp((void *)(param_1 + param_5),param_4,param_6), iVar1 == 0)) break;
      if (iVar2 == 0) {
        return 0;
      }
      iVar1 = *(int *)(iVar2 + 0x160);
      param_1 = iVar2;
    }
  }
  return param_1;
}




void FUN_000165c0(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  
  *(int *)(param_1 + 0x168) = *(int *)(param_1 + 0x168) + -1;
  iVar2 = *(int *)(param_2 + 0x15c);
  if ((iVar2 == 0) && (*(int *)(param_2 + 0x160) == 0)) {
    free((void *)**(undefined4 **)(*(int *)(param_1 + 0x160) + 0x158));
    free(*(void **)(*(int *)(param_1 + 0x160) + 0x158));
    *(undefined4 *)(param_1 + 0x160) = 0;
    return;
  }
  iVar1 = *(int *)(*(int *)(param_1 + 0x160) + 0x158);
  if (*(int *)(iVar1 + 0x10) - *(int *)(iVar1 + 0x14) == param_2) {
    *(int *)(iVar1 + 0x10) = iVar2 + *(int *)(iVar1 + 0x14);
    iVar2 = *(int *)(param_2 + 0x15c);
  }
  if (iVar2 != 0) {
    iVar1 = iVar2 + *(int *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 0x14);
    *(undefined4 *)(iVar1 + 8) = *(undefined4 *)(param_2 + 0x160);
  }
  else {
    iVar1 = *(int *)(param_2 + 0x160);
    *(int *)(param_1 + 0x160) = iVar1;
  }
  if (iVar2 != 0) {
    iVar1 = *(int *)(param_1 + 0x160);
  }
  if (*(int *)(param_2 + 0x160) != 0) {
    *(undefined4 *)(*(int *)(param_2 + 0x160) + *(int *)(*(int *)(iVar1 + 0x158) + 0x14) + 4) =
         *(undefined4 *)(param_2 + 0x15c);
    iVar1 = *(int *)(param_1 + 0x160);
  }
  iVar2 = ((*(int **)(iVar1 + 0x158))[1] - 1U & *(uint *)(param_2 + 0x174)) * 0xc;
  iVar1 = **(int **)(iVar1 + 0x158) + iVar2;
  *(int *)(iVar1 + 4) = *(int *)(iVar1 + 4) + -1;
  iVar1 = **(int **)(*(int *)(param_1 + 0x160) + 0x158);
  if (*(int *)(iVar1 + iVar2) == param_2 + 0x158) {
    *(undefined4 *)(iVar1 + iVar2) = *(undefined4 *)(param_2 + 0x168);
  }
  if (*(int *)(param_2 + 0x164) != 0) {
    *(undefined4 *)(*(int *)(param_2 + 0x164) + 0x10) = *(undefined4 *)(param_2 + 0x168);
  }
  if (*(int *)(param_2 + 0x168) != 0) {
    *(undefined4 *)(*(int *)(param_2 + 0x168) + 0xc) = *(undefined4 *)(param_2 + 0x164);
  }
  iVar2 = *(int *)(*(int *)(param_1 + 0x160) + 0x158);
  *(int *)(iVar2 + 0xc) = *(int *)(iVar2 + 0xc) + -1;
  return;
}




void FUN_00016704(int param_1)

{
  if (*(int *)(param_1 + 0x20) == 1) {
    return;
  }
  (**(code **)(*(int *)(param_1 + 4) + 0x10))();
  return;
}




void FUN_00016724(undefined4 param_1)

{
  FUN_0001c160(param_1,1);
  return;
}




char * FUN_00016814(char *param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  int *piVar1;
  size_t sVar2;
  size_t sVar3;
  char *__s;
  undefined1 auStack_90c [92];
  char acStack_8b0 [160];
  char local_810 [4];
  char acStack_80c [4];
  char acStack_808 [4];
  char acStack_804 [4];
  char local_800 [4];
  char acStack_7fc [4];
  char acStack_7f8 [4];
  undefined1 local_7f4;
  undefined4 local_10;
  
  local_10 = param_4;
  if (DAT_000611d4 == 0) {
    DAT_000611d4 = __strdup();
  }
  DAT_000611d8 = DAT_000611d8 + 1;
  if (10 < DAT_000611d8) {
    return "Too many levels of JSON includes (limit 10) or a loop";
  }
  piVar1 = (int *)FUN_00045c84(param_1,0,auStack_90c,local_10);
  if ((piVar1 == (int *)0x0) || (*piVar1 != 0)) {
    sVar2 = strlen(param_1);
    sVar3 = strlen(acStack_8b0);
    sVar2 = sVar2 + sVar3 + 0x23;
    __s = (char *)malloc(sVar2);
    if (__s == (char *)0x0) {
      local_810[0] = 'M';
      local_810[1] = 'a';
      local_810[2] = 'l';
      local_810[3] = 'l';
      acStack_80c[0] = 'o';
      acStack_80c[1] = 'c';
      acStack_80c[2] = ' ';
      acStack_80c[3] = 'f';
      acStack_808[0] = 'a';
      acStack_808[1] = 'i';
      acStack_808[2] = 'l';
      acStack_808[3] = 'u';
      acStack_804[0] = 'r';
      acStack_804[1] = 'e';
      acStack_804[2] = ' ';
      acStack_804[3] = 'i';
      local_800[0] = 'n';
      local_800[1] = ' ';
      local_800[2] = 'j';
      local_800[3] = 's';
      acStack_7fc[0] = 'o';
      acStack_7fc[1] = 'n';
      acStack_7fc[2] = ' ';
      acStack_7fc[3] = 'e';
      acStack_7f8[0] = 'r';
      acStack_7f8[1] = 'r';
      acStack_7f8[2] = 'o';
      acStack_7f8[3] = 'r';
      local_7f4 = 0;
      FUN_00038438(3,local_810,1);
      FUN_00016724(1);
    }
    snprintf(__s,sVar2,"JSON decode of file \'%s\' failed\n %s",param_1,acStack_8b0);
  }
  else {
    DAT_000611d0 = 1;
    __s = (char *)FUN_00016868(piVar1,1);
  }
  return __s;
}




undefined * FUN_00016868(undefined4 param_1,int param_2)

{
  uint *puVar1;
  char *__s;
  char *pcVar2;
  uint uVar3;
  int *piVar4;
  int *piVar5;
  undefined *puVar6;
  undefined4 uVar7;
  char *pcVar8;
  uint uVar9;
  undefined4 *puVar10;
  char acStack_828 [2052];
  
  if ((param_2 != 0) && (DAT_000612a4 == 0)) {
    DAT_000612a4 = 1;
  }
  if (DAT_0005f8a4 != 0x10) {
    if ((DAT_0005f8a4 & 8) == 0) {
      puVar10 = &DAT_0005f8bc;
      do {
        if (puVar10[-7] != 0) {
          __s = (char *)__strdup();
          pcVar2 = strtok(__s,"|");
          while (pcVar2 != (char *)0x0) {
            if ((pcVar2[1] == '-') && (piVar5 = (int *)FUN_00046698(param_1,pcVar2 + 2), piVar5 != (int *)0x0)) {
              if ((puVar10[-6] & 6) == 0) {
LAB_00016934:
                if (((puVar10[-6] & 1) != 0) && (*piVar5 == 5)) {
                  pcVar8 = (char *)(*(code *)puVar10[-5])(puVar10[-2]);
                  goto LAB_00016adc;
                }
                pcVar8 = "Invalid value";
              }
              else {
                if (*piVar5 != 2) {
                  if (*piVar5 == 1) {
                    uVar9 = 0;
                    while ((uVar3 = FUN_00046864(piVar5), uVar9 < uVar3 &&
                           (piVar4 = (int *)FUN_00046880(piVar5,uVar9), piVar4 != (int *)0x0))) {
                      if (*piVar4 == 2) {
                        uVar7 = FUN_000469f0();
                        pcVar8 = (char *)(*(code *)puVar10[-4])(uVar7,puVar10[-2]);
                        if (puVar10[-6] == 4) {
                          FUN_00047a4c(uVar7,puVar10[-2]);
                        }
LAB_00016a40:
                        if (pcVar8 != (char *)0x0) goto joined_r0x00016a50;
                      }
                      else if (*piVar4 == 0) {
                        pcVar8 = (char *)FUN_00016868();
                        goto LAB_00016a40;
                      }
                      uVar9 = uVar9 + 1;
                    }
                    goto LAB_000168e0;
                  }
                  goto LAB_00016934;
                }
                uVar7 = FUN_000469f0();
                pcVar8 = (char *)(*(code *)puVar10[-4])(uVar7,puVar10[-2]);
                if (puVar10[-6] == 4) {
                  FUN_00047a4c(uVar7,puVar10[-2]);
                }
LAB_00016adc:
                if (pcVar8 == (char *)0x0) goto LAB_000168e0;
              }
joined_r0x00016a50:
              if (param_2 == 0) {
                snprintf(&DAT_000611dc,200,"Parsing JSON option %s: %s",pcVar2,pcVar8);
                return &DAT_000611dc;
              }
              if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
                snprintf(acStack_828,0x800,"Invalid config option %s: %s",pcVar2,pcVar8);
                FUN_00038438(3,acStack_828,0);
              }
              DAT_000612a4 = -1;
            }
LAB_000168e0:
            pcVar2 = strtok((char *)0x0,"|");
          }
          free(__s);
        }
        puVar1 = puVar10 + 1;
        if (*puVar1 == 0x10) goto LAB_00016afc;
        puVar10 = puVar10 + 7;
      } while ((*puVar1 & 8) == 0);
    }
                    /* WARNING: Subroutine does not return */
    __assert_fail("!(opt->type & OPT_SUBTABLE)","cgminer.c",0x79e,"parse_config");
  }
LAB_00016afc:
  piVar5 = (int *)FUN_00046698(param_1,"include");
  if (piVar5 == (int *)0x0) {
    puVar6 = (undefined *)0x0;
  }
  else if (*piVar5 == 2) {
    uVar7 = FUN_000469f0(piVar5);
    puVar6 = (undefined *)FUN_00016814(uVar7,0);
  }
  else {
    puVar6 = (undefined *)0x0;
  }
  return puVar6;
}




void FUN_00016b7c(int param_1,undefined4 param_2)

{
  char *__s1;
  int iVar1;
  char *__dest;
  char local_810 [4];
  char acStack_80c [4];
  char acStack_808 [4];
  char acStack_804 [4];
  char local_800 [4];
  char acStack_7fc [4];
  undefined2 uStack_7f8;
  undefined1 local_7f6;
  
  __s1 = (char *)FUN_0002b5c8(param_2,param_1);
  iVar1 = FUN_000150b4(param_1,__s1);
  if (iVar1 == 0) {
    FUN_00047a4c(__s1,param_1 + 0xa4);
    iVar1 = strncmp(__s1,"http://",7);
    if ((iVar1 != 0) && (iVar1 = strncmp(__s1,"https://",8), iVar1 != 0)) {
      __dest = (char *)malloc(0x100);
      if (__dest == (char *)0x0) {
        local_810[0] = 'F';
        local_810[1] = 'a';
        local_810[2] = 'i';
        local_810[3] = 'l';
        acStack_80c[0] = 'e';
        acStack_80c[1] = 'd';
        acStack_80c[2] = ' ';
        acStack_80c[3] = 't';
        acStack_808[0] = 'o';
        acStack_808[1] = ' ';
        acStack_808[2] = 'm';
        acStack_808[3] = 'a';
        acStack_804[0] = 'l';
        acStack_804[1] = 'l';
        acStack_804[2] = 'o';
        acStack_804[3] = 'c';
        local_800[0] = ' ';
        local_800[1] = 'h';
        local_800[2] = 't';
        local_800[3] = 't';
        acStack_7fc[0] = 'p';
        acStack_7fc[1] = 'i';
        acStack_7fc[2] = 'n';
        acStack_7fc[3] = 'p';
        uStack_7f8 = 0x7475;
        local_7f6 = 0;
        FUN_00038438(3,local_810,1);
        FUN_00016724(1);
      }
      builtin_strncpy(__dest,"stratum+tcp://",0xf);
      strncat(__dest,__s1,0xf2);
      FUN_000150b4(param_1,__dest);
    }
  }
  return;
}




void FUN_00016c8c(void)

{
  int iVar1;
  pthread_t apStack_c [2];
  
  FUN_0002b13c(&DAT_000611b4);
  iVar1 = pthread_create(apStack_c,(pthread_attr_t *)0x0,FUN_00022ec4,(void *)0x0);
  if (iVar1 != 0) {
    FUN_0000b498();
  }
  return;
}




void FUN_00016cd0(void *param_1)

{
  char *pcVar1;
  byte *pbVar2;
  size_t sVar3;
  size_t sVar4;
  long lVar5;
  byte *__s;
  byte **ppbVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  byte *local_c3c [2];
  int local_c34;
  char *local_c30;
  char *local_c2c;
  byte local_c28 [1024];
  char local_828 [4];
  char acStack_824 [4];
  char acStack_820 [4];
  char acStack_81c [4];
  char local_818 [4];
  char acStack_814 [4];
  char acStack_810 [4];
  char acStack_80c [4];
  undefined1 local_808;
  char acStack_7a0 [1916];
  
  if (DAT_000612a8 == (FILE *)0x0) {
    if (DAT_000612ac == (char *)0x0) {
      local_828[0] = 'B';
      local_828[1] = 'E';
      local_828[2] = 'N';
      local_828[3] = 'C';
      acStack_824[0] = 'H';
      acStack_824[1] = 'F';
      acStack_824[2] = 'I';
      acStack_824[3] = 'L';
      acStack_820[0] = 'E';
      acStack_820[1] = ' ';
      acStack_820[2] = 'I';
      acStack_820[3] = 'n';
      acStack_81c[0] = 'v';
      acStack_81c[1] = 'a';
      acStack_81c[2] = 'l';
      acStack_81c[3] = 'i';
      local_818[0] = 'd';
      local_818[1] = ' ';
      local_818[2] = 'b';
      local_818[3] = 'e';
      acStack_814[0] = 'n';
      acStack_814[1] = 'c';
      acStack_814[2] = 'h';
      acStack_814[3] = 'f';
      acStack_810[0] = 'i';
      acStack_810[1] = 'l';
      acStack_810[2] = 'e';
      acStack_810[3] = ' ';
      acStack_80c[0] = 'N';
      acStack_80c[1] = 'U';
      acStack_80c[2] = 'L';
      acStack_80c[3] = 'L';
      local_808 = 0;
      FUN_00038438(3,local_828,1);
      FUN_00016724(1);
    }
    else {
      DAT_000612a8 = fopen(DAT_000612ac,"r");
    }
    if (DAT_000612a8 == (FILE *)0x0) {
      snprintf(local_828,0x800,"BENCHFILE Failed to open benchfile \'%s\'",DAT_000612ac);
      FUN_00038438(3,local_828,1);
      FUN_00016724(1);
    }
    DAT_000612b0 = 0;
    pcVar1 = fgets((char *)local_c28,0x400,DAT_000612a8);
    if (pcVar1 == (char *)0x0) {
      snprintf(local_828,0x800,"BENCHFILE Failed to read benchfile \'%s\'",DAT_000612ac);
      FUN_00038438(3,local_828,1);
      FUN_00016724(1);
    }
    DAT_000612b4 = 0;
  }
  else {
    pcVar1 = fgets((char *)local_c28,0x400,DAT_000612a8);
    if (pcVar1 == (char *)0x0) goto joined_r0x00016d50;
  }
  do {
    __s = local_c28;
    DAT_000612b0 = DAT_000612b0 + 1;
    if ((local_c28[0] != 0x23 && local_c28[0] != 0) && (local_c28[0] != 0x2f)) {
      ppbVar6 = local_c3c;
      iVar7 = 0;
      iVar8 = 1;
      local_c3c[0] = __s;
      do {
        pbVar2 = (byte *)strchr((char *)__s,0x2c);
        ppbVar6[1] = pbVar2;
        if (pbVar2 == (byte *)0x0) {
          snprintf(local_828,0x800,"BENCHFILE Invalid input file line %d - field count is %d but should be %d",
                   DAT_000612b0,iVar8,5);
          FUN_00038438(3,local_828,1);
          FUN_00016724(1);
        }
        iVar9 = *(int *)((int)&DAT_00049f24 + iVar7);
        if ((iVar9 != 0) && ((int)pbVar2 - (int)*ppbVar6 != iVar9)) {
          snprintf(local_828,0x800,"BENCHFILE Invalid input file line %d field %d (%s) length is %d but should be %d",
                   DAT_000612b0,iVar8,*(undefined4 *)((int)&DAT_00049f28 + iVar7),(int)pbVar2 - (int)*ppbVar6,iVar9);
          FUN_00038438(3,local_828,1);
          FUN_00016724(1);
        }
        iVar8 = iVar8 + 1;
        __s = pbVar2 + 1;
        *pbVar2 = 0;
        iVar7 = iVar7 + 8;
        ppbVar6[1] = __s;
        ppbVar6 = ppbVar6 + 1;
      } while (iVar8 != 5);
      sVar3 = strlen(local_c2c);
      if ((int)sVar3 < 10) {
        snprintf(local_828,0x800,
                 "BENCHFILE Invalid input file line %d field %d (%s) length is %d but should be least %d",DAT_000612b0,5
                 ,"NonceTime",sVar3,10);
        FUN_00038438(3,local_828,1);
        FUN_00016724(1);
      }
      sprintf(local_828,"0000000%c",(uint)*local_c3c[0]);
      sVar4 = strlen(local_828);
      local_c34 = local_c34 + 0x38;
      sVar3 = sVar4;
      do {
        pcVar1 = local_828 + sVar3;
        sVar3 = sVar3 + 8;
        sprintf(pcVar1,"%.8s",local_c34);
        local_c34 = local_c34 + -8;
      } while (sVar3 != sVar4 + 0x40);
      iVar7 = (int)local_c3c[1] + 0x38;
      do {
        pcVar1 = local_828 + sVar3;
        sVar3 = sVar3 + 8;
        sprintf(pcVar1,"%.8s",iVar7);
        iVar7 = iVar7 + -8;
      } while (sVar3 != sVar4 + 0x80);
      lVar5 = strtol(local_c2c,(char **)0x0,10);
      sprintf(local_828 + sVar3,"%08lx",lVar5);
      strcpy(local_828 + sVar4 + 0x88,local_c30);
      memset(param_1,0,0x1e0);
      FUN_000295b8(param_1,local_828,(int)(sVar4 + 0x90) >> 1);
      FUN_000117f4(param_1);
      DAT_000612b4 = DAT_000612b4 + 1;
      return;
    }
    pcVar1 = fgets((char *)__s,0x400,DAT_000612a8);
  } while (pcVar1 != (char *)0x0);
joined_r0x00016d50:
  if (DAT_000612b4 == 0) {
    snprintf(local_828,0x800,"BENCHFILE No work in benchfile \'%s\'",DAT_000612ac);
    FUN_00038438(3,local_828,1);
    FUN_00016724(1);
  }
  fclose(DAT_000612a8);
  DAT_000612a8 = (FILE *)0x0;
  FUN_00016cd0(param_1);
  return;
}




void FUN_0001715c(char *param_1,uint param_2,int param_3)

{
  size_t sVar1;
  size_t sVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined4 extraout_s1;
  double dVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined1 auStack_8a0 [16];
  undefined1 auStack_890 [16];
  char acStack_880 [64];
  char acStack_840 [2052];
  
  uVar7 = FUN_00015324(param_3);
  FUN_000493dc(*(undefined4 *)(param_3 + 0xc0),*(undefined4 *)(param_3 + 0xc4));
  dVar8 = *(double *)(param_3 + 0x30) * 1000000.0;
  uVar9 = FUN_000494c0(SUB84(dVar8,0),(int)((ulonglong)dVar8 >> 0x20));
  dVar8 = (*(double *)(param_3 + 0x50) / (double)CONCAT44(extraout_s1,uVar7)) * 1000000.0;
  uVar10 = FUN_000494c0(SUB84(dVar8,0),(int)((ulonglong)dVar8 >> 0x20));
  FUN_00011130((int)uVar10,(int)((ulonglong)uVar10 >> 0x20),auStack_8a0,0x10,4);
  FUN_00011130((int)uVar9,(int)((ulonglong)uVar9 >> 0x20),auStack_890,0x10,4);
  snprintf(param_1,param_2,"%s%d ",*(undefined4 *)(*(int *)(param_3 + 4) + 8),*(undefined4 *)(param_3 + 8));
  (**(code **)(*(int *)(param_3 + 4) + 0x14))(param_1,param_2,param_3);
  sVar1 = strlen(param_1);
  uVar3 = *(undefined4 *)(param_3 + 200);
  uVar4 = *(undefined4 *)(param_3 + 0xcc);
  uVar7 = *(undefined4 *)(param_3 + 0x2c);
  uVar5 = *(undefined4 *)(param_3 + 0xd0);
  uVar6 = *(undefined4 *)(param_3 + 0xd4);
  snprintf(acStack_880,0x40,"(%ds):%s (avg):%sh/s | A:%.0f R:%.0f HW:%d WU:%.1f/m",DAT_0006006c,auStack_890,auStack_8a0,
           uVar3,uVar4,uVar5,uVar6,uVar7);
  sVar2 = strlen(acStack_880);
  if (param_2 <= sVar2 + sVar1) {
    snprintf(acStack_840,0x800,"tailsprintf buffer overflow in %s %s line %d","cgminer.c","get_statline",0xc06,uVar3,
             uVar4,uVar5,uVar6,uVar7);
    FUN_00038438(3,acStack_840,1);
    FUN_00016724(1);
  }
  strcat(param_1,acStack_880);
  (**(code **)(*(int *)(param_3 + 4) + 0x18))(param_1,param_2,param_3);
  return;
}




void FUN_00017328(void)

{
  char local_808 [24];
  undefined2 local_7f0;
  
  FUN_0002f38c(&LAB_0001c708,0,5000);
  builtin_strncpy(local_808,"Shutdown signal received",0x18);
  local_7f0 = 0x2e;
  FUN_00038438(3,local_808,1);
  FUN_00016724(0);
  return;
}




void FUN_0001738c(void)

{
  sigaction(0xf,(sigaction *)&DAT_000636b0,(sigaction *)0x0);
  sigaction(2,(sigaction *)&DAT_00063eec,(sigaction *)0x0);
  FUN_00017328();
  return;
}




void FUN_000173c0(pthread_mutex_t *param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  
  iVar1 = pthread_mutex_init(param_1,(pthread_mutexattr_t *)0x0);
  if (iVar1 == 0) {
    return;
  }
  FUN_0000b5bc(param_2,param_3);
  return;
}




void FUN_000173ec(pthread_rwlock_t *param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  
  iVar1 = pthread_rwlock_init(param_1,(pthread_rwlockattr_t *)0x0);
  if (iVar1 == 0) {
    return;
  }
  FUN_0000b628(param_2,param_3);
  return;
}




void FUN_00017418(pthread_mutex_t *param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  
  iVar1 = pthread_mutex_init(param_1,(pthread_mutexattr_t *)0x0);
  if (iVar1 != 0) {
    FUN_0000b5bc(param_2,param_3);
  }
  iVar1 = pthread_rwlock_init((pthread_rwlock_t *)(param_1 + 1),(pthread_rwlockattr_t *)0x0);
  if (iVar1 == 0) {
    return;
  }
  FUN_0000b628(param_2,param_3);
  return;
}




int * FUN_0001746c(void)

{
  void *__ptr;
  int *piVar1;
  int iVar2;
  int iVar3;
  char local_810 [4];
  char acStack_80c [4];
  char acStack_808 [4];
  char acStack_804 [4];
  char local_800 [4];
  char acStack_7fc [4];
  char acStack_7f8 [4];
  char acStack_7f4 [4];
  undefined2 local_7f0 [2];
  char acStack_7ec [2012];
  
  piVar1 = (int *)calloc(0x708,1);
  if (piVar1 == (int *)0x0) {
    local_810[0] = 'F';
    local_810[1] = 'a';
    local_810[2] = 'i';
    local_810[3] = 'l';
    acStack_80c[0] = 'e';
    acStack_80c[1] = 'd';
    acStack_80c[2] = ' ';
    acStack_80c[3] = 't';
    acStack_808[0] = 'o';
    acStack_808[1] = ' ';
    acStack_808[2] = 'm';
    acStack_808[3] = 'a';
    acStack_804[0] = 'l';
    acStack_804[1] = 'l';
    acStack_804[2] = 'o';
    acStack_804[3] = 'c';
    local_800[0] = ' ';
    local_800[1] = 'p';
    local_800[2] = 'o';
    local_800[3] = 'o';
    acStack_7fc[0] = 'l';
    acStack_7fc[1] = ' ';
    acStack_7fc[2] = 'i';
    acStack_7fc[3] = 'n';
    acStack_7f8[0] = ' ';
    acStack_7f8[1] = 'a';
    acStack_7f8[2] = 'd';
    acStack_7f8[3] = 'd';
    acStack_7f4[0] = '_';
    acStack_7f4[1] = 'p';
    acStack_7f4[2] = 'o';
    acStack_7f4[3] = 'o';
    local_7f0[0] = 0x6c;
    FUN_00038438(3,local_810,1);
    FUN_00016724(1);
  }
  __ptr = DAT_000639e0;
  iVar2 = DAT_00063740;
  iVar3 = DAT_00063740 + 2;
  piVar1[1] = DAT_00063740;
  *piVar1 = iVar2;
  DAT_000639e0 = realloc(__ptr,iVar3 * 4);
  *(int **)((int)DAT_000639e0 + DAT_00063740 * 4) = piVar1;
  DAT_00063740 = DAT_00063740 + 1;
  iVar2 = pthread_mutex_init((pthread_mutex_t *)(piVar1 + 0x2f),(pthread_mutexattr_t *)0x0);
  if (iVar2 != 0) {
    FUN_0000b5bc("add_pool",0x2ec);
  }
  iVar2 = pthread_cond_init((pthread_cond_t *)(piVar1 + 0x4a),(pthread_condattr_t *)0x0);
  if (iVar2 != 0) {
    local_810[0] = 'F';
    local_810[1] = 'a';
    local_810[2] = 'i';
    local_810[3] = 'l';
    acStack_80c[0] = 'e';
    acStack_80c[1] = 'd';
    acStack_80c[2] = ' ';
    acStack_80c[3] = 't';
    acStack_808[0] = 'o';
    acStack_808[1] = ' ';
    acStack_808[2] = 'p';
    acStack_808[3] = 't';
    acStack_804[0] = 'h';
    acStack_804[1] = 'r';
    acStack_804[2] = 'e';
    acStack_804[3] = 'a';
    local_800[0] = 'd';
    local_800[1] = '_';
    local_800[2] = 'c';
    local_800[3] = 'o';
    acStack_7fc[0] = 'n';
    acStack_7fc[1] = 'd';
    acStack_7fc[2] = '_';
    acStack_7fc[3] = 'i';
    acStack_7f8[0] = 'n';
    acStack_7f8[1] = 'i';
    acStack_7f8[2] = 't';
    acStack_7f8[3] = ' ';
    acStack_7f4[0] = 'i';
    acStack_7f4[1] = 'n';
    acStack_7f4[2] = ' ';
    acStack_7f4[3] = 'a';
    local_7f0[0]._0_1_ = 'd';
    local_7f0[0]._1_1_ = 'd';
    local_7f0[1]._0_1_ = '_';
    local_7f0[1]._1_1_ = 'p';
    acStack_7ec[0] = 'o';
    acStack_7ec[1] = 'o';
    acStack_7ec[2] = 'l';
    acStack_7ec[3] = '\0';
    FUN_00038438(3,local_810,1);
    FUN_00016724(1);
  }
  iVar2 = pthread_mutex_init((pthread_mutex_t *)(piVar1 + 0x35),(pthread_mutexattr_t *)0x0);
  if (iVar2 != 0) {
    FUN_0000b5bc("add_pool",0x2ef);
  }
  iVar2 = pthread_rwlock_init((pthread_rwlock_t *)(piVar1 + 0x3b),(pthread_rwlockattr_t *)0x0);
  if (iVar2 != 0) {
    FUN_0000b628("add_pool",0x2ef);
  }
  iVar2 = pthread_mutex_init((pthread_mutex_t *)(piVar1 + 0xa8),(pthread_mutexattr_t *)0x0);
  if (iVar2 != 0) {
    FUN_0000b5bc("add_pool",0x2f0);
  }
  iVar2 = pthread_mutex_init((pthread_mutex_t *)(piVar1 + 0xb1),(pthread_mutexattr_t *)0x0);
  if (iVar2 != 0) {
    FUN_0000b5bc("add_pool",0x2f1);
  }
  iVar2 = pthread_rwlock_init((pthread_rwlock_t *)(piVar1 + 0xb7),(pthread_rwlockattr_t *)0x0);
  if (iVar2 != 0) {
    FUN_0000b628("add_pool",0x2f1);
  }
  piVar1[0x56] = (int)(piVar1 + 0x56);
  piVar1[0x57] = (int)(piVar1 + 0x56);
  piVar1[0x28] = (int)"{\"method\": \"getwork\", \"params\": [], \"id\":0}\n";
  piVar1[0x22] = -1;
  piVar1[0x2e] = 0;
  piVar1[0xe] = 1;
  FUN_00014e18();
  return piVar1;
}




char * FUN_0001767c(undefined4 param_1)

{
  char *pcVar1;
  void *pvVar2;
  int iVar3;
  
  if ((DAT_000612b8 == 0) && (DAT_000612bc == 0)) {
    DAT_000612c0 = DAT_000612c0 + 1;
    if (DAT_00063740 < DAT_000612c0) {
      FUN_0001746c();
    }
    iVar3 = *(int *)(DAT_000639e0 + (DAT_000612c0 + -1) * 4);
    pcVar1 = (char *)__strdup(param_1);
    FUN_00047a4c(param_1,iVar3 + 0xa8);
    pcVar1 = strtok(pcVar1,":");
    *(char **)(iVar3 + 0xac) = pcVar1;
    if (pcVar1 == (char *)0x0) {
      pcVar1 = "Failed to find : delimited user info";
    }
    else {
      pcVar1 = strtok((char *)0x0,":");
      *(char **)(iVar3 + 0xb0) = pcVar1;
      if (pcVar1 == (char *)0x0) {
        pvVar2 = calloc(1,1);
        *(void **)(iVar3 + 0xb0) = pvVar2;
        pcVar1 = (char *)0x0;
      }
      else {
        pcVar1 = (char *)0x0;
      }
    }
  }
  else {
    pcVar1 = "Use only user + pass or userpass, but not both";
  }
  return pcVar1;
}




char * FUN_0001776c(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  if (DAT_000612c0 != 0) {
    return "Use only user + pass or userpass, but not both";
  }
  DAT_000612b8 = DAT_000612b8 + 1;
  if (DAT_00063740 < DAT_000612b8) {
    FUN_0001746c();
  }
  FUN_00047a4c(param_1,*(int *)(DAT_000639e0 + (DAT_000612b8 + -1) * 4) + 0xac,DAT_000639e0,DAT_000612b8 + -1,param_4);
  return (char *)0x0;
}




undefined4 FUN_000177e8(void)

{
  DAT_000612c4 = DAT_000612c4 + 1;
  if (DAT_00063740 < DAT_000612c4) {
    FUN_0001746c();
  }
  return *(undefined4 *)(DAT_000639e0 + (DAT_000612c4 + -1) * 4);
}




char * FUN_00017850(char *param_1)

{
  char *pcVar1;
  size_t sVar2;
  size_t sVar3;
  long lVar4;
  undefined4 *puVar5;
  char acStack_818 [2052];
  
  pcVar1 = strchr(param_1,0x3b);
  if (pcVar1 == (char *)0x0) {
    pcVar1 = "No semicolon separated quota;URL pair found";
  }
  else {
    sVar2 = strlen(param_1);
    *pcVar1 = '\0';
    sVar3 = strlen(param_1);
    if (sVar3 == 0) {
      pcVar1 = "No parameter for quota found";
    }
    else if ((int)(~sVar3 + sVar2) < 1) {
      pcVar1 = "No parameter for URL found";
    }
    else {
      lVar4 = strtol(param_1,(char **)0x0,10);
      if (lVar4 < 0) {
        pcVar1 = "Invalid negative parameter for quota set";
      }
      else {
        puVar5 = (undefined4 *)FUN_000177e8(lVar4);
        FUN_00016b7c(puVar5,param_1 + sVar3 + 1);
        puVar5[0xe] = lVar4;
        if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
          snprintf(acStack_818,0x800,"Setting pool %d to quota %d",*puVar5,lVar4);
          FUN_00038438(7,acStack_818,0);
        }
        FUN_00014e18();
        pcVar1 = (char *)0x0;
      }
    }
  }
  return pcVar1;
}




char * FUN_00017998(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  if (DAT_000612c0 != 0) {
    return "Use only user + pass or userpass, but not both";
  }
  DAT_000612bc = DAT_000612bc + 1;
  if (DAT_00063740 < DAT_000612bc) {
    FUN_0001746c();
  }
  FUN_00047a4c(param_1,*(int *)(DAT_000639e0 + (DAT_000612bc + -1) * 4) + 0xb0,DAT_000639e0,DAT_000612bc + -1,param_4);
  return (char *)0x0;
}




int FUN_00017a14(int param_1)

{
  int iVar1;
  undefined4 *puVar2;
  int iVar3;
  int iVar4;
  bool bVar5;
  timespec local_830;
  int local_828;
  int local_824;
  char local_820 [4];
  char acStack_81c [4];
  char acStack_818 [4];
  char acStack_814 [4];
  char local_810 [4];
  char acStack_80c [4];
  char acStack_808 [4];
  char acStack_804 [4];
  char local_800 [4];
  uint local_7fc;
  char acStack_7f8 [4];
  undefined1 local_7f4;
  
  iVar1 = pthread_mutex_lock(DAT_000612c8);
  if (iVar1 != 0) {
    FUN_0000b4e4("hash_pop",0x1e24);
  }
  if ((DAT_000612cc == 0) || (*(int *)(*(int *)(DAT_000612cc + 0x158) + 0xc) == 0)) {
    if ((DAT_000612d1 != '\0') && (DAT_00060070 < DAT_00060074)) {
      DAT_00060070 = DAT_00060070 + 1;
      DAT_000612d1 = '\0';
    }
    DAT_000612d2 = 1;
    if (param_1 == 0) goto LAB_00017ccc;
    do {
      FUN_0002b13c(&local_828);
      local_830.tv_nsec = local_824 * 1000;
      local_830.tv_sec = local_828 + 10;
      pthread_cond_signal((pthread_cond_t *)&DAT_00063748);
      iVar1 = pthread_cond_timedwait((pthread_cond_t *)(DAT_00063bc0 + 0x28),DAT_000612c8,&local_830);
      if (((iVar1 != 0) && (DAT_000612d0 == '\0')) &&
         ((DAT_000612d0 = '\x01', DAT_000632f0 != '\0' || ((DAT_000630c0 != '\0' || (3 < DAT_00060964)))))) {
        local_820[0] = 'W';
        local_820[1] = 'a';
        local_820[2] = 'i';
        local_820[3] = 't';
        acStack_81c[0] = 'i';
        acStack_81c[1] = 'n';
        acStack_81c[2] = 'g';
        acStack_81c[3] = ' ';
        acStack_818[0] = 'f';
        acStack_818[1] = 'o';
        acStack_818[2] = 'r';
        acStack_818[3] = ' ';
        acStack_814[0] = 'w';
        acStack_814[1] = 'o';
        acStack_814[2] = 'r';
        acStack_814[3] = 'k';
        local_810[0] = ' ';
        local_810[1] = 't';
        local_810[2] = 'o';
        local_810[3] = ' ';
        acStack_80c[0] = 'b';
        acStack_80c[1] = 'e';
        acStack_80c[2] = ' ';
        acStack_80c[3] = 'a';
        acStack_808[0] = 'v';
        acStack_808[1] = 'a';
        acStack_808[2] = 'i';
        acStack_808[3] = 'l';
        acStack_804[0] = 'a';
        acStack_804[1] = 'b';
        acStack_804[2] = 'l';
        acStack_804[3] = 'e';
        local_800[0] = ' ';
        local_800[1] = 'f';
        local_800[2] = 'r';
        local_800[3] = 'o';
        local_7fc._0_1_ = 'm';
        local_7fc._1_1_ = ' ';
        local_7fc._2_1_ = 'p';
        local_7fc._3_1_ = 'o';
        acStack_7f8[0] = 'o';
        acStack_7f8[1] = 'l';
        acStack_7f8[2] = 's';
        acStack_7f8[3] = '.';
        local_7f4 = 0;
        FUN_00038438(4,local_820,0);
      }
    } while ((DAT_000612cc == 0) || (*(int *)(*(int *)(DAT_000612cc + 0x158) + 0xc) == 0));
  }
  if (DAT_000612d0 != '\0') {
    if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
      local_820[0] = 'W';
      local_820[1] = 'o';
      local_820[2] = 'r';
      local_820[3] = 'k';
      acStack_81c[0] = ' ';
      acStack_81c[1] = 'a';
      acStack_81c[2] = 'v';
      acStack_81c[3] = 'a';
      acStack_818[0] = 'i';
      acStack_818[1] = 'l';
      acStack_818[2] = 'a';
      acStack_818[3] = 'b';
      acStack_814[0] = 'l';
      acStack_814[1] = 'e';
      acStack_814[2] = ' ';
      acStack_814[3] = 'f';
      local_810[0] = 'r';
      local_810[1] = 'o';
      local_810[2] = 'm';
      local_810[3] = ' ';
      acStack_80c[0] = 'p';
      acStack_80c[1] = 'o';
      acStack_80c[2] = 'o';
      acStack_80c[3] = 'l';
      acStack_808[0] = 's';
      acStack_808[1] = ',';
      acStack_808[2] = ' ';
      acStack_808[3] = 'r';
      acStack_804[0] = 'e';
      acStack_804[1] = 's';
      acStack_804[2] = 'u';
      acStack_804[3] = 'm';
      local_800[0] = 'i';
      local_800[1] = 'n';
      local_800[2] = 'g';
      local_800[3] = '.';
      local_7fc = local_7fc & 0xffffff00;
      FUN_00038438(4,local_820,0);
    }
    DAT_000612d0 = '\0';
  }
  iVar1 = DAT_000612cc;
  puVar2 = puRam00000158;
  param_1 = DAT_000612cc;
  if (((DAT_000612cc != 0) && (puVar2 = *(undefined4 **)(DAT_000612cc + 0x158), DAT_000612d4 < (int)puVar2[3])) &&
     (*(char *)(DAT_000612cc + 0x111) == '\0')) {
    iVar3 = *(int *)(DAT_000612cc + 0x114);
    iVar4 = *(int *)(DAT_000612cc + 0x160);
    while ((iVar3 != 0 && (param_1 = iVar4, iVar4 != 0))) {
      if (*(char *)(iVar4 + 0x111) != '\0') {
        iVar4 = *(int *)(iVar4 + 0x15c);
        goto joined_r0x00017da4;
      }
      iVar3 = *(int *)(iVar4 + 0x114);
      iVar4 = *(int *)(iVar4 + 0x160);
    }
  }
  iVar4 = *(int *)(param_1 + 0x15c);
joined_r0x00017da4:
  if ((iVar4 == 0) && (*(int *)(param_1 + 0x160) == 0)) {
    free((void *)*puVar2);
    free(*(void **)(DAT_000612cc + 0x158));
    DAT_000612cc = 0;
  }
  else {
    if (puVar2[4] - puVar2[5] == param_1) {
      puVar2[4] = iVar4 + puVar2[5];
      iVar4 = *(int *)(param_1 + 0x15c);
    }
    if (iVar4 == 0) {
      iVar4 = *(int *)(param_1 + 0x160);
      iVar1 = iVar4;
      DAT_000612cc = iVar4;
    }
    else {
      *(undefined4 *)(iVar4 + *(int *)(*(int *)(iVar1 + 0x158) + 0x14) + 8) = *(undefined4 *)(param_1 + 0x160);
      iVar4 = *(int *)(param_1 + 0x160);
    }
    if (iVar4 != 0) {
      *(undefined4 *)(iVar4 + *(int *)(*(int *)(iVar1 + 0x158) + 0x14) + 4) = *(undefined4 *)(param_1 + 0x15c);
    }
    iVar4 = ((*(int **)(iVar1 + 0x158))[1] - 1U & *(uint *)(param_1 + 0x174)) * 0xc;
    iVar3 = **(int **)(iVar1 + 0x158) + iVar4;
    *(int *)(iVar3 + 4) = *(int *)(iVar3 + 4) + -1;
    puVar2 = (undefined4 *)(iVar1 + 0x158);
    bVar5 = *(int *)(*(int *)*puVar2 + iVar4) == param_1 + 0x158;
    if (bVar5) {
      iVar1 = *(int *)(param_1 + 0x168);
      *(int *)(*(int *)*puVar2 + iVar4) = iVar1;
    }
    if (bVar5) {
      iVar1 = DAT_000612cc;
    }
    if (*(int *)(param_1 + 0x164) != 0) {
      *(undefined4 *)(*(int *)(param_1 + 0x164) + 0x10) = *(undefined4 *)(param_1 + 0x168);
    }
    if (*(int *)(param_1 + 0x168) != 0) {
      *(undefined4 *)(*(int *)(param_1 + 0x168) + 0xc) = *(undefined4 *)(param_1 + 0x164);
    }
    *(int *)(*(int *)(iVar1 + 0x158) + 0xc) = *(int *)(*(int *)(iVar1 + 0x158) + 0xc) + -1;
  }
  if ((*(char *)(param_1 + 0x111) == '\0') && (*(int *)(param_1 + 0x114) != 0)) {
    DAT_000612d4 = DAT_000612d4 + -1;
  }
  pthread_cond_signal((pthread_cond_t *)&DAT_00063748);
  pthread_cond_signal((pthread_cond_t *)(DAT_00063bc0 + 0x28));
  DAT_00063ee8 = time((time_t *)0x0);
LAB_00017ccc:
  iVar1 = pthread_mutex_unlock(DAT_000612c8);
  if (iVar1 != 0) {
    FUN_0000b694("hash_pop",0x1e67);
  }
  (*DAT_00060178)();
  return param_1;
}




undefined1 FUN_00017e64(int param_1,undefined1 *param_2)

{
  undefined1 uVar1;
  int iVar2;
  
  iVar2 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0xbc));
  if (iVar2 != 0) {
    FUN_0000b4e4("pool_tset",0x304);
  }
  uVar1 = *param_2;
  *param_2 = 1;
  iVar2 = pthread_mutex_unlock((pthread_mutex_t *)(param_1 + 0xbc));
  if (iVar2 != 0) {
    FUN_0000b694("pool_tset",0x307);
  }
  (*DAT_00060178)();
  return uVar1;
}




void FUN_00017ed8(void)

{
  int iVar1;
  
  iVar1 = pthread_mutex_lock(DAT_000612c8);
  if (iVar1 != 0) {
    FUN_0000b4e4("wake_gws",0x143e);
  }
  pthread_cond_signal((pthread_cond_t *)&DAT_00063748);
  iVar1 = pthread_mutex_unlock(DAT_000612c8);
  if (iVar1 != 0) {
    FUN_0000b694("wake_gws",0x1440);
  }
  (*DAT_00060178)();
  return;
}




undefined4 FUN_00017f48(void)

{
  int iVar1;
  undefined4 uVar2;
  
  iVar1 = pthread_mutex_lock(DAT_000612c8);
  if (iVar1 != 0) {
    FUN_0000b4e4("total_staged",0xb59);
  }
  if (DAT_000612cc == 0) {
    uVar2 = 0;
  }
  else {
    uVar2 = *(undefined4 *)(*(int *)(DAT_000612cc + 0x158) + 0xc);
  }
  iVar1 = pthread_mutex_unlock(DAT_000612c8);
  if (iVar1 != 0) {
    FUN_0000b694("total_staged",0xb5b);
  }
  (*DAT_00060178)();
  return uVar2;
}




void FUN_00017fc4(undefined4 *param_1)

{
  undefined4 *puVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  int iVar8;
  bool bVar9;
  char acStack_820 [2052];
  
  iVar2 = pthread_mutex_lock(DAT_000612c8);
  if (iVar2 != 0) {
    FUN_0000b4e4("clear_pool_work",0x1b52);
  }
  if (DAT_000612cc == 0) {
    iVar2 = 0;
  }
  else {
    iVar2 = 0;
    iVar3 = DAT_000612cc;
    iVar8 = *(int *)(DAT_000612cc + 0x160);
    while( true ) {
      iVar5 = DAT_000612cc;
      if (*(undefined4 **)(iVar3 + 0x104) == param_1) {
        iVar4 = *(int *)(iVar3 + 0x15c);
        if ((iVar4 == 0) && (*(int *)(iVar3 + 0x160) == 0)) {
          free((void *)**(undefined4 **)(DAT_000612cc + 0x158));
          free(*(void **)(DAT_000612cc + 0x158));
          DAT_000612cc = 0;
        }
        else {
          iVar6 = *(int *)(DAT_000612cc + 0x158);
          if (*(int *)(iVar6 + 0x10) - *(int *)(iVar6 + 0x14) == iVar3) {
            *(int *)(iVar6 + 0x10) = iVar4 + *(int *)(iVar6 + 0x14);
            iVar4 = *(int *)(iVar3 + 0x15c);
          }
          if (iVar4 == 0) {
            iVar4 = *(int *)(iVar3 + 0x160);
            iVar5 = iVar4;
            DAT_000612cc = iVar4;
          }
          else {
            *(undefined4 *)(iVar4 + *(int *)(*(int *)(iVar5 + 0x158) + 0x14) + 8) = *(undefined4 *)(iVar3 + 0x160);
            iVar4 = *(int *)(iVar3 + 0x160);
          }
          if (iVar4 != 0) {
            *(undefined4 *)(iVar4 + *(int *)(*(int *)(iVar5 + 0x158) + 0x14) + 4) = *(undefined4 *)(iVar3 + 0x15c);
          }
          uVar7 = (*(int **)(iVar5 + 0x158))[1] - 1U & *(uint *)(iVar3 + 0x174);
          iVar4 = **(int **)(iVar5 + 0x158) + uVar7 * 0xc;
          *(int *)(iVar4 + 4) = *(int *)(iVar4 + 4) + -1;
          puVar1 = (undefined4 *)(iVar5 + 0x158);
          bVar9 = *(int *)(*(int *)*puVar1 + uVar7 * 0xc) == iVar3 + 0x158;
          if (bVar9) {
            iVar5 = *(int *)(iVar3 + 0x168);
            *(int *)(*(int *)*puVar1 + uVar7 * 0xc) = iVar5;
          }
          if (bVar9) {
            iVar5 = DAT_000612cc;
          }
          if (*(int *)(iVar3 + 0x164) != 0) {
            *(undefined4 *)(*(int *)(iVar3 + 0x164) + 0x10) = *(undefined4 *)(iVar3 + 0x168);
          }
          if (*(int *)(iVar3 + 0x168) != 0) {
            *(undefined4 *)(*(int *)(iVar3 + 0x168) + 0xc) = *(undefined4 *)(iVar3 + 0x164);
          }
          *(int *)(*(int *)(iVar5 + 0x158) + 0xc) = *(int *)(*(int *)(iVar5 + 0x158) + 0xc) + -1;
        }
        iVar2 = iVar2 + 1;
        FUN_000152b8(iVar3);
      }
      if (iVar8 == 0) break;
      iVar3 = iVar8;
      iVar8 = *(int *)(iVar8 + 0x160);
    }
  }
  iVar3 = pthread_mutex_unlock(DAT_000612c8);
  if (iVar3 != 0) {
    FUN_0000b694("clear_pool_work",0x1b5c);
  }
  (*DAT_00060178)();
  if (((iVar2 != 0) && (DAT_000630c1 != '\0')) &&
     ((DAT_000632f0 != '\0' || ((DAT_000630c0 != '\0' || (6 < DAT_00060964)))))) {
    snprintf(acStack_820,0x800,"Cleared %d work items due to stratum disconnect on pool %d",iVar2,*param_1);
    FUN_00038438(7,acStack_820,0);
  }
  return;
}




undefined1 FUN_0001822c(int param_1,undefined1 *param_2)

{
  undefined1 uVar1;
  int iVar2;
  
  iVar2 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0xbc));
  if (iVar2 != 0) {
    FUN_0000b4e4("pool_tclear",0x310);
  }
  uVar1 = *param_2;
  *param_2 = 0;
  iVar2 = pthread_mutex_unlock((pthread_mutex_t *)(param_1 + 0xbc));
  if (iVar2 != 0) {
    FUN_0000b694("pool_tclear",0x313);
  }
  (*DAT_00060178)();
  return uVar1;
}




undefined1 FUN_000182a0(undefined4 *param_1,int param_2)

{
  char cVar1;
  undefined1 uVar2;
  undefined4 uVar3;
  int iVar4;
  char *pcVar5;
  undefined1 auStack_828 [8];
  undefined1 auStack_820 [8];
  char local_818 [4];
  char acStack_814 [4];
  char acStack_810 [4];
  char acStack_80c [4];
  char local_808 [4];
  char acStack_804 [4];
  undefined3 uStack_800;
  char cStack_7fd;
  char acStack_7fc [4];
  undefined1 local_7f8;
  undefined4 uStack_7f4;
  undefined4 uStack_7f0;
  undefined4 uStack_7ec;
  undefined4 local_7e8;
  undefined4 uStack_7e4;
  undefined4 uStack_7e0;
  undefined2 uStack_7dc;
  undefined1 local_7da;
  
  if (*(char *)(param_1 + 0xb0) == '\0') {
    if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      pcVar5 = "Testing pool %s";
      goto LAB_000186ec;
    }
  }
  else if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    pcVar5 = "Retrieving block template from pool %s";
LAB_000186ec:
    snprintf(local_818,0x800,pcVar5,param_1[0x29]);
    FUN_00038438(7,local_818,0);
  }
  if (*(char *)(param_1 + 0x9e) != '\0') goto LAB_00018350;
  if (DAT_00060078 == 0) {
    if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 3)) {
      return 0;
    }
    local_818[0] = 'C';
    local_818[1] = 'U';
    local_818[2] = 'R';
    local_818[3] = 'L';
    acStack_814[0] = ' ';
    acStack_814[1] = 'i';
    acStack_814[2] = 'n';
    acStack_814[3] = 'i';
    acStack_810[0] = 't';
    acStack_810[1] = 'i';
    acStack_810[2] = 'a';
    acStack_810[3] = 'l';
    acStack_80c[0] = 'i';
    acStack_80c[1] = 's';
    acStack_80c[2] = 'a';
    acStack_80c[3] = 't';
    local_808[0] = 'i';
    local_808[1] = 'o';
    local_808[2] = 'n';
    local_808[3] = ' ';
    acStack_804[0] = 'f';
    acStack_804[1] = 'a';
    acStack_804[2] = 'i';
    acStack_804[3] = 'l';
    _uStack_800 = CONCAT13(cStack_7fd,0x6465);
    FUN_00038438(3,local_818,0);
    return 0;
  }
  if (*(char *)((int)param_1 + 99) == '\0') {
    if (DAT_000630c1 == '\0') {
      *(undefined1 *)((int)param_1 + 99) = 0;
    }
    else if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 7)) {
      *(undefined1 *)((int)param_1 + 99) = 0;
      if (*(char *)(param_1 + 0xb0) == '\0') {
        if (*(char *)(param_1 + 0xd9) == '\0') {
LAB_00018604:
          if ((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) {
            if (DAT_00060964 < 7) goto LAB_0001830c;
            pcVar5 = "No GBT coinbase + append support found, using getwork protocol";
          }
          else {
            pcVar5 = "No GBT coinbase + append support found, using getwork protocol";
          }
LAB_00018564:
          local_818 = *(char (*) [4])pcVar5;
          acStack_814 = *(char (*) [4])(pcVar5 + 4);
          acStack_810 = *(char (*) [4])(pcVar5 + 8);
          acStack_80c = *(char (*) [4])(pcVar5 + 0xc);
          local_808 = *(char (*) [4])(pcVar5 + 0x10);
          acStack_804 = *(char (*) [4])(pcVar5 + 0x14);
          _uStack_800 = *(undefined4 *)(pcVar5 + 0x18);
          acStack_7fc = *(char (*) [4])(pcVar5 + 0x1c);
          uStack_7f4 = *(undefined4 *)(pcVar5 + 0x24);
          uStack_7f0 = *(undefined4 *)(pcVar5 + 0x28);
          uStack_7ec = *(undefined4 *)(pcVar5 + 0x2c);
          local_7f8 = (undefined1)*(undefined4 *)(pcVar5 + 0x20);
          local_7e8 = *(undefined4 *)(pcVar5 + 0x30);
          uStack_7e4 = *(undefined4 *)(pcVar5 + 0x34);
          uStack_7e0 = *(undefined4 *)(pcVar5 + 0x38);
          uStack_7dc = (undefined2)*(undefined4 *)(pcVar5 + 0x3c);
          local_7da = (undefined1)((uint)*(undefined4 *)(pcVar5 + 0x3c) >> 0x10);
          FUN_00038438(7,local_818,0);
        }
        else {
LAB_000185bc:
          if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)) {
            memcpy(local_818,"GBT coinbase without append found, switching to GBT solo protocol",0x42);
            FUN_00038438(7,local_818,0);
          }
        }
      }
      else {
LAB_00018534:
        if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)) {
          pcVar5 = "GBT coinbase + append support found, switching to GBT protocol";
          goto LAB_00018564;
        }
      }
    }
    else {
      local_818[0] = 'P';
      local_818[1] = 'r';
      local_818[2] = 'o';
      local_818[3] = 'b';
      acStack_814[0] = 'i';
      acStack_814[1] = 'n';
      acStack_814[2] = 'g';
      acStack_814[3] = ' ';
      acStack_810[0] = 'f';
      acStack_810[1] = 'o';
      acStack_810[2] = 'r';
      acStack_810[3] = ' ';
      acStack_80c[0] = 'G';
      acStack_80c[1] = 'B';
      acStack_80c[2] = 'T';
      acStack_80c[3] = ' ';
      local_808[0] = 's';
      local_808[1] = 'u';
      local_808[2] = 'p';
      local_808[3] = 'p';
      acStack_804[0] = 'o';
      acStack_804[1] = 'r';
      acStack_804[2] = 't';
      acStack_804[3] = '\0';
      FUN_00038438(7,local_818,0);
      cVar1 = DAT_000630c1;
      *(undefined1 *)((int)param_1 + 99) = 0;
      if (*(char *)(param_1 + 0xb0) == '\0') {
        if (*(char *)(param_1 + 0xd9) == '\0') {
          if (cVar1 != '\0') goto LAB_00018604;
        }
        else if (cVar1 != '\0') goto LAB_000185bc;
      }
      else if (cVar1 != '\0') goto LAB_00018534;
    }
  }
LAB_0001830c:
  FUN_0002b13c(auStack_828);
  FUN_0002b13c(auStack_820);
  iVar4 = param_1[0x8e];
  if ((iVar4 == 0) || (DAT_000612d8 != '\0')) {
LAB_00018338:
    iVar4 = FUN_0002c29c(param_1);
    if (iVar4 == 0) {
      if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
        snprintf(local_818,0x800,"FAILED to retrieve work from pool %u %s",*param_1,param_1[0x29]);
        FUN_00038438(7,local_818,0);
      }
      if (((param_2 == 0) && (*(char *)((int)param_1 + 0x61) == '\0')) &&
         ((DAT_000632f0 != '\0' || ((DAT_000630c0 != '\0' || (3 < DAT_00060964)))))) {
        snprintf(local_818,0x800,"Pool %u slow/down or URL or credentials invalid",*param_1);
        FUN_00038438(4,local_818,0);
      }
      return 0;
    }
  }
  else {
    if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      snprintf(local_818,0x800,"Testing pool %d stratum %s",*param_1,iVar4);
      FUN_00038438(7,local_818,0);
      iVar4 = param_1[0x8e];
    }
    FUN_0002b358(param_1,iVar4);
    iVar4 = FUN_0002b43c(param_1[0x8e],param_1 + 0x94,param_1 + 0x90);
    if ((iVar4 == 0) || (iVar4 = FUN_0002c29c(param_1), iVar4 == 0)) goto LAB_00018338;
    if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      snprintf(local_818,0x800,"Switching pool %d %s to %s",*param_1,param_1[0x29],param_1[0x8e]);
      FUN_00038438(7,local_818,0);
    }
    if (param_1[0x29] == 0) {
      uVar3 = __strdup(param_1[0x8e]);
      param_1[0x29] = uVar3;
    }
  }
  *(undefined1 *)(param_1 + 0x9e) = 1;
LAB_00018350:
  iVar4 = FUN_00017e64(param_1,(int)param_1 + 0x27a);
  if (iVar4 == 0) {
    iVar4 = FUN_0002c29c(param_1);
    if ((iVar4 == 0) || (iVar4 = FUN_0002e9b0(param_1), iVar4 == 0)) {
      FUN_0002c1c4(param_1);
      FUN_0001822c(param_1,(int)param_1 + 0x27a);
      uVar2 = 0;
    }
    else {
      FUN_0002c1c4(param_1);
      DAT_00064219 = 1;
      iVar4 = pthread_create(param_1 + 0xa6,(pthread_attr_t *)0x0,FUN_00021ab0,param_1);
      if (iVar4 != 0) {
        local_818[0] = 'F';
        local_818[1] = 'a';
        local_818[2] = 'i';
        local_818[3] = 'l';
        acStack_814[0] = 'e';
        acStack_814[1] = 'd';
        acStack_814[2] = ' ';
        acStack_814[3] = 't';
        acStack_810[0] = 'o';
        acStack_810[1] = ' ';
        acStack_810[2] = 'c';
        acStack_810[3] = 'r';
        acStack_80c[0] = 'e';
        acStack_80c[1] = 'a';
        acStack_80c[2] = 't';
        acStack_80c[3] = 'e';
        local_808[0] = ' ';
        local_808[1] = 's';
        local_808[2] = 't';
        local_808[3] = 'r';
        acStack_804[0] = 'a';
        acStack_804[1] = 't';
        acStack_804[2] = 'u';
        acStack_804[3] = 'm';
        uStack_800._0_1_ = ' ';
        uStack_800._1_1_ = 's';
        uStack_800._2_1_ = 't';
        cStack_7fd = 'h';
        acStack_7fc[0] = 'r';
        acStack_7fc[1] = 'e';
        acStack_7fc[2] = 'a';
        acStack_7fc[3] = 'd';
        local_7f8 = 0;
        FUN_00038438(3,local_818,1);
        FUN_00016724(1);
      }
      iVar4 = pthread_create(param_1 + 0xa7,(pthread_attr_t *)0x0,FUN_0001fc10,param_1);
      if (iVar4 == 0) {
        uVar2 = 1;
      }
      else {
        local_818[0] = 'F';
        local_818[1] = 'a';
        local_818[2] = 'i';
        local_818[3] = 'l';
        acStack_814[0] = 'e';
        acStack_814[1] = 'd';
        acStack_814[2] = ' ';
        acStack_814[3] = 't';
        acStack_810[0] = 'o';
        acStack_810[1] = ' ';
        acStack_810[2] = 'c';
        acStack_810[3] = 'r';
        acStack_80c[0] = 'e';
        acStack_80c[1] = 'a';
        acStack_80c[2] = 't';
        acStack_80c[3] = 'e';
        local_808[0] = ' ';
        local_808[1] = 's';
        local_808[2] = 't';
        local_808[3] = 'r';
        acStack_804[0] = 'a';
        acStack_804[1] = 't';
        acStack_804[2] = 'u';
        acStack_804[3] = 'm';
        uStack_800._0_1_ = ' ';
        uStack_800._1_1_ = 'r';
        uStack_800._2_1_ = 't';
        cStack_7fd = 'h';
        acStack_7fc[0] = 'r';
        acStack_7fc[1] = 'e';
        acStack_7fc[2] = 'a';
        acStack_7fc[3] = 'd';
        local_7f8 = 0;
        FUN_00038438(3,local_818,1);
        FUN_00016724(1);
        uVar2 = 1;
      }
    }
  }
  else {
    uVar2 = *(undefined1 *)((int)param_1 + 0x279);
  }
  return uVar2;
}




void FUN_000189b4(int param_1)

{
  int iVar1;
  char acStack_808 [2048];
  
  if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    snprintf(acStack_808,0x800,"%s %d: invalid nonce - HW error",
             *(undefined4 *)(*(int *)(*(int *)(param_1 + 0x24) + 4) + 8),*(undefined4 *)(*(int *)(param_1 + 0x24) + 8));
    FUN_00038438(7,acStack_808,1);
  }
  iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_000632f4);
  if (iVar1 != 0) {
    FUN_0000b4e4("inc_hw_errors",0x206a);
  }
  *(int *)(*(int *)(param_1 + 0x24) + 0x2c) = *(int *)(*(int *)(param_1 + 0x24) + 0x2c) + 1;
  DAT_00063e44 = DAT_00063e44 + 1;
  iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_000632f4);
  if (iVar1 != 0) {
    FUN_0000b694("inc_hw_errors",0x206d);
  }
  (*DAT_00060178)();
  (**(code **)(*(int *)(*(int *)(param_1 + 0x24) + 4) + 0x54))(param_1);
  return;
}




int FUN_00018c10(int param_1,uint param_2,undefined4 param_3)

{
  int iVar1;
  int iVar2;
  int local_20;
  int local_1c;
  timespec local_18;
  
  FUN_0002b13c(&local_20,param_2,param_3,param_2 * 0x10624dd3);
  local_18.tv_sec = param_2 / 1000 + local_20;
  local_1c = (param_2 / 1000) * -1000000 + param_2 * 1000 + local_1c;
  if (999999 < local_1c) {
    local_18.tv_sec = local_18.tv_sec + 1;
    local_1c = local_1c + -1000000;
  }
  local_18.tv_nsec = local_1c * 1000;
  iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00063bcc);
  if (iVar1 != 0) {
    FUN_0000b4e4("restart_wait",0x146b);
  }
  if (*(char *)(param_1 + 0x3e) == '\0') {
    iVar1 = pthread_cond_timedwait((pthread_cond_t *)&DAT_00064080,(pthread_mutex_t *)&DAT_00063bcc,&local_18);
  }
  else {
    iVar1 = 0;
  }
  iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063bcc);
  if (iVar2 != 0) {
    FUN_0000b694("restart_wait",0x1470);
  }
  (*DAT_00060178)();
  return iVar1;
}




void FUN_00018d10(undefined4 param_1,undefined4 param_2)

{
  int iVar1;
  
  iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_000632f4);
  if (iVar1 != 0) {
    FUN_0000b4e4("inc_dev_status",0x2083);
  }
  DAT_00063e48 = param_1;
  DAT_000640c0 = param_2;
  iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_000632f4);
  if (iVar1 != 0) {
    FUN_0000b694("inc_dev_status",0x2086);
  }
  (*DAT_00060178)();
  return;
}




void FUN_00018d90(undefined4 *param_1)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int *piVar4;
  uint uVar5;
  int *__ptr;
  int *piVar6;
  uint uVar7;
  bool bVar8;
  double dVar9;
  char acStack_830 [2052];
  
  iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_000612dc);
  if (iVar2 != 0) {
    FUN_0000b4e4("clear_stratum_shares",0x1b34);
  }
  if (DAT_000612f4 == (int *)0x0) {
    dVar9 = 0.0;
    uVar7 = 0;
  }
  else {
    uVar7 = 0;
    dVar9 = 0.0;
    __ptr = DAT_000612f4;
    piVar6 = (int *)DAT_000612f4[2];
    while( true ) {
      piVar1 = DAT_000612f4;
      if (*(undefined4 **)(__ptr[9] + 0x104) == param_1) {
        iVar2 = __ptr[1];
        if ((iVar2 == 0) && (__ptr[2] == 0)) {
          free(*(void **)*DAT_000612f4);
          free((void *)*piVar1);
          DAT_000612f4 = (int *)0x0;
        }
        else {
          iVar3 = *DAT_000612f4;
          if ((int *)(*(int *)(iVar3 + 0x10) - *(int *)(iVar3 + 0x14)) == __ptr) {
            *(int *)(iVar3 + 0x10) = iVar2 + *(int *)(iVar3 + 0x14);
            iVar2 = __ptr[1];
          }
          if (iVar2 == 0) {
            piVar4 = (int *)__ptr[2];
            piVar1 = piVar4;
            DAT_000612f4 = piVar4;
          }
          else {
            *(int *)(iVar2 + *(int *)(*piVar1 + 0x14) + 8) = __ptr[2];
            piVar4 = (int *)__ptr[2];
          }
          if (piVar4 != (int *)0x0) {
            *(int *)((int)piVar4 + *(int *)(*piVar1 + 0x14) + 4) = __ptr[1];
          }
          uVar5 = ((int *)*piVar1)[1] - 1U & __ptr[7];
          iVar2 = *(int *)*piVar1 + uVar5 * 0xc;
          *(int *)(iVar2 + 4) = *(int *)(iVar2 + 4) + -1;
          if (*(int **)(*(int *)*piVar1 + uVar5 * 0xc) == __ptr) {
            *(int *)(*(int *)*piVar1 + uVar5 * 0xc) = __ptr[4];
          }
          if (__ptr[3] != 0) {
            *(int *)(__ptr[3] + 0x10) = __ptr[4];
          }
          if (__ptr[4] != 0) {
            *(int *)(__ptr[4] + 0xc) = __ptr[3];
          }
          *(int *)(*piVar1 + 0xc) = *(int *)(*piVar1 + 0xc) + -1;
        }
        dVar9 = dVar9 + *(double *)(__ptr[9] + 0x178);
        FUN_000152b8();
        __ptr[9] = 0;
        uVar7 = uVar7 + 1;
        param_1[0xaf] = param_1[0xaf] + -1;
        free(__ptr);
      }
      if (piVar6 == (int *)0x0) break;
      __ptr = piVar6;
      piVar6 = (int *)piVar6[2];
    }
  }
  iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_000612dc);
  if (iVar2 != 0) {
    FUN_0000b694("clear_stratum_shares",0x1b41);
  }
  (*DAT_00060178)();
  if (uVar7 != 0) {
    if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
      snprintf(acStack_830,0x800,"Lost %d shares due to stratum disconnect on pool %d",uVar7,*param_1);
      FUN_00038438(4,acStack_830,0);
    }
    param_1[0x1e] = param_1[0x1e] + uVar7;
    bVar8 = CARRY4(DAT_00064220,uVar7);
    DAT_00064220 = DAT_00064220 + uVar7;
    DAT_00064224 = DAT_00064224 + ((int)uVar7 >> 0x1f) + (uint)bVar8;
    DAT_000639d0 = DAT_000639d0 + dVar9;
    *(double *)(param_1 + 0x16) = *(double *)(param_1 + 0x16) + dVar9;
  }
  return;
}




void FUN_00019060(void)

{
  int iVar1;
  undefined4 in_r3;
  
  pthread_mutex_trylock((pthread_mutex_t *)&DAT_00063d48);
  if (DAT_000612f8 == '\0') {
    iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063d48);
  }
  else {
    DAT_0006007c = 0;
    DAT_000612f8 = '\0';
    leaveok(DAT_000639d8,0,&DAT_0005f890,&DAT_00060e88,in_r3);
    leaveok(DAT_00063d60,0);
    leaveok(DAT_00064230,0);
    nocbreak();
    echo();
    delwin(DAT_000639d8);
    delwin(DAT_00063d60);
    delwin(DAT_00064230);
    endwin();
    iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063d48);
  }
  if (iVar1 != 0) {
    FUN_0000b694("unlock_curses",0xb70);
  }
  (*DAT_00060178)();
  return;
}




char FUN_00019140(void)

{
  int iVar1;
  
  iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00063d48);
  if (iVar1 != 0) {
    FUN_0000b4e4("lock_curses",0xb75);
  }
  if (DAT_000612f8 != '\0') {
    return DAT_000612f8;
  }
  iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063d48);
  if (iVar1 != 0) {
    FUN_0000b694("unlock_curses",0xb70);
  }
  (*DAT_00060178)();
  return '\0';
}




void FUN_000191c4(void)

{
  int iVar1;
  undefined4 in_r3;
  int iVar2;
  
  if (DAT_0006007c == '\0') {
    return;
  }
  iVar1 = FUN_00019140();
  if (iVar1 == 0) {
    return;
  }
  werase(stdscr);
  if (DAT_00063d60 == 0) {
    iVar1 = -1;
  }
  else {
    iVar1 = (int)*(short *)(DAT_00063d60 + 6);
  }
  if (DAT_00063d60 != 0) {
    iVar1 = iVar1 + 1;
  }
  DAT_00061300 = DAT_000612fc;
  if (LINES + -1 <= DAT_000612fc) {
    DAT_00061300 = LINES + -2;
  }
  DAT_00061304 = DAT_00061300;
  wresize(DAT_00063d60,DAT_00061300,iVar1,DAT_00061300,in_r3);
  if (DAT_00064230 == 0) {
    iVar2 = -1;
    iVar1 = iVar2;
  }
  else {
    iVar1 = *(short *)(DAT_00064230 + 4) + 1;
    iVar2 = *(short *)(DAT_00064230 + 6) + 1;
  }
  wresize(DAT_000639d8,iVar1 - DAT_00061304,iVar2,iVar1,in_r3);
  mvwin(DAT_000639d8,DAT_00061304,0);
  iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063d48);
  if (iVar1 != 0) {
    FUN_0000b694("unlock_curses",0xb70);
  }
  (*DAT_00060178)();
  return;
}




void FUN_000192d4(void)

{
  int iVar1;
  
  iVar1 = DAT_00061308;
  if (DAT_00063ee0 == '\0') {
    iVar1 = DAT_00061308 + DAT_0006130c;
  }
  DAT_000612fc = iVar1 + 1;
  DAT_00061304 = iVar1 + 2;
  iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063d48);
  if (iVar1 != 0) {
    FUN_0000b694("unlock_curses",0xb70);
  }
  (*DAT_00060178)();
  FUN_000191c4();
  return;
}




void FUN_00019350(void)

{
  int iVar1;
  
  iVar1 = FUN_00019140();
  if (iVar1 != 0) {
    if (DAT_000639d8 == 0) {
      iVar1 = -1;
    }
    else {
      iVar1 = *(short *)(DAT_000639d8 + 4) + 1;
    }
    wtouchln(DAT_000639d8,0,iVar1,1);
    wrefresh(DAT_000639d8);
    iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063d48);
    if (iVar1 != 0) {
      FUN_0000b694("unlock_curses",0xb70);
    }
    (*DAT_00060178)();
    return;
  }
  return;
}




void FUN_000193cc(void)

{
  int iVar1;
  
  iVar1 = FUN_00019140();
  if (iVar1 == 0) {
    return;
  }
  werase(stdscr);
  wclear(DAT_000639d8);
  iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063d48);
  if (iVar1 != 0) {
    FUN_0000b694("unlock_curses",0xb70);
  }
  (*DAT_00060178)();
  return;
}




undefined4 FUN_00019438(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  bool bVar1;
  int iVar2;
  
  iVar2 = FUN_00019140();
  if (iVar2 == 0) {
    return 0;
  }
  bVar1 = 1 < param_1 - 3U;
  if (DAT_00064068 == '\0') {
    wprintw(DAT_000639d8,"%s%s\n",param_2,param_3,param_4);
    if (bVar1) goto LAB_000194bc;
  }
  else {
    if (bVar1) goto LAB_000194bc;
    wprintw(DAT_000639d8,"%s%s\n",param_2,param_3,param_4);
  }
  if (DAT_000639d8 == 0) {
    iVar2 = -1;
  }
  else {
    iVar2 = *(short *)(DAT_000639d8 + 4) + 1;
  }
  wtouchln(DAT_000639d8,0,iVar2,1);
  wrefresh(DAT_000639d8);
LAB_000194bc:
  iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063d48);
  if (iVar2 != 0) {
    FUN_0000b694("unlock_curses",0xb70);
  }
  (*DAT_00060178)();
  return 1;
}




void FUN_0001952c(undefined4 param_1)

{
  int iVar1;
  
  iVar1 = FUN_00019140();
  if (iVar1 == 0) {
    return;
  }
  wprintw(DAT_000639d8,"%s",param_1);
  iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063d48);
  if (iVar1 != 0) {
    FUN_0000b694("unlock_curses",0xb70);
  }
  (*DAT_00060178)();
  return;
}




void FUN_00019598(pthread_rwlock_t *param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  
  iVar1 = pthread_rwlock_unlock(param_1);
  if (iVar1 != 0) {
    FUN_0000b700(param_2,param_3);
  }
  (*DAT_00060178)();
  return;
}




void FUN_000195d4(int *param_1)

{
  uint uVar1;
  int *piVar2;
  int iVar3;
  int *piVar4;
  int iVar5;
  int iVar6;
  int *piVar7;
  int iVar8;
  char acStack_820 [2052];
  
  iVar3 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00063fb0);
  if (iVar3 != 0) {
    FUN_0000b4e4("switch_pools",0x13d7);
  }
  iVar3 = pthread_rwlock_wrlock((pthread_rwlock_t *)&DAT_00063fc8);
  if (iVar3 != 0) {
    FUN_0000b550("switch_pools",0x13d7);
  }
  piVar2 = DAT_00061310;
  iVar3 = *DAT_00061310;
  if ((param_1 != (int *)0x0) && (iVar8 = param_1[1], iVar8 != 0)) {
    if (0 < DAT_00063740) {
      piVar4 = DAT_000639e0 + DAT_00063740;
      piVar7 = DAT_000639e0;
      while( true ) {
        iVar6 = *(int *)(*piVar7 + 4);
        if (iVar6 < iVar8) {
          *(int *)(*piVar7 + 4) = iVar6 + 1;
        }
        if (piVar7 + 1 == piVar4) break;
        iVar8 = param_1[1];
        piVar7 = piVar7 + 1;
      }
    }
    param_1[1] = 0;
  }
  if (DAT_000611ac < 5) {
    uVar1 = 1 << (DAT_000611ac & 0xff);
    if ((uVar1 & 0x19) == 0) {
      if ((uVar1 & 6) != 0) {
        if ((param_1 != (int *)0x0) && (*(char *)((int)param_1 + 0x61) == '\0')) {
          piVar7 = (int *)DAT_000639e0[*param_1];
          goto LAB_000196dc;
        }
        if (1 < DAT_00063740) {
          iVar6 = 1;
          iVar8 = iVar3;
          do {
            iVar8 = iVar8 + 1;
            iVar6 = iVar6 + 1;
            iVar5 = iVar8 * 4;
            if (DAT_00063740 <= iVar8) {
              iVar5 = 0;
              iVar8 = iVar5;
            }
            piVar7 = *(int **)((int)DAT_000639e0 + iVar5);
            if ((*(char *)((int)piVar7 + 0x61) == '\0') && (piVar7[0x19] == 1)) goto LAB_000196dc;
          } while (iVar6 != DAT_00063740);
          piVar7 = (int *)DAT_000639e0[iVar3];
          goto LAB_000196dc;
        }
      }
    }
    else if (0 < DAT_00063740) {
      iVar8 = 0;
      do {
        iVar6 = iVar8 + 1;
        piVar7 = (int *)FUN_00011b90(iVar8);
        if ((*(char *)((int)piVar7 + 0x61) == '\0') && (piVar7[0x19] == 1)) {
          piVar7 = (int *)DAT_000639e0[*piVar7];
          goto LAB_000196dc;
        }
        iVar8 = iVar6;
      } while (iVar6 < DAT_00063740);
    }
  }
  piVar7 = (int *)DAT_000639e0[iVar3];
LAB_000196dc:
  DAT_00061310 = piVar7;
  iVar3 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_00063fc8);
  if (iVar3 != 0) {
    FUN_0000b700("switch_pools",0x1415);
  }
  iVar3 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063fb0);
  if (iVar3 != 0) {
    FUN_0000b694("switch_pools",0x1415);
  }
  (*DAT_00060178)();
  if (DAT_00063bc5 != '\0') {
    FUN_00017e64(piVar7,(int)piVar7 + 0x62);
  }
  if (((piVar2 != piVar7) && (DAT_000611ac != 3)) && (DAT_000611ac != 4)) {
    if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
      snprintf(acStack_820,0x800,"Switching to pool %d %s",*piVar7,piVar7[0x29]);
      FUN_00038438(4,acStack_820,0);
    }
    FUN_00017fc4(piVar2);
  }
  iVar3 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00061314);
  if (iVar3 != 0) {
    FUN_0000b4e4("switch_pools",0x1424);
  }
  pthread_cond_broadcast((pthread_cond_t *)&DAT_00061330);
  iVar3 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00061314);
  if (iVar3 != 0) {
    FUN_0000b694("switch_pools",0x1426);
  }
  (*DAT_00060178)();
  return;
}




void FUN_00019930(int param_1,undefined4 param_2)

{
  int iVar1;
  
  iVar1 = pthread_rwlock_wrlock((pthread_rwlock_t *)(param_1 + 0x140));
  if (iVar1 != 0) {
    FUN_0000b550("add_queued",0x227d);
  }
  FUN_000160b4(param_1,param_2);
  iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x140));
  if (iVar1 != 0) {
    FUN_0000b700("add_queued",0x227f);
  }
  (*DAT_00060178)();
  return;
}




void FUN_000199a4(int param_1,undefined4 param_2)

{
  int iVar1;
  
  iVar1 = pthread_rwlock_wrlock((pthread_rwlock_t *)(param_1 + 0x140));
  if (iVar1 != 0) {
    FUN_0000b550("work_completed",0x230d);
  }
  FUN_000165c0(param_1,param_2);
  iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x140));
  if (iVar1 != 0) {
    FUN_0000b700("work_completed",0x230f);
  }
  (*DAT_00060178)();
  FUN_000152b8(param_2);
  return;
}




int FUN_00019a20(int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined4 uVar5;
  double in_d0;
  undefined4 extraout_s1;
  undefined1 auStack_28 [8];
  
  FUN_0002b13c(auStack_28);
  iVar2 = pthread_rwlock_wrlock((pthread_rwlock_t *)(param_1 + 0x140));
  if (iVar2 != 0) {
    FUN_0000b550("age_queued_work",0x22fa);
  }
  iVar2 = *(int *)(param_1 + 0x160);
  if (iVar2 == 0) {
    iVar4 = 0;
  }
  else {
    iVar4 = 0;
    iVar1 = *(int *)(iVar2 + 0x160);
    while( true ) {
      iVar3 = iVar1;
      uVar5 = FUN_0002b314(auStack_28,iVar2 + 0x1a8);
      if (in_d0 < (double)CONCAT44(extraout_s1,uVar5)) {
        FUN_000165c0(param_1,iVar2);
        FUN_000152b8(iVar2);
        iVar4 = iVar4 + 1;
      }
      if (iVar3 == 0) break;
      iVar1 = *(int *)(iVar3 + 0x160);
      iVar2 = iVar3;
    }
  }
  iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x140));
  if (iVar2 != 0) {
    FUN_0000b700("age_queued_work",0x2304);
  }
  (*DAT_00060178)();
  return iVar4;
}




int FUN_00019b0c(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,undefined4 param_5,
                undefined4 param_6)

{
  int iVar1;
  int iVar2;
  
  iVar1 = pthread_rwlock_wrlock((pthread_rwlock_t *)(param_1 + 0x140));
  if (iVar1 != 0) {
    FUN_0000b550("take_queued_work_bymidstate",0x231a);
  }
  iVar1 = FUN_00016500(*(undefined4 *)(param_1 + 0x160),param_2,param_3,param_4,param_5,param_6);
  if (iVar1 != 0) {
    FUN_000165c0(param_1,iVar1);
  }
  iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x140));
  if (iVar2 != 0) {
    FUN_0000b700("take_queued_work_bymidstate",0x231e);
  }
  (*DAT_00060178)();
  return iVar1;
}




int FUN_00019bc0(void)

{
  int iVar1;
  int iVar2;
  
  iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00063fb0);
  if (iVar1 != 0) {
    FUN_0000b4e4("total_work_inc",0x8df);
  }
  iVar1 = pthread_rwlock_wrlock((pthread_rwlock_t *)&DAT_00063fc8);
  if (iVar1 != 0) {
    FUN_0000b550("total_work_inc",0x8df);
  }
  iVar1 = DAT_00061360;
  DAT_00061360 = DAT_00061360 + 1;
  iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_00063fc8);
  if (iVar2 != 0) {
    FUN_0000b700("total_work_inc",0x8e1);
  }
  iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063fb0);
  if (iVar2 != 0) {
    FUN_0000b694("total_work_inc",0x8e1);
  }
  (*DAT_00060178)();
  return iVar1;
}




void * FUN_00019da0(void)

{
  void *pvVar1;
  undefined4 uVar2;
  char local_808 [4];
  char acStack_804 [4];
  char acStack_800 [4];
  char acStack_7fc [4];
  char local_7f8 [4];
  char acStack_7f4 [4];
  char acStack_7f0 [4];
  char acStack_7ec [4];
  undefined2 uStack_7e8;
  undefined1 local_7e6;
  
  pvVar1 = calloc(1,0x1e0);
  if (pvVar1 == (void *)0x0) {
    local_808[0] = 'F';
    local_808[1] = 'a';
    local_808[2] = 'i';
    local_808[3] = 'l';
    acStack_804[0] = 'e';
    acStack_804[1] = 'd';
    acStack_804[2] = ' ';
    acStack_804[3] = 't';
    acStack_800[0] = 'o';
    acStack_800[1] = ' ';
    acStack_800[2] = 'c';
    acStack_800[3] = 'a';
    acStack_7fc[0] = 'l';
    acStack_7fc[1] = 'l';
    acStack_7fc[2] = 'o';
    acStack_7fc[3] = 'c';
    local_7f8[0] = ' ';
    local_7f8[1] = 'w';
    local_7f8[2] = 'o';
    local_7f8[3] = 'r';
    acStack_7f4[0] = 'k';
    acStack_7f4[1] = ' ';
    acStack_7f4[2] = 'i';
    acStack_7f4[3] = 'n';
    acStack_7f0[0] = ' ';
    acStack_7f0[1] = 'm';
    acStack_7f0[2] = 'a';
    acStack_7f0[3] = 'k';
    acStack_7ec[0] = 'e';
    acStack_7ec[1] = '_';
    acStack_7ec[2] = 'w';
    acStack_7ec[3] = 'o';
    uStack_7e8 = 0x6b72;
    local_7e6 = 0;
    FUN_00038438(3,local_808,1);
    FUN_00016724(1);
  }
  uVar2 = FUN_00019bc0();
  *(undefined4 *)((int)pvVar1 + 0x154) = uVar2;
  return pvVar1;
}




undefined4 FUN_00019e18(undefined4 param_1,undefined4 param_2)

{
  undefined4 uVar1;
  
  uVar1 = FUN_00019da0();
  FUN_000151bc(uVar1,param_1,param_2);
  return uVar1;
}




int FUN_00019e40(undefined4 param_1)

{
  int iVar1;
  
  iVar1 = FUN_00019e18(param_1,0);
  *(undefined1 *)(iVar1 + 0x111) = 1;
  FUN_0002b13c(iVar1 + 0x1a0);
  *(undefined1 *)(iVar1 + 0x118) = 0;
  *(int *)(iVar1 + 0x108) = *(int *)(iVar1 + 0x108) + -1;
  *(undefined1 *)(iVar1 + 0x11a) = 0;
  return iVar1;
}




undefined8 FUN_00019e80(int param_1)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  bool bVar4;
  bool bVar5;
  double dVar6;
  double dVar7;
  double dVar8;
  double dVar9;
  double dVar10;
  undefined8 uVar11;
  char acStack_828 [2052];
  
  dVar6 = 1.7668201048317172e+72;
  if (DAT_00063df9 == '\0') {
    dVar6 = 2.695953529101131e+67;
  }
  dVar7 = (double)FUN_000493c8(*(undefined4 *)(param_1 + 0xd8),*(undefined4 *)(param_1 + 0xdc));
  dVar8 = (double)FUN_000493c8(*(undefined4 *)(param_1 + 0xd0),*(undefined4 *)(param_1 + 0xd4));
  dVar9 = (double)FUN_000493c8(*(undefined4 *)(param_1 + 200),*(undefined4 *)(param_1 + 0xcc));
  dVar10 = (double)FUN_000493c8(*(undefined4 *)(param_1 + 0xc0),*(undefined4 *)(param_1 + 0xc4));
  dVar10 = dVar7 * 6.277101735386681e+57 + dVar8 * 3.402823669209385e+38 + dVar9 * 1.8446744073709552e+19 + dVar10;
  if (dVar10 == 0.0) {
    dVar10 = 0.0;
  }
  dVar6 = round(dVar6 / dVar10);
  uVar11 = FUN_000494c0(SUB84(dVar6,0),(int)((ulonglong)dVar6 >> 0x20));
  uVar3 = (uint)((ulonglong)uVar11 >> 0x20);
  uVar1 = (uint)uVar11;
  iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00063fb0);
  if (iVar2 != 0) {
    FUN_0000b4e4("share_diff",0x1368);
  }
  iVar2 = pthread_rwlock_wrlock((pthread_rwlock_t *)&DAT_00063fc8);
  if (iVar2 != 0) {
    FUN_0000b550("share_diff",0x1368);
  }
  bVar4 = uVar3 <= DAT_000611cc;
  if (DAT_000611cc == uVar3) {
    bVar4 = uVar1 <= DAT_000611c8;
  }
  if (!bVar4) {
    DAT_000611c8 = uVar1;
    DAT_000611cc = uVar3;
    FUN_00011130(uVar1,uVar3,&DAT_00060064,8,0);
  }
  iVar2 = *(int *)(param_1 + 0x104);
  bVar5 = uVar3 <= *(uint *)(iVar2 + 0x174);
  if (*(uint *)(iVar2 + 0x174) == uVar3) {
    bVar5 = uVar1 <= *(uint *)(iVar2 + 0x170);
  }
  if (!bVar5) {
    *(undefined8 *)(iVar2 + 0x170) = uVar11;
  }
  iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_00063fc8);
  if (iVar2 != 0) {
    FUN_0000b700("share_diff",0x1371);
  }
  iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063fb0);
  if (iVar2 != 0) {
    FUN_0000b694("share_diff",0x1371);
  }
  (*DAT_00060178)();
  if (((!bVar4) && (DAT_000630c1 != '\0')) && ((DAT_000632f0 != '\0' || ((DAT_000630c0 != '\0' || (6 < DAT_00060964)))))
     ) {
    snprintf(acStack_828,0x800,"New best share: %s",&DAT_00060064);
    FUN_00038438(7,acStack_828,0);
  }
  return uVar11;
}




void FUN_0001a0f8(int param_1,int param_2)

{
  char cVar1;
  int iVar2;
  time_t tVar3;
  bool bVar4;
  double dVar5;
  double in_d16;
  double dVar6;
  undefined8 uVar7;
  char acStack_820 [2052];
  
  dVar5 = DAT_00060080;
  uVar7 = FUN_00019e80(param_2);
  bVar4 = DAT_00063df9 != '\0';
  if (bVar4) {
    in_d16 = 65536.0;
  }
  *(undefined8 *)(param_2 + 0xe8) = uVar7;
  if (bVar4) {
    dVar5 = dVar5 * in_d16;
  }
  dVar6 = (double)FUN_000493c8();
  cVar1 = DAT_000632f0;
  if (dVar5 <= dVar6) {
    *(undefined1 *)(param_2 + 0x11b) = 1;
    DAT_00063e58 = DAT_00063e58 + 1;
    *(int *)(*(int *)(param_2 + 0x104) + 0x20) = *(int *)(*(int *)(param_2 + 0x104) + 0x20) + 1;
    *(undefined1 *)(param_2 + 0x11a) = 1;
    if (((cVar1 != '\0') || (DAT_000630c0 != '\0')) || (4 < DAT_00060964)) {
      snprintf(acStack_820,0x800,"Found block for pool %d!",**(undefined4 **)(param_2 + 0x104));
      FUN_00038438(5,acStack_820,0);
    }
  }
  iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_000632f4);
  if (iVar2 != 0) {
    FUN_0000b4e4("update_work_stats",0x20c3);
  }
  dVar5 = *(double *)(param_2 + 0xe0);
  dVar6 = (double)FUN_000493dc(DAT_000636a8,DAT_000636ac);
  dVar6 = dVar6 + dVar5;
  uVar7 = FUN_00049488(SUB84(dVar6,0),(int)((ulonglong)dVar6 >> 0x20));
  DAT_000636ac = (undefined4)((ulonglong)uVar7 >> 0x20);
  DAT_000636a8 = (undefined4)uVar7;
  iVar2 = *(int *)(param_1 + 0x24);
  dVar6 = (double)FUN_000493dc(*(undefined4 *)(iVar2 + 0xc0),*(undefined4 *)(iVar2 + 0xc4));
  dVar5 = dVar5 + dVar6;
  uVar7 = FUN_00049488(SUB84(dVar5,0),(int)((ulonglong)dVar5 >> 0x20));
  *(undefined8 *)(iVar2 + 0xc0) = uVar7;
  iVar2 = *(int *)(param_2 + 0x104);
  dVar5 = (double)FUN_000493dc(*(undefined4 *)(iVar2 + 0x28),*(undefined4 *)(iVar2 + 0x2c));
  dVar5 = dVar5 + *(double *)(param_2 + 0xe0);
  uVar7 = FUN_00049488(SUB84(dVar5,0),(int)((ulonglong)dVar5 >> 0x20));
  *(undefined8 *)(iVar2 + 0x28) = uVar7;
  iVar2 = *(int *)(param_1 + 0x24);
  tVar3 = time((time_t *)0x0);
  *(time_t *)(iVar2 + 0xe8) = tVar3;
  iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_000632f4);
  if (iVar2 != 0) {
    FUN_0000b694("update_work_stats",0x20c8);
  }
  (*DAT_00060178)();
  return;
}




char FUN_0001a2dc(undefined4 param_1,int param_2,undefined4 param_3,undefined4 *param_4)

{
  char cVar1;
  int iVar2;
  char local_818 [4];
  char acStack_814 [4];
  char acStack_810 [4];
  char acStack_80c [4];
  undefined2 uStack_808;
  undefined1 local_806;
  
  if (param_4 != (undefined4 *)0x0) {
    *param_4 = 0;
  }
  iVar2 = FUN_00015fdc(param_2,param_3);
  if (iVar2 == 0) {
    FUN_000189b4(param_1);
    cVar1 = '\0';
  }
  else {
    FUN_0001a0f8(param_1,param_2);
    iVar2 = FUN_0002a898(param_2 + 0xc0,param_2 + 0xa0);
    if (iVar2 == 0) {
      if (param_4 != (undefined4 *)0x0) {
        *param_4 = 1;
      }
      cVar1 = DAT_000630c1;
      if ((DAT_000630c1 != '\0') &&
         (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (cVar1 = '\0', 6 < DAT_00060964)))) {
        local_818[0] = 'S';
        local_818[1] = 'h';
        local_818[2] = 'a';
        local_818[3] = 'r';
        acStack_814[0] = 'e';
        acStack_814[1] = ' ';
        acStack_814[2] = 'a';
        acStack_814[3] = 'b';
        acStack_810[0] = 'o';
        acStack_810[1] = 'v';
        acStack_810[2] = 'e';
        acStack_810[3] = ' ';
        acStack_80c[0] = 't';
        acStack_80c[1] = 'a';
        acStack_80c[2] = 'r';
        acStack_80c[3] = 'g';
        uStack_808 = 0x7465;
        local_806 = 0;
        FUN_00038438(7,local_818,0);
        cVar1 = '\0';
      }
    }
    else {
      cVar1 = '\x01';
    }
  }
  return cVar1;
}




void FUN_0001a3e0(int param_1)

{
  int iVar1;
  int iVar2;
  char local_810 [4];
  char acStack_80c [4];
  char acStack_808 [4];
  char acStack_804 [4];
  char local_800 [4];
  char acStack_7fc [4];
  undefined2 uStack_7f8;
  undefined1 local_7f6;
  
  if (param_1 != 0) {
    iVar1 = pthread_rwlock_trywrlock((pthread_rwlock_t *)(param_1 + 0x140));
    if (iVar1 == 0) {
      iVar2 = *(int *)(param_1 + 0x164);
      *(undefined4 *)(param_1 + 0x164) = 0;
      iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x140));
      if (iVar1 != 0) {
        FUN_0000b700("flush_queue",0x2330);
      }
      (*DAT_00060178)();
      if (((iVar2 != 0) && (FUN_000152b8(iVar2), DAT_000630c1 != '\0')) &&
         ((DAT_000632f0 != '\0' || ((DAT_000630c0 != '\0' || (6 < DAT_00060964)))))) {
        local_810[0] = 'D';
        local_810[1] = 'i';
        local_810[2] = 's';
        local_810[3] = 'c';
        acStack_80c[0] = 'a';
        acStack_80c[1] = 'r';
        acStack_80c[2] = 'd';
        acStack_80c[3] = 'e';
        acStack_808[0] = 'd';
        acStack_808[1] = ' ';
        acStack_808[2] = 'q';
        acStack_808[3] = 'u';
        acStack_804[0] = 'e';
        acStack_804[1] = 'u';
        acStack_804[2] = 'e';
        acStack_804[3] = 'd';
        local_800[0] = ' ';
        local_800[1] = 'w';
        local_800[2] = 'o';
        local_800[3] = 'r';
        acStack_7fc[0] = 'k';
        acStack_7fc[1] = ' ';
        acStack_7fc[2] = 'i';
        acStack_7fc[3] = 't';
        uStack_7f8 = 0x6d65;
        local_7f6 = 0;
        FUN_00038438(7,local_810,0);
      }
    }
  }
  return;
}




void FUN_0001a4ec(pthread_rwlock_t *param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  
  iVar1 = pthread_rwlock_rdlock(param_1);
  if (iVar1 == 0) {
    return;
  }
  FUN_0000b76c(param_2,param_3);
  return;
}




void FUN_0001a514(int param_1,void *param_2)

{
  int iVar1;
  time_t tVar2;
  void *__ptr;
  void *__ptr_00;
  undefined4 uVar3;
  uint uVar4;
  undefined4 *puVar5;
  pthread_rwlock_t *__rwlock;
  undefined4 local_890;
  undefined4 uStack_88c;
  uint local_888 [8];
  uint local_868 [8];
  undefined4 local_848;
  undefined4 uStack_844;
  undefined4 uStack_840;
  undefined4 uStack_83c;
  undefined4 local_838;
  undefined4 uStack_834;
  undefined4 uStack_830;
  undefined4 uStack_82c;
  char acStack_828 [2052];
  
  iVar1 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0xd4));
  if (iVar1 != 0) {
    FUN_0000b4e4("gen_stratum_work",0x1ef8);
  }
  __rwlock = (pthread_rwlock_t *)(param_1 + 0xec);
  iVar1 = pthread_rwlock_wrlock(__rwlock);
  if (iVar1 != 0) {
    FUN_0000b550("gen_stratum_work",0x1ef8);
  }
  local_890 = *(undefined4 *)(param_1 + 0x268);
  uStack_88c = *(undefined4 *)(param_1 + 0x26c);
  memcpy((void *)(*(int *)(param_1 + 0x600) + *(int *)(param_1 + 0x608)),&local_890,*(size_t *)(param_1 + 0x270));
  uVar4 = *(uint *)(param_1 + 0x268);
  iVar1 = *(int *)(param_1 + 0x26c);
  *(uint *)((int)param_2 + 0x128) = uVar4;
  *(int *)((int)param_2 + 300) = iVar1;
  *(uint *)(param_1 + 0x268) = uVar4 + 1;
  *(uint *)(param_1 + 0x26c) = iVar1 + (uint)(0xfffffffe < uVar4);
  *(undefined4 *)((int)param_2 + 0x130) = *(undefined4 *)(param_1 + 0x270);
  iVar1 = pthread_rwlock_unlock(__rwlock);
  if (iVar1 != 0) {
    FUN_0000b700("gen_stratum_work",0x1f02);
  }
  iVar1 = pthread_rwlock_rdlock(__rwlock);
  if (iVar1 != 0) {
    FUN_0000b76c("gen_stratum_work",0x1f02);
  }
  iVar1 = pthread_mutex_unlock((pthread_mutex_t *)(param_1 + 0xd4));
  if (iVar1 != 0) {
    FUN_0000b694("gen_stratum_work",0x1f02);
  }
  FUN_000303dc(*(undefined4 *)(param_1 + 0x600),*(undefined4 *)(param_1 + 0x604),acStack_828);
  FUN_000303dc(acStack_828,0x20,local_888);
  local_868[0] = local_888[0];
  local_868[1] = local_888[1];
  local_868[2] = local_888[2];
  local_868[3] = local_888[3];
  local_868[4] = local_888[4];
  local_868[5] = local_888[5];
  local_868[6] = local_888[6];
  local_868[7] = local_888[7];
  if (0 < *(int *)(param_1 + 0x68c)) {
    iVar1 = 0;
    do {
      puVar5 = *(undefined4 **)(*(int *)(param_1 + 0x284) + iVar1 * 4);
      iVar1 = iVar1 + 1;
      local_848 = *puVar5;
      uStack_844 = puVar5[1];
      uStack_840 = puVar5[2];
      uStack_83c = puVar5[3];
      uStack_82c = puVar5[7];
      local_838 = puVar5[4];
      uStack_834 = puVar5[5];
      uStack_830 = puVar5[6];
      FUN_000303dc(local_868,0x40,acStack_828);
      FUN_000303dc(acStack_828,0x20,local_888);
      local_868[0] = local_888[0];
      local_868[1] = local_888[1];
      local_868[2] = local_888[2];
      local_868[3] = local_888[3];
      local_868[4] = local_888[4];
      local_868[5] = local_888[5];
      local_868[6] = local_888[6];
      local_868[7] = local_888[7];
    } while (iVar1 < *(int *)(param_1 + 0x68c));
  }
  iVar1 = 0;
  do {
    uVar4 = *(uint *)((int)local_868 + iVar1);
    *(uint *)((int)local_888 + iVar1) =
         uVar4 << 0x18 | (uVar4 >> 8 & 0xff) << 0x10 | (uVar4 >> 0x10 & 0xff) << 8 | uVar4 >> 0x18;
    iVar1 = iVar1 + 4;
  } while (iVar1 != 0x20);
  memcpy(param_2,(void *)(param_1 + 0x60c),0x70);
  *(uint *)((int)param_2 + 0x24) = local_888[0];
  *(uint *)((int)param_2 + 0x28) = local_888[1];
  *(uint *)((int)param_2 + 0x2c) = local_888[2];
  *(uint *)((int)param_2 + 0x30) = local_888[3];
  *(uint *)((int)param_2 + 0x38) = local_888[5];
  *(uint *)((int)param_2 + 0x34) = local_888[4];
  *(uint *)((int)param_2 + 0x3c) = local_888[6];
  *(uint *)((int)param_2 + 0x40) = local_888[7];
  uVar3 = *(undefined4 *)(param_1 + 0x6fc);
  *(undefined4 *)((int)param_2 + 0x138) = *(undefined4 *)(param_1 + 0x6f8);
  *(undefined4 *)((int)param_2 + 0x13c) = uVar3;
  uVar3 = __strdup(*(undefined4 *)(param_1 + 0x280));
  *(undefined4 *)((int)param_2 + 0x120) = uVar3;
  uVar3 = __strdup(*(undefined4 *)(param_1 + 0x25c));
  *(undefined4 *)((int)param_2 + 0x140) = uVar3;
  uVar3 = __strdup(param_1 + 0x6ec);
  *(undefined4 *)((int)param_2 + 0x134) = uVar3;
  iVar1 = pthread_rwlock_unlock(__rwlock);
  if (iVar1 != 0) {
    FUN_0000b700("gen_stratum_work",0x1f1d);
  }
  (*DAT_00060178)();
  if (DAT_000630c1 == '\0') goto LAB_0001a758;
  __ptr = (void *)FUN_000294b8(param_2,0x70);
  __ptr_00 = (void *)FUN_000294b8(local_888,0x20);
  if (DAT_000630c1 != '\0') {
    if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 7)) {
LAB_0001a940:
      if (DAT_00060964 < 7) {
LAB_0001a94c:
        if (6 < DAT_00060964) {
LAB_0001a8f0:
          snprintf(acStack_828,0x800,"Work job_id %s nonce2 %llu ntime %s",*(undefined4 *)((int)param_2 + 0x120),
                   *(undefined4 *)((int)param_2 + 0x128),*(undefined4 *)((int)param_2 + 300),
                   *(undefined4 *)((int)param_2 + 0x134));
          FUN_00038438(7,acStack_828,0);
        }
      }
      else {
LAB_0001a8a4:
        snprintf(acStack_828,0x800,"Generated stratum header %s",__ptr);
        FUN_00038438(7,acStack_828,0);
        if (DAT_000630c1 != '\0') {
          if ((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) goto LAB_0001a94c;
          goto LAB_0001a8f0;
        }
      }
    }
    else {
      snprintf(acStack_828,0x800,"Generated stratum merkle %s",__ptr_00);
      FUN_00038438(7,acStack_828,0);
      if (DAT_000630c1 != '\0') {
        if ((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) goto LAB_0001a940;
        goto LAB_0001a8a4;
      }
    }
  }
  free(__ptr);
  free(__ptr_00);
LAB_0001a758:
  FUN_000117f4(param_2);
  FUN_00015d7c((int)*(undefined8 *)((int)param_2 + 0x138),(int)param_2 + 0xa0);
  DAT_00063a70 = DAT_00063a70 + 1;
  tVar2 = time((time_t *)0x0);
  if (5 < tVar2 - DAT_00061364) {
    DAT_00061364 = time((time_t *)0x0);
    DAT_00061368 = DAT_00063a70;
  }
  uVar3 = DAT_0006136c;
  *(int *)((int)param_2 + 0x104) = param_1;
  *(undefined1 *)((int)param_2 + 0x11c) = 1;
  *(undefined4 *)((int)param_2 + 0x150) = uVar3;
  *(undefined4 *)((int)param_2 + 0xf8) = 0;
  *(undefined1 *)((int)param_2 + 0x118) = 0;
  *(undefined1 *)((int)param_2 + 0x1b8) = 0x53;
  *(undefined4 *)((int)param_2 + 0xf4) = 0x3c;
  FUN_000113c4((int)*(undefined8 *)((int)param_2 + 0x138),param_2);
  FUN_0002b13c((int)param_2 + 0x108);
  return;
}




int FUN_0001a9f0(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,undefined4 param_5,
                undefined4 param_6)

{
  int iVar1;
  int iVar2;
  
  iVar1 = pthread_rwlock_rdlock((pthread_rwlock_t *)(param_1 + 0x140));
  if (iVar1 != 0) {
    FUN_0000b76c("clone_queued_work_bymidstate",0x22b4);
  }
  iVar1 = FUN_00016500(*(undefined4 *)(param_1 + 0x160),param_2,param_3,param_4,param_5,param_6);
  if (iVar1 != 0) {
    iVar1 = FUN_00019e18(iVar1,0);
  }
  iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x140));
  if (iVar2 != 0) {
    FUN_0000b700("clone_queued_work_bymidstate",0x22b8);
  }
  (*DAT_00060178)();
  return iVar1;
}




undefined4 FUN_0001aaa4(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  int iVar4;
  
  iVar2 = pthread_rwlock_rdlock((pthread_rwlock_t *)(param_1 + 0x140));
  if (iVar2 != 0) {
    FUN_0000b76c("clone_queued_work_byid",0x22e0);
  }
  iVar2 = *(int *)(param_1 + 0x160);
  if (iVar2 == 0) {
    uVar3 = 0;
  }
  else {
    iVar4 = *(int *)(iVar2 + 0x154);
    iVar1 = *(int *)(iVar2 + 0x160);
    while (param_2 != iVar4) {
      if (iVar1 == 0) {
        uVar3 = 0;
        goto LAB_0001ab08;
      }
      iVar4 = *(int *)(iVar1 + 0x154);
      iVar2 = iVar1;
      iVar1 = *(int *)(iVar1 + 0x160);
    }
    uVar3 = FUN_00019e18(iVar2,0);
  }
LAB_0001ab08:
  iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x140));
  if (iVar2 != 0) {
    FUN_0000b700("clone_queued_work_byid",0x22e4);
  }
  (*DAT_00060178)();
  return uVar3;
}




undefined4 FUN_0001ab68(int param_1)

{
  int iVar1;
  undefined4 uVar2;
  
  iVar1 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_00063ca0);
  if (iVar1 != 0) {
    FUN_0000b76c("get_devices",0x278);
  }
  uVar2 = *(undefined4 *)(DAT_00063bc8 + param_1 * 4);
  iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_00063ca0);
  if (iVar1 != 0) {
    FUN_0000b700("get_devices",0x27a);
  }
  (*DAT_00060178)();
  return uVar2;
}




void FUN_0001abe0(void)

{
  int *piVar1;
  int iVar2;
  int *piVar3;
  int iVar5;
  int iVar6;
  undefined8 *puVar7;
  int *piVar4;
  undefined8 *puVar8;
  
  FUN_0002b13c(&DAT_00061370);
  FUN_0002ae20(&DAT_00061378,&DAT_00061370);
  DAT_00064238._0_4_ = 0;
  DAT_00064238._4_4_ = 0;
  DAT_000640b0._0_4_ = 0;
  DAT_000640b0._4_4_ = 0;
  DAT_000638a0._0_4_ = 0;
  DAT_000638a0._4_4_ = 0;
  DAT_00064228._0_4_ = 0;
  DAT_00064228._4_4_ = 0;
  DAT_00063268._0_4_ = 0;
  DAT_00063268._4_4_ = 0;
  puVar7 = &DAT_00061380;
  do {
    puVar8 = puVar7 + 1;
    *(undefined4 *)puVar7 = 0;
    *(undefined4 *)((int)puVar7 + 4) = 0;
    puVar7 = puVar8;
  } while (puVar8 != (undefined8 *)&DAT_000613e0);
  DAT_00063e48 = 0;
  DAT_000640c0 = 0;
  DAT_0005f898 = 0x3ff0000000000000;
  DAT_00060088 = 0x3ff0000000000000;
  DAT_000613e0 = 0;
  DAT_000639c8 = 0;
  DAT_000639cc = 0;
  DAT_000636a8 = 0;
  DAT_000636ac = 0;
  DAT_00063e44 = 0;
  DAT_00063b88 = 0;
  DAT_00063a70 = 0;
  DAT_00063c10 = 0;
  DAT_000639e4 = 0;
  DAT_000639d0 = 0;
  DAT_00063410 = 0;
  DAT_00063e58 = 0;
  DAT_00063be8 = 0;
  DAT_00063bec = 0;
  DAT_00063c98 = 0;
  DAT_00063c9c = 0;
  DAT_00064220 = 0;
  DAT_00064224 = 0;
  DAT_00063d68 = 0;
  DAT_00063d6c = 0;
  if (0 < DAT_00063740) {
    piVar1 = DAT_000639e0 + DAT_00063740;
    piVar3 = DAT_000639e0;
    do {
      piVar4 = piVar3 + 1;
      iVar5 = *piVar3;
      *(undefined4 *)(iVar5 + 0x48) = 0;
      *(undefined4 *)(iVar5 + 0x4c) = 0;
      *(undefined4 *)(iVar5 + 0x50) = 0;
      *(undefined4 *)(iVar5 + 0x54) = 0;
      *(undefined4 *)(iVar5 + 0x58) = 0;
      *(undefined4 *)(iVar5 + 0x5c) = 0;
      *(undefined4 *)(iVar5 + 0x168) = 0;
      *(undefined4 *)(iVar5 + 0x16c) = 0;
      *(undefined4 *)(iVar5 + 0x74) = 0;
      *(undefined4 *)(iVar5 + 8) = 0;
      *(undefined4 *)(iVar5 + 0xc) = 0;
      *(undefined4 *)(iVar5 + 0x10) = 0;
      *(undefined4 *)(iVar5 + 0x14) = 0;
      *(undefined4 *)(iVar5 + 0x78) = 0;
      *(undefined4 *)(iVar5 + 0x7c) = 0;
      *(undefined4 *)(iVar5 + 0x80) = 0;
      *(undefined4 *)(iVar5 + 0x84) = 0;
      *(undefined4 *)(iVar5 + 0x160) = 0;
      *(undefined4 *)(iVar5 + 0x28) = 0;
      *(undefined4 *)(iVar5 + 0x2c) = 0;
      piVar3 = piVar4;
    } while (piVar4 != piVar1);
  }
  FUN_00015bec();
  if (DAT_00063cc0 < 1) {
    return;
  }
  iVar5 = 0;
  do {
    iVar6 = iVar5 + 1;
    iVar5 = FUN_0001ab68(iVar5);
    FUN_0002ae20(iVar5 + 0x170,&DAT_00061370);
    iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0006392c);
    if (iVar2 != 0) {
      FUN_0000b4e4("zero_stats",0x16dc);
    }
    *(undefined4 *)(iVar5 + 0x50) = 0;
    *(undefined4 *)(iVar5 + 0x54) = 0;
    *(undefined4 *)(iVar5 + 0x24) = 0;
    *(undefined8 *)(iVar5 + 0xc0) = 0;
    *(undefined4 *)(iVar5 + 0x58) = 0;
    *(undefined4 *)(iVar5 + 0x5c) = 0;
    *(undefined4 *)(iVar5 + 0x28) = 0;
    *(undefined4 *)(iVar5 + 200) = 0;
    *(undefined4 *)(iVar5 + 0xcc) = 0;
    *(undefined4 *)(iVar5 + 0x2c) = 0;
    *(undefined4 *)(iVar5 + 0xd0) = 0;
    *(undefined4 *)(iVar5 + 0xd4) = 0;
    *(undefined4 *)(iVar5 + 0xdc) = 0;
    *(undefined4 *)(iVar5 + 0xe0) = 0;
    *(undefined4 *)(iVar5 + 0xe4) = 0;
    iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0006392c);
    if (iVar2 != 0) {
      FUN_0000b694("zero_stats",0x16e7);
    }
    (*DAT_00060178)();
    (**(code **)(*(int *)(iVar5 + 4) + 0x60))(iVar5);
    iVar5 = iVar6;
  } while (iVar6 < DAT_00063cc0);
  return;
}




void FUN_0001aecc(void)

{
  int iVar1;
  uint uVar2;
  char *pcVar3;
  int iVar4;
  undefined8 *puVar5;
  uint uVar6;
  int iVar7;
  double dVar8;
  double dVar9;
  double dVar10;
  double dVar11;
  int local_950;
  undefined1 auStack_940 [256];
  undefined4 local_840;
  char acStack_83c [4];
  char acStack_838 [4];
  char acStack_834 [4];
  char local_830 [4];
  char acStack_82c [4];
  char acStack_828 [4];
  char acStack_824 [4];
  ushort local_820;
  undefined1 local_81e;
  
  dVar10 = DAT_0005f898;
  iVar4 = DAT_000613e4 - DAT_00061370;
  if (DAT_000613e8 - DAT_00061374 < 0) {
    iVar4 = iVar4 + -1;
  }
  dVar11 = (double)FUN_000493dc(DAT_000639c8,DAT_000639cc);
  dVar8 = (double)FUN_000493dc(DAT_000636a8,DAT_000636ac);
  if (((DAT_000632f0 != 0) || (DAT_000630c0 != 0)) || (3 < (int)DAT_00060964)) {
    local_840._0_1_ = '\n';
    local_840._1_1_ = 'S';
    local_840._2_1_ = 'u';
    local_840._3_1_ = 'm';
    acStack_83c[0] = 'm';
    acStack_83c[1] = 'a';
    acStack_83c[2] = 'r';
    acStack_83c[3] = 'y';
    acStack_838[0] = ' ';
    acStack_838[1] = 'o';
    acStack_838[2] = 'f';
    acStack_838[3] = ' ';
    acStack_834[0] = 'r';
    acStack_834[1] = 'u';
    acStack_834[2] = 'n';
    acStack_834[3] = 't';
    local_830[0] = 'i';
    local_830[1] = 'm';
    local_830[2] = 'e';
    local_830[3] = ' ';
    acStack_82c[0] = 's';
    acStack_82c[1] = 't';
    acStack_82c[2] = 'a';
    acStack_82c[3] = 't';
    acStack_828[0] = 'i';
    acStack_828[1] = 's';
    acStack_828[2] = 't';
    acStack_828[3] = 'i';
    acStack_824[0] = 'c';
    acStack_824[1] = 's';
    acStack_824[2] = ':';
    acStack_824[3] = '\n';
    local_820 = local_820 & 0xff00;
    FUN_00038438(4,&local_840,0);
    if (((DAT_000632f0 != 0) || (DAT_000630c0 != 0)) || (3 < (int)DAT_00060964)) {
      snprintf((char *)&local_840,0x800,"Started at %s",&DAT_000613ec);
      FUN_00038438(4,&local_840,0);
    }
  }
  if (DAT_00063740 == 1) {
    if (((DAT_000632f0 != 0) || (DAT_000630c0 != 0)) || (3 < (int)DAT_00060964)) {
      snprintf((char *)&local_840,0x800,"Pool: %s",*(undefined4 *)(*DAT_000639e0 + 0xa4));
      FUN_00038438(4,&local_840,0);
      goto LAB_0001b038;
    }
  }
  else {
LAB_0001b038:
    if (((DAT_000632f0 != 0) || (DAT_000630c0 != 0)) || (3 < (int)DAT_00060964)) {
      snprintf((char *)&local_840,0x800,"Runtime: %d hrs : %d mins : %d secs",iVar4 / 0xe10,(iVar4 % 0xe10) / 0x3c,
               iVar4 % 0x3c);
      FUN_00038438(4,&local_840,0);
      dVar9 = DAT_00063268 / DAT_0005f898;
      puVar5 = &DAT_00063268;
      if (((DAT_000632f0 != 0) ||
          (puVar5 = (undefined8 *)(uint)DAT_000630c0, (undefined8 *)(uint)DAT_000630c0 != (undefined8 *)0x0)) ||
         (puVar5 = DAT_00060964, 3 < (int)DAT_00060964)) {
        snprintf((char *)&local_840,0x800,"Average hashrate: %.1f Mhash/s",puVar5,dVar9);
        FUN_00038438(4,&local_840,0);
        if (((DAT_000632f0 != 0) || (DAT_000630c0 != 0)) || (3 < (int)DAT_00060964)) {
          snprintf((char *)&local_840,0x800,"Solved blocks: %d",DAT_00063e58,dVar9);
          FUN_00038438(4,&local_840,0);
          if (((DAT_000632f0 != 0) || (DAT_000630c0 != 0)) || (3 < (int)DAT_00060964)) {
            snprintf((char *)&local_840,0x800,"Best share difficulty: %s",&DAT_00060064,dVar9);
            FUN_00038438(4,&local_840,0);
            puVar5 = (undefined8 *)(uint)DAT_000632f0;
            if ((((undefined8 *)(uint)DAT_000632f0 != (undefined8 *)0x0) ||
                (puVar5 = (undefined8 *)(uint)DAT_000630c0, (undefined8 *)(uint)DAT_000630c0 != (undefined8 *)0x0)) ||
               (puVar5 = DAT_00060964, 3 < (int)DAT_00060964)) {
              snprintf((char *)&local_840,0x800,"Share submissions: %lld",puVar5,DAT_00063c98 + DAT_000639c8,
                       DAT_00063c9c + DAT_000639cc + (uint)CARRY4(DAT_00063c98,DAT_000639c8));
              FUN_00038438(4,&local_840,0);
              puVar5 = (undefined8 *)(uint)DAT_000632f0;
              if ((((undefined8 *)(uint)DAT_000632f0 != (undefined8 *)0x0) ||
                  (puVar5 = (undefined8 *)(uint)DAT_000630c0, (undefined8 *)(uint)DAT_000630c0 != (undefined8 *)0x0)) ||
                 (puVar5 = DAT_00060964, 3 < (int)DAT_00060964)) {
                snprintf((char *)&local_840,0x800,"Accepted shares: %lld",puVar5,DAT_000639c8,DAT_000639cc);
                FUN_00038438(4,&local_840,0);
                puVar5 = (undefined8 *)(uint)DAT_000632f0;
                if ((((undefined8 *)(uint)DAT_000632f0 != (undefined8 *)0x0) ||
                    (puVar5 = (undefined8 *)(uint)DAT_000630c0, (undefined8 *)(uint)DAT_000630c0 != (undefined8 *)0x0))
                   || (puVar5 = DAT_00060964, 3 < (int)DAT_00060964)) {
                  snprintf((char *)&local_840,0x800,"Rejected shares: %lld",puVar5,DAT_00063c98,DAT_00063c9c);
                  FUN_00038438(4,&local_840,0);
                  if (((DAT_000632f0 != 0) || (DAT_000630c0 != 0)) || (3 < (int)DAT_00060964)) {
                    snprintf((char *)&local_840,0x800,"Accepted difficulty shares: %1.f",DAT_00063b88._4_4_,
                             (undefined4)DAT_00063b88,DAT_00063b88._4_4_);
                    FUN_00038438(4,&local_840,0);
                    if (((DAT_000632f0 != 0) || (DAT_000630c0 != 0)) || (3 < (int)DAT_00060964)) {
                      snprintf((char *)&local_840,0x800,"Rejected difficulty shares: %1.f",DAT_00063c10._4_4_,
                               (undefined4)DAT_00063c10,DAT_00063c10._4_4_);
                      FUN_00038438(4,&local_840,0);
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  iVar1 = DAT_00063c9c;
  uVar6 = DAT_00063c98;
  iVar4 = DAT_000639cc;
  uVar2 = DAT_000639c8;
  if ((DAT_000639c8 == 0 && DAT_000639cc == 0) && (DAT_00063c98 == 0 && DAT_00063c9c == 0)) {
LAB_0001b470:
    if (((DAT_000632f0 != 0) || (DAT_000630c0 != 0)) || (3 < (int)DAT_00060964)) {
      snprintf((char *)&local_840,0x800,"Hardware errors: %d",DAT_00063e44);
      FUN_00038438(4,&local_840,0);
      puVar5 = (undefined8 *)(uint)DAT_000632f0;
      if ((((undefined8 *)(uint)DAT_000632f0 != (undefined8 *)0x0) ||
          (puVar5 = (undefined8 *)(uint)DAT_000630c0, (undefined8 *)(uint)DAT_000630c0 != (undefined8 *)0x0)) ||
         (puVar5 = DAT_00060964, 3 < (int)DAT_00060964)) {
        snprintf((char *)&local_840,0x800,"Utility (accepted shares / min): %.2f/min",puVar5,(dVar11 / dVar10) * 60.0);
        FUN_00038438(4,&local_840,0);
        puVar5 = (undefined8 *)(uint)DAT_000632f0;
        if ((((undefined8 *)(uint)DAT_000632f0 != (undefined8 *)0x0) ||
            (puVar5 = (undefined8 *)(uint)DAT_000630c0, (undefined8 *)(uint)DAT_000630c0 != (undefined8 *)0x0)) ||
           (puVar5 = DAT_00060964, 3 < (int)DAT_00060964)) {
          snprintf((char *)&local_840,0x800,"Work Utility (diff1 shares solved / min): %.2f/min\n",puVar5,
                   (dVar8 / dVar10) * 60.0);
          FUN_00038438(4,&local_840,0);
          if (((DAT_000632f0 != 0) || (DAT_000630c0 != 0)) || (3 < (int)DAT_00060964)) {
            snprintf((char *)&local_840,0x800,"Stale submissions discarded due to new blocks: %lld",&DAT_00064220,
                     DAT_00064220,DAT_00064224);
            FUN_00038438(4,&local_840,0);
            if (((DAT_000632f0 != 0) || (DAT_000630c0 != 0)) || (3 < (int)DAT_00060964)) {
              snprintf((char *)&local_840,0x800,"Unable to get work from server occasions: %d",DAT_000639e4);
              FUN_00038438(4,&local_840,0);
              if (((DAT_000632f0 != 0) || (DAT_000630c0 != 0)) || (3 < (int)DAT_00060964)) {
                snprintf((char *)&local_840,0x800,"Work items generated locally: %d",DAT_00063a70);
                FUN_00038438(4,&local_840,0);
                if (((DAT_000632f0 != 0) || (DAT_000630c0 != 0)) || (3 < (int)DAT_00060964)) {
                  snprintf((char *)&local_840,0x800,"Submitting work remotely delay occasions: %d",DAT_00063410);
                  FUN_00038438(4,&local_840,0);
                  if (((DAT_000632f0 != 0) || (DAT_000630c0 != 0)) || (3 < (int)DAT_00060964)) {
                    snprintf((char *)&local_840,0x800,"New blocks detected on network: %d\n",DAT_000640bc);
                    FUN_00038438(4,&local_840,0);
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  else if ((DAT_000632f0 != 0) || ((DAT_000630c0 != 0 || (3 < (int)DAT_00060964)))) {
    FUN_000493dc((int)((ulonglong)DAT_00063c98 * 100),DAT_00063c9c * 100 + (int)((ulonglong)DAT_00063c98 * 100 >> 0x20))
    ;
    FUN_000493dc(uVar2 + uVar6,iVar4 + iVar1 + (uint)CARRY4(uVar2,uVar6));
    snprintf((char *)&local_840,0x800,"Reject ratio: %.1f%%");
    FUN_00038438(4,&local_840,0);
    goto LAB_0001b470;
  }
  if (1 < DAT_00063740) {
    local_950 = 0;
    do {
      iVar4 = DAT_000639e0[local_950];
      if (((DAT_000632f0 == 0) && (DAT_000630c0 == 0)) && ((int)DAT_00060964 < 4)) {
        iVar1 = *(int *)(iVar4 + 0x20);
        if (iVar1 == 0) goto LAB_0001bbb4;
LAB_0001b74c:
        if ((DAT_000630c0 != 0) || (3 < (int)DAT_00060964)) goto LAB_0001bb6c;
      }
      else {
        snprintf((char *)&local_840,0x800,"Pool: %s",*(undefined4 *)(iVar4 + 0xa4));
        FUN_00038438(4,&local_840,0);
        iVar1 = *(int *)(iVar4 + 0x20);
        if (iVar1 != 0) {
          if (DAT_000632f0 == 0) goto LAB_0001b74c;
LAB_0001bb6c:
          pcVar3 = "S";
          if (iVar1 < 2) {
            pcVar3 = "";
          }
          snprintf((char *)&local_840,0x800,"SOLVED %d BLOCK%s!",iVar1,pcVar3);
          FUN_00038438(4,&local_840,0);
        }
        if (DAT_000632f0 == 0) {
LAB_0001bbb4:
          if ((DAT_000630c0 == 0) && ((int)DAT_00060964 < 4)) goto LAB_0001b76c;
        }
        snprintf((char *)&local_840,0x800," Share submissions: %lld");
        FUN_00038438(4,&local_840,0);
        puVar5 = (undefined8 *)(uint)DAT_000632f0;
        if (((undefined8 *)(uint)DAT_000632f0 != (undefined8 *)0x0) ||
           ((puVar5 = (undefined8 *)(uint)DAT_000630c0, (undefined8 *)(uint)DAT_000630c0 != (undefined8 *)0x0 ||
            (puVar5 = DAT_00060964, 3 < (int)DAT_00060964)))) {
          snprintf((char *)&local_840,0x800," Accepted shares: %lld",puVar5,*(undefined4 *)(iVar4 + 8));
          FUN_00038438(4,&local_840,0);
          puVar5 = (undefined8 *)(uint)DAT_000632f0;
          if (((undefined8 *)(uint)DAT_000632f0 != (undefined8 *)0x0) ||
             ((puVar5 = (undefined8 *)(uint)DAT_000630c0, (undefined8 *)(uint)DAT_000630c0 != (undefined8 *)0x0 ||
              (puVar5 = DAT_00060964, 3 < (int)DAT_00060964)))) {
            snprintf((char *)&local_840,0x800," Rejected shares: %lld",puVar5,*(undefined4 *)(iVar4 + 0x10));
            FUN_00038438(4,&local_840,0);
            if ((DAT_000632f0 != 0) || ((DAT_000630c0 != 0 || (3 < (int)DAT_00060964)))) {
              snprintf((char *)&local_840,0x800," Accepted difficulty shares: %1.f",*(undefined4 *)(iVar4 + 0x4c),
                       *(undefined4 *)(iVar4 + 0x48));
              FUN_00038438(4,&local_840,0);
              if ((DAT_000632f0 != 0) || ((DAT_000630c0 != 0 || (3 < (int)DAT_00060964)))) {
                snprintf((char *)&local_840,0x800," Rejected difficulty shares: %1.f",*(undefined4 *)(iVar4 + 0x54),
                         *(undefined4 *)(iVar4 + 0x50));
                FUN_00038438(4,&local_840,0);
              }
            }
          }
        }
      }
LAB_0001b76c:
      uVar2 = *(uint *)(iVar4 + 8);
      iVar1 = *(int *)(iVar4 + 0xc);
      if ((uVar2 == 0 && iVar1 == 0) && (*(int *)(iVar4 + 0x10) == 0 && *(int *)(iVar4 + 0x14) == 0)) {
LAB_0001b814:
        if (((DAT_000632f0 != 0) || (DAT_000630c0 != 0)) || (3 < (int)DAT_00060964)) {
          snprintf((char *)&local_840,0x800," Items worked on: %d",*(undefined4 *)(iVar4 + 0x44));
          FUN_00038438(4,&local_840,0);
          if (((DAT_000632f0 != 0) || (DAT_000630c0 != 0)) || (3 < (int)DAT_00060964)) {
            snprintf((char *)&local_840,0x800," Stale submissions discarded due to new blocks: %d",
                     *(undefined4 *)(iVar4 + 0x78));
            FUN_00038438(4,&local_840,0);
            if (((DAT_000632f0 != 0) || (DAT_000630c0 != 0)) || (3 < (int)DAT_00060964)) {
              snprintf((char *)&local_840,0x800," Unable to get work from server occasions: %d",
                       *(undefined4 *)(iVar4 + 0x80));
              FUN_00038438(4,&local_840,0);
              if (((DAT_000632f0 != 0) || (DAT_000630c0 != 0)) || (3 < (int)DAT_00060964)) {
                snprintf((char *)&local_840,0x800," Submitting work remotely delay occasions: %d\n",
                         *(undefined4 *)(iVar4 + 0x84));
                FUN_00038438(4,&local_840,0);
              }
            }
          }
        }
      }
      else if ((DAT_000632f0 != 0) || ((DAT_000630c0 != 0 || (3 < (int)DAT_00060964)))) {
        uVar6 = *(uint *)(iVar4 + 0x10);
        iVar7 = *(int *)(iVar4 + 0x14);
        FUN_000493dc((int)((ulonglong)uVar6 * 100),iVar7 * 100 + (int)((ulonglong)uVar6 * 100 >> 0x20));
        FUN_000493dc(uVar2 + uVar6,iVar1 + iVar7 + (uint)CARRY4(uVar2,uVar6));
        snprintf((char *)&local_840,0x800," Reject ratio: %.1f%%");
        FUN_00038438(4,&local_840,0);
        goto LAB_0001b814;
      }
      local_950 = local_950 + 1;
    } while (local_950 < DAT_00063740);
  }
  if (((DAT_000632f0 != 0) || (DAT_000630c0 != 0)) || (3 < (int)DAT_00060964)) {
    local_840._0_1_ = 'S';
    local_840._1_1_ = 'u';
    local_840._2_1_ = 'm';
    local_840._3_1_ = 'm';
    acStack_83c[0] = 'a';
    acStack_83c[1] = 'r';
    acStack_83c[2] = 'y';
    acStack_83c[3] = ' ';
    acStack_838[0] = 'o';
    acStack_838[1] = 'f';
    acStack_838[2] = ' ';
    acStack_838[3] = 'p';
    acStack_834[0] = 'e';
    acStack_834[1] = 'r';
    acStack_834[2] = ' ';
    acStack_834[3] = 'd';
    local_830[0] = 'e';
    local_830[1] = 'v';
    local_830[2] = 'i';
    local_830[3] = 'c';
    acStack_82c[0] = 'e';
    acStack_82c[1] = ' ';
    acStack_82c[2] = 's';
    acStack_82c[3] = 't';
    acStack_828[0] = 'a';
    acStack_828[1] = 't';
    acStack_828[2] = 'i';
    acStack_828[3] = 's';
    acStack_824[0] = 't';
    acStack_824[1] = 'i';
    acStack_824[2] = 'c';
    acStack_824[3] = 's';
    local_820 = 0xa3a;
    local_81e = 0;
    FUN_00038438(4,&local_840,0);
  }
  if (0 < DAT_00063cc0) {
    iVar4 = 0;
    do {
      iVar1 = iVar4 + 1;
      iVar4 = FUN_0001ab68(iVar4);
      *(undefined **)(*(int *)(iVar4 + 4) + 0x14) = &DAT_0000f360;
      *(undefined **)(*(int *)(iVar4 + 4) + 0x18) = &DAT_0000f364;
      FUN_0001715c(auStack_940,0xff,iVar4);
      if (((DAT_000632f0 != 0) || (DAT_000630c0 != 0)) || (3 < (int)DAT_00060964)) {
        snprintf((char *)&local_840,0x800,"%s",auStack_940);
        FUN_00038438(4,&local_840,0);
      }
      iVar4 = iVar1;
    } while (iVar1 < DAT_00063cc0);
  }
  if (DAT_00061414 == 0) {
LAB_0001bb08:
    puVar5 = (undefined8 *)(uint)DAT_000632f0;
LAB_0001bb0c:
    if (puVar5 == (undefined8 *)0x0) goto LAB_0001bb18;
  }
  else {
    if (((DAT_000632f0 != 0) || (DAT_000630c0 != 0)) || (3 < (int)DAT_00060964)) {
      snprintf((char *)&local_840,0x800,"Mined %.0f accepted shares of %d requested\n",DAT_00063b88._4_4_,
               (undefined4)DAT_00063b88,DAT_00063b88._4_4_,DAT_00061414);
      FUN_00038438(4,&local_840,0);
      dVar10 = (double)CONCAT44(DAT_00063b88._4_4_,(undefined4)DAT_00063b88);
      puVar5 = (undefined8 *)(uint)DAT_000632f0;
      if (dVar10 < (double)(longlong)DAT_00061414) {
        if (puVar5 == (undefined8 *)0x0) goto LAB_0001bac0;
        goto LAB_0001bae0;
      }
      goto LAB_0001bb0c;
    }
    dVar10 = (double)CONCAT44(DAT_00063b88._4_4_,(undefined4)DAT_00063b88);
    if (dVar10 < (double)(longlong)DAT_00061414) {
LAB_0001bac0:
      puVar5 = (undefined8 *)(uint)DAT_000630c0;
      if (((undefined8 *)(uint)DAT_000630c0 == (undefined8 *)0x0) && (puVar5 = DAT_00060964, (int)DAT_00060964 < 4))
      goto LAB_0001bb40;
LAB_0001bae0:
      snprintf((char *)&local_840,0x800,"WARNING - Mined only %.0f shares of %d requested.",puVar5,dVar10,DAT_00061414);
      FUN_00038438(4,&local_840,0);
      goto LAB_0001bb08;
    }
LAB_0001bb18:
    if ((DAT_000630c0 == 0) && ((int)DAT_00060964 < 4)) goto LAB_0001bb40;
  }
  local_840._0_2_ = 0x20;
  FUN_00038438(4,&local_840,0);
LAB_0001bb40:
  fflush(stderr);
  fflush(stdout);
  return;
}




void FUN_0001c028(void)

{
  char local_810 [4];
  char acStack_80c [4];
  char acStack_808 [4];
  char acStack_804 [4];
  char local_800 [4];
  char acStack_7fc [4];
  char acStack_7f8 [4];
  undefined2 local_7f4;
  
  if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
    snprintf(local_810,0x800,"Attempting to restart %s",&DAT_00060ea4);
    FUN_00038438(4,local_810,0);
  }
  FUN_0002f38c(&LAB_0001c708,0,5000);
  FUN_0002b13c(&DAT_000613e4);
  FUN_00019060();
  if (0 < DAT_00061418) {
    kill(DAT_00061418,0xf);
    DAT_00061418 = 0;
  }
  execv(*DAT_0006141c,DAT_0006141c);
  if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
    local_810[0] = 'F';
    local_810[1] = 'a';
    local_810[2] = 'i';
    local_810[3] = 'l';
    acStack_80c[0] = 'e';
    acStack_80c[1] = 'd';
    acStack_80c[2] = ' ';
    acStack_80c[3] = 't';
    acStack_808[0] = 'o';
    acStack_808[1] = ' ';
    acStack_808[2] = 'r';
    acStack_808[3] = 'e';
    acStack_804[0] = 's';
    acStack_804[1] = 't';
    acStack_804[2] = 'a';
    acStack_804[3] = 'r';
    local_800[0] = 't';
    local_800[1] = ' ';
    local_800[2] = 'a';
    local_800[3] = 'p';
    acStack_7fc[0] = 'p';
    acStack_7fc[1] = 'l';
    acStack_7fc[2] = 'i';
    acStack_7fc[3] = 'c';
    acStack_7f8[0] = 'a';
    acStack_7f8[1] = 't';
    acStack_7f8[2] = 'i';
    acStack_7f8[3] = 'o';
    local_7f4 = 0x6e;
    FUN_00038438(4,local_810,0);
  }
  return;
}




void FUN_0001c160(int param_1,int param_2)

{
  int iVar1;
  pthread_t local_14 [2];
  
  iVar1 = pthread_create(local_14,(pthread_attr_t *)0x0,FUN_00011854,(void *)0x0);
  if (iVar1 == 0) {
    if (param_2 == 0) {
      FUN_00019060();
    }
    else {
      FUN_0002b13c(&DAT_000613e4);
      FUN_00019060();
      if ((DAT_000640b8 == '\0') && (DAT_00062f60 != '\0')) {
        FUN_0001aecc();
      }
    }
    if (0 < DAT_00061418) {
      kill(DAT_00061418,0xf);
      DAT_00061418 = 0;
    }
    pthread_cancel(local_14[0]);
                    /* WARNING: Subroutine does not return */
    exit(param_1);
  }
                    /* WARNING: Subroutine does not return */
  exit(1);
}




int FUN_0001c218(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar1 = pthread_rwlock_rdlock((pthread_rwlock_t *)(param_1 + 0x140));
  if (iVar1 != 0) {
    FUN_0000b76c("find_queued_work_byid",0x22d5);
  }
  iVar1 = *(int *)(param_1 + 0x160);
  if (iVar1 != 0) {
    iVar3 = *(int *)(iVar1 + 0x154);
    for (iVar2 = *(int *)(iVar1 + 0x160); (param_2 != iVar3 && (iVar1 = iVar2, iVar2 != 0));
        iVar2 = *(int *)(iVar2 + 0x160)) {
      iVar3 = *(int *)(iVar2 + 0x154);
    }
  }
  iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x140));
  if (iVar2 != 0) {
    FUN_0000b700("find_queued_work_byid",0x22d7);
  }
  (*DAT_00060178)();
  return iVar1;
}




undefined4
FUN_0001c2c8(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,undefined4 param_5,undefined4 param_6)

{
  int iVar1;
  undefined4 uVar2;
  
  iVar1 = pthread_rwlock_rdlock((pthread_rwlock_t *)(param_1 + 0x140));
  if (iVar1 != 0) {
    FUN_0000b76c("find_queued_work_bymidstate",0x22a9);
  }
  uVar2 = FUN_00016500(*(undefined4 *)(param_1 + 0x160),param_2,param_3,param_4,param_5,param_6);
  iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x140));
  if (iVar1 != 0) {
    FUN_0000b700("find_queued_work_bymidstate",0x22ab);
  }
  (*DAT_00060178)();
  return uVar2;
}




undefined4 FUN_0001c36c(int param_1)

{
  int iVar1;
  undefined4 uVar2;
  
  iVar1 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_00063bf0);
  if (iVar1 != 0) {
    FUN_0000b76c("get_thread",0x266);
  }
  uVar2 = *(undefined4 *)(DAT_00063b80 + param_1 * 4);
  iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_00063bf0);
  if (iVar1 != 0) {
    FUN_0000b700("get_thread",0x268);
  }
  (*DAT_00060178)();
  return uVar2;
}




/* WARNING: Heritage AFTER dead removal. Example location: s1 : 0x0001cbdc */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* WARNING: Restarted to delay deadcode elimination for space: register */

void FUN_0001c834(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  longlong lVar1;
  bool bVar2;
  int iVar3;
  int iVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  int iVar7;
  double *pdVar8;
  undefined4 extraout_s0;
  double in_d0;
  undefined4 uVar9;
  undefined4 in_s3;
  double dVar10;
  double dVar11;
  undefined8 uVar12;
  double dVar13;
  undefined8 uVar14;
  undefined4 local_978;
  undefined4 local_974;
  undefined1 auStack_970 [16];
  undefined1 auStack_960 [16];
  undefined1 auStack_950 [16];
  undefined1 auStack_940 [256];
  char acStack_840 [2052];
  
  uVar12 = CONCAT44(param_4,param_3);
  FUN_0002b13c(&DAT_000613e4);
  FUN_0002b314(&DAT_000613e4,&DAT_00061378);
  iVar4 = DAT_000613e4;
  extraout_s0 = SUB84(in_d0,0);
  uVar9 = (undefined4)((ulonglong)in_d0 >> 0x20);
  if (DAT_000613e4 - DAT_00061428 < DAT_0006006c) {
    if (param_1 < 0) {
      return;
    }
    bVar2 = false;
    FUN_0002ae20(&DAT_00061378,&DAT_000613e4);
  }
  else {
    DAT_00061428 = DAT_000613e4;
    DAT_0006142c = DAT_0006142d ^ DAT_0006142c;
    FUN_0002ae20(&DAT_00061378,&DAT_000613e4);
    if (param_1 < 0) {
      iVar4 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0006392c);
      if (iVar4 != 0) {
        FUN_0000b4e4("hashmeter",0x1a55);
      }
      if (0 < DAT_0006410c) {
        iVar4 = 0;
        do {
          iVar3 = iVar4 + 1;
          iVar4 = FUN_0001c36c(iVar4);
          iVar4 = *(int *)(iVar4 + 0x24);
          FUN_0002b314(&DAT_000613e4,iVar4 + 0x8c);
          FUN_0002ae20(iVar4 + 0x8c,&DAT_000613e4);
          FUN_000152d0(0,uVar9,extraout_s0,in_s3,SUB84((double)(longlong)DAT_0006006c,0),iVar4 + 0x30);
          FUN_000152d0(0,uVar9,extraout_s0,in_s3,0,iVar4 + 0x38);
          FUN_000152d0(0,uVar9,extraout_s0,in_s3,0,iVar4 + 0x40);
          FUN_000152d0(0,uVar9,extraout_s0,in_s3,0,iVar4 + 0x48);
          iVar4 = iVar3;
        } while (iVar3 < DAT_0006410c);
      }
      iVar4 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0006392c);
      if (iVar4 != 0) {
        FUN_0000b694("hashmeter",0x1a62);
      }
      bVar2 = true;
      (*DAT_00060178)();
      goto LAB_0001cc54;
    }
    bVar2 = true;
  }
  iVar3 = FUN_0001c36c(param_1);
  iVar7 = *(int *)(iVar3 + 0x24);
  FUN_0002ae20(iVar3 + 0x2c,&DAT_000613e4);
  *(int *)(iVar7 + 0xf0) = iVar4;
  FUN_0002b314(&DAT_000613e4,iVar7 + 0x8c);
  FUN_0002ae20(iVar7 + 0x8c,&DAT_000613e4);
  uVar12 = FUN_0004943c(param_3,param_4,1000000,0);
  if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != 0 || (DAT_000630c0 != 0)) || (6 < (int)DAT_00060964)))) {
    FUN_000493c8(param_3,param_4);
    snprintf(acStack_840,0x800,"[thread %d: %llu hashes, %.1f mhash/sec]",param_1);
    FUN_00038438(7,acStack_840,0);
  }
  iVar4 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0006392c);
  if (iVar4 != 0) {
    FUN_0000b4e4("hashmeter",0x1a3b);
  }
  dVar13 = (double)FUN_000493c8((int)uVar12,(int)((ulonglong)uVar12 >> 0x20));
  uVar5 = SUB84(dVar13,0);
  lVar1 = (longlong)DAT_0006006c;
  *(double *)(iVar7 + 0x50) = *(double *)(iVar7 + 0x50) + dVar13;
  FUN_000152d0(uVar5,uVar9,extraout_s0,in_s3,SUB84((double)lVar1,0),iVar7 + 0x30);
  FUN_000152d0(uVar5,uVar9,extraout_s0,in_s3,0,iVar7 + 0x38);
  FUN_000152d0(uVar5,uVar9,extraout_s0,in_s3,0,iVar7 + 0x40);
  FUN_000152d0(uVar5,uVar9,extraout_s0,in_s3,0,iVar7 + 0x48);
  iVar4 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0006392c);
  if (iVar4 != 0) {
    FUN_0000b694("hashmeter",0x1a41);
  }
  (*DAT_00060178)();
  FUN_0001715c(auStack_940,0x100,iVar7);
  if (DAT_000612f8 == '\0') {
    printf("%s          \r",auStack_940);
    fflush(stdout);
  }
  else if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != 0 || (DAT_000630c0 != 0)) || (6 < (int)DAT_00060964)))) {
    snprintf(acStack_840,0x800,"%s",auStack_940);
    FUN_00038438(7,acStack_840,0);
  }
LAB_0001cc54:
  local_974 = (undefined4)((ulonglong)uVar12 >> 0x20);
  local_978 = (undefined4)uVar12;
  iVar4 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0006392c);
  if (iVar4 != 0) {
    FUN_0000b4e4("hashmeter",0x1a65);
  }
  dVar13 = (double)FUN_000493c8(local_978,local_974);
  uVar5 = SUB84(dVar13,0);
  DAT_00063268 = dVar13 + DAT_00063268;
  if (bVar2) {
    pdVar8 = (double *)&DAT_00061380;
    DAT_000613e0 = DAT_000613e0 + 1;
    iVar4 = 0;
    uVar14 = 0;
    if (0xb < DAT_000613e0) {
      DAT_000613e0 = 0;
      uVar14 = 0;
    }
    do {
      dVar10 = *pdVar8;
      pdVar8 = pdVar8 + 1;
      if (0.0 <= dVar10) {
        dVar11 = (double)FUN_000493c8((int)uVar14,(int)((ulonglong)uVar14 >> 0x20));
        iVar4 = iVar4 + 1;
        dVar10 = dVar10 + dVar11;
        uVar14 = FUN_000494c0(SUB84(dVar10,0),(int)((ulonglong)dVar10 >> 0x20));
      }
    } while (pdVar8 != (double *)&DAT_000613e0);
    if (iVar4 != 0) {
      uVar12 = FUN_0004943c((int)uVar14,(int)((ulonglong)uVar14 >> 0x20),iVar4,iVar4 >> 0x1f);
    }
    local_974 = (undefined4)((ulonglong)uVar12 >> 0x20);
    local_978 = (undefined4)uVar12;
    lVar1 = (longlong)DAT_0006006c;
    uVar6 = FUN_000493c8(local_978,local_974);
    FUN_000152d0(uVar6,uVar9,SUB84((double)lVar1,0),in_s3,SUB84((double)lVar1,0),&DAT_000640b0);
    FUN_000152d0(uVar5,uVar9,extraout_s0,in_s3,0,&DAT_00064238);
    FUN_000152d0(uVar5,uVar9,extraout_s0,in_s3,0,&DAT_00064228);
    FUN_000152d0(uVar5,uVar9,extraout_s0,in_s3,0,&DAT_000638a0);
    in_d0 = DAT_000640b0;
    _DAT_00064070 = llround(DAT_000640b0);
    iVar4 = DAT_000613e0;
    dVar10 = 0.0;
    (&DAT_00061380)[DAT_000613e0] = 0;
    _DAT_00064070 = _DAT_00064070 * 1000000;
  }
  else {
    dVar10 = (double)(&DAT_00061380)[DAT_000613e0];
    iVar4 = DAT_000613e0;
  }
  (&DAT_00061380)[iVar4] = dVar10 + dVar13;
  FUN_0002b314(&DAT_000613e4,&DAT_00061370);
  DAT_0005f898 = in_d0;
  if (86400.0 < in_d0 - DAT_00060088) {
    if (((DAT_000632f0 != 0) || (DAT_000630c0 != 0)) || (2 < (int)DAT_00060964)) {
      snprintf(acStack_840,0x800,"cgminer time error total_secs = %f last_total_secs = %f");
      FUN_00038438(3,acStack_840,0);
    }
    iVar4 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0006392c);
    if (iVar4 != 0) {
      FUN_0000b694("hashmeter",0x1a8d);
    }
    (*DAT_00060178)();
    FUN_0001abe0();
    iVar4 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0006392c);
    in_d0 = DAT_00060088;
    if (iVar4 != 0) {
      FUN_0000b4e4("hashmeter",0x1a8f);
      in_d0 = DAT_00060088;
    }
  }
  DAT_00060088 = in_d0;
  if (bVar2) {
    dVar13 = (DAT_00063268 / DAT_0005f898) * 1000000.0;
    uVar12 = FUN_000494c0(SUB84(dVar13,0),(int)((ulonglong)dVar13 >> 0x20));
    FUN_00011130((int)uVar12,(int)((ulonglong)uVar12 >> 0x20),auStack_970,0x10);
    DAT_00061430 = DAT_000640b0 / 1000.0;
    uVar12 = FUN_000494c0(SUB84(DAT_000640b0 * 1000000.0,0),(int)((ulonglong)(DAT_000640b0 * 1000000.0) >> 0x20));
    FUN_00011130((int)uVar12,(int)((ulonglong)uVar12 >> 0x20),auStack_960,0x10);
    uVar12 = FUN_000494c0(SUB84(DAT_00064238 * 1000000.0,0),(int)((ulonglong)(DAT_00064238 * 1000000.0) >> 0x20));
    FUN_00011130((int)uVar12,(int)((ulonglong)uVar12 >> 0x20),auStack_950,0x10);
    uVar12 = FUN_000494c0(SUB84(DAT_00064228 * 1000000.0,0),(int)((ulonglong)(DAT_00064228 * 1000000.0) >> 0x20));
    FUN_00011130((int)uVar12,(int)((ulonglong)uVar12 >> 0x20),auStack_940,0x10);
    uVar12 = FUN_000494c0(SUB84(DAT_000638a0 * 1000000.0,0),(int)((ulonglong)(DAT_000638a0 * 1000000.0) >> 0x20));
    FUN_00011130((int)uVar12,(int)((ulonglong)uVar12 >> 0x20),acStack_840,0x10);
    snprintf(&DAT_00061438,0x100,"(%ds):%s (1m):%s (5m):%s (15m):%s (avg):%sh/s",DAT_0006006c);
  }
  iVar4 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0006392c);
  if (iVar4 != 0) {
    FUN_0000b694("hashmeter",0x1aac);
  }
  (*DAT_00060178)();
  if (bVar2) {
    if (DAT_000612f8 == '\0') {
      printf("%s          \r",&DAT_00061438);
      fflush(stdout);
    }
    else if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != 0 || (DAT_000630c0 != 0)) || (6 < (int)DAT_00060964)))) {
      snprintf(acStack_840,0x800,"%s",&DAT_00061438);
      FUN_00038438(7,acStack_840,0);
    }
  }
  return;
}




void FUN_0001d1a8(undefined4 *param_1)

{
  char cVar1;
  longlong lVar2;
  int iVar3;
  undefined4 uVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  bool bVar8;
  longlong lVar9;
  int local_838;
  int local_834;
  int local_830;
  int local_82c;
  char acStack_828 [2052];
  
  iVar6 = param_1[9];
  uVar4 = *param_1;
  local_834 = 0;
  iVar7 = *(int *)(iVar6 + 4);
  lVar2 = 0;
  local_838 = 0;
LAB_0001d1e4:
  cVar1 = *(char *)(iVar6 + 0x16c);
  do {
    if (cVar1 != '\0') {
LAB_0001d2f4:
      *(undefined4 *)(iVar6 + 0x20) = 1;
      return;
    }
    *(undefined1 *)((int)param_1 + 0x3f) = 0;
    lVar9 = (**(code **)(iVar7 + 0x44))(param_1);
    *(undefined1 *)((int)param_1 + 0x3e) = 0;
    if (lVar9 == -1) {
      if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
        snprintf(acStack_828,0x800,"%s %d failure, disabling!",*(undefined4 *)(iVar7 + 8),*(undefined4 *)(iVar6 + 8));
        FUN_00038438(3,acStack_828,0);
      }
      *(undefined4 *)(iVar6 + 0x20) = 1;
      FUN_0002ed00(iVar6);
      goto LAB_0001d2f4;
    }
    lVar2 = lVar9 + lVar2;
    FUN_0002b13c(&local_830);
    iVar5 = local_82c - local_834;
    bVar8 = iVar5 < 0;
    if (bVar8) {
      iVar5 = iVar5 + 0xf4000;
    }
    iVar3 = local_830 - local_838;
    if (bVar8) {
      iVar5 = iVar5 + 0x240;
      iVar3 = iVar3 + -1;
    }
    if (((lVar2 == 0) || ((iVar3 < 1 && (iVar5 < 0x30d41)))) && (iVar3 < DAT_0006006c)) {
      lVar9 = lVar2;
      if (*(char *)(param_1 + 0xf) != '\0') goto LAB_0001d338;
LAB_0001d294:
      lVar2 = lVar9;
      if (*(int *)(iVar6 + 0x20) != 0) goto LAB_0001d338;
    }
    else {
      FUN_0001c834(uVar4,iVar3,(int)lVar2,(int)((ulonglong)lVar2 >> 0x20));
      lVar2 = 0;
      FUN_0002ae20(&local_838,&local_830);
      lVar9 = 0;
      if (*(char *)(param_1 + 0xf) == '\0') goto LAB_0001d294;
LAB_0001d338:
      FUN_000118c4(param_1,uVar4,iVar7);
    }
    if (*(char *)((int)param_1 + 0x3f) == '\0') goto LAB_0001d1e4;
    iVar5 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00063dfc);
    if (iVar5 != 0) {
      FUN_0000b4e4("hash_driver_work",0x23a4);
    }
    (**(code **)(iVar7 + 0x50))(iVar6);
    iVar5 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063dfc);
    if (iVar5 != 0) {
      FUN_0000b694("hash_driver_work",0x23a6);
    }
    (*DAT_00060178)();
    cVar1 = *(char *)(iVar6 + 0x16c);
  } while( true );
}




void FUN_0001d408(undefined4 param_1,int param_2)

{
  int iVar1;
  void *__ptr;
  void *__ptr_00;
  void *__ptr_01;
  size_t sVar2;
  int iVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  char *pcVar6;
  char acStack_c28 [1023];
  undefined1 local_829;
  undefined4 local_828;
  undefined4 uStack_824;
  undefined4 uStack_820;
  undefined4 uStack_81c;
  undefined4 uStack_818;
  undefined2 local_814;
  
  if (DAT_00060fa4 == (FILE *)0x0) {
    return;
  }
  uVar5 = *(undefined4 *)(param_2 + 0x100);
  iVar1 = FUN_0001c36c(uVar5);
  iVar3 = *(int *)(param_2 + 0x104);
  uVar4 = *(undefined4 *)(param_2 + 0x1b0);
  iVar1 = *(int *)(iVar1 + 0x24);
  __ptr = (void *)FUN_000294b8(param_2 + 0xa0,0x20);
  __ptr_00 = (void *)FUN_000294b8(param_2 + 0xc0,0x20);
  __ptr_01 = (void *)FUN_000294b8(param_2,0x80);
  sVar2 = snprintf(acStack_c28,0x400,"%lu,%s,%s,%s,%s%u,%u,%s,%s\n",uVar4,param_1,__ptr,*(undefined4 *)(iVar3 + 0xa4),
                   *(undefined4 *)(*(int *)(iVar1 + 4) + 8),*(undefined4 *)(iVar1 + 8),uVar5,__ptr_00,__ptr_01);
  free(__ptr);
  free(__ptr_00);
  free(__ptr_01);
  if ((int)sVar2 < 0x400) {
    if ((int)sVar2 < 0) {
      if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 3)) {
        return;
      }
      pcVar6 = "sharelog printf error";
      goto LAB_0001d568;
    }
  }
  else {
    local_829 = 0;
  }
  iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00061538);
  if (iVar1 != 0) {
    FUN_0000b4e4("sharelog",0x2a1);
  }
  sVar2 = fwrite(acStack_c28,sVar2,1,DAT_00060fa4);
  fflush(DAT_00060fa4);
  iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00061538);
  if (iVar1 != 0) {
    FUN_0000b694("sharelog",0x2a4);
  }
  (*DAT_00060178)();
  if (sVar2 == 1) {
    return;
  }
  if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 3)) {
    return;
  }
  pcVar6 = "sharelog fwrite error";
LAB_0001d568:
  local_828 = *(undefined4 *)pcVar6;
  uStack_824 = *(undefined4 *)(pcVar6 + 4);
  uStack_820 = *(undefined4 *)(pcVar6 + 8);
  uStack_81c = *(undefined4 *)(pcVar6 + 0xc);
  uStack_818 = *(undefined4 *)(pcVar6 + 0x10);
  local_814 = (undefined2)*(undefined4 *)(pcVar6 + 0x14);
  FUN_00038438(3,&local_828,0);
  return;
}




undefined4 FUN_0001d644(void)

{
  undefined4 uVar1;
  int iVar2;
  
  iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00063fb0);
  if (iVar2 != 0) {
    FUN_0000b4e4("current_pool",0x31c);
  }
  iVar2 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_00063fc8);
  if (iVar2 != 0) {
    FUN_0000b76c("current_pool",0x31c);
  }
  iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063fb0);
  if (iVar2 != 0) {
    FUN_0000b694("current_pool",0x31c);
  }
  uVar1 = DAT_00061310;
  iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_00063fc8);
  if (iVar2 != 0) {
    FUN_0000b700("current_pool",0x31e);
  }
  (*DAT_00060178)();
  return uVar1;
}




char FUN_0001d6f8(int param_1)

{
  byte bVar1;
  int iVar2;
  size_t sVar3;
  uint uVar4;
  byte *pbVar5;
  undefined4 *puVar6;
  void *pvVar7;
  tm *ptVar8;
  uint uVar9;
  byte *pbVar10;
  byte *pbVar11;
  uint uVar12;
  byte *pbVar13;
  byte *pbVar14;
  undefined4 uVar15;
  int iVar16;
  char cVar17;
  byte *pbVar18;
  int *piVar19;
  int iVar20;
  undefined4 *puVar21;
  byte *pbVar22;
  byte *pbVar23;
  byte *pbVar24;
  int iVar25;
  byte *pbVar26;
  uint uVar27;
  uint uVar28;
  byte *pbVar29;
  undefined *puVar30;
  bool bVar31;
  undefined8 uVar32;
  double dVar33;
  ulonglong in_d17;
  uint local_8a8;
  byte *local_8a0;
  time_t local_898;
  undefined4 local_894;
  undefined4 local_890;
  undefined4 local_88c;
  undefined4 local_888;
  undefined4 local_884;
  undefined4 local_880;
  undefined4 local_87c;
  undefined4 local_878;
  byte local_874 [68];
  char local_830 [4];
  char acStack_82c [4];
  char acStack_828 [4];
  char acStack_824 [4];
  char local_820 [4];
  undefined2 local_81c [2];
  char acStack_818 [4];
  undefined2 local_814 [2];
  char local_810 [4];
  char acStack_80c [4];
  char acStack_808 [4];
  char acStack_804 [4];
  char acStack_800 [4];
  undefined2 uStack_7fc;
  undefined1 local_7fa;
  
  puVar21 = *(undefined4 **)(param_1 + 0x104);
  if (*(char *)(param_1 + 0x11a) == '\0') {
    local_894 = *(undefined4 *)(param_1 + 0x20);
    local_890 = *(undefined4 *)(param_1 + 0x1c);
    local_880 = *(undefined4 *)(param_1 + 0xc);
    local_87c = *(undefined4 *)(param_1 + 8);
    local_88c = *(undefined4 *)(param_1 + 0x18);
    local_888 = *(undefined4 *)(param_1 + 0x14);
    local_884 = *(undefined4 *)(param_1 + 0x10);
    local_878 = *(undefined4 *)(param_1 + 4);
    FUN_00029460(local_874,&local_894,0x20);
    iVar2 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_00061550);
    if (iVar2 != 0) {
      FUN_0000b76c("block_exists",0x14cd);
    }
    pbVar23 = DAT_00061570;
    if (DAT_00061570 != (byte *)0x0) {
      sVar3 = strlen((char *)local_874);
      uVar27 = 0x9e3779b9;
      pbVar13 = local_874;
      uVar4 = 0xfeedbeef;
      uVar9 = uVar27;
      for (uVar12 = sVar3; 0xb < uVar12; uVar12 = uVar12 - 0xc) {
        pbVar24 = pbVar13 + 2;
        pbVar22 = pbVar13 + 1;
        pbVar29 = pbVar13 + 10;
        pbVar18 = pbVar13 + 9;
        bVar1 = *pbVar13;
        iVar2 = (uint)pbVar13[6] * 0x10000 + (uint)pbVar13[5] * 0x100 + (uint)pbVar13[4] + (uint)pbVar13[7] * 0x1000000
                + uVar9;
        pbVar10 = pbVar13 + 8;
        pbVar14 = pbVar13 + 3;
        pbVar5 = pbVar13 + 0xb;
        pbVar13 = pbVar13 + 0xc;
        uVar4 = (uint)*pbVar29 * 0x10000 + (uint)*pbVar18 * 0x100 + (uint)*pbVar10 + (uint)*pbVar5 * 0x1000000 + uVar4;
        uVar9 = ((((uint)*pbVar24 * 0x10000 + (uint)*pbVar22 * 0x100 + (uint)bVar1 + (uint)*pbVar14 * 0x1000000) - iVar2
                 ) - uVar4) + uVar27 ^ uVar4 >> 0xd;
        uVar28 = (iVar2 - uVar4) - uVar9 ^ uVar9 << 8;
        uVar27 = (uVar4 - uVar9) - uVar28 ^ uVar28 >> 0xd;
        uVar9 = (uVar9 - uVar28) - uVar27 ^ uVar27 >> 0xc;
        uVar28 = (uVar28 - uVar27) - uVar9 ^ uVar9 << 0x10;
        uVar4 = (uVar27 - uVar9) - uVar28 ^ uVar28 >> 5;
        uVar27 = (uVar9 - uVar28) - uVar4 ^ uVar4 >> 3;
        uVar9 = (uVar28 - uVar4) - uVar27 ^ uVar27 << 10;
        uVar4 = (uVar4 - uVar27) - uVar9 ^ uVar9 >> 0xf;
      }
      uVar4 = uVar4 + sVar3;
      switch(uVar12) {
      case 0xb:
        uVar4 = uVar4 + (uint)pbVar13[10] * 0x1000000;
      case 10:
        uVar4 = uVar4 + (uint)pbVar13[9] * 0x10000;
      case 9:
        uVar4 = uVar4 + (uint)pbVar13[8] * 0x100;
      case 8:
        uVar9 = uVar9 + (uint)pbVar13[7] * 0x1000000;
      case 7:
        uVar9 = uVar9 + (uint)pbVar13[6] * 0x10000;
      case 6:
        uVar9 = uVar9 + (uint)pbVar13[5] * 0x100;
      case 5:
        uVar9 = uVar9 + pbVar13[4];
      case 4:
        uVar27 = uVar27 + (uint)pbVar13[3] * 0x1000000;
      case 3:
        uVar27 = uVar27 + (uint)pbVar13[2] * 0x10000;
      case 2:
        uVar27 = uVar27 + (uint)pbVar13[1] * 0x100;
      case 1:
        uVar27 = uVar27 + *pbVar13;
      default:
        piVar19 = *(int **)(pbVar23 + 0x44);
        uVar27 = (uVar27 - uVar9) - uVar4 ^ uVar4 >> 0xd;
        uVar9 = (uVar9 - uVar4) - uVar27 ^ uVar27 << 8;
        uVar4 = (uVar4 - uVar27) - uVar9 ^ uVar9 >> 0xd;
        uVar27 = (uVar27 - uVar9) - uVar4 ^ uVar4 >> 0xc;
        uVar9 = (uVar9 - uVar4) - uVar27 ^ uVar27 << 0x10;
        uVar4 = (uVar4 - uVar27) - uVar9 ^ uVar9 >> 5;
        uVar27 = (uVar27 - uVar9) - uVar4 ^ uVar4 >> 3;
        uVar9 = (uVar9 - uVar4) - uVar27 ^ uVar27 << 10;
        pbVar23 = *(byte **)(*piVar19 + (((uVar4 - uVar27) - uVar9 ^ uVar9 >> 0xf) & piVar19[1] - 1U) * 0xc);
        if (pbVar23 == (byte *)0x0) goto LAB_0001d9f4;
        do {
          pbVar23 = pbVar23 + -piVar19[5];
LAB_0001d9f4:
        } while ((pbVar23 != (byte *)0x0) &&
                (((sVar3 != *(size_t *)(pbVar23 + 0x5c) ||
                  (iVar2 = memcmp(*(void **)(pbVar23 + 0x58),local_874,sVar3), iVar2 != 0)) &&
                 (pbVar23 = *(byte **)(pbVar23 + 0x54), pbVar23 != (byte *)0x0))));
      }
    }
    iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_00061550);
    if (iVar2 != 0) {
      FUN_0000b700("block_exists",0x14cf);
    }
    (*DAT_00060178)();
    if (pbVar23 == (byte *)0x0) {
      pbVar23 = (byte *)calloc(0x68,1);
      if (pbVar23 == (byte *)0x0) {
        local_830[0] = 't';
        local_830[1] = 'e';
        local_830[2] = 's';
        local_830[3] = 't';
        acStack_82c[0] = '_';
        acStack_82c[1] = 'w';
        acStack_82c[2] = 'o';
        acStack_82c[3] = 'r';
        acStack_828[0] = 'k';
        acStack_828[1] = '_';
        acStack_828[2] = 'c';
        acStack_828[3] = 'u';
        acStack_824[0] = 'r';
        acStack_824[1] = 'r';
        acStack_824[2] = 'e';
        acStack_824[3] = 'n';
        local_820[0] = 't';
        local_820[1] = ' ';
        local_820[2] = 'O';
        local_820[3] = 'O';
        local_81c[0] = 0x4d;
        FUN_00038438(3,local_830,1);
        FUN_00016724(1);
      }
      strcpy((char *)pbVar23,(char *)local_874);
      iVar2 = DAT_000640bc + 1;
      *(int *)(pbVar23 + 100) = DAT_000640bc;
      DAT_000640bc = iVar2;
      iVar2 = pthread_rwlock_wrlock((pthread_rwlock_t *)&DAT_00061550);
      if (iVar2 != 0) {
        FUN_0000b550("test_work_current",0x1510);
      }
      pbVar13 = DAT_00061570;
      if (DAT_00061570 == (byte *)0x0) {
        pbVar23[0x4c] = 0;
        pbVar23[0x4d] = 0;
        pbVar23[0x4e] = 0;
        pbVar23[0x4f] = 0;
        *(byte **)(pbVar23 + 0x58) = pbVar23;
        local_8a0 = pbVar13;
        sVar3 = strlen((char *)pbVar23);
        *(size_t *)(pbVar23 + 0x5c) = sVar3;
LAB_0001dea4:
        pbVar23[0x48] = 0;
        pbVar23[0x49] = 0;
        pbVar23[0x4a] = 0;
        pbVar23[0x4b] = 0;
        DAT_00061570 = pbVar23;
        puVar6 = (undefined4 *)malloc(0x2c);
        *(undefined4 **)(pbVar23 + 0x44) = puVar6;
        if (puVar6 == (undefined4 *)0x0) goto LAB_0001ecec;
        *puVar6 = 0;
        puVar6[3] = 0;
        puVar6[4] = 0;
        puVar6[5] = 0;
        puVar6[6] = 0;
        puVar6[7] = 0;
        puVar6[8] = 0;
        puVar6[9] = 0;
        puVar6[10] = 0;
        puVar6[1] = 0x20;
        puVar6[4] = pbVar23 + 0x44;
        puVar6[2] = 5;
        puVar6[5] = 0x44;
        pvVar7 = malloc(0x180);
        *puVar6 = pvVar7;
        if (pvVar7 == (void *)0x0) goto LAB_0001ecec;
        memset(pvVar7,0,0x180);
        puVar6[10] = 0xa0111fe1;
        pbVar13 = pbVar23;
      }
      else {
        if (6 < *(uint *)(*(int *)(DAT_00061570 + 0x44) + 0xc)) {
          pbVar13 = (byte *)0x1;
          pbVar24 = DAT_00061570 + 0x44;
LAB_0001dc58:
          pbVar22 = (byte *)0x0;
          pbVar29 = (byte *)0x0;
          uVar27 = 0;
LAB_0001dc68:
          uVar27 = uVar27 + 1;
          pbVar18 = pbVar13;
          if (pbVar13 == (byte *)0x0) {
            pbVar10 = (byte *)0x0;
            pbVar14 = pbVar24;
          }
          else if (*(int *)(pbVar24 + 8) == 0) {
            pbVar10 = (byte *)0x1;
            pbVar14 = (byte *)0x0;
          }
          else {
            pbVar10 = (byte *)0x1;
            pbVar14 = (byte *)(*(int *)(pbVar24 + 8) + *(int *)(*(int *)(DAT_00061570 + 0x44) + 0x14));
            if (pbVar14 != (byte *)0x0) {
              while (pbVar10 != pbVar13) {
                pbVar14 = *(byte **)(pbVar14 + 8);
                pbVar10 = pbVar10 + 1;
                if ((pbVar14 == (byte *)0x0) ||
                   (pbVar14 = pbVar14 + *(int *)(*(int *)(DAT_00061570 + 0x44) + 0x14), pbVar14 == (byte *)0x0)) break;
              }
            }
          }
LAB_0001dcc8:
          do {
            pbVar5 = pbVar24;
            pbVar11 = pbVar10;
            if (pbVar10 == (byte *)0x0) goto LAB_0001dd3c;
LAB_0001dcd0:
            pbVar24 = pbVar5;
            if (pbVar18 == (byte *)0x0 || pbVar14 == (byte *)0x0) {
              if ((pbVar5 != (byte *)0x0) && (pbVar24 = *(byte **)(pbVar5 + 8), pbVar24 != (byte *)0x0)) {
                pbVar24 = pbVar24 + *(int *)(*(int *)(DAT_00061570 + 0x44) + 0x14);
              }
            }
            else {
              iVar2 = *(int *)(*(int *)(DAT_00061570 + 0x44) + 0x14);
              if (0 < *(int *)(pbVar5 + -iVar2 + 100) - *(int *)(pbVar14 + -iVar2 + 100)) {
                pbVar26 = *(byte **)(pbVar14 + 8);
                pbVar10 = pbVar11;
                if (pbVar26 == (byte *)0x0) goto LAB_0001df6c;
                pbVar26 = pbVar26 + iVar2;
                goto LAB_0001df6c;
              }
              if ((pbVar5 != (byte *)0x0) && (pbVar24 = *(byte **)(pbVar5 + 8), pbVar24 != (byte *)0x0)) {
                pbVar24 = pbVar24 + iVar2;
              }
            }
            pbVar10 = pbVar11 + -1;
            pbVar26 = pbVar14;
            if (pbVar29 == (byte *)0x0) {
              pbVar10 = pbVar11 + -1;
              pbVar22 = pbVar5;
              pbVar29 = pbVar5;
              if (pbVar5 != (byte *)0x0) {
                iVar2 = 0;
                goto LAB_0001dd30;
              }
              goto LAB_0001dcc8;
            }
            while (pbVar14 = pbVar26, pbVar5 != (byte *)0x0) {
              *(int *)(pbVar29 + 8) = (int)pbVar5 - *(int *)(*(int *)(DAT_00061570 + 0x44) + 0x14);
              iVar2 = (int)pbVar29 - *(int *)(*(int *)(DAT_00061570 + 0x44) + 0x14);
              pbVar29 = pbVar5;
LAB_0001dd30:
              while( true ) {
                *(int *)(pbVar29 + 4) = iVar2;
                pbVar5 = pbVar24;
                pbVar11 = pbVar10;
                if (pbVar10 != (byte *)0x0) goto LAB_0001dcd0;
LAB_0001dd3c:
                if (pbVar14 == (byte *)0x0 || pbVar18 == (byte *)0x0) {
                  pbVar24 = pbVar14;
                  if (pbVar14 != (byte *)0x0) goto LAB_0001dc68;
                  if (pbVar29 != (byte *)0x0) {
                    pbVar29[8] = 0;
                    pbVar29[9] = 0;
                    pbVar29[10] = 0;
                    pbVar29[0xb] = 0;
                  }
                  if ((1 < uVar27) &&
                     (pbVar13 = (byte *)((int)pbVar13 << 1), pbVar24 = pbVar22, pbVar29 = pbVar22,
                     pbVar22 != (byte *)0x0)) goto LAB_0001dc58;
                  *(byte **)(*(int *)(DAT_00061570 + 0x44) + 0x10) = pbVar29;
                  pbVar22 = pbVar22 + -*(int *)(*(int *)(DAT_00061570 + 0x44) + 0x14);
                  iVar2 = *(int *)(pbVar22 + 0x48);
                  local_8a0 = *(byte **)(pbVar22 + 100);
                  DAT_00061570 = pbVar22;
                  if ((iVar2 == 0) && (*(int *)(pbVar22 + 0x4c) == 0)) {
                    free((void *)**(undefined4 **)(pbVar22 + 0x44));
                    free(*(void **)(pbVar22 + 0x44));
                    pbVar13 = (byte *)0x0;
                    DAT_00061570 = (byte *)0x0;
                  }
                  else {
                    iVar20 = *(int *)(pbVar22 + 0x44);
                    if (pbVar22 == (byte *)(*(int *)(iVar20 + 0x10) - *(int *)(iVar20 + 0x14))) {
                      *(int *)(iVar20 + 0x10) = iVar2 + *(int *)(iVar20 + 0x14);
                      iVar2 = *(int *)(pbVar22 + 0x48);
                    }
                    if (iVar2 == 0) {
                      pbVar24 = *(byte **)(pbVar22 + 0x4c);
                      pbVar13 = pbVar24;
                      DAT_00061570 = pbVar24;
                    }
                    else {
                      *(undefined4 *)(iVar2 + *(int *)(*(int *)(pbVar22 + 0x44) + 0x14) + 8) =
                           *(undefined4 *)(pbVar22 + 0x4c);
                      pbVar24 = *(byte **)(pbVar22 + 0x4c);
                      pbVar13 = pbVar22;
                    }
                    if (pbVar24 != (byte *)0x0) {
                      *(undefined4 *)(pbVar24 + *(int *)(*(int *)(pbVar13 + 0x44) + 0x14) + 4) =
                           *(undefined4 *)(pbVar22 + 0x48);
                    }
                    iVar2 = ((*(int **)(pbVar13 + 0x44))[1] - 1U & *(uint *)(pbVar22 + 0x60)) * 0xc;
                    iVar20 = **(int **)(pbVar13 + 0x44) + iVar2;
                    *(int *)(iVar20 + 4) = *(int *)(iVar20 + 4) + -1;
                    if (*(byte **)(**(int **)(pbVar13 + 0x44) + iVar2) == pbVar22 + 0x44) {
                      *(undefined4 *)(**(int **)(pbVar13 + 0x44) + iVar2) = *(undefined4 *)(pbVar22 + 0x54);
                    }
                    if (*(int *)(pbVar22 + 0x50) != 0) {
                      *(undefined4 *)(*(int *)(pbVar22 + 0x50) + 0x10) = *(undefined4 *)(pbVar22 + 0x54);
                    }
                    if (*(int *)(pbVar22 + 0x54) != 0) {
                      *(undefined4 *)(*(int *)(pbVar22 + 0x54) + 0xc) = *(undefined4 *)(pbVar22 + 0x50);
                    }
                    *(int *)(*(int *)(pbVar13 + 0x44) + 0xc) = *(int *)(*(int *)(pbVar13 + 0x44) + 0xc) + -1;
                  }
                  free(pbVar22);
                  *(byte **)(pbVar23 + 0x58) = pbVar23;
                  pbVar23[0x4c] = 0;
                  pbVar23[0x4d] = 0;
                  pbVar23[0x4e] = 0;
                  pbVar23[0x4f] = 0;
                  sVar3 = strlen((char *)pbVar23);
                  *(size_t *)(pbVar23 + 0x5c) = sVar3;
                  if (pbVar13 != (byte *)0x0) goto LAB_0001e0f4;
                  goto LAB_0001dea4;
                }
                pbVar26 = pbVar10;
                if (*(int *)(pbVar14 + 8) != 0) {
                  pbVar26 = (byte *)(*(int *)(pbVar14 + 8) + *(int *)(*(int *)(DAT_00061570 + 0x44) + 0x14));
                }
LAB_0001df6c:
                pbVar5 = pbVar14;
                pbVar18 = pbVar18 + -1;
                if (pbVar29 != (byte *)0x0) break;
                iVar2 = 0;
                pbVar22 = pbVar5;
                pbVar14 = pbVar26;
                pbVar29 = pbVar5;
              }
            }
            pbVar29[8] = 0;
            pbVar29[9] = 0;
            pbVar29[10] = 0;
            pbVar29[0xb] = 0;
            pbVar29 = pbVar5;
          } while( true );
        }
        *(byte **)(pbVar23 + 0x58) = pbVar23;
        pbVar23[0x4c] = 0;
        pbVar23[0x4d] = 0;
        pbVar23[0x4e] = 0;
        pbVar23[0x4f] = 0;
        sVar3 = strlen((char *)pbVar23);
        local_8a0 = (byte *)0x0;
        *(size_t *)(pbVar23 + 0x5c) = sVar3;
LAB_0001e0f4:
        *(byte **)(*(int *)(*(int *)(pbVar13 + 0x44) + 0x10) + 8) = pbVar23;
        *(int *)(pbVar23 + 0x48) = *(int *)(*(int *)(pbVar13 + 0x44) + 0x10) - *(int *)(*(int *)(pbVar13 + 0x44) + 0x14)
        ;
        *(byte **)(*(int *)(pbVar13 + 0x44) + 0x10) = pbVar23 + 0x44;
        puVar6 = *(undefined4 **)(pbVar13 + 0x44);
      }
      uVar12 = 0xfeedbeef;
      puVar6[3] = puVar6[3] + 1;
      uVar15 = *(undefined4 *)(pbVar13 + 0x44);
      pbVar23[0x60] = 0xef;
      pbVar23[0x61] = 0xbe;
      pbVar23[0x62] = 0xed;
      pbVar23[99] = 0xfe;
      uVar28 = 0x9e3779b9;
      pbVar24 = pbVar23 + 0x44;
      *(undefined4 *)pbVar24 = uVar15;
      uVar27 = strlen((char *)pbVar23);
      pbVar22 = pbVar23;
      pbVar29 = pbVar23;
      uVar9 = uVar27;
      uVar4 = uVar28;
      if (0xb < uVar27) {
        do {
          uVar9 = uVar27 - 0xc;
          uVar12 = (uint)pbVar22[10] * 0x10000 + (uint)pbVar22[9] * 0x100 + (uint)pbVar22[8] +
                   (uint)pbVar22[0xb] * 0x1000000 + uVar12;
          pbVar29 = pbVar22 + 0xc;
          iVar2 = (uint)pbVar22[6] * 0x10000 + (uint)pbVar22[5] * 0x100 + (uint)pbVar22[4] +
                  (uint)pbVar22[7] * 0x1000000 + uVar4;
          uVar27 = ((((uint)pbVar22[2] * 0x10000 + (uint)pbVar22[1] * 0x100 + (uint)*pbVar22 +
                     (uint)pbVar22[3] * 0x1000000) - uVar12) - iVar2) + uVar28 ^ uVar12 >> 0xd;
          uVar4 = (iVar2 - uVar12) - uVar27 ^ uVar27 << 8;
          uVar12 = (uVar12 - uVar27) - uVar4 ^ uVar4 >> 0xd;
          uVar27 = (uVar27 - uVar4) - uVar12 ^ uVar12 >> 0xc;
          uVar4 = (uVar4 - uVar12) - uVar27 ^ uVar27 << 0x10;
          uVar12 = (uVar12 - uVar27) - uVar4 ^ uVar4 >> 5;
          uVar28 = (uVar27 - uVar4) - uVar12 ^ uVar12 >> 3;
          uVar4 = (uVar4 - uVar12) - uVar28 ^ uVar28 << 10;
          uVar12 = (uVar12 - uVar28) - uVar4 ^ uVar4 >> 0xf;
          *(uint *)(pbVar23 + 0x60) = uVar12;
          pbVar22 = pbVar29;
          uVar27 = uVar9;
        } while (0xb < uVar9);
        uVar27 = strlen((char *)pbVar23);
      }
      uVar27 = uVar27 + uVar12;
      *(uint *)(pbVar23 + 0x60) = uVar27;
      switch(uVar9) {
      case 0xb:
        uVar27 = uVar27 + (uint)pbVar29[10] * 0x1000000;
        *(uint *)(pbVar23 + 0x60) = uVar27;
      case 10:
        uVar27 = uVar27 + (uint)pbVar29[9] * 0x10000;
        *(uint *)(pbVar23 + 0x60) = uVar27;
      case 9:
        uVar27 = uVar27 + (uint)pbVar29[8] * 0x100;
        *(uint *)(pbVar23 + 0x60) = uVar27;
      case 8:
        uVar4 = uVar4 + (uint)pbVar29[7] * 0x1000000;
      case 7:
        uVar4 = uVar4 + (uint)pbVar29[6] * 0x10000;
      case 6:
        uVar4 = uVar4 + (uint)pbVar29[5] * 0x100;
      case 5:
        uVar4 = uVar4 + pbVar29[4];
      case 4:
        uVar28 = uVar28 + (uint)pbVar29[3] * 0x1000000;
      case 3:
        uVar28 = uVar28 + (uint)pbVar29[2] * 0x10000;
      case 2:
        uVar28 = uVar28 + (uint)pbVar29[1] * 0x100;
      case 1:
        uVar28 = uVar28 + *pbVar29;
      }
      uVar9 = (uVar28 - uVar4) - uVar27 ^ uVar27 >> 0xd;
      uVar4 = (uVar4 - uVar27) - uVar9 ^ uVar9 << 8;
      uVar12 = (uVar27 - uVar9) - uVar4 ^ uVar4 >> 0xd;
      uVar27 = (uVar9 - uVar4) - uVar12 ^ uVar12 >> 0xc;
      uVar9 = (uVar4 - uVar12) - uVar27 ^ uVar27 << 0x10;
      uVar4 = (uVar12 - uVar27) - uVar9 ^ uVar9 >> 5;
      uVar27 = (uVar27 - uVar9) - uVar4 ^ uVar4 >> 3;
      uVar9 = (uVar9 - uVar4) - uVar27 ^ uVar27 << 10;
      uVar27 = (uVar4 - uVar27) - uVar9 ^ uVar9 >> 0xf;
      *(uint *)(pbVar23 + 0x60) = uVar27;
      iVar2 = (uVar27 & (*(int **)(pbVar13 + 0x44))[1] - 1U) * 0xc;
      iVar20 = **(int **)(pbVar13 + 0x44) + iVar2;
      *(int *)(iVar20 + 4) = *(int *)(iVar20 + 4) + 1;
      uVar15 = *(undefined4 *)(**(int **)(pbVar13 + 0x44) + iVar2);
      pbVar23[0x50] = 0;
      pbVar23[0x51] = 0;
      pbVar23[0x52] = 0;
      pbVar23[0x53] = 0;
      *(undefined4 *)(pbVar23 + 0x54) = uVar15;
      iVar20 = **(int **)(pbVar13 + 0x44);
      if (*(int *)(iVar20 + iVar2) != 0) {
        *(byte **)(*(int *)(iVar20 + iVar2) + 0xc) = pbVar24;
        iVar20 = **(int **)(pbVar13 + 0x44);
      }
      *(byte **)(iVar20 + iVar2) = pbVar24;
      if (((uint)((*(int *)(**(int **)(pbVar13 + 0x44) + iVar2 + 8) + 1) * 10) <=
           *(uint *)(**(int **)(pbVar13 + 0x44) + iVar2 + 4)) &&
         (iVar2 = *(int *)(pbVar23 + 0x44), *(int *)(iVar2 + 0x24) != 1)) {
        sVar3 = *(int *)(iVar2 + 4) * 0x18;
        pvVar7 = malloc(sVar3);
        if (pvVar7 == (void *)0x0) {
LAB_0001ecec:
                    /* WARNING: Subroutine does not return */
          exit(-1);
        }
        memset(pvVar7,0,sVar3);
        *(uint *)(iVar2 + 0x18) =
             (uint)((*(int *)(iVar2 + 4) * 2 - 1U & *(uint *)(iVar2 + 0xc)) != 0) +
             (*(uint *)(iVar2 + 0xc) >> (*(int *)(iVar2 + 8) + 1U & 0xff));
        *(undefined4 *)(*(int *)(pbVar23 + 0x44) + 0x1c) = 0;
        piVar19 = *(int **)(pbVar23 + 0x44);
        uVar27 = piVar19[1];
        if (uVar27 != 0) {
          iVar2 = 0;
          local_8a8 = 0;
          do {
            iVar20 = *(int *)(*piVar19 + iVar2);
            if (*(int *)(*piVar19 + iVar2) != 0) {
              while( true ) {
                iVar25 = *(int *)(iVar20 + 0x10);
                uVar9 = uVar27 * 2 - 1 & *(uint *)(iVar20 + 0x1c);
                uVar27 = *(int *)((int)pvVar7 + uVar9 * 0xc + 4) + 1;
                *(uint *)((int)pvVar7 + uVar9 * 0xc + 4) = uVar27;
                if ((uint)piVar19[6] < uVar27) {
                  piVar19[7] = piVar19[7] + 1;
                  uVar15 = FUN_00048ec0(*(undefined4 *)((int)pvVar7 + uVar9 * 0xc + 4),
                                        *(undefined4 *)(*(int *)(pbVar23 + 0x44) + 0x18));
                  *(undefined4 *)((int)pvVar7 + uVar9 * 0xc + 8) = uVar15;
                }
                *(undefined4 *)(iVar20 + 0xc) = 0;
                *(undefined4 *)(iVar20 + 0x10) = *(undefined4 *)((int)pvVar7 + uVar9 * 0xc);
                iVar16 = *(int *)((int)pvVar7 + uVar9 * 0xc);
                if (iVar16 != 0) {
                  *(int *)(iVar16 + 0xc) = iVar20;
                }
                *(int *)((int)pvVar7 + uVar9 * 0xc) = iVar20;
                piVar19 = *(int **)(pbVar23 + 0x44);
                if (iVar25 == 0) break;
                uVar27 = piVar19[1];
                iVar20 = iVar25;
              }
              uVar27 = piVar19[1];
            }
            iVar2 = iVar2 + 0xc;
            local_8a8 = local_8a8 + 1;
          } while (local_8a8 < uVar27);
        }
        free((void *)*piVar19);
        *(int *)(*(int *)(pbVar23 + 0x44) + 4) = *(int *)(*(int *)(pbVar23 + 0x44) + 4) << 1;
        *(int *)(*(int *)(pbVar23 + 0x44) + 8) = *(int *)(*(int *)(pbVar23 + 0x44) + 8) + 1;
        **(undefined4 **)(pbVar23 + 0x44) = pvVar7;
        iVar2 = *(int *)(pbVar23 + 0x44);
        if (*(uint *)(iVar2 + 0xc) >> 1 < *(uint *)(iVar2 + 0x1c)) {
          iVar20 = *(int *)(iVar2 + 0x20) + 1;
        }
        else {
          iVar20 = 0;
        }
        *(int *)(iVar2 + 0x20) = iVar20;
        if (1 < *(uint *)(*(int *)(pbVar23 + 0x44) + 0x20)) {
          *(undefined4 *)(*(int *)(pbVar23 + 0x44) + 0x24) = 1;
        }
      }
      uVar27 = *(uint *)(param_1 + 0x48);
      uVar32 = VectorShiftLeft(0xffff,in_d17 & 0xffffffffffff0000 |
                                      (ulonglong)((0x1d - (uint)*(byte *)(param_1 + 0x48)) * 8) & 0xffff,8,1);
      dVar33 = (double)FUN_000493c8((int)uVar32,(int)((ulonglong)uVar32 >> 0x20));
      dVar33 = dVar33 / (double)(longlong)
                                (int)((uVar27 >> 8 & 0xff) << 0x10 | (uVar27 >> 0x10 & 0xff) << 8 | uVar27 >> 0x18);
      if (dVar33 != DAT_00060080) {
        uVar32 = FUN_000494c0(SUB84(dVar33,0),(int)((ulonglong)dVar33 >> 0x20));
        FUN_00011130((int)uVar32,(int)((ulonglong)uVar32 >> 0x20),&DAT_00061574,8,0);
        DAT_00060080 = dVar33;
        if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
          snprintf(local_830,0x800,"Network diff set to %s",&DAT_00061574);
          FUN_00038438(7,local_830,0);
        }
      }
      iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_00061550);
      if (iVar2 != 0) {
        FUN_0000b700("test_work_current",0x1520);
      }
      (*DAT_00060178)();
      if (((local_8a0 != (byte *)0x0) && (DAT_000630c1 != '\0')) &&
         ((DAT_000632f0 != '\0' || ((DAT_000630c0 != '\0' || (6 < DAT_00060964)))))) {
        snprintf(local_830,0x800,"Deleted block %d from database",local_8a0);
        FUN_00038438(7,local_830,0);
      }
      iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00063f78);
      if (iVar2 != 0) {
        FUN_0000b4e4("set_curblock",0x14b6);
      }
      iVar2 = pthread_rwlock_wrlock((pthread_rwlock_t *)&DAT_00063f90);
      if (iVar2 != 0) {
        FUN_0000b550("set_curblock",0x14b6);
      }
      FUN_0002b13c(&DAT_00063618);
      strcpy(&DAT_000640c8,(char *)local_874);
      local_898 = DAT_00063618;
      DAT_0006157c = local_894;
      DAT_00061580 = local_890;
      DAT_00061584 = local_88c;
      DAT_00061588 = local_888;
      DAT_0006158c = local_884;
      DAT_00061590 = local_880;
      DAT_00061594 = local_87c;
      DAT_00061598 = local_878;
      ptVar8 = localtime(&local_898);
      puVar30 = (undefined *)ptVar8->tm_min;
      snprintf(&DAT_0006159c,0x20,"[%02d:%02d:%02d]",ptVar8->tm_hour,puVar30,ptVar8->tm_sec);
      iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_00063f90);
      if (iVar2 != 0) {
        FUN_0000b700("set_curblock",0x14bb);
      }
      iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063f78);
      if (iVar2 != 0) {
        FUN_0000b694("set_curblock",0x14bb);
      }
      (*DAT_00060178)();
      iVar2 = 0;
      do {
        if ((&DAT_000640c8)[iVar2] != '0') break;
        iVar2 = iVar2 + 1;
      } while (iVar2 != 0x39);
      strncpy(&DAT_000615bc,&DAT_000640c8 + iVar2,8);
      DAT_000615c4 = 0;
      if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
        puVar30 = &DAT_00061574;
        snprintf(local_830,0x800,"New block: %s... diff %s",&DAT_000640c8,&DAT_00061574);
        FUN_00038438(7,local_830,0);
      }
      bVar31 = DAT_000640bc != 1;
      puVar21[0x86] = local_894;
      puVar21[0x87] = local_890;
      puVar21[0x88] = local_88c;
      puVar21[0x89] = local_888;
      puVar21[0x8a] = local_884;
      puVar21[0x8b] = local_880;
      puVar21[0x8c] = local_87c;
      puVar21[0x8d] = local_878;
      if (bVar31) {
        DAT_0006136c = DAT_0006136c + 1;
        *(int *)(param_1 + 0x150) = DAT_0006136c;
        if (*(char *)(param_1 + 0x118) == '\0') {
          if (DAT_00064219 == '\0') {
            if (((*(char *)(puVar21 + 0xd9) == '\0') && (DAT_000630c1 != '\0')) &&
               ((DAT_000632f0 != '\0' || ((DAT_000630c0 != '\0' || (6 < DAT_00060964)))))) {
              local_830[0] = 'N';
              local_830[1] = 'e';
              local_830[2] = 'w';
              local_830[3] = ' ';
              acStack_82c[0] = 'b';
              acStack_82c[1] = 'l';
              acStack_82c[2] = 'o';
              acStack_82c[3] = 'c';
              acStack_828[0] = 'k';
              acStack_828[1] = ' ';
              acStack_828[2] = 'd';
              acStack_828[3] = 'e';
              acStack_824[0] = 't';
              acStack_824[1] = 'e';
              acStack_824[2] = 'c';
              acStack_824[3] = 't';
              local_820[0] = 'e';
              local_820[1] = 'd';
              local_820[2] = ' ';
              local_820[3] = 'o';
              local_81c[0]._0_1_ = 'n';
              local_81c[0]._1_1_ = ' ';
              local_81c[1]._0_1_ = 'n';
              local_81c[1]._1_1_ = 'e';
              acStack_818[0] = 't';
              acStack_818[1] = 'w';
              acStack_818[2] = 'o';
              acStack_818[3] = 'r';
              local_814[0] = 0x6b;
              FUN_00038438(7,local_830,0);
            }
          }
          else if (((*(char *)(puVar21 + 0xd9) == '\0') && (DAT_000630c1 != '\0')) &&
                  ((DAT_000632f0 != '\0' || ((DAT_000630c0 != '\0' || (6 < DAT_00060964)))))) {
            local_830[0] = 'N';
            local_830[1] = 'e';
            local_830[2] = 'w';
            local_830[3] = ' ';
            acStack_82c[0] = 'b';
            acStack_82c[1] = 'l';
            acStack_82c[2] = 'o';
            acStack_82c[3] = 'c';
            acStack_828[0] = 'k';
            acStack_828[1] = ' ';
            acStack_828[2] = 'd';
            acStack_828[3] = 'e';
            acStack_824[0] = 't';
            acStack_824[1] = 'e';
            acStack_824[2] = 'c';
            acStack_824[3] = 't';
            local_820[0] = 'e';
            local_820[1] = 'd';
            local_820[2] = ' ';
            local_820[3] = 'o';
            local_81c[0]._0_1_ = 'n';
            local_81c[0]._1_1_ = ' ';
            local_81c[1]._0_1_ = 'n';
            local_81c[1]._1_1_ = 'e';
            acStack_818[0] = 't';
            acStack_818[1] = 'w';
            acStack_818[2] = 'o';
            acStack_818[3] = 'r';
            local_814[0]._0_1_ = 'k';
            local_814[0]._1_1_ = ' ';
            local_814[1]._0_1_ = 'b';
            local_814[1]._1_1_ = 'e';
            local_810[0] = 'f';
            local_810[1] = 'o';
            local_810[2] = 'r';
            local_810[3] = 'e';
            acStack_80c[0] = ' ';
            acStack_80c[1] = 'p';
            acStack_80c[2] = 'o';
            acStack_80c[3] = 'o';
            acStack_808[0] = 'l';
            acStack_808[1] = ' ';
            acStack_808[2] = 'n';
            acStack_808[3] = 'o';
            acStack_804[0] = 't';
            acStack_804[1] = 'i';
            acStack_804[2] = 'f';
            acStack_804[3] = 'i';
            acStack_800[0] = 'c';
            acStack_800[1] = 'a';
            acStack_800[2] = 't';
            acStack_800[3] = 'i';
            uStack_7fc = 0x6e6f;
            local_7fa = 0;
            FUN_00038438(7,local_830,0);
          }
        }
        else if (*(char *)(param_1 + 0x11c) == '\0') {
          if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
            puVar30 = &DAT_0005220c;
            if (*(char *)(param_1 + 0x144) != '\0') {
              puVar30 = &DAT_0004e1f8;
            }
            snprintf(local_830,0x800,"%sLONGPOLL from pool %d detected new block",puVar30,
                     **(undefined4 **)(param_1 + 0x104));
            FUN_00038438(7,local_830,0);
          }
        }
        else if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
          snprintf(local_830,0x800,"Stratum from pool %d detected new block",*puVar21,puVar30);
          FUN_00038438(7,local_830,0);
        }
        FUN_00016c8c();
        *(undefined1 *)(param_1 + 0x118) = 0;
        return '\x01';
      }
      cVar17 = '\0';
    }
    else {
      iVar2 = memcmp(puVar21 + 0x86,&local_894,0x20);
      if (iVar2 == 0) {
        cVar17 = '\x01';
      }
      else {
        iVar2 = memcmp(&local_894,&DAT_0006157c,0x20);
        if (iVar2 == 0) {
          if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
            snprintf(local_830,0x800,"Pool %d now up to date",*puVar21);
            FUN_00038438(7,local_830,0);
          }
          cVar17 = '\x01';
          puVar21[0x86] = local_894;
          puVar21[0x87] = local_890;
          puVar21[0x88] = local_88c;
          puVar21[0x89] = local_888;
          puVar21[0x8a] = local_884;
          puVar21[0x8b] = local_880;
          puVar21[0x8c] = local_87c;
          puVar21[0x8d] = local_878;
        }
        else {
          cVar17 = DAT_000630c1;
          if ((DAT_000630c1 != '\0') &&
             (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (cVar17 = '\0', 6 < DAT_00060964)))) {
            cVar17 = '\0';
            snprintf(local_830,0x800,"Stale data from pool %d",*puVar21);
            FUN_00038438(7,local_830,0);
          }
        }
      }
      if (*(char *)(param_1 + 0x118) != '\0') {
        uVar27 = DAT_000611ac - 3;
        DAT_0006136c = DAT_0006136c + 1;
        *(int *)(param_1 + 0x150) = DAT_0006136c;
        if ((uVar27 < 2) || (iVar20 = *(int *)(param_1 + 0x104), iVar2 = FUN_0001d644(), iVar20 == iVar2)) {
          if (*(char *)(param_1 + 0x11c) == '\0') {
            if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
              puVar30 = &DAT_0005220c;
              if (*(char *)(param_1 + 0x144) != '\0') {
                puVar30 = &DAT_0004e1f8;
              }
              snprintf(local_830,0x800,"%sLONGPOLL from pool %d requested work restart",puVar30,
                       **(undefined4 **)(param_1 + 0x104));
              FUN_00038438(7,local_830,0);
            }
          }
          else if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964))))
          {
            snprintf(local_830,0x800,"Stratum from pool %d requested work restart",*puVar21);
            FUN_00038438(7,local_830,0);
          }
          FUN_00016c8c();
        }
      }
    }
    *(undefined1 *)(param_1 + 0x118) = 0;
  }
  else {
    cVar17 = '\x01';
  }
  return cVar17;
}




void FUN_0001ed4c(int param_1)

{
  size_t __size;
  pthread_mutex_t *__mutex;
  int iVar1;
  uint uVar2;
  void *pvVar3;
  undefined4 *puVar4;
  int *piVar5;
  int iVar6;
  uint uVar7;
  int iVar8;
  undefined4 uVar9;
  int iVar10;
  uint uVar11;
  uint uVar12;
  int iVar13;
  int iVar14;
  int iVar15;
  int iVar16;
  int iVar17;
  int iVar18;
  int iVar19;
  int iVar20;
  int local_830;
  uint local_82c;
  char acStack_828 [2052];
  
  if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    snprintf(acStack_828,0x800,"Pushing work from pool %d to hash queue",**(undefined4 **)(param_1 + 0x104));
    FUN_00038438(7,acStack_828,0);
  }
  *(undefined4 *)(param_1 + 0x150) = DAT_0006136c;
  FUN_0001d6f8(param_1);
  __mutex = DAT_000612c8;
  *(int *)(*(int *)(param_1 + 0x104) + 0x44) = *(int *)(*(int *)(param_1 + 0x104) + 0x44) + 1;
  iVar1 = pthread_mutex_lock(__mutex);
  if (iVar1 != 0) {
    FUN_0000b4e4("hash_push",0x1587);
  }
  iVar1 = DAT_000612cc;
  if ((*(char *)(param_1 + 0x111) == '\0') && (*(int *)(param_1 + 0x114) != 0)) {
    DAT_000612d4 = DAT_000612d4 + 1;
  }
  if (*(char *)(DAT_00063bc0 + 8) != '\0') {
LAB_0001f2d0:
    pthread_cond_broadcast((pthread_cond_t *)(DAT_00063bc0 + 0x28));
    iVar1 = pthread_mutex_unlock(DAT_000612c8);
    if (iVar1 != 0) {
      FUN_0000b694("hash_push",0x1592);
    }
    (*DAT_00060178)();
    return;
  }
  *(undefined4 *)(param_1 + 0x160) = 0;
  *(int *)(param_1 + 0x16c) = param_1 + 0x154;
  *(undefined4 *)(param_1 + 0x170) = 4;
  if (iVar1 == 0) {
    *(undefined4 *)(param_1 + 0x15c) = 0;
    DAT_000612cc = param_1;
    puVar4 = (undefined4 *)malloc(0x2c);
    *(undefined4 **)(param_1 + 0x158) = puVar4;
    if (puVar4 == (undefined4 *)0x0) goto LAB_0001f4b8;
    *puVar4 = 0;
    puVar4[3] = 0;
    puVar4[4] = 0;
    puVar4[5] = 0;
    puVar4[6] = 0;
    puVar4[7] = 0;
    puVar4[8] = 0;
    puVar4[9] = 0;
    puVar4[10] = 0;
    puVar4[4] = param_1 + 0x158;
    puVar4[1] = 0x20;
    puVar4[2] = 5;
    puVar4[5] = 0x158;
    pvVar3 = malloc(0x180);
    iVar1 = DAT_000612cc;
    *puVar4 = pvVar3;
    if ((void *)**(undefined4 **)(iVar1 + 0x158) == (void *)0x0) goto LAB_0001f4b8;
    memset((void *)**(undefined4 **)(iVar1 + 0x158),0,0x180);
    iVar1 = DAT_000612cc;
    *(undefined4 *)(*(int *)(DAT_000612cc + 0x158) + 0x28) = 0xa0111fe1;
  }
  else {
    *(int *)(*(int *)(*(int *)(iVar1 + 0x158) + 0x10) + 8) = param_1;
    *(int *)(param_1 + 0x15c) = *(int *)(*(int *)(iVar1 + 0x158) + 0x10) - *(int *)(*(int *)(iVar1 + 0x158) + 0x14);
    *(int *)(*(int *)(iVar1 + 0x158) + 0x10) = param_1 + 0x158;
  }
  *(int *)(*(int *)(iVar1 + 0x158) + 0xc) = *(int *)(*(int *)(iVar1 + 0x158) + 0xc) + 1;
  uVar11 = *(byte *)(param_1 + 0x154) + 0x112410d + (uint)*(byte *)(param_1 + 0x157) * 0x1000000 +
           (uint)*(byte *)(param_1 + 0x156) * 0x10000 + (uint)*(byte *)(param_1 + 0x155) * 0x100 ^ 0x7f76d;
  puVar4 = (undefined4 *)(param_1 + 0x158);
  *puVar4 = *(undefined4 *)(iVar1 + 0x158);
  uVar7 = 0x9f49bac6 - uVar11 ^ uVar11 << 8;
  uVar2 = (-0x112410d - uVar11) - uVar7 ^ uVar7 >> 0xd;
  uVar11 = (uVar11 - uVar7) - uVar2 ^ uVar2 >> 0xc;
  uVar7 = (uVar7 - uVar2) - uVar11 ^ uVar11 << 0x10;
  uVar12 = (uVar2 - uVar11) - uVar7 ^ uVar7 >> 5;
  uVar2 = (uVar11 - uVar7) - uVar12 ^ uVar12 >> 3;
  uVar11 = (uVar7 - uVar12) - uVar2 ^ uVar2 << 10;
  uVar2 = (uVar12 - uVar2) - uVar11 ^ uVar11 >> 0xf;
  *(uint *)(param_1 + 0x174) = uVar2;
  iVar13 = (uVar2 & (*(int **)(iVar1 + 0x158))[1] - 1U) * 0xc;
  iVar8 = **(int **)(iVar1 + 0x158) + iVar13;
  *(int *)(iVar8 + 4) = *(int *)(iVar8 + 4) + 1;
  uVar9 = *(undefined4 *)(**(int **)(iVar1 + 0x158) + iVar13);
  *(undefined4 *)(param_1 + 0x164) = 0;
  *(undefined4 *)(param_1 + 0x168) = uVar9;
  iVar8 = **(int **)(iVar1 + 0x158);
  if (*(int *)(iVar8 + iVar13) != 0) {
    *(undefined4 **)(*(int *)(iVar8 + iVar13) + 0xc) = puVar4;
    iVar8 = **(int **)(iVar1 + 0x158);
  }
  *(undefined4 **)(iVar8 + iVar13) = puVar4;
  iVar13 = **(int **)(DAT_000612cc + 0x158) + iVar13;
  iVar1 = DAT_000612cc;
  if (((uint)((*(int *)(iVar13 + 8) + 1) * 10) <= *(uint *)(iVar13 + 4)) &&
     (*(int *)(*(int *)(param_1 + 0x158) + 0x24) != 1)) {
    __size = *(int *)(*(int *)(param_1 + 0x158) + 4) * 0x18;
    pvVar3 = malloc(__size);
    if (pvVar3 == (void *)0x0) {
LAB_0001f4b8:
                    /* WARNING: Subroutine does not return */
      exit(-1);
    }
    memset(pvVar3,0,__size);
    iVar1 = *(int *)(param_1 + 0x158);
    *(uint *)(iVar1 + 0x18) =
         (uint)((*(int *)(iVar1 + 4) * 2 - 1U & *(uint *)(iVar1 + 0xc)) != 0) +
         (*(uint *)(iVar1 + 0xc) >> (*(int *)(iVar1 + 8) + 1U & 0xff));
    *(undefined4 *)(*(int *)(param_1 + 0x158) + 0x1c) = 0;
    piVar5 = *(int **)(param_1 + 0x158);
    uVar2 = piVar5[1];
    if (uVar2 != 0) {
      local_830 = 0;
      local_82c = 0;
      do {
        iVar1 = *(int *)(*piVar5 + local_830);
        if (*(int *)(*piVar5 + local_830) != 0) {
          while( true ) {
            iVar13 = *(int *)(iVar1 + 0x10);
            uVar11 = uVar2 * 2 - 1 & *(uint *)(iVar1 + 0x1c);
            uVar2 = *(int *)((int)pvVar3 + uVar11 * 0xc + 4) + 1;
            *(uint *)((int)pvVar3 + uVar11 * 0xc + 4) = uVar2;
            if ((uint)piVar5[6] < uVar2) {
              piVar5[7] = piVar5[7] + 1;
              uVar9 = FUN_00048ec0(*(undefined4 *)((int)pvVar3 + uVar11 * 0xc + 4),
                                   *(undefined4 *)(*(int *)(param_1 + 0x158) + 0x18));
              *(undefined4 *)((int)pvVar3 + uVar11 * 0xc + 8) = uVar9;
            }
            *(undefined4 *)(iVar1 + 0xc) = 0;
            *(undefined4 *)(iVar1 + 0x10) = *(undefined4 *)((int)pvVar3 + uVar11 * 0xc);
            iVar8 = *(int *)((int)pvVar3 + uVar11 * 0xc);
            if (iVar8 != 0) {
              *(int *)(iVar8 + 0xc) = iVar1;
            }
            *(int *)((int)pvVar3 + uVar11 * 0xc) = iVar1;
            piVar5 = *(int **)(param_1 + 0x158);
            if (iVar13 == 0) break;
            uVar2 = piVar5[1];
            iVar1 = iVar13;
          }
          uVar2 = piVar5[1];
        }
        local_82c = local_82c + 1;
        local_830 = local_830 + 0xc;
      } while (local_82c < uVar2);
    }
    free((void *)*piVar5);
    *(int *)(*(int *)(param_1 + 0x158) + 4) = *(int *)(*(int *)(param_1 + 0x158) + 4) << 1;
    *(int *)(*(int *)(param_1 + 0x158) + 8) = *(int *)(*(int *)(param_1 + 0x158) + 8) + 1;
    **(undefined4 **)(param_1 + 0x158) = pvVar3;
    iVar1 = DAT_000612cc;
    iVar13 = *(int *)(param_1 + 0x158);
    if (*(uint *)(iVar13 + 0xc) >> 1 < *(uint *)(iVar13 + 0x1c)) {
      iVar8 = *(int *)(iVar13 + 0x20) + 1;
    }
    else {
      iVar8 = 0;
    }
    *(int *)(iVar13 + 0x20) = iVar8;
    if (1 < *(uint *)(*(int *)(param_1 + 0x158) + 0x20)) {
      *(undefined4 *)(*(int *)(param_1 + 0x158) + 0x24) = 1;
    }
    if (iVar1 == 0) goto LAB_0001f2d0;
  }
  iVar8 = iVar1 + 0x158;
  iVar13 = 1;
LAB_0001f194:
  iVar20 = 0;
  uVar2 = 0;
  iVar10 = 0;
  iVar18 = iVar8;
LAB_0001f1a4:
  uVar2 = uVar2 + 1;
  iVar17 = iVar13;
  iVar8 = iVar10;
  if (iVar13 == 0) {
    iVar10 = 0;
    iVar14 = iVar18;
  }
  else if (*(int *)(iVar18 + 8) == 0) {
    iVar10 = 1;
    iVar14 = 0;
  }
  else {
    iVar6 = *(int *)(*(int *)(iVar1 + 0x158) + 0x14);
    iVar10 = 1;
    iVar14 = *(int *)(iVar18 + 8) + iVar6;
    if (iVar14 != 0) {
      while (iVar10 != iVar13) {
        iVar14 = *(int *)(iVar14 + 8);
        iVar10 = iVar10 + 1;
        if ((iVar14 == 0) || (iVar14 = iVar14 + iVar6, iVar14 == 0)) break;
      }
    }
  }
LAB_0001f204:
  do {
    iVar6 = iVar18;
    iVar15 = iVar10;
    if (iVar10 == 0) goto LAB_0001f278;
LAB_0001f20c:
    iVar18 = iVar6;
    if (iVar17 == 0 || iVar14 == 0) {
      if ((iVar6 != 0) && (iVar18 = *(int *)(iVar6 + 8), iVar18 != 0)) {
        iVar18 = iVar18 + *(int *)(*(int *)(iVar1 + 0x158) + 0x14);
      }
    }
    else {
      iVar16 = *(int *)(*(int *)(iVar1 + 0x158) + 0x14);
      if (0 < *(int *)(iVar6 + -iVar16 + 0x108) - *(int *)(iVar14 + -iVar16 + 0x108)) {
        iVar19 = *(int *)(iVar14 + 8);
        iVar10 = iVar15;
        if (iVar19 == 0) goto LAB_0001f318;
        iVar19 = iVar19 + iVar16;
        goto LAB_0001f318;
      }
      if ((iVar6 != 0) && (iVar18 = *(int *)(iVar6 + 8), iVar18 != 0)) {
        iVar18 = iVar18 + iVar16;
      }
    }
    iVar10 = iVar15 + -1;
    iVar19 = iVar14;
    if (iVar20 == 0) {
      iVar10 = iVar15 + -1;
      iVar8 = iVar6;
      iVar20 = iVar6;
      if (iVar6 != 0) {
        iVar15 = 0;
        goto LAB_0001f26c;
      }
      goto LAB_0001f204;
    }
    while (iVar14 = iVar19, iVar6 != 0) {
      *(int *)(iVar20 + 8) = iVar6 - *(int *)(*(int *)(iVar1 + 0x158) + 0x14);
      iVar15 = iVar20 - *(int *)(*(int *)(iVar1 + 0x158) + 0x14);
      iVar20 = iVar6;
LAB_0001f26c:
      while( true ) {
        *(int *)(iVar20 + 4) = iVar15;
        iVar6 = iVar18;
        iVar15 = iVar10;
        if (iVar10 != 0) goto LAB_0001f20c;
LAB_0001f278:
        if (iVar14 == 0 || iVar17 == 0) {
          iVar10 = iVar8;
          iVar18 = iVar14;
          if (iVar14 != 0) goto LAB_0001f1a4;
          if (iVar20 != 0) {
            *(undefined4 *)(iVar20 + 8) = 0;
          }
          if ((1 < uVar2) && (iVar13 = iVar13 << 1, iVar20 = iVar8, iVar8 != 0)) goto LAB_0001f194;
          *(int *)(*(int *)(iVar1 + 0x158) + 0x10) = iVar20;
          DAT_000612cc = iVar8 - *(int *)(*(int *)(iVar1 + 0x158) + 0x14);
          goto LAB_0001f2d0;
        }
        iVar19 = iVar10;
        if (*(int *)(iVar14 + 8) != 0) {
          iVar19 = *(int *)(iVar14 + 8) + *(int *)(*(int *)(iVar1 + 0x158) + 0x14);
        }
LAB_0001f318:
        iVar6 = iVar14;
        iVar17 = iVar17 + -1;
        if (iVar20 != 0) break;
        iVar15 = 0;
        iVar8 = iVar6;
        iVar14 = iVar19;
        iVar20 = iVar6;
      }
    }
    *(undefined4 *)(iVar20 + 8) = 0;
    iVar20 = iVar6;
  } while( true );
}




void FUN_0001f500(int param_1,int param_2,uint param_3)

{
  int iVar1;
  time_t tVar2;
  int iVar3;
  uint uVar4;
  bool bVar5;
  
  iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_000632f4);
  if (iVar1 != 0) {
    FUN_0000b4e4("inc_work_stats",0x20cd);
  }
  iVar1 = (int)param_3 >> 0x1f;
  iVar3 = *(int *)(param_1 + 0x24);
  uVar4 = *(uint *)(iVar3 + 0xc0);
  bVar5 = CARRY4(DAT_000636a8,param_3);
  DAT_000636a8 = DAT_000636a8 + param_3;
  DAT_000636ac = DAT_000636ac + iVar1 + (uint)bVar5;
  *(uint *)(iVar3 + 0xc0) = uVar4 + param_3;
  *(uint *)(iVar3 + 0xc4) = *(int *)(iVar3 + 0xc4) + iVar1 + (uint)CARRY4(uVar4,param_3);
  if (param_2 == 0) {
    iVar3 = FUN_0001d644();
    uVar4 = *(uint *)(iVar3 + 0x28);
    *(uint *)(iVar3 + 0x28) = param_3 + uVar4;
    *(uint *)(iVar3 + 0x2c) = iVar1 + *(int *)(iVar3 + 0x2c) + (uint)CARRY4(param_3,uVar4);
  }
  else {
    uVar4 = *(uint *)(param_2 + 0x28);
    *(uint *)(param_2 + 0x28) = param_3 + uVar4;
    *(uint *)(param_2 + 0x2c) = iVar1 + *(int *)(param_2 + 0x2c) + (uint)CARRY4(param_3,uVar4);
  }
  iVar1 = *(int *)(param_1 + 0x24);
  tVar2 = time((time_t *)0x0);
  *(time_t *)(iVar1 + 0xe8) = tVar2;
  iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_000632f4);
  if (iVar1 != 0) {
    FUN_0000b694("inc_work_stats",0x20da);
  }
  (*DAT_00060178)();
  return;
}




void FUN_0001f5dc(undefined4 *param_1)

{
  int iVar1;
  undefined4 *puVar2;
  char acStack_808 [2048];
  
  iVar1 = FUN_00017e64(param_1,(int)param_1 + 0x61);
  if (iVar1 == 0) {
    FUN_0002b13c(param_1 + 0x22);
    puVar2 = (undefined4 *)FUN_0001d644();
    if (puVar2 == param_1) {
      if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
        snprintf(acStack_808,0x800,"Pool %d %s not responding!",*puVar2,puVar2[0x29]);
        FUN_00038438(4,acStack_808,0);
      }
      FUN_000195d4(0);
    }
    else if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      snprintf(acStack_808,0x800,"Pool %d %s failed to return work",*param_1,param_1[0x29]);
      FUN_00038438(7,acStack_808,0);
    }
  }
  return;
}




undefined4 FUN_0001f70c(void)

{
  int iVar1;
  undefined4 uVar2;
  
  iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00063fb0);
  if (iVar1 != 0) {
    FUN_0000b4e4("cp_prio",0x1b66);
  }
  iVar1 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_00063fc8);
  if (iVar1 != 0) {
    FUN_0000b76c("cp_prio",0x1b66);
  }
  iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063fb0);
  if (iVar1 != 0) {
    FUN_0000b694("cp_prio",0x1b66);
  }
  uVar2 = *(undefined4 *)(DAT_00061310 + 4);
  iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_00063fc8);
  if (iVar1 != 0) {
    FUN_0000b700("cp_prio",0x1b68);
  }
  (*DAT_00060178)();
  return uVar2;
}




void FUN_0001f7c4(undefined4 *param_1)

{
  int iVar1;
  int iVar2;
  char acStack_810 [2052];
  
  iVar1 = DAT_000611ac;
  param_1[7] = 0;
  if ((iVar1 == 0) && (iVar2 = param_1[1], iVar1 = FUN_0001f70c(), iVar2 < iVar1)) {
    if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
      snprintf(acStack_810,0x800,"Pool %d %s alive, testing stability",*param_1,param_1[0x29]);
      FUN_00038438(4,acStack_810,0);
    }
  }
  else if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    snprintf(acStack_810,0x800,"Pool %d %s alive",*param_1,param_1[0x29]);
    FUN_00038438(7,acStack_810,0);
  }
  return;
}




void FUN_0001f8f4(undefined4 *param_1)

{
  int iVar1;
  char acStack_808 [2048];
  
  iVar1 = FUN_0001822c(param_1,(int)param_1 + 0x61);
  if (iVar1 != 0) {
    if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      snprintf(acStack_808,0x800,"Stratum connection to pool %d resumed",*param_1);
      FUN_00038438(7,acStack_808,0);
    }
    FUN_0001f7c4(param_1);
  }
  return;
}




undefined1 FUN_0001fb7c(int param_1)

{
  int iVar1;
  int iVar2;
  
  if (*(int *)(param_1 + 100) != 1) {
    return 0;
  }
  if (((((DAT_000611ac != 4) && (DAT_000611ac != 3)) &&
       ((*(char *)(param_1 + 0x278) == '\0' || (*(char *)(param_1 + 0x61) == '\0')))) &&
      ((iVar1 = FUN_0001d644(), param_1 != iVar1 && (*(int *)(param_1 + 700) == 0)))) &&
     ((DAT_000611ac != 0 || (iVar2 = *(int *)(param_1 + 4), iVar1 = FUN_0001f70c(), iVar1 <= iVar2)))) {
    return DAT_000612d0;
  }
  return 1;
}




/* WARNING: Restarted to delay deadcode elimination for space: ram */

undefined4 FUN_0001fc10(undefined4 *param_1)

{
  char cVar1;
  pthread_t __th;
  int iVar2;
  void *__ptr;
  int *piVar3;
  int *piVar4;
  uint uVar5;
  time_t tVar6;
  int iVar7;
  char *pcVar8;
  size_t __n;
  undefined4 *puVar9;
  undefined4 uVar10;
  uint uVar11;
  int iVar12;
  uint uVar13;
  uint uVar14;
  int iVar15;
  int *piVar16;
  void *__ptr_00;
  undefined4 *puVar17;
  void *__ptr_01;
  bool bVar18;
  double dVar19;
  int *local_a70;
  uint local_a68;
  timeval local_a64;
  char acStack_a5c [16];
  char local_a4c [20];
  char local_a38;
  undefined1 local_a37;
  undefined1 auStack_a36 [30];
  char local_a18 [4];
  undefined2 local_a14;
  undefined1 local_a12;
  undefined1 auStack_a11 [29];
  char acStack_9f4 [60];
  undefined4 uStack_9b8;
  fd_set local_9b4;
  undefined4 local_934 [23];
  undefined1 auStack_8d8 [160];
  uint local_838 [4];
  uint local_828;
  uint local_824;
  uint local_820;
  uint local_81c;
  char local_818 [4];
  undefined1 local_814;
  
  __th = pthread_self();
  pthread_detach(__th);
  snprintf(acStack_a5c,0x10,"%d/RStratum",*param_1);
  FUN_0002f02c(acStack_a5c);
  do {
    while( true ) {
      if (*(char *)((int)param_1 + 0x69) != '\0') {
        FUN_0002b7c0(param_1);
        return 0;
      }
      iVar2 = FUN_0002b6f8();
      if ((iVar2 == 0) && (iVar2 = FUN_0001fb7c(param_1), iVar2 == 0)) {
        FUN_0002b7c0(param_1);
        FUN_00018d90(param_1);
        FUN_00017fc4(param_1);
        while ((iVar2 = FUN_0001fb7c(param_1), iVar2 == 0 &&
               ((param_1[0x19] == 0 ||
                (((puVar17 = (undefined4 *)FUN_0001d644(), param_1 != puVar17 && (DAT_000611ac != 3)) &&
                 (DAT_000611ac != 4))))))) {
          iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00061314);
          if (iVar2 != 0) {
            FUN_0000b4e4("wait_lpcurrent",0x2424);
          }
          pthread_cond_wait((pthread_cond_t *)&DAT_00061330,(pthread_mutex_t *)&DAT_00061314);
          iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00061314);
          if (iVar2 != 0) {
            FUN_0000b694("wait_lpcurrent",0x2426);
          }
          (*DAT_00060178)();
        }
        while( true ) {
          iVar2 = FUN_0002dc00(param_1);
          uVar10 = 30000;
          if (iVar2 != 0) break;
          if (*(char *)((int)param_1 + 0x69) != '\0') {
            return 0;
          }
          if (DAT_00063b84 < 2) {
            uVar10 = 3000;
          }
          FUN_0002b21c(uVar10);
        }
      }
      puVar17 = &uStack_9b8;
      do {
        puVar17 = puVar17 + 1;
        *puVar17 = 0;
      } while (puVar17 != local_9b4.fds_bits + 0x1f);
      iVar12 = param_1[0x91];
      local_a64.tv_usec = 0;
      local_a64.tv_sec = 0x5a;
      iVar2 = iVar12 + 0x1f;
      if (-1 < iVar12) {
        iVar2 = iVar12;
      }
      local_9b4.fds_bits[iVar2 >> 5] = local_9b4.fds_bits[iVar2 >> 5] | 1 << (iVar12 % 0x20 & 0xffU);
      iVar2 = FUN_0002b6f8(param_1);
      if ((iVar2 != 0) ||
         (iVar2 = select(param_1[0x91] + 1,&local_9b4,(fd_set *)0x0,(fd_set *)0x0,&local_a64), 0 < iVar2)) break;
      if (DAT_000630c1 != '\0') {
        if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)) {
          snprintf((char *)local_838,0x800,"Stratum select failed on pool %d with value %d",*param_1,iVar2);
          FUN_00038438(7,local_838,0);
          goto LAB_00020770;
        }
LAB_0002077c:
        if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)) {
          snprintf((char *)local_838,0x800,"Stratum connection to pool %d interrupted",*param_1);
          FUN_00038438(7,local_838,0);
        }
      }
LAB_000207d0:
      param_1[0x20] = param_1[0x20] + 1;
      DAT_000639e4 = DAT_000639e4 + 1;
      iVar2 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0x35));
      if (iVar2 != 0) {
        FUN_0000b4e4("supports_resume",0x1ba7);
      }
      iVar2 = pthread_rwlock_rdlock((pthread_rwlock_t *)(param_1 + 0x3b));
      if (iVar2 != 0) {
        FUN_0000b76c("supports_resume",0x1ba7);
      }
      iVar2 = pthread_mutex_unlock((pthread_mutex_t *)(param_1 + 0x35));
      if (iVar2 != 0) {
        FUN_0000b694("supports_resume",0x1ba7);
      }
      iVar12 = param_1[0x9d];
      iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x3b));
      if (iVar2 != 0) {
        FUN_0000b700("supports_resume",0x1ba9);
      }
      (*DAT_00060178)();
      if ((iVar12 == 0) || (DAT_00063be4 != '\0')) {
        FUN_00018d90(param_1);
      }
      FUN_00017fc4(param_1);
      puVar17 = (undefined4 *)FUN_0001d644();
      if (param_1 == puVar17) {
        FUN_00016c8c();
      }
      while (iVar2 = FUN_0002dc00(param_1), iVar2 == 0) {
        if (*(char *)((int)param_1 + 0x69) != '\0') {
          return 0;
        }
        FUN_0002b21c(30000);
      }
    }
    __ptr = (void *)FUN_0002b920(param_1);
    if (__ptr == (void *)0x0) {
LAB_00020770:
      if (DAT_000630c1 != '\0') goto LAB_0002077c;
      goto LAB_000207d0;
    }
    FUN_0001f8f4(param_1);
    iVar2 = FUN_0002dc70(param_1,__ptr);
    if (iVar2 == 0) {
      iVar2 = FUN_00045aa8(__ptr,0,local_934);
      if (iVar2 == 0) {
        if (DAT_000630c1 != '\0') {
          if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)) {
            snprintf((char *)local_838,0x800,"JSON decode failed(%d): %s",local_934[0],auStack_8d8);
            FUN_00038438(7,local_838,0);
            goto LAB_000209e4;
          }
LAB_000209f0:
          if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)) {
            snprintf((char *)local_838,0x800,"Unknown stratum msg: %s",__ptr);
            FUN_00038438(7,local_838,0);
          }
        }
      }
      else {
        local_a70 = (int *)FUN_00046698(iVar2,"result");
        piVar3 = (int *)FUN_00046698(iVar2,"error");
        piVar4 = (int *)FUN_00046698(iVar2,&DAT_0004e540);
        if ((piVar4 == (int *)0x0) || (*piVar4 == 7)) {
          if (piVar3 == (int *)0x0) {
            pcVar8 = (char *)malloc(0x11);
            if (pcVar8 != (char *)0x0) {
              builtin_strncpy(pcVar8,"(unknown reason)",0x11);
            }
          }
          else {
            pcVar8 = (char *)FUN_000440cc(piVar3,3);
          }
          if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
            snprintf((char *)local_838,0x800,"JSON-RPC non method decode failed: %s",pcVar8);
            FUN_00038438(7,local_838,0);
          }
          bVar18 = false;
          free(pcVar8);
        }
        else {
          local_a68 = FUN_00046ac0();
          iVar12 = pthread_mutex_lock((pthread_mutex_t *)&DAT_000612dc);
          if (iVar12 != 0) {
            FUN_0000b4e4("parse_stratum_response",0x1af3);
          }
          piVar4 = DAT_000612f4;
          if (DAT_000612f4 == (int *)0x0) {
            __ptr_00 = (void *)0x0;
          }
          else {
            uVar13 = (local_a68 & 0xff) + 0x112410d + (local_a68 & 0xff000000) + (local_a68 >> 0x10 & 0xff) * 0x10000 +
                     (local_a68 >> 8 & 0xff) * 0x100 ^ 0x7f76d;
            uVar11 = 0x9f49bac6 - uVar13 ^ uVar13 << 8;
            uVar5 = (-0x112410d - uVar13) - uVar11 ^ uVar11 >> 0xd;
            puVar17 = (undefined4 *)*DAT_000612f4;
            uVar13 = (uVar13 - uVar11) - uVar5 ^ uVar5 >> 0xc;
            uVar11 = (uVar11 - uVar5) - uVar13 ^ uVar13 << 0x10;
            uVar14 = (uVar5 - uVar13) - uVar11 ^ uVar11 >> 5;
            uVar5 = (uVar13 - uVar11) - uVar14 ^ uVar14 >> 3;
            __ptr_01 = (void *)*puVar17;
            uVar13 = (uVar11 - uVar14) - uVar5 ^ uVar5 << 10;
            __ptr_00 = *(void **)((int)__ptr_01 + (((uVar14 - uVar5) - uVar13 ^ uVar13 >> 0xf) & puVar17[1] - 1) * 0xc);
            if (__ptr_00 == (void *)0x0) goto LAB_00020038;
            do {
              __ptr_00 = (void *)((int)__ptr_00 - puVar17[5]);
LAB_00020038:
              if (__ptr_00 == (void *)0x0) break;
              if ((*(int *)((int)__ptr_00 + 0x18) == 4) &&
                 (iVar12 = memcmp(*(void **)((int)__ptr_00 + 0x14),&local_a68,4), iVar12 == 0)) {
                iVar12 = *(int *)((int)__ptr_00 + 4);
                if ((iVar12 == 0) && (*(int *)((int)__ptr_00 + 8) == 0)) {
                  free(__ptr_01);
                  free((void *)*piVar4);
                  DAT_000612f4 = (int *)0x0;
                }
                else {
                  if (__ptr_00 == (void *)(puVar17[4] - puVar17[5])) {
                    puVar17[4] = iVar12 + puVar17[5];
                    iVar12 = *(int *)((int)__ptr_00 + 4);
                  }
                  if (iVar12 == 0) {
                    piVar16 = *(int **)((int)__ptr_00 + 8);
                    piVar4 = piVar16;
                    DAT_000612f4 = piVar16;
                  }
                  else {
                    *(undefined4 *)(iVar12 + *(int *)(*piVar4 + 0x14) + 8) = *(undefined4 *)((int)__ptr_00 + 8);
                    piVar16 = *(int **)((int)__ptr_00 + 8);
                  }
                  if (piVar16 != (int *)0x0) {
                    *(undefined4 *)((int)piVar16 + *(int *)(*piVar4 + 0x14) + 4) = *(undefined4 *)((int)__ptr_00 + 4);
                  }
                  uVar5 = ((int *)*piVar4)[1] - 1U & *(uint *)((int)__ptr_00 + 0x1c);
                  iVar12 = *(int *)*piVar4 + uVar5 * 0xc;
                  *(int *)(iVar12 + 4) = *(int *)(iVar12 + 4) + -1;
                  if (__ptr_00 == *(void **)(*(int *)*piVar4 + uVar5 * 0xc)) {
                    *(undefined4 *)(*(int *)*piVar4 + uVar5 * 0xc) = *(undefined4 *)((int)__ptr_00 + 0x10);
                  }
                  if (*(int *)((int)__ptr_00 + 0xc) != 0) {
                    *(undefined4 *)(*(int *)((int)__ptr_00 + 0xc) + 0x10) = *(undefined4 *)((int)__ptr_00 + 0x10);
                  }
                  if (*(int *)((int)__ptr_00 + 0x10) != 0) {
                    *(undefined4 *)(*(int *)((int)__ptr_00 + 0x10) + 0xc) = *(undefined4 *)((int)__ptr_00 + 0xc);
                  }
                  *(int *)(*piVar4 + 0xc) = *(int *)(*piVar4 + 0xc) + -1;
                }
                param_1[0xaf] = param_1[0xaf] + -1;
                break;
              }
              __ptr_00 = *(void **)((int)__ptr_00 + 0x10);
            } while (__ptr_00 != (void *)0x0);
          }
          iVar12 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_000612dc);
          if (iVar12 != 0) {
            FUN_0000b694("parse_stratum_response",0x1afa);
          }
          (*DAT_00060178)();
          if (__ptr_00 == (void *)0x0) {
            if (local_a70 == (int *)0x0) {
              bVar18 = false;
            }
            else {
              iVar12 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0x35));
              if (iVar12 != 0) {
                FUN_0000b4e4("parse_stratum_response",0x1b04);
              }
              iVar12 = pthread_rwlock_rdlock((pthread_rwlock_t *)(param_1 + 0x3b));
              if (iVar12 != 0) {
                FUN_0000b76c("parse_stratum_response",0x1b04);
              }
              iVar12 = pthread_mutex_unlock((pthread_mutex_t *)(param_1 + 0x35));
              if (iVar12 != 0) {
                FUN_0000b694("parse_stratum_response",0x1b04);
              }
              dVar19 = *(double *)(param_1 + 0x1be);
              iVar12 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x3b));
              if (iVar12 != 0) {
                FUN_0000b700("parse_stratum_response",0x1b06);
              }
              (*DAT_00060178)();
              if (*local_a70 == 5) {
                if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))
                   ) {
                  snprintf((char *)local_838,0x800,"Accepted untracked stratum share from pool %d",*param_1);
                  FUN_00038438(7,local_838,0);
                }
                iVar12 = pthread_mutex_lock((pthread_mutex_t *)&DAT_000632f4);
                if (iVar12 != 0) {
                  FUN_0000b4e4("parse_stratum_response",0x1b0e);
                }
                uVar5 = param_1[2];
                param_1[2] = uVar5 + 1;
                param_1[3] = param_1[3] + (uint)(0xfffffffe < uVar5);
                bVar18 = 0xfffffffe < DAT_000639c8;
                DAT_000639c8 = DAT_000639c8 + 1;
                DAT_000639cc = DAT_000639cc + (uint)bVar18;
                DAT_00063b88 = dVar19 + DAT_00063b88;
                *(double *)(param_1 + 0x12) = *(double *)(param_1 + 0x12) + dVar19;
                iVar12 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_000632f4);
                if (iVar12 != 0) {
                  FUN_0000b694("parse_stratum_response",0x1b13);
                }
              }
              else {
                if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))
                   ) {
                  snprintf((char *)local_838,0x800,"Rejected untracked stratum share from pool %d",*param_1);
                  FUN_00038438(7,local_838,0);
                }
                iVar12 = pthread_mutex_lock((pthread_mutex_t *)&DAT_000632f4);
                if (iVar12 != 0) {
                  FUN_0000b4e4("parse_stratum_response",0x1b19);
                }
                uVar5 = param_1[4];
                param_1[4] = uVar5 + 1;
                param_1[5] = param_1[5] + (uint)(0xfffffffe < uVar5);
                bVar18 = 0xfffffffe < DAT_00063c98;
                DAT_00063c98 = DAT_00063c98 + 1;
                DAT_00063c9c = DAT_00063c9c + (uint)bVar18;
                DAT_00063c10 = dVar19 + DAT_00063c10;
                *(double *)(param_1 + 0x14) = *(double *)(param_1 + 0x14) + dVar19;
                iVar12 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_000632f4);
                if (iVar12 != 0) {
                  FUN_0000b694("parse_stratum_response",0x1b1e);
                }
              }
              bVar18 = false;
              (*DAT_00060178)();
            }
          }
          else {
            iVar12 = *(int *)((int)__ptr_00 + 0x24);
            tVar6 = time((time_t *)0x0);
            if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
              snprintf((char *)local_838,0x800,"Pool %d stratum share result lag time %d seconds",
                       **(undefined4 **)(iVar12 + 0x104),tVar6 - *(int *)((int)__ptr_00 + 0x30));
              FUN_00038438(7,local_838,0);
            }
            uVar5 = *(uint *)(iVar12 + 0xdc);
            iVar15 = 0;
            local_838[0] = uVar5 << 0x18 | (uVar5 >> 8 & 0xff) << 0x10 | (uVar5 >> 0x10 & 0xff) << 8 | uVar5 >> 0x18;
            uVar5 = *(uint *)(iVar12 + 0xd8);
            local_838[1] = uVar5 << 0x18 | (uVar5 >> 8 & 0xff) << 0x10 | (uVar5 >> 0x10 & 0xff) << 8 | uVar5 >> 0x18;
            uVar5 = *(uint *)(iVar12 + 0xd4);
            local_838[2] = uVar5 << 0x18 | (uVar5 >> 8 & 0xff) << 0x10 | (uVar5 >> 0x10 & 0xff) << 8 | uVar5 >> 0x18;
            uVar5 = *(uint *)(iVar12 + 0xd0);
            local_838[3] = uVar5 << 0x18 | (uVar5 >> 8 & 0xff) << 0x10 | (uVar5 >> 0x10 & 0xff) << 8 | uVar5 >> 0x18;
            uVar5 = *(uint *)(iVar12 + 0xcc);
            local_828 = uVar5 << 0x18 | (uVar5 >> 8 & 0xff) << 0x10 | (uVar5 >> 0x10 & 0xff) << 8 | uVar5 >> 0x18;
            uVar5 = *(uint *)(iVar12 + 200);
            local_824 = uVar5 << 0x18 | (uVar5 >> 8 & 0xff) << 0x10 | (uVar5 >> 0x10 & 0xff) << 8 | uVar5 >> 0x18;
            uVar5 = *(uint *)(iVar12 + 0xc4);
            local_820 = uVar5 << 0x18 | (uVar5 >> 8 & 0xff) << 0x10 | (uVar5 >> 0x10 & 0xff) << 8 | uVar5 >> 0x18;
            uVar5 = *(uint *)(iVar12 + 0xc0);
            local_81c = uVar5 << 0x18 | (uVar5 >> 8 & 0xff) << 0x10 | (uVar5 >> 0x10 & 0xff) << 8 | uVar5 >> 0x18;
            do {
              if (*(char *)((int)local_838 + iVar15) != '\0') break;
              iVar15 = iVar15 + 1;
            } while (iVar15 != 0x1d);
            uVar5 = *(uint *)((int)local_838 + iVar15);
            dVar19 = round(*(double *)(iVar12 + 0x178));
            FUN_000494c0(SUB84(dVar19,0),(int)((ulonglong)dVar19 >> 0x20));
            FUN_00011130(*(undefined4 *)(iVar12 + 0xe8),*(undefined4 *)(iVar12 + 0xec),local_a18,0x10,0);
            pcVar8 = local_a18;
            snprintf(acStack_9f4,0x40,"%08lx Diff %s/%llu%s",
                     uVar5 << 0x18 | (uVar5 >> 8 & 0xff) << 0x10 | (uVar5 >> 0x10 & 0xff) << 8 | uVar5 >> 0x18,pcVar8);
            puVar17 = *(undefined4 **)(iVar12 + 0x104);
            iVar15 = FUN_0001c36c(*(undefined4 *)(iVar12 + 0x100));
            iVar15 = *(int *)(iVar15 + 0x24);
            if ((local_a70 == (int *)0x0) ||
               ((*local_a70 != 5 && ((*(char *)(iVar12 + 0x144) == '\0' || (*local_a70 != 7)))))) {
              iVar7 = pthread_mutex_lock((pthread_mutex_t *)&DAT_000632f4);
              if (iVar7 != 0) {
                FUN_0000b4e4("share_result",0xdc8);
              }
              *(int *)(iVar15 + 0x28) = *(int *)(iVar15 + 0x28) + 1;
              uVar5 = puVar17[4];
              puVar17[4] = uVar5 + 1;
              puVar17[5] = puVar17[5] + (uint)(0xfffffffe < uVar5);
              bVar18 = 0xfffffffe < DAT_00063c98;
              DAT_00063c98 = DAT_00063c98 + 1;
              DAT_00063c9c = DAT_00063c9c + (uint)bVar18;
              *(double *)(iVar15 + 0xd0) = *(double *)(iVar15 + 0xd0) + *(double *)(iVar12 + 0x178);
              dVar19 = *(double *)(iVar12 + 0x178);
              puVar17[6] = puVar17[6] + 1;
              DAT_00063c10 = dVar19 + DAT_00063c10;
              *(double *)(puVar17 + 0x14) = *(double *)(puVar17 + 0x14) + dVar19;
              iVar7 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_000632f4);
              if (iVar7 != 0) {
                FUN_0000b694("share_result",0xdd0);
              }
              (*DAT_00060178)();
              if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964))))
              {
                local_838[0]._0_1_ = 'P';
                local_838[0]._1_1_ = 'R';
                local_838[0]._2_1_ = 'O';
                local_838[0]._3_1_ = 'O';
                local_838[1]._0_1_ = 'F';
                local_838[1]._1_1_ = ' ';
                local_838[1]._2_1_ = 'O';
                local_838[1]._3_1_ = 'F';
                local_838[2]._0_1_ = ' ';
                local_838[2]._1_1_ = 'W';
                local_838[2]._2_1_ = 'O';
                local_838[2]._3_1_ = 'R';
                local_838[3]._0_1_ = 'K';
                local_838[3]._1_1_ = ' ';
                local_838[3]._2_1_ = 'R';
                local_838[3]._3_1_ = 'E';
                local_828._0_1_ = 'S';
                local_828._1_1_ = 'U';
                local_828._2_1_ = 'L';
                local_828._3_1_ = 'T';
                local_824._0_1_ = ':';
                local_824._1_1_ = ' ';
                local_824._2_1_ = 'f';
                local_824._3_1_ = 'a';
                local_820._0_1_ = 'l';
                local_820._1_1_ = 's';
                local_820._2_1_ = 'e';
                local_820._3_1_ = ' ';
                local_81c._0_1_ = '(';
                local_81c._1_1_ = 'b';
                local_81c._2_1_ = 'o';
                local_81c._3_1_ = 'o';
                local_818[0] = 'o';
                local_818[1] = 'o';
                local_818[2] = 'o';
                local_818[3] = ')';
                local_814 = 0;
                FUN_00038438(7,local_838,0);
              }
              if ((DAT_00064218 == '\0') && (cVar1 = DAT_000640b8, DAT_000640b8 == '\0')) {
                local_a18[0] = 'r';
                local_a18[1] = 'e';
                local_a18[2] = 'j';
                local_a18[3] = 'e';
                local_a12 = 0;
                local_a14 = 0x7463;
                memset(auStack_a11,0,0x1d);
                local_a38 = cVar1;
                if (1 < DAT_00063740) {
                  snprintf(local_a4c,0x14,"pool %d",**(undefined4 **)(iVar12 + 0x104));
                  cVar1 = local_a4c[0];
                }
                local_a4c[0] = cVar1;
                if (*(char *)(iVar12 + 0x144) == '\0') {
                  local_a70 = (int *)FUN_00046698(iVar2,"reject-reason");
                  if (local_a70 != (int *)0x0) goto LAB_000203d8;
LAB_00020f64:
                  if ((*(char *)(iVar12 + 0x11c) != '\0') && (piVar3 != (int *)0x0)) {
                    iVar7 = *piVar3;
                    if (iVar7 == 1) {
                      piVar3 = (int *)FUN_00046880(piVar3);
                      if (piVar3 == (int *)0x0) goto LAB_00020464;
                      iVar7 = *piVar3;
                    }
                    if (iVar7 == 2) {
                      uVar10 = FUN_000469f0(piVar3);
                      snprintf(&local_a38,0x1f," (%s)",uVar10);
                    }
                  }
                }
                else {
                  if (local_a70 == (int *)0x0) goto LAB_00020f64;
LAB_000203d8:
                  pcVar8 = (char *)FUN_000469f0(local_a70);
                  __n = strlen(pcVar8);
                  local_a38 = ' ';
                  local_a37 = 0x28;
                  if (0x1b < __n) {
                    __n = 0x1c;
                  }
                  memcpy(auStack_a36,pcVar8,__n);
                  auStack_a36[__n + 1] = 0;
                  auStack_a36[__n] = 0x29;
                  memcpy(auStack_a11,pcVar8,__n);
                  local_a12 = 0x3a;
                  auStack_a11[__n] = 0;
                }
LAB_00020464:
                if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))
                   ) {
                  snprintf((char *)local_838,0x800,"Rejected %s %s %d %s%s %s%s",acStack_9f4,
                           *(undefined4 *)(*(int *)(iVar15 + 4) + 8),*(undefined4 *)(iVar15 + 8),local_a4c,&local_a38,
                           &DAT_0005220c,&DAT_0005220c);
                  FUN_00038438(7,local_838,0);
                }
                FUN_0001d408(local_a18,iVar12);
              }
              iVar15 = puVar17[6];
              if (((10 < iVar15) && (*(char *)(iVar12 + 0x119) == '\0')) &&
                 ((DAT_000637f8 != '\0' &&
                  ((1 < DAT_00063b84 &&
                   (dVar19 = (double)FUN_000493dc(DAT_000639c8,DAT_000639cc),
                   (dVar19 / DAT_0005f898) * 60.0 * 3.0 < (double)(longlong)iVar15)))))) {
                if ((DAT_000632f0 != '\0') || ((DAT_000630c0 != '\0' || (3 < DAT_00060964)))) {
                  snprintf((char *)local_838,0x800,"Pool %d rejected %d sequential shares, disabling!",*puVar17,iVar15);
                  FUN_00038438(4,local_838,0);
                }
                if (puVar17[0x19] == 1) {
                  DAT_00063b84 = DAT_00063b84 + -1;
                }
                puVar17[0x19] = 2;
                puVar9 = (undefined4 *)FUN_0001d644();
                if (puVar17 == puVar9) {
                  FUN_000195d4(0);
                }
                puVar17[6] = 0;
              }
            }
            else {
              iVar7 = pthread_mutex_lock((pthread_mutex_t *)&DAT_000632f4);
              if (iVar7 != 0) {
                FUN_0000b4e4("share_result",0xd96);
              }
              *(int *)(iVar15 + 0x24) = *(int *)(iVar15 + 0x24) + 1;
              uVar5 = puVar17[2];
              puVar17[2] = uVar5 + 1;
              puVar17[3] = puVar17[3] + (uint)(0xfffffffe < uVar5);
              bVar18 = 0xfffffffe < DAT_000639c8;
              DAT_000639c8 = DAT_000639c8 + 1;
              DAT_000639cc = DAT_000639cc + (uint)bVar18;
              *(double *)(iVar15 + 200) = *(double *)(iVar15 + 200) + *(double *)(iVar12 + 0x178);
              DAT_00063b88 = *(double *)(iVar12 + 0x178) + DAT_00063b88;
              *(double *)(puVar17 + 0x12) = *(double *)(puVar17 + 0x12) + *(double *)(iVar12 + 0x178);
              iVar7 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_000632f4);
              if (iVar7 != 0) {
                FUN_0000b694("share_result",0xd9d);
              }
              (*DAT_00060178)();
              puVar17[6] = 0;
              *(undefined4 *)(iVar15 + 0xd8) = *puVar17;
              tVar6 = time((time_t *)0x0);
              bVar18 = DAT_000630c1 != '\0';
              *(time_t *)(iVar15 + 0xdc) = tVar6;
              uVar10 = *(undefined4 *)(iVar12 + 0x17c);
              *(undefined4 *)(iVar15 + 0xe0) = *(undefined4 *)(iVar12 + 0x178);
              *(undefined4 *)(iVar15 + 0xe4) = uVar10;
              puVar17[0x58] = tVar6;
              uVar10 = *(undefined4 *)(iVar12 + 0x17c);
              puVar17[0x5a] = *(undefined4 *)(iVar12 + 0x178);
              puVar17[0x5b] = uVar10;
              if ((bVar18) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
                local_838[0]._0_1_ = 'P';
                local_838[0]._1_1_ = 'R';
                local_838[0]._2_1_ = 'O';
                local_838[0]._3_1_ = 'O';
                local_838[1]._0_1_ = 'F';
                local_838[1]._1_1_ = ' ';
                local_838[1]._2_1_ = 'O';
                local_838[1]._3_1_ = 'F';
                local_838[2]._0_1_ = ' ';
                local_838[2]._1_1_ = 'W';
                local_838[2]._2_1_ = 'O';
                local_838[2]._3_1_ = 'R';
                local_838[3]._0_1_ = 'K';
                local_838[3]._1_1_ = ' ';
                local_838[3]._2_1_ = 'R';
                local_838[3]._3_1_ = 'E';
                local_828._0_1_ = 'S';
                local_828._1_1_ = 'U';
                local_828._2_1_ = 'L';
                local_828._3_1_ = 'T';
                local_824._0_1_ = ':';
                local_824._1_1_ = ' ';
                local_824._2_1_ = 't';
                local_824._3_1_ = 'r';
                local_820._0_1_ = 'u';
                local_820._1_1_ = 'e';
                local_820._2_1_ = ' ';
                local_820._3_1_ = '(';
                local_81c._0_1_ = 'y';
                local_81c._1_1_ = 'a';
                local_81c._2_1_ = 'y';
                local_81c._3_1_ = '!';
                local_818[0] = '!';
                local_818[1] = '!';
                local_818[2] = ')';
                local_818[3] = '\0';
                FUN_00038438(7,local_838,0);
              }
              if ((DAT_00064218 == '\0') && (DAT_000640b8 == '\0')) {
                if (DAT_00063740 < 2) {
                  if ((DAT_000630c1 != '\0') &&
                     (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
                    pcVar8 = *(char **)(*(int *)(iVar15 + 4) + 8);
                    snprintf((char *)local_838,0x800,"Accepted %s %s %d %s%s",acStack_9f4,pcVar8,
                             *(undefined4 *)(iVar15 + 8),&DAT_0005220c,&DAT_0005220c);
                    FUN_00038438(7,local_838,0);
                  }
                }
                else if ((DAT_000630c1 != '\0') &&
                        (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
                  pcVar8 = *(char **)(*(int *)(iVar15 + 4) + 8);
                  snprintf((char *)local_838,0x800,"Accepted %s %s %d pool %d %s%s",acStack_9f4,pcVar8,
                           *(undefined4 *)(iVar15 + 8),**(undefined4 **)(iVar12 + 0x104),&DAT_0005220c,&DAT_0005220c);
                  FUN_00038438(7,local_838,0);
                }
              }
              FUN_0001d408("accept",iVar12);
              if ((DAT_00061414 == 0) || (DAT_00063b88 < (double)(longlong)DAT_00061414)) {
                if (puVar17[0x19] == 2) {
                  if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 4)) {
LAB_00021220:
                    puVar17[0x19] = 1;
                    DAT_00063b84 = DAT_00063b84 + 1;
                  }
                  else {
                    snprintf((char *)local_838,0x800,"Rejecting pool %d now accepting shares, re-enabling!",*puVar17,
                             pcVar8);
                    FUN_00038438(4,local_838,0);
                    if (puVar17[0x19] != 1) goto LAB_00021220;
                  }
                  FUN_000195d4(0);
                }
                if (*(char *)(iVar12 + 0x11b) != '\0') {
                  FUN_00016c8c();
                }
              }
              else {
                if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
                  snprintf((char *)local_838,0x800,"Successfully mined %d accepted shares as requested and exiting.",
                           DAT_00061414,pcVar8);
                  FUN_00038438(4,local_838,0);
                }
                FUN_00017328();
              }
            }
            bVar18 = true;
            FUN_000152b8(*(undefined4 *)((int)__ptr_00 + 0x24));
            *(undefined4 *)((int)__ptr_00 + 0x24) = 0;
            free(__ptr_00);
          }
        }
        if ((*(int *)(iVar2 + 4) != -1) &&
           (iVar12 = *(int *)(iVar2 + 4) + -1, *(int *)(iVar2 + 4) = iVar12, iVar12 == 0)) {
          FUN_00046c5c(iVar2);
        }
        if (bVar18) goto LAB_0001fd38;
LAB_000209e4:
        if (DAT_000630c1 != '\0') goto LAB_000209f0;
      }
    }
    else {
LAB_0001fd38:
      if (*(char *)(param_1 + 0xa2) != '\0') {
        iVar2 = FUN_00019da0();
        *(undefined1 *)(param_1 + 0xa2) = 0;
        FUN_0001a514(param_1,iVar2);
        *(undefined1 *)(iVar2 + 0x118) = 1;
        FUN_0001d6f8(iVar2);
        FUN_000152b8(iVar2);
      }
    }
    free(__ptr);
  } while( true );
}




void FUN_00021364(void)

{
  uint uVar1;
  int iVar2;
  time_t tVar3;
  char *pcVar4;
  int *piVar5;
  pthread_mutex_t *__mutex;
  int *piVar6;
  int *piVar7;
  undefined4 *puVar8;
  int iVar9;
  int iVar10;
  uint uVar11;
  int *piVar12;
  bool bVar13;
  double dVar14;
  int local_854;
  int local_848 [2];
  int local_840 [2];
  char acStack_838 [2052];
  
  pthread_setcanceltype(1,(int *)0x0);
  FUN_0002f02c("Watchpool");
  FUN_00011c4c();
  local_854 = 0;
  do {
    local_854 = local_854 + 1;
    FUN_0002b13c(local_848);
    if (0x14 < local_854) {
      local_854 = 0;
    }
    if (0 < DAT_00063740) {
      iVar9 = 0;
      do {
        while( true ) {
          puVar8 = *(undefined4 **)(DAT_000639e0 + iVar9 * 4);
          if ((DAT_000615c9 == '\0') && (DAT_000612ac == 0)) {
            __mutex = (pthread_mutex_t *)(puVar8 + 0x2f);
            FUN_0002b13c(local_840);
            iVar2 = pthread_mutex_lock(__mutex);
            if (iVar2 != 0) {
              FUN_0000b4e4("reap_curl",0x2523);
            }
            piVar12 = puVar8 + 0x56;
            piVar6 = (int *)*piVar12;
            if (piVar12 == piVar6) {
              iVar2 = 0;
              iVar10 = pthread_mutex_unlock(__mutex);
            }
            else {
              iVar10 = puVar8[0x48];
              iVar2 = 0;
              if (1 < iVar10) {
                iVar2 = 0;
                piVar7 = (int *)*piVar6;
                do {
                  piVar5 = piVar7;
                  if (300 < local_840[0] - piVar6[2]) {
                    puVar8[0x48] = iVar10 + -1;
                    piVar7 = (int *)piVar6[1];
                    iVar10 = *piVar6;
                    iVar2 = iVar2 + 1;
                    *(int **)(iVar10 + 4) = piVar7;
                    *piVar7 = iVar10;
                    *piVar6 = 0;
                    piVar6[1] = 0;
                    free(piVar6 + -1);
                  }
                } while ((piVar12 != piVar5) &&
                        (iVar10 = puVar8[0x48], piVar7 = (int *)*piVar5, piVar6 = piVar5, 1 < iVar10));
              }
              iVar10 = pthread_mutex_unlock(__mutex);
            }
            if (iVar10 != 0) {
              FUN_0000b694("reap_curl",0x2531);
            }
            (*DAT_00060178)();
            if (((iVar2 != 0) && (DAT_000630c1 != '\0')) &&
               ((DAT_000632f0 != '\0' || ((DAT_000630c0 != '\0' || (6 < DAT_00060964)))))) {
              pcVar4 = "";
              if (iVar2 != 1) {
                pcVar4 = "s";
              }
              snprintf(acStack_838,0x800,"Reaped %d curl%s from pool %d",iVar2,pcVar4,*puVar8);
              FUN_00038438(7,acStack_838,0);
            }
            tVar3 = time((time_t *)0x0);
            iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_000612dc);
            if (iVar2 != 0) {
              FUN_0000b4e4("prune_stratum_shares",0x2540);
            }
            if (DAT_000612f4 == (int *)0x0) {
              uVar1 = 0;
            }
            else {
              uVar1 = 0;
              piVar6 = (int *)DAT_000612f4[2];
              piVar12 = DAT_000612f4;
              while( true ) {
                piVar7 = piVar6;
                piVar6 = DAT_000612f4;
                if ((puVar8 == *(undefined4 **)(piVar12[9] + 0x104)) && (piVar12[0xb] + 0x78 < tVar3)) {
                  iVar2 = piVar12[1];
                  if ((iVar2 == 0) && (piVar12[2] == 0)) {
                    free(*(void **)*DAT_000612f4);
                    free((void *)*piVar6);
                    DAT_000612f4 = (int *)0x0;
                  }
                  else {
                    iVar10 = *DAT_000612f4;
                    if (piVar12 == (int *)(*(int *)(iVar10 + 0x10) - *(int *)(iVar10 + 0x14))) {
                      *(int *)(iVar10 + 0x10) = iVar2 + *(int *)(iVar10 + 0x14);
                      iVar2 = piVar12[1];
                    }
                    if (iVar2 == 0) {
                      piVar5 = (int *)piVar12[2];
                      piVar6 = piVar5;
                      DAT_000612f4 = piVar5;
                    }
                    else {
                      *(int *)(iVar2 + *(int *)(*piVar6 + 0x14) + 8) = piVar12[2];
                      piVar5 = (int *)piVar12[2];
                    }
                    if (piVar5 != (int *)0x0) {
                      *(int *)((int)piVar5 + *(int *)(*piVar6 + 0x14) + 4) = piVar12[1];
                    }
                    uVar11 = ((int *)*piVar6)[1] - 1U & piVar12[7];
                    iVar2 = *(int *)*piVar6 + uVar11 * 0xc;
                    *(int *)(iVar2 + 4) = *(int *)(iVar2 + 4) + -1;
                    if (piVar12 == *(int **)(*(int *)*piVar6 + uVar11 * 0xc)) {
                      *(int *)(*(int *)*piVar6 + uVar11 * 0xc) = piVar12[4];
                    }
                    if (piVar12[3] != 0) {
                      *(int *)(piVar12[3] + 0x10) = piVar12[4];
                    }
                    if (piVar12[4] != 0) {
                      *(int *)(piVar12[4] + 0xc) = piVar12[3];
                    }
                    *(int *)(*piVar6 + 0xc) = *(int *)(*piVar6 + 0xc) + -1;
                  }
                  uVar1 = uVar1 + 1;
                  FUN_000152b8(piVar12[9]);
                  piVar12[9] = 0;
                  free(piVar12);
                }
                if (piVar7 == (int *)0x0) break;
                piVar6 = (int *)piVar7[2];
                piVar12 = piVar7;
              }
            }
            iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_000612dc);
            if (iVar2 != 0) {
              FUN_0000b694("prune_stratum_shares",0x254b);
            }
            (*DAT_00060178)();
            if (uVar1 != 0) {
              if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
                snprintf(acStack_838,0x800,"Lost %d shares due to no stratum share response from pool %d",uVar1,*puVar8)
                ;
                FUN_00038438(4,acStack_838,0);
              }
              puVar8[0x1e] = puVar8[0x1e] + uVar1;
              bVar13 = CARRY4(DAT_00064220,uVar1);
              DAT_00064220 = DAT_00064220 + uVar1;
              DAT_00064224 = DAT_00064224 + ((int)uVar1 >> 0x1f) + (uint)bVar13;
            }
          }
          if (local_854 == 0x14) {
            uVar1 = puVar8[0x26];
            uVar11 = puVar8[10];
            dVar14 = (double)FUN_000493dc(uVar11 - uVar1,puVar8[0xb] - (((int)uVar1 >> 0x1f) + (uint)(uVar11 < uVar1)));
            puVar8[0x26] = uVar11;
            dVar14 = (*(double *)(puVar8 + 0x24) + dVar14 * 0.63) / 1.63;
            *(double *)(puVar8 + 0x24) = dVar14;
            puVar8[0x27] = (int)(longlong)dVar14;
          }
          if ((puVar8[0x19] != 0) && (*(char *)(puVar8 + 0x47) == '\0')) break;
LAB_000213ec:
          iVar9 = iVar9 + 1;
          if (DAT_00063740 <= iVar9) goto LAB_000214f0;
        }
        if (*(char *)((int)puVar8 + 0x61) == '\0') {
LAB_000213e0:
          if (((DAT_000611ac == 0) && (iVar10 = puVar8[1], iVar2 = FUN_0001f70c(), iVar10 < iVar2)) &&
             (300 < local_848[0] - puVar8[0x22])) {
            if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
              snprintf(acStack_838,0x800,"Pool %d %s stable for 5 mins",*puVar8,puVar8[0x29]);
              FUN_00038438(4,acStack_838,0);
            }
            FUN_000195d4(0);
          }
          goto LAB_000213ec;
        }
        if (local_848[0] - puVar8[0x22] < 0x1f) goto LAB_000213ec;
        iVar2 = FUN_000182a0(puVar8,1);
        if ((iVar2 == 0) || (iVar2 = FUN_0001822c(puVar8,(int)puVar8 + 0x61), iVar2 == 0)) {
          FUN_0002b13c(puVar8 + 0x22);
        }
        else {
          FUN_0001f7c4(puVar8);
        }
        if (*(char *)((int)puVar8 + 0x61) == '\0') goto LAB_000213e0;
        iVar9 = iVar9 + 1;
      } while (iVar9 < DAT_00063740);
    }
LAB_000214f0:
    iVar9 = FUN_0001d644();
    if (*(char *)(iVar9 + 0x61) != '\0') {
      FUN_000195d4(0);
    }
    if ((DAT_000611ac == 2) &&
       (iVar9 = local_848[0] - DAT_000615cc,
       iVar9 != DAT_00063af8 * 0x3c && iVar9 + DAT_00063af8 * -0x3c < 0 == SBORROW4(iVar9,DAT_00063af8 * 0x3c))) {
      FUN_0002b13c(&DAT_000615cc);
      FUN_000195d4(0);
    }
    FUN_0002b21c(30000);
  } while( true );
}




/* WARNING: Restarted to delay deadcode elimination for space: ram */

undefined4 FUN_00021ab0(undefined4 *param_1)

{
  char cVar1;
  pthread_t __th;
  int iVar2;
  int iVar3;
  int *__ptr;
  time_t tVar4;
  size_t sVar5;
  uint uVar6;
  void *pvVar7;
  int *piVar8;
  int iVar9;
  uint uVar10;
  int iVar11;
  uint uVar12;
  uint uVar13;
  undefined4 *puVar14;
  int iVar15;
  int iVar16;
  int iVar17;
  undefined4 uVar18;
  bool bVar19;
  undefined1 *puVar20;
  undefined1 *puVar21;
  uint local_c80;
  int local_c64;
  int local_c60;
  int iStack_c5c;
  undefined1 auStack_c58 [12];
  char acStack_c4c [16];
  undefined1 auStack_c3c [20];
  char acStack_c28 [1024];
  char local_828 [4];
  char acStack_824 [4];
  char acStack_820 [4];
  char acStack_81c [4];
  char local_818 [4];
  char acStack_814 [4];
  char acStack_810 [4];
  undefined2 local_80c [2];
  char local_808 [4];
  char acStack_804 [4];
  undefined3 uStack_800;
  char cStack_7fd;
  undefined2 local_7fc [2];
  undefined2 local_7f8 [2];
  undefined2 local_7f4;
  
  __th = pthread_self();
  pthread_detach(__th);
  snprintf(acStack_c4c,0x10,"%d/SStratum",*param_1);
  FUN_0002f02c(acStack_c4c);
  iVar2 = FUN_0002aa90();
  param_1[0xae] = iVar2;
  if (iVar2 == 0) {
    local_828[0] = 'F';
    local_828[1] = 'a';
    local_828[2] = 'i';
    local_828[3] = 'l';
    acStack_824[0] = 'e';
    acStack_824[1] = 'd';
    acStack_824[2] = ' ';
    acStack_824[3] = 't';
    acStack_820[0] = 'o';
    acStack_820[1] = ' ';
    acStack_820[2] = 'c';
    acStack_820[3] = 'r';
    acStack_81c[0] = 'e';
    acStack_81c[1] = 'a';
    acStack_81c[2] = 't';
    acStack_81c[3] = 'e';
    local_818[0] = ' ';
    local_818[1] = 's';
    local_818[2] = 't';
    local_818[3] = 'r';
    acStack_814[0] = 'a';
    acStack_814[1] = 't';
    acStack_814[2] = 'u';
    acStack_814[3] = 'm';
    acStack_810[0] = '_';
    acStack_810[1] = 'q';
    acStack_810[2] = ' ';
    acStack_810[3] = 'i';
    local_80c[0]._0_1_ = 'n';
    local_80c[0]._1_1_ = ' ';
    local_80c[1]._0_1_ = 's';
    local_80c[1]._1_1_ = 't';
    local_808[0] = 'r';
    local_808[1] = 'a';
    local_808[2] = 't';
    local_808[3] = 'u';
    acStack_804[0] = 'm';
    acStack_804[1] = '_';
    acStack_804[2] = 's';
    acStack_804[3] = 't';
    uStack_800._0_1_ = 'h';
    uStack_800._1_1_ = 'r';
    uStack_800._2_1_ = 'e';
    cStack_7fd = 'a';
    local_7fc[0] = 100;
    FUN_00038438(3,local_828,1);
    FUN_00016724(1);
  }
  iVar15 = 0;
  iVar16 = 0;
  iVar2 = 0;
  do {
    cVar1 = *(char *)((int)param_1 + 0x69);
    while( true ) {
      if (cVar1 != '\0') {
        FUN_0002ab58(param_1[0xae]);
        return 0;
      }
      iVar3 = FUN_0002ac28(param_1[0xae]);
      if (iVar3 == 0) {
        local_828[0] = 'S';
        local_828[1] = 't';
        local_828[2] = 'r';
        local_828[3] = 'a';
        acStack_824[0] = 't';
        acStack_824[1] = 'u';
        acStack_824[2] = 'm';
        acStack_824[3] = ' ';
        acStack_820[0] = 'q';
        acStack_820[1] = ' ';
        acStack_820[2] = 'r';
        acStack_820[3] = 'e';
        acStack_81c[0] = 't';
        acStack_81c[1] = 'u';
        acStack_81c[2] = 'r';
        acStack_81c[3] = 'n';
        local_818[0] = 'e';
        local_818[1] = 'd';
        local_818[2] = ' ';
        local_818[3] = 'e';
        acStack_814[0] = 'm';
        acStack_814[1] = 'p';
        acStack_814[2] = 't';
        acStack_814[3] = 'y';
        acStack_810[0] = ' ';
        acStack_810[1] = 'w';
        acStack_810[2] = 'o';
        acStack_810[3] = 'r';
        local_80c[0] = 0x6b;
        FUN_00038438(3,local_828,1);
        FUN_00016724(1);
      }
      if (8 < *(uint *)(iVar3 + 0x130)) {
        if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
          snprintf(local_828,0x800,"Pool %d asking for inappropriately long nonce2 length %d",*param_1,
                   *(uint *)(iVar3 + 0x130));
          FUN_00038438(3,local_828,0);
          if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
            local_828[0] = 'N';
            local_828[1] = 'o';
            local_828[2] = 't';
            local_828[3] = ' ';
            acStack_824[0] = 'a';
            acStack_824[1] = 't';
            acStack_824[2] = 't';
            acStack_824[3] = 'e';
            acStack_820[0] = 'm';
            acStack_820[1] = 'p';
            acStack_820[2] = 't';
            acStack_820[3] = 'i';
            acStack_81c[0] = 'n';
            acStack_81c[1] = 'g';
            acStack_81c[2] = ' ';
            acStack_81c[3] = 't';
            local_818[0] = 'o';
            local_818[1] = ' ';
            local_818[2] = 's';
            local_818[3] = 'u';
            acStack_814[0] = 'b';
            acStack_814[1] = 'm';
            acStack_814[2] = 'i';
            acStack_814[3] = 't';
            acStack_810[0] = ' ';
            acStack_810[1] = 's';
            acStack_810[2] = 'h';
            acStack_810[3] = 'a';
            local_80c[0]._0_1_ = 'r';
            local_80c[0]._1_1_ = 'e';
            local_80c[1]._0_1_ = 's';
            local_80c[1]._1_1_ = '\0';
            FUN_00038438(3,local_828,0);
          }
        }
        goto LAB_0002265c;
      }
      iVar17 = *(int *)(iVar3 + 0x4c);
      iVar9 = *(int *)(iVar3 + 0x128);
      iVar11 = *(int *)(iVar3 + 300);
      local_c64 = iVar17;
      local_c60 = iVar9;
      iStack_c5c = iVar11;
      if ((iVar2 == iVar17) && (iVar16 == iVar11 && iVar15 == iVar9)) break;
      puVar21 = auStack_c58;
      puVar20 = auStack_c3c;
      FUN_00029460(puVar21,&local_c64,4);
      FUN_00029460(puVar20,&local_c60,*(undefined4 *)(iVar3 + 0x130));
      __ptr = (int *)calloc(0x34,1);
      tVar4 = time((time_t *)0x0);
      __ptr[9] = iVar3;
      __ptr[0xb] = tVar4;
      memset(acStack_c28,0,0x400);
      iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_000612dc);
      if (iVar2 != 0) {
        FUN_0000b4e4("stratum_sthread",0x1c6d);
      }
      iVar2 = DAT_000636a0 + 1;
      __ptr[10] = DAT_000636a0;
      DAT_000636a0 = iVar2;
      iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_000612dc);
      if (iVar2 != 0) {
        FUN_0000b694("stratum_sthread",0x1c70);
      }
      (*DAT_00060178)();
      iVar2 = __ptr[10];
      uVar18 = *(undefined4 *)(iVar3 + 0x134);
      snprintf(acStack_c28,0x400,
               "{\"params\": [\"%s\", \"%s\", \"%s\", \"%s\", \"%s\"], \"id\": %d, \"method\": \"mining.submit\"}",
               param_1[0x2b],*(undefined4 *)(iVar3 + 0x120),puVar20,uVar18,puVar21,iVar2);
      if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
        snprintf(local_828,0x800,"Submitting share %08lx to pool %d",*(undefined4 *)(iVar3 + 0xd8),*param_1,puVar20,
                 uVar18,puVar21,iVar2);
        FUN_00038438(7,local_828,0);
      }
LAB_00021d04:
      iVar2 = __ptr[0xb];
      tVar4 = time((time_t *)0x0);
      if (tVar4 <= iVar2 + 0x77) {
        sVar5 = strlen(acStack_c28);
        iVar2 = FUN_0002bea8(param_1,acStack_c28,sVar5);
        if (iVar2 != 0) {
          iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_000612dc);
          if (iVar2 != 0) {
            FUN_0000b4e4("stratum_sthread",0x1c8b);
          }
          __ptr[2] = 0;
          __ptr[5] = (int)(__ptr + 10);
          piVar8 = DAT_000612f4;
          __ptr[6] = 4;
          if (piVar8 == (int *)0x0) {
            __ptr[1] = 0;
            DAT_000612f4 = __ptr;
            puVar14 = (undefined4 *)malloc(0x2c);
            *__ptr = (int)puVar14;
            if (puVar14 == (undefined4 *)0x0) goto LAB_00022434;
            *puVar14 = 0;
            puVar14[3] = 0;
            puVar14[4] = 0;
            puVar14[5] = 0;
            puVar14[6] = 0;
            puVar14[7] = 0;
            puVar14[8] = 0;
            puVar14[9] = 0;
            puVar14[10] = 0;
            puVar14[4] = __ptr;
            puVar14[5] = 0;
            puVar14[1] = 0x20;
            puVar14[2] = 5;
            pvVar7 = malloc(0x180);
            *puVar14 = pvVar7;
            if (pvVar7 == (void *)0x0) goto LAB_00022434;
            memset(pvVar7,0,0x180);
            puVar14[10] = 0xa0111fe1;
            piVar8 = __ptr;
          }
          else {
            *(int **)(*(int *)(*piVar8 + 0x10) + 8) = __ptr;
            __ptr[1] = *(int *)(*piVar8 + 0x10) - *(int *)(*piVar8 + 0x14);
            *(int **)(*piVar8 + 0x10) = __ptr;
            puVar14 = (undefined4 *)*piVar8;
          }
          puVar14[3] = puVar14[3] + 1;
          uVar12 = *(byte *)(__ptr + 10) + 0x112410d + (uint)*(byte *)((int)__ptr + 0x2b) * 0x1000000 +
                   (uint)*(byte *)((int)__ptr + 0x2a) * 0x10000 + (uint)*(byte *)((int)__ptr + 0x29) * 0x100 ^ 0x7f76d;
          *__ptr = *piVar8;
          uVar10 = 0x9f49bac6 - uVar12 ^ uVar12 << 8;
          uVar6 = (-0x112410d - uVar12) - uVar10 ^ uVar10 >> 0xd;
          uVar12 = (uVar12 - uVar10) - uVar6 ^ uVar6 >> 0xc;
          uVar10 = (uVar10 - uVar6) - uVar12 ^ uVar12 << 0x10;
          uVar13 = (uVar6 - uVar12) - uVar10 ^ uVar10 >> 5;
          uVar6 = (uVar12 - uVar10) - uVar13 ^ uVar13 >> 3;
          uVar12 = (uVar10 - uVar13) - uVar6 ^ uVar6 << 10;
          uVar6 = (uVar13 - uVar6) - uVar12 ^ uVar12 >> 0xf;
          __ptr[7] = uVar6;
          uVar6 = uVar6 & ((int *)*piVar8)[1] - 1U;
          iVar2 = uVar6 * 0xc;
          iVar15 = *(int *)*piVar8 + iVar2;
          *(int *)(iVar15 + 4) = *(int *)(iVar15 + 4) + 1;
          iVar15 = *(int *)(*(int *)*piVar8 + uVar6 * 0xc);
          __ptr[3] = 0;
          __ptr[4] = iVar15;
          iVar15 = *(int *)*piVar8;
          iVar16 = *(int *)(iVar15 + uVar6 * 0xc);
          if (iVar16 != 0) {
            *(int **)(iVar16 + 0xc) = __ptr;
            iVar15 = *(int *)*piVar8;
          }
          *(int **)(iVar15 + iVar2) = __ptr;
          if (((uint)((*(int *)(*(int *)*piVar8 + iVar2 + 8) + 1) * 10) <= *(uint *)(*(int *)*piVar8 + iVar2 + 4)) &&
             (iVar2 = *__ptr, *(int *)(iVar2 + 0x24) != 1)) {
            sVar5 = *(int *)(iVar2 + 4) * 0x18;
            pvVar7 = malloc(sVar5);
            if (pvVar7 == (void *)0x0) {
LAB_00022434:
                    /* WARNING: Subroutine does not return */
              exit(-1);
            }
            memset(pvVar7,0,sVar5);
            iVar15 = 0;
            *(uint *)(iVar2 + 0x18) =
                 (uint)((*(int *)(iVar2 + 4) * 2 - 1U & *(uint *)(iVar2 + 0xc)) != 0) +
                 (*(uint *)(iVar2 + 0xc) >> (*(int *)(iVar2 + 8) + 1U & 0xff));
            *(undefined4 *)(*__ptr + 0x1c) = 0;
            piVar8 = (int *)*__ptr;
            uVar6 = piVar8[1];
            if (uVar6 != 0) {
              local_c80 = 0;
              do {
                iVar2 = *(int *)(*piVar8 + iVar15);
                if (*(int *)(*piVar8 + iVar15) != 0) {
                  while( true ) {
                    iVar16 = *(int *)(iVar2 + 0x10);
                    uVar12 = uVar6 * 2 - 1 & *(uint *)(iVar2 + 0x1c);
                    uVar6 = *(int *)((int)pvVar7 + uVar12 * 0xc + 4) + 1;
                    *(uint *)((int)pvVar7 + uVar12 * 0xc + 4) = uVar6;
                    if ((uint)piVar8[6] < uVar6) {
                      piVar8[7] = piVar8[7] + 1;
                      uVar18 = FUN_00048ec0(*(undefined4 *)((int)pvVar7 + uVar12 * 0xc + 4),
                                            *(undefined4 *)(*__ptr + 0x18));
                      *(undefined4 *)((int)pvVar7 + uVar12 * 0xc + 8) = uVar18;
                    }
                    *(undefined4 *)(iVar2 + 0xc) = 0;
                    *(undefined4 *)(iVar2 + 0x10) = *(undefined4 *)((int)pvVar7 + uVar12 * 0xc);
                    iVar3 = *(int *)((int)pvVar7 + uVar12 * 0xc);
                    if (iVar3 != 0) {
                      *(int *)(iVar3 + 0xc) = iVar2;
                    }
                    *(int *)((int)pvVar7 + uVar12 * 0xc) = iVar2;
                    piVar8 = (int *)*__ptr;
                    if (iVar16 == 0) break;
                    uVar6 = piVar8[1];
                    iVar2 = iVar16;
                  }
                  uVar6 = piVar8[1];
                }
                iVar15 = iVar15 + 0xc;
                local_c80 = local_c80 + 1;
              } while (local_c80 < uVar6);
            }
            free((void *)*piVar8);
            *(int *)(*__ptr + 4) = *(int *)(*__ptr + 4) << 1;
            *(int *)(*__ptr + 8) = *(int *)(*__ptr + 8) + 1;
            *(void **)*__ptr = pvVar7;
            iVar2 = *__ptr;
            if (*(uint *)(iVar2 + 0xc) >> 1 < *(uint *)(iVar2 + 0x1c)) {
              iVar15 = *(int *)(iVar2 + 0x20) + 1;
            }
            else {
              iVar15 = 0;
            }
            *(int *)(iVar2 + 0x20) = iVar15;
            if (1 < *(uint *)(*__ptr + 0x20)) {
              *(undefined4 *)(*__ptr + 0x24) = 1;
            }
          }
          param_1[0xaf] = param_1[0xaf] + 1;
          iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_000612dc);
          if (iVar2 != 0) {
            FUN_0000b694("stratum_sthread",0x1c8e);
          }
          (*DAT_00060178)();
          iVar2 = FUN_0001822c(param_1,param_1 + 0x18);
          if ((iVar2 != 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)))) {
            snprintf(local_828,0x800,"Pool %d communication resumed, submitting work",*param_1);
            FUN_00038438(4,local_828,0);
          }
          if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
            local_828[0] = 'S';
            local_828[1] = 'u';
            local_828[2] = 'c';
            local_828[3] = 'c';
            acStack_824[0] = 'e';
            acStack_824[1] = 's';
            acStack_824[2] = 's';
            acStack_824[3] = 'f';
            acStack_820[0] = 'u';
            acStack_820[1] = 'l';
            acStack_820[2] = 'l';
            acStack_820[3] = 'y';
            acStack_81c[0] = ' ';
            acStack_81c[1] = 's';
            acStack_81c[2] = 'u';
            acStack_81c[3] = 'b';
            local_818[0] = 'm';
            local_818[1] = 'i';
            local_818[2] = 't';
            local_818[3] = 't';
            acStack_814[0] = 'e';
            acStack_814[1] = 'd';
            acStack_814[2] = ',';
            acStack_814[3] = ' ';
            acStack_810[0] = 'a';
            acStack_810[1] = 'd';
            acStack_810[2] = 'd';
            acStack_810[3] = 'i';
            local_80c[0]._0_1_ = 'n';
            local_80c[0]._1_1_ = 'g';
            local_80c[1]._0_1_ = ' ';
            local_80c[1]._1_1_ = 't';
            local_808[0] = 'o';
            local_808[1] = ' ';
            local_808[2] = 's';
            local_808[3] = 't';
            acStack_804[0] = 'r';
            acStack_804[1] = 'a';
            acStack_804[2] = 't';
            acStack_804[3] = 'u';
            uStack_800._0_1_ = 'm';
            uStack_800._1_1_ = '_';
            uStack_800._2_1_ = 's';
            cStack_7fd = 'h';
            local_7fc[0]._0_1_ = 'a';
            local_7fc[0]._1_1_ = 'r';
            local_7fc[1]._0_1_ = 'e';
            local_7fc[1]._1_1_ = 's';
            local_7f8[0]._0_1_ = ' ';
            local_7f8[0]._1_1_ = 'd';
            local_7f8[1]._0_1_ = 'b';
            local_7f8[1]._1_1_ = '\0';
            FUN_00038438(7,local_828,0);
          }
          tVar4 = time((time_t *)0x0);
          bVar19 = DAT_000630c1 != '\0';
          __ptr[0xc] = tVar4;
          if ((bVar19) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
            snprintf(local_828,0x800,"Pool %d stratum share submission lag time %d seconds",*param_1,tVar4 - __ptr[0xb])
            ;
            FUN_00038438(7,local_828,0);
          }
          goto LAB_00022228;
        }
        iVar2 = FUN_00017e64(param_1,param_1 + 0x18);
        if ((iVar2 == 0) && (iVar2 = FUN_0001fb7c(param_1), iVar2 != 0)) {
          if ((DAT_000632f0 != '\0') || ((DAT_000630c0 != '\0' || (3 < DAT_00060964)))) {
            snprintf(local_828,0x800,"Pool %d stratum share submission failure",*param_1);
            FUN_00038438(4,local_828,0);
          }
          DAT_00063410 = DAT_00063410 + 1;
          param_1[0x21] = param_1[0x21] + 1;
        }
        if (DAT_00063be4 == '\0') {
          iVar2 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0x35));
          if (iVar2 != 0) {
            FUN_0000b4e4("stratum_sthread",0x1ca3);
          }
          iVar2 = pthread_rwlock_rdlock((pthread_rwlock_t *)(param_1 + 0x3b));
          if (iVar2 != 0) {
            FUN_0000b76c("stratum_sthread",0x1ca3);
          }
          iVar2 = pthread_mutex_unlock((pthread_mutex_t *)(param_1 + 0x35));
          if (iVar2 != 0) {
            FUN_0000b694("stratum_sthread",0x1ca3);
          }
          if ((char *)param_1[0x97] == (char *)0x0) {
            iVar2 = 0;
          }
          else {
            uVar6 = strcmp(*(char **)(iVar3 + 0x140),(char *)param_1[0x97]);
            iVar2 = 1 - uVar6;
            if (1 < uVar6) {
              iVar2 = 0;
            }
          }
          iVar15 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x3b));
          if (iVar15 != 0) {
            FUN_0000b700("stratum_sthread",0x1ca5);
          }
          (*DAT_00060178)();
          if (iVar2 != 0) goto code_r0x00022528;
          if (DAT_000630c1 == '\0') goto LAB_0002237c;
          if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 7)) goto LAB_000223c8;
          local_828[0] = 'N';
          local_828[1] = 'o';
          local_828[2] = ' ';
          local_828[3] = 'm';
          acStack_824[0] = 'a';
          acStack_824[1] = 't';
          acStack_824[2] = 'c';
          acStack_824[3] = 'h';
          acStack_820[0] = 'i';
          acStack_820[1] = 'n';
          acStack_820[2] = 'g';
          acStack_820[3] = ' ';
          acStack_81c[0] = 's';
          acStack_81c[1] = 'e';
          acStack_81c[2] = 's';
          acStack_81c[3] = 's';
          local_818[0] = 'i';
          local_818[1] = 'o';
          local_818[2] = 'n';
          local_818[3] = ' ';
          acStack_814[0] = 'i';
          acStack_814[1] = 'd';
          acStack_814[2] = ' ';
          acStack_814[3] = 'f';
          acStack_810[0] = 'o';
          acStack_810[1] = 'r';
          acStack_810[2] = ' ';
          acStack_810[3] = 'r';
          local_80c[0]._0_1_ = 'e';
          local_80c[0]._1_1_ = 's';
          local_80c[1]._0_1_ = 'u';
          local_80c[1]._1_1_ = 'b';
          local_808[0] = 'm';
          local_808[1] = 'i';
          local_808[2] = 't';
          local_808[3] = 't';
          acStack_804[0] = 'i';
          acStack_804[1] = 'n';
          acStack_804[2] = 'g';
          acStack_804[3] = ' ';
          uStack_800._0_1_ = 's';
          uStack_800._1_1_ = 't';
          uStack_800._2_1_ = 'r';
          cStack_7fd = 'a';
          local_7fc[0]._0_1_ = 't';
          local_7fc[0]._1_1_ = 'u';
          local_7fc[1]._0_1_ = 'm';
          local_7fc[1]._1_1_ = ' ';
          local_7f8[0]._0_1_ = 's';
          local_7f8[0]._1_1_ = 'h';
          local_7f8[1]._0_1_ = 'a';
          local_7f8[1]._1_1_ = 'r';
          local_7f4 = 0x65;
          FUN_00038438(7,local_828,0);
        }
        else {
          if (DAT_000630c1 == '\0') goto LAB_0002237c;
          if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 7)) goto LAB_000223c8;
          local_828[0] = 'L';
          local_828[1] = 'o';
          local_828[2] = 'w';
          local_828[3] = 'm';
          acStack_824[0] = 'e';
          acStack_824[1] = 'm';
          acStack_824[2] = ' ';
          acStack_824[3] = 'o';
          acStack_820[0] = 'p';
          acStack_820[1] = 't';
          acStack_820[2] = 'i';
          acStack_820[3] = 'o';
          acStack_81c[0] = 'n';
          acStack_81c[1] = ' ';
          acStack_81c[2] = 'p';
          acStack_81c[3] = 'r';
          local_818[0] = 'e';
          local_818[1] = 'v';
          local_818[2] = 'e';
          local_818[3] = 'n';
          acStack_814[0] = 't';
          acStack_814[1] = 's';
          acStack_814[2] = ' ';
          acStack_814[3] = 'r';
          acStack_810[0] = 'e';
          acStack_810[1] = 's';
          acStack_810[2] = 'u';
          acStack_810[3] = 'b';
          local_80c[0]._0_1_ = 'm';
          local_80c[0]._1_1_ = 'i';
          local_80c[1]._0_1_ = 't';
          local_80c[1]._1_1_ = 't';
          local_808[0] = 'i';
          local_808[1] = 'n';
          local_808[2] = 'g';
          local_808[3] = ' ';
          acStack_804[0] = 's';
          acStack_804[1] = 't';
          acStack_804[2] = 'r';
          acStack_804[3] = 'a';
          uStack_800._0_1_ = 't';
          uStack_800._1_1_ = 'u';
          uStack_800._2_1_ = 'm';
          cStack_7fd = ' ';
          local_7fc[0]._0_1_ = 's';
          local_7fc[0]._1_1_ = 'h';
          local_7fc[1]._0_1_ = 'a';
          local_7fc[1]._1_1_ = 'r';
          local_7f8[0] = 0x65;
          FUN_00038438(7,local_828,0);
        }
      }
      if (DAT_000630c1 != '\0') {
        if (DAT_000632f0 == '\0') {
LAB_000223c8:
          if ((DAT_000630c0 == '\0') && (DAT_00060964 < 7)) goto LAB_0002237c;
        }
        local_828[0] = 'F';
        local_828[1] = 'a';
        local_828[2] = 'i';
        local_828[3] = 'l';
        acStack_824[0] = 'e';
        acStack_824[1] = 'd';
        acStack_824[2] = ' ';
        acStack_824[3] = 't';
        acStack_820[0] = 'o';
        acStack_820[1] = ' ';
        acStack_820[2] = 's';
        acStack_820[3] = 'u';
        acStack_81c[0] = 'b';
        acStack_81c[1] = 'm';
        acStack_81c[2] = 'i';
        acStack_81c[3] = 't';
        local_818[0] = ' ';
        local_818[1] = 's';
        local_818[2] = 't';
        local_818[3] = 'r';
        acStack_814[0] = 'a';
        acStack_814[1] = 't';
        acStack_814[2] = 'u';
        acStack_814[3] = 'm';
        acStack_810[0] = ' ';
        acStack_810[1] = 's';
        acStack_810[2] = 'h';
        acStack_810[3] = 'a';
        local_80c[0]._0_1_ = 'r';
        local_80c[0]._1_1_ = 'e';
        local_80c[1]._0_1_ = ',';
        local_80c[1]._1_1_ = ' ';
        local_808[0] = 'd';
        local_808[1] = 'i';
        local_808[2] = 's';
        local_808[3] = 'c';
        acStack_804[0] = 'a';
        acStack_804[1] = 'r';
        acStack_804[2] = 'd';
        acStack_804[3] = 'i';
        uStack_800 = 0x676e;
        FUN_00038438(7,local_828,0);
      }
LAB_0002237c:
      FUN_000152b8(iVar3);
      free(__ptr);
      bVar19 = 0xfffffffe < DAT_00064220;
      DAT_00064220 = DAT_00064220 + 1;
      DAT_00064224 = DAT_00064224 + (uint)bVar19;
      param_1[0x1e] = param_1[0x1e] + 1;
LAB_00022228:
      cVar1 = *(char *)((int)param_1 + 0x69);
      iVar2 = iVar17;
      iVar15 = iVar9;
      iVar16 = iVar11;
    }
    if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      snprintf(local_828,0x800,"Filtering duplicate share to pool %d",*param_1);
      FUN_00038438(7,local_828,0);
    }
LAB_0002265c:
    FUN_000152b8(iVar3);
  } while( true );
code_r0x00022528:
  sleep(5);
  goto LAB_00021d04;
}




undefined4 FUN_0002282c(int param_1,int param_2)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  char *pcVar6;
  int local_828 [2];
  undefined4 local_820;
  undefined4 uStack_81c;
  undefined4 uStack_818;
  undefined4 uStack_814;
  undefined4 local_810;
  undefined4 uStack_80c;
  uint local_808;
  undefined4 uStack_804;
  uint local_800;
  undefined4 uStack_7fc;
  undefined2 local_7f8;
  
  if ((DAT_000615c9 == '\0') && (DAT_000612ac == 0)) {
    if (*(int *)(param_1 + 0x150) == DAT_0006136c) {
      iVar5 = *(int *)(param_1 + 0x104);
      iVar4 = *(int *)(param_1 + 0x114);
      if (*(int *)(param_1 + 0x114) <= DAT_00060090) {
        iVar4 = DAT_00060094;
      }
      if ((param_2 == 0) && (*(char *)(iVar5 + 0x278) != '\0')) {
        if ((*(char *)(iVar5 + 0x279) == '\0') || (*(char *)(iVar5 + 0x27b) == '\0')) {
          if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
            local_820._0_1_ = 'W';
            local_820._1_1_ = 'o';
            local_820._2_1_ = 'r';
            local_820._3_1_ = 'k';
            uStack_81c._0_1_ = ' ';
            uStack_81c._1_1_ = 's';
            uStack_81c._2_1_ = 't';
            uStack_81c._3_1_ = 'a';
            uStack_818._0_1_ = 'l';
            uStack_818._1_1_ = 'e';
            uStack_818._2_1_ = ' ';
            uStack_818._3_1_ = 'd';
            uStack_814._0_1_ = 'u';
            uStack_814._1_1_ = 'e';
            uStack_814._2_1_ = ' ';
            uStack_814._3_1_ = 't';
            local_810._0_1_ = 'o';
            local_810._1_1_ = ' ';
            local_810._2_1_ = 's';
            local_810._3_1_ = 't';
            uStack_80c._0_1_ = 'r';
            uStack_80c._1_1_ = 'a';
            uStack_80c._2_1_ = 't';
            uStack_80c._3_1_ = 'u';
            local_808._0_1_ = 'm';
            local_808._1_1_ = ' ';
            local_808._2_1_ = 'i';
            local_808._3_1_ = 'n';
            uStack_804._0_1_ = 'a';
            uStack_804._1_1_ = 'c';
            uStack_804._2_1_ = 't';
            uStack_804._3_1_ = 'i';
            local_800 = CONCAT13(local_800._3_1_,0x6576);
            FUN_00038438(7,&local_820,0);
            return 1;
          }
        }
        else {
          iVar2 = pthread_mutex_lock((pthread_mutex_t *)(iVar5 + 0xd4));
          if (iVar2 != 0) {
            FUN_0000b4e4("stale_work",0x1335);
          }
          iVar2 = pthread_rwlock_rdlock((pthread_rwlock_t *)(iVar5 + 0xec));
          if (iVar2 != 0) {
            FUN_0000b76c("stale_work",0x1335);
          }
          iVar2 = pthread_mutex_unlock((pthread_mutex_t *)(iVar5 + 0xd4));
          if (iVar2 != 0) {
            FUN_0000b694("stale_work",0x1335);
          }
          iVar2 = strcmp(*(char **)(param_1 + 0x120),*(char **)(iVar5 + 0x280));
          iVar3 = pthread_rwlock_unlock((pthread_rwlock_t *)(iVar5 + 0xec));
          if (iVar3 != 0) {
            FUN_0000b700("stale_work",0x1338);
          }
          (*DAT_00060178)();
          if (iVar2 == 0) goto LAB_000229c0;
          if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
            pcVar6 = "Work stale due to stratum job_id mismatch";
            goto LAB_00022afc;
          }
        }
      }
      else {
LAB_000229c0:
        iVar4 = iVar4 - (int)(longlong)(*(double *)(iVar5 + 0x1b8) * 5.0 + 1.0);
        FUN_0002b13c(local_828);
        if (iVar4 < 5) {
          iVar4 = 5;
        }
        if (local_828[0] - *(int *)(param_1 + 0x108) < iVar4) {
          if ((((DAT_00063bc5 == '\0') || (param_2 != 0)) || (iVar4 = FUN_0001d644(), iVar5 == iVar4)) ||
             (((*(char *)(param_1 + 0x11a) != '\0' || (DAT_000611ac == 3)) || (DAT_000611ac == 4)))) goto LAB_0002285c;
          if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
            pcVar6 = "Work stale due to fail only pool mismatch";
LAB_00022afc:
            local_820 = *(undefined4 *)pcVar6;
            uStack_81c = *(undefined4 *)(pcVar6 + 4);
            uStack_818 = *(undefined4 *)(pcVar6 + 8);
            uStack_814 = *(undefined4 *)(pcVar6 + 0xc);
            local_810 = *(undefined4 *)(pcVar6 + 0x10);
            uStack_80c = *(undefined4 *)(pcVar6 + 0x14);
            local_808 = *(uint *)(pcVar6 + 0x18);
            uStack_804 = *(undefined4 *)(pcVar6 + 0x1c);
            local_800 = *(uint *)(pcVar6 + 0x20);
            uStack_7fc = *(undefined4 *)(pcVar6 + 0x24);
            local_7f8 = (undefined2)*(undefined4 *)(pcVar6 + 0x28);
            FUN_00038438(7,&local_820,0);
            return 1;
          }
        }
        else if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
          local_820._0_1_ = 'W';
          local_820._1_1_ = 'o';
          local_820._2_1_ = 'r';
          local_820._3_1_ = 'k';
          uStack_81c._0_1_ = ' ';
          uStack_81c._1_1_ = 's';
          uStack_81c._2_1_ = 't';
          uStack_81c._3_1_ = 'a';
          uStack_818._0_1_ = 'l';
          uStack_818._1_1_ = 'e';
          uStack_818._2_1_ = ' ';
          uStack_818._3_1_ = 'd';
          uStack_814._0_1_ = 'u';
          uStack_814._1_1_ = 'e';
          uStack_814._2_1_ = ' ';
          uStack_814._3_1_ = 't';
          local_810._0_1_ = 'o';
          local_810._1_1_ = ' ';
          local_810._2_1_ = 'e';
          local_810._3_1_ = 'x';
          uStack_80c._0_1_ = 'p';
          uStack_80c._1_1_ = 'i';
          uStack_80c._2_1_ = 'r';
          uStack_80c._3_1_ = 'y';
          local_808 = local_808 & 0xffffff00;
          FUN_00038438(7,&local_820,0);
          return 1;
        }
      }
    }
    else if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      local_820._0_1_ = 'W';
      local_820._1_1_ = 'o';
      local_820._2_1_ = 'r';
      local_820._3_1_ = 'k';
      uStack_81c._0_1_ = ' ';
      uStack_81c._1_1_ = 's';
      uStack_81c._2_1_ = 't';
      uStack_81c._3_1_ = 'a';
      uStack_818._0_1_ = 'l';
      uStack_818._1_1_ = 'e';
      uStack_818._2_1_ = ' ';
      uStack_818._3_1_ = 'd';
      uStack_814._0_1_ = 'u';
      uStack_814._1_1_ = 'e';
      uStack_814._2_1_ = ' ';
      uStack_814._3_1_ = 't';
      local_810._0_1_ = 'o';
      local_810._1_1_ = ' ';
      local_810._2_1_ = 'b';
      local_810._3_1_ = 'l';
      uStack_80c._0_1_ = 'o';
      uStack_80c._1_1_ = 'c';
      uStack_80c._2_1_ = 'k';
      uStack_80c._3_1_ = ' ';
      local_808._0_1_ = 'm';
      local_808._1_1_ = 'i';
      local_808._2_1_ = 's';
      local_808._3_1_ = 'm';
      uStack_804._0_1_ = 'a';
      uStack_804._1_1_ = 't';
      uStack_804._2_1_ = 'c';
      uStack_804._3_1_ = 'h';
      local_800 = local_800 & 0xffffff00;
      FUN_00038438(7,&local_820,0);
      return 1;
    }
    uVar1 = 1;
  }
  else {
LAB_0002285c:
    uVar1 = 0;
  }
  return uVar1;
}




void FUN_00022c60(void)

{
  undefined4 *puVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  uint uVar6;
  int iVar7;
  int iVar8;
  bool bVar9;
  char acStack_818 [2048];
  
  iVar2 = pthread_mutex_lock(DAT_000612c8);
  if (iVar2 != 0) {
    FUN_0000b4e4("discard_stale",0x1448);
  }
  if (DAT_000612cc == 0) {
    iVar2 = 0;
  }
  else {
    iVar2 = 0;
    iVar5 = DAT_000612cc;
    iVar8 = *(int *)(DAT_000612cc + 0x160);
    while( true ) {
      iVar3 = FUN_0002282c(iVar5,0);
      iVar7 = DAT_000612cc;
      if (iVar3 != 0) {
        iVar3 = *(int *)(iVar5 + 0x15c);
        if ((iVar3 == 0) && (*(int *)(iVar5 + 0x160) == 0)) {
          free((void *)**(undefined4 **)(DAT_000612cc + 0x158));
          free(*(void **)(DAT_000612cc + 0x158));
          DAT_000612cc = 0;
        }
        else {
          iVar4 = *(int *)(DAT_000612cc + 0x158);
          if (*(int *)(iVar4 + 0x10) - *(int *)(iVar4 + 0x14) == iVar5) {
            *(int *)(iVar4 + 0x10) = iVar3 + *(int *)(iVar4 + 0x14);
            iVar3 = *(int *)(iVar5 + 0x15c);
          }
          if (iVar3 == 0) {
            iVar3 = *(int *)(iVar5 + 0x160);
            iVar7 = iVar3;
            DAT_000612cc = iVar3;
          }
          else {
            *(undefined4 *)(iVar3 + *(int *)(*(int *)(iVar7 + 0x158) + 0x14) + 8) = *(undefined4 *)(iVar5 + 0x160);
            iVar3 = *(int *)(iVar5 + 0x160);
          }
          if (iVar3 != 0) {
            *(undefined4 *)(iVar3 + *(int *)(*(int *)(iVar7 + 0x158) + 0x14) + 4) = *(undefined4 *)(iVar5 + 0x15c);
          }
          uVar6 = (*(int **)(iVar7 + 0x158))[1] - 1U & *(uint *)(iVar5 + 0x174);
          iVar3 = **(int **)(iVar7 + 0x158) + uVar6 * 0xc;
          *(int *)(iVar3 + 4) = *(int *)(iVar3 + 4) + -1;
          puVar1 = (undefined4 *)(iVar7 + 0x158);
          bVar9 = *(int *)(*(int *)*puVar1 + uVar6 * 0xc) == iVar5 + 0x158;
          if (bVar9) {
            iVar7 = *(int *)(iVar5 + 0x168);
            *(int *)(*(int *)*puVar1 + uVar6 * 0xc) = iVar7;
          }
          if (bVar9) {
            iVar7 = DAT_000612cc;
          }
          if (*(int *)(iVar5 + 0x164) != 0) {
            *(undefined4 *)(*(int *)(iVar5 + 0x164) + 0x10) = *(undefined4 *)(iVar5 + 0x168);
          }
          if (*(int *)(iVar5 + 0x168) != 0) {
            *(undefined4 *)(*(int *)(iVar5 + 0x168) + 0xc) = *(undefined4 *)(iVar5 + 0x164);
          }
          *(int *)(*(int *)(iVar7 + 0x158) + 0xc) = *(int *)(*(int *)(iVar7 + 0x158) + 0xc) + -1;
        }
        iVar2 = iVar2 + 1;
        FUN_000154ec(iVar5);
      }
      if (iVar8 == 0) break;
      iVar5 = iVar8;
      iVar8 = *(int *)(iVar8 + 0x160);
    }
  }
  pthread_cond_signal((pthread_cond_t *)&DAT_00063748);
  iVar5 = pthread_mutex_unlock(DAT_000612c8);
  if (iVar5 != 0) {
    FUN_0000b694("discard_stale",0x1453);
  }
  (*DAT_00060178)();
  if (((iVar2 != 0) && (DAT_000630c1 != '\0')) &&
     ((DAT_000632f0 != '\0' || ((DAT_000630c0 != '\0' || (6 < DAT_00060964)))))) {
    snprintf(acStack_818,0x800,"Discarded %d stales that didn\'t match current hash",iVar2);
    FUN_00038438(7,acStack_818,0);
  }
  return;
}




undefined4 FUN_00022ec4(void)

{
  int iVar1;
  pthread_t __th;
  int iVar2;
  int iVar3;
  int iVar4;
  
  iVar1 = FUN_0001d644();
  __th = pthread_self();
  pthread_detach(__th);
  FUN_00017e64(iVar1,iVar1 + 0x62);
  FUN_00022c60();
  iVar1 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_00063bf0);
  if (iVar1 != 0) {
    FUN_0000b76c("restart_thread",0x1480);
  }
  iVar1 = DAT_0006410c;
  iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_00063bf0);
  if (iVar2 != 0) {
    FUN_0000b700("restart_thread",0x1482);
  }
  (*DAT_00060178)();
  if (0 < iVar1) {
    iVar2 = 0;
    do {
      while( true ) {
        iVar3 = *(int *)(DAT_00063b80 + iVar2 * 4);
        iVar2 = iVar2 + 1;
        iVar4 = *(int *)(iVar3 + 0x24);
        if ((iVar4 == 0) || (*(int *)(iVar4 + 0x20) != 0)) break;
        *(undefined1 *)(iVar3 + 0x3e) = 1;
        FUN_0001a3e0(iVar4);
        (**(code **)(*(int *)(iVar4 + 4) + 0x4c))(iVar4);
        if (iVar2 == iVar1) goto LAB_00022f84;
      }
    } while (iVar2 != iVar1);
  }
LAB_00022f84:
  iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00063bcc);
  if (iVar1 != 0) {
    FUN_0000b4e4("restart_thread",0x148e);
  }
  pthread_cond_broadcast((pthread_cond_t *)&DAT_00064080);
  iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063bcc);
  if (iVar1 != 0) {
    FUN_0000b694("restart_thread",0x1490);
  }
  (*DAT_00060178)();
  return 0;
}




/* WARNING: Restarted to delay deadcode elimination for space: ram */

undefined4 FUN_00023018(void)

{
  char cVar1;
  int iVar2;
  undefined4 *puVar3;
  time_t tVar4;
  undefined4 uVar5;
  undefined *puVar6;
  undefined *puVar7;
  size_t sVar8;
  undefined4 uVar9;
  undefined4 extraout_r1;
  int iVar10;
  int *piVar11;
  int iVar12;
  int *piVar13;
  char *pcVar15;
  int iVar16;
  undefined4 uVar17;
  int iVar18;
  uint uVar19;
  bool bVar20;
  bool bVar21;
  double dVar22;
  undefined8 uVar23;
  double dVar24;
  double dVar25;
  undefined8 in_stack_fffff610;
  undefined4 uVar26;
  undefined8 uVar27;
  undefined1 *local_9a4;
  undefined1 auStack_984 [8];
  undefined4 local_97c;
  char acStack_978 [4];
  undefined1 local_974;
  undefined1 auStack_970 [16];
  int local_960 [4];
  char local_950 [256];
  char local_850 [4];
  undefined3 local_84c;
  char cStack_849;
  char acStack_848 [4];
  char acStack_844 [4];
  char local_840 [4];
  char acStack_83c [4];
  char acStack_838 [4];
  char acStack_834 [4];
  uint local_830;
  char acStack_82c [4];
  char acStack_828 [4];
  char acStack_824 [4];
  char acStack_820 [4];
  undefined2 local_81c;
  int *piVar14;
  
  pthread_setcanceltype(1,(int *)0x0);
  FUN_0002f02c("Watchdog");
  FUN_00011c4c();
  FUN_0002b13c(&DAT_000615cc);
  do {
    sleep(2);
    FUN_00022c60();
    FUN_0001c834(0xffffffff,extraout_r1,0,0);
    iVar2 = FUN_00019140();
    if (iVar2 != 0) {
      if (DAT_00064230 != 0) {
        iVar16 = (int)*(short *)(DAT_00064230 + 4);
        iVar18 = iVar16 + 1;
        iVar10 = *(short *)(DAT_00064230 + 6) + 1;
        bVar21 = SBORROW4(iVar10,0x4f);
        iVar2 = *(short *)(DAT_00064230 + 6) + -0x4e;
        bVar20 = iVar10 == 0x4f;
        if (0x4f < iVar10) {
          bVar21 = SBORROW4(iVar18,0x18);
          iVar2 = iVar16 + -0x17;
          bVar20 = iVar18 == 0x18;
        }
        if (!bVar20 && iVar2 < 0 == bVar21) {
          if ((DAT_00061300 + 2 < iVar18) && (DAT_00061300 < DAT_000612fc)) {
            DAT_00061300 = DAT_000612fc;
            if (iVar16 <= DAT_000612fc) {
              DAT_00061300 = iVar16 + -1;
            }
            DAT_00061304 = DAT_00061300 + 1;
            mvwin(DAT_000639d8,DAT_00061304,0);
            wresize(DAT_00063d60,DAT_00061300,iVar10);
          }
          if (DAT_000639d8 == 0) {
            iVar16 = -1;
            iVar2 = iVar16;
          }
          else {
            iVar2 = *(short *)(DAT_000639d8 + 4) + 1;
            iVar16 = *(short *)(DAT_000639d8 + 6) + 1;
          }
          if (iVar10 != iVar16 || iVar18 - DAT_00061304 != iVar2) {
            wresize(DAT_000639d8,iVar18 - DAT_00061304,iVar10);
          }
        }
      }
      iVar2 = FUN_0001d644();
      if (DAT_000615d4 == '\0') {
        uVar17 = 0x50;
      }
      else {
        uVar17 = 100;
      }
      wattr_on(DAT_00063d60,0x200000);
      snprintf(local_850,0x100," cgminer version 4.9.0 - Started: %s",&DAT_000613ec);
      mvwprintw(DAT_00063d60,0,0,"%s",local_850);
      wattr_off(DAT_00063d60,0x200000,0);
      iVar16 = wmove(DAT_00063d60,1,0);
      if (iVar16 != -1) {
        whline(DAT_00063d60,0x2d,uVar17);
      }
      snprintf(local_850,0x100," %s",&DAT_00061438);
      mvwprintw(DAT_00063d60,2,0,"%s",local_850);
      wclrtoeol(DAT_00063d60);
      uVar9 = DAT_00063e44;
      if (DAT_000615d4 == '\0') {
        if (DAT_0006142c == '\0') {
          uVar27 = CONCAT44(DAT_00063c10._4_4_,(undefined4)DAT_00063c10);
          uVar26 = DAT_00063b88._4_4_;
          FUN_000493dc(DAT_000636a8,DAT_000636ac,(undefined4)DAT_00063c10,DAT_00063c10._4_4_,(undefined4)DAT_00063b88,
                       DAT_00063b88._4_4_,(undefined4)DAT_00063c10,DAT_00063c10._4_4_,DAT_00063e44);
          snprintf(local_850,0x100," A:%.0f  R:%.0f  HW:%d  WU:%.1f/m");
          uVar23 = CONCAT44(uVar26,local_850);
          mvwprintw(DAT_00063d60,3,0,"%s",local_850);
        }
        else {
          uVar5 = FUN_00017f48();
          uVar27 = CONCAT44(DAT_00063a70,DAT_000640bc);
          uVar9 = DAT_000639e4;
          uVar26 = DAT_00064224;
          snprintf(local_850,0x100," ST: %d  SS: %lld  NB: %d  LW: %d  GF: %d  RF: %d",uVar5,DAT_00064220,DAT_00064224,
                   DAT_000640bc,DAT_00063a70,DAT_000639e4,DAT_00063410);
          uVar23 = CONCAT44(uVar26,local_850);
          mvwprintw(DAT_00063d60,3,0,"%s",local_850);
        }
      }
      else {
        uVar23 = CONCAT44(DAT_00063b88._4_4_,(undefined4)DAT_00063b88);
        uVar27 = CONCAT44(DAT_00063c10._4_4_,(undefined4)DAT_00063c10);
        FUN_000493dc(DAT_000636a8,DAT_000636ac);
        FUN_00017f48();
        snprintf(local_850,0x100," A:%.0f  R:%.0f  HW:%d  WU:%.1f/m | ST: %d  SS: %lld  NB: %d  LW: %d  GF: %d  RF: %d",
                 &DAT_00063410,uVar23,uVar27,uVar9);
        uVar23 = CONCAT44((int)((ulonglong)uVar23 >> 0x20),local_850);
        mvwprintw(DAT_00063d60,3,0,"%s",local_850);
      }
      wclrtoeol(DAT_00063d60);
      if ((DAT_000611ac - 3U < 2) && (1 < DAT_00063740)) {
        puVar7 = &DAT_0004ebd8;
        if (DAT_00064219 != 0) {
          puVar7 = &DAT_0005220c;
        }
        snprintf(local_850,0x100," Connected to multiple pools with%s block change notify",puVar7,uVar23,uVar27,uVar9);
        uVar19 = (uint)((ulonglong)uVar27 >> 0x20);
LAB_00024128:
        mvwprintw(DAT_00063d60,4,0,"%s",local_850);
      }
      else {
        if (*(char *)(iVar2 + 0x278) != '\0') {
          snprintf(local_850,0x100," Connected to %s diff %s with stratum as user %s",*(undefined4 *)(iVar2 + 0x250),
                   iVar2 + 0x30,*(undefined4 *)(iVar2 + 0xac),uVar27,uVar9);
          uVar19 = (uint)((ulonglong)uVar27 >> 0x20);
          goto LAB_00024128;
        }
        puVar6 = (undefined *)(uint)DAT_00064219;
        puVar7 = puVar6;
        if (puVar6 == (undefined *)0x0) {
          puVar7 = &DAT_0004ebd8;
        }
        if (puVar6 != (undefined *)0x0) {
          puVar7 = &DAT_0005220c;
        }
        puVar6 = &DAT_0004ebdc;
        if (*(char *)(iVar2 + 0x2c0) != '\0') {
          puVar6 = &DAT_00054020;
        }
        uVar19 = *(uint *)(iVar2 + 0xac);
        snprintf(local_850,0x100," Connected to %s diff %s with%s %s as user %s",*(undefined4 *)(iVar2 + 0x250),
                 iVar2 + 0x30,puVar7,puVar6,uVar19,uVar9);
        mvwprintw(DAT_00063d60,4,0,"%s",local_850);
      }
      wclrtoeol(DAT_00063d60);
      puVar7 = &DAT_0006159c;
      dVar24 = (double)((ulonglong)uVar19 << 0x20);
      snprintf(local_850,0x100," Block: %s...  Diff:%s  Started: %s  Best share: %s   ",&DAT_000615bc,&DAT_00061574);
      mvwprintw(DAT_00063d60,5,0,"%s",local_850);
      iVar2 = wmove(DAT_00063d60,6,0);
      if (iVar2 != -1) {
        whline(DAT_00063d60,0x2d,uVar17);
      }
      iVar2 = wmove(DAT_00063d60,DAT_00061300 + -1,0);
      if (iVar2 != -1) {
        whline(DAT_00063d60,0x2d,uVar17);
      }
      in_stack_fffff610 = CONCAT44(puVar7,local_850);
      local_850[0] = '[';
      local_850[1] = 'P';
      local_850[2] = ']';
      local_850[3] = 'o';
      local_84c._0_1_ = 'o';
      local_84c._1_1_ = 'l';
      local_84c._2_1_ = ' ';
      cStack_849 = 'm';
      acStack_848[0] = 'a';
      acStack_848[1] = 'n';
      acStack_848[2] = 'a';
      acStack_848[3] = 'g';
      acStack_844[0] = 'e';
      acStack_844[1] = 'm';
      acStack_844[2] = 'e';
      acStack_844[3] = 'n';
      local_840[0] = 't';
      local_840[1] = ' ';
      local_840[2] = '[';
      local_840[3] = 'S';
      acStack_83c[0] = ']';
      acStack_83c[1] = 'e';
      acStack_83c[2] = 't';
      acStack_83c[3] = 't';
      acStack_838[0] = 'i';
      acStack_838[1] = 'n';
      acStack_838[2] = 'g';
      acStack_838[3] = 's';
      acStack_834[0] = ' ';
      acStack_834[1] = '[';
      acStack_834[2] = 'D';
      acStack_834[3] = ']';
      local_830._0_1_ = 'i';
      local_830._1_1_ = 's';
      local_830._2_1_ = 'p';
      local_830._3_1_ = 'l';
      acStack_82c[0] = 'a';
      acStack_82c[1] = 'y';
      acStack_82c[2] = ' ';
      acStack_82c[3] = 'o';
      acStack_828[0] = 'p';
      acStack_828[1] = 't';
      acStack_828[2] = 'i';
      acStack_828[3] = 'o';
      acStack_824[0] = 'n';
      acStack_824[1] = 's';
      acStack_824[2] = ' ';
      acStack_824[3] = '[';
      acStack_820[0] = 'Q';
      acStack_820[1] = ']';
      acStack_820[2] = 'u';
      acStack_820[3] = 'i';
      local_81c = 0x74;
      mvwprintw(DAT_00063d60,DAT_00061308 + -1,1,"%s",local_850);
      if (0 < DAT_00063cc0) {
        iVar16 = 0;
        iVar2 = iVar16;
        do {
          while( true ) {
            iVar10 = FUN_0001ab68(iVar16);
            uVar17 = (undefined4)((ulonglong)dVar24 >> 0x20);
            iVar18 = iVar2;
            if (iVar10 != 0) break;
LAB_00023eb0:
            iVar16 = iVar16 + 1;
            iVar2 = iVar18;
            if (DAT_00063cc0 <= iVar16) goto LAB_00023f00;
          }
          iVar18 = iVar2 + 1;
          if (((DAT_00063ee0 == '\0') && (iVar12 = iVar2 + DAT_00061308, iVar12 < LINES + -1)) && (iVar2 < DAT_0006130c)
             ) {
            dVar22 = DAT_0005f898;
            if (*(int *)(iVar10 + 0x170) != 0) {
              FUN_0002b13c(auStack_984);
              dVar22 = (double)FUN_0002b314(auStack_984,iVar10 + 0x170);
              iVar12 = iVar2 + DAT_00061308;
            }
            iVar2 = DAT_00063d60;
            uVar23 = *(undefined8 *)(iVar10 + 0xc0);
            if (dVar22 < 1.0) {
              dVar22 = 1.0;
            }
            *(double *)(iVar10 + 0x58) = ((double)(longlong)*(int *)(iVar10 + 0x24) / dVar22) * 60.0;
            wmove(iVar2,iVar12,0);
            FUN_000110f8(iVar16,&DAT_00060098);
            if (*(char **)(iVar10 + 0x1c) == (char *)0x0) {
              sprintf((char *)&local_97c,"%-8d",*(undefined4 *)(iVar10 + 8));
            }
            else {
              local_97c = 0x20202020;
              acStack_978[0] = ' ';
              acStack_978[1] = ' ';
              acStack_978[2] = ' ';
              acStack_978[3] = ' ';
              local_974 = 0;
              strncpy((char *)&local_97c,*(char **)(iVar10 + 0x1c),8);
            }
            local_9a4 = auStack_970;
            dVar24 = (double)CONCAT44(uVar17,&local_97c);
            in_stack_fffff610 = CONCAT44(*(undefined4 *)(*(int *)(iVar10 + 4) + 8),iVar16);
            snprintf(local_850,0x100," %*d: %s %-8s: ",DAT_00060098,iVar16);
            wprintw(DAT_00063d60,"%s",local_850);
            local_950[0] = '\0';
            (**(code **)(*(int *)(iVar10 + 4) + 0x14))(local_950,0x100,iVar10);
            sVar8 = strlen(local_950);
            if (sVar8 < 0x17) {
              strncat(local_950,"                                        ",0x17 - sVar8);
            }
            snprintf(local_850,0x100,"%s | ",local_950);
            wprintw(DAT_00063d60,"%s",local_850);
            if (*(int *)(iVar10 + 0x60) == 2) {
              pcVar15 = "DEAD  ";
LAB_00023f9c:
              local_850 = *(char (*) [4])pcVar15;
              local_84c = (undefined3)*(undefined4 *)(pcVar15 + 4);
              wprintw(DAT_00063d60,"%s",local_850);
            }
            else {
              if (*(int *)(iVar10 + 0x60) == 1) {
                pcVar15 = "SICK  ";
                goto LAB_00023f9c;
              }
              if (*(int *)(iVar10 + 0x20) == 1) {
                pcVar15 = "OFF   ";
                goto LAB_00023f9c;
              }
              if (*(int *)(iVar10 + 0x20) == 2) {
                pcVar15 = "REST  ";
                goto LAB_00023f9c;
              }
              dVar25 = (double)FUN_000493dc((int)uVar23,(int)((ulonglong)uVar23 >> 0x20));
              uVar17 = (undefined4)((ulonglong)dVar24 >> 0x20);
              dVar24 = (dVar25 / dVar22) * 60.0;
              if (DAT_000615d4 == '\0') {
                if (DAT_0006142c == '\0') {
                  dVar22 = (*(double *)(iVar10 + 0x50) / dVar22) * 1000000.0;
                  uVar23 = FUN_000494c0(SUB84(dVar22,0),(int)((ulonglong)dVar22 >> 0x20));
                  FUN_00011130((int)uVar23,(int)((ulonglong)uVar23 >> 0x20),local_9a4,0x10,4);
                  dVar22 = *(double *)(iVar10 + 0x30) * 1000000.0;
                  uVar23 = FUN_000494c0(SUB84(dVar22,0),(int)((ulonglong)dVar22 >> 0x20));
                  FUN_00011130((int)uVar23,(int)((ulonglong)uVar23 >> 0x20),local_960,0x10,4);
                  FUN_000110f8((int)(longlong)dVar24,&DAT_0006009c);
                  in_stack_fffff610 = CONCAT44(DAT_0006009c + 2,local_9a4);
                  snprintf(local_850,0x100,"%6s / %6sh/s WU:%*.1f/m",local_960,local_9a4);
                  wprintw(DAT_00063d60,"%s",local_850);
                }
                else {
                  FUN_000110c4((float)*(double *)(iVar10 + 200),&DAT_000600a0);
                  FUN_000110c4((float)*(double *)(iVar10 + 0xd0),&DAT_000600a4);
                  FUN_000110f8(*(undefined4 *)(iVar10 + 0x2c),&DAT_000600a8);
                  in_stack_fffff610 = *(undefined8 *)(iVar10 + 200);
                  dVar24 = (double)CONCAT44(uVar17,DAT_000600a4);
                  uVar9 = *(undefined4 *)(iVar10 + 0xd0);
                  snprintf(local_850,0x100,"A:%*.0f R:%*.0f HW:%*d",DAT_000600a0,in_stack_fffff610,DAT_000600a4,uVar17,
                           uVar9,*(undefined4 *)(iVar10 + 0xd4),DAT_000600a8);
                  wprintw(DAT_00063d60,"%s",local_850);
                }
              }
              else {
                dVar22 = (*(double *)(iVar10 + 0x50) / dVar22) * 1000000.0;
                uVar23 = FUN_000494c0(SUB84(dVar22,0),(int)((ulonglong)dVar22 >> 0x20));
                FUN_00011130((int)uVar23,(int)((ulonglong)uVar23 >> 0x20),local_9a4,0x10,4);
                dVar22 = *(double *)(iVar10 + 0x30) * 1000000.0;
                uVar23 = FUN_000494c0(SUB84(dVar22,0),(int)((ulonglong)dVar22 >> 0x20));
                FUN_00011130((int)uVar23,(int)((ulonglong)uVar23 >> 0x20),local_960,0x10,4);
                FUN_000110f8((int)(longlong)dVar24,&DAT_0006009c);
                FUN_000110c4((float)*(double *)(iVar10 + 200),&DAT_000600a0);
                FUN_000110c4((float)*(double *)(iVar10 + 0xd0),&DAT_000600a4);
                FUN_000110f8(*(undefined4 *)(iVar10 + 0x2c),&DAT_000600a8);
                in_stack_fffff610 = CONCAT44(DAT_0006009c + 2,local_9a4);
                uVar9 = DAT_000600a0;
                snprintf(local_850,0x100,"%6s / %6sh/s WU:%*.1f/m A:%*.0f R:%*.0f HW:%*d",local_960,local_9a4);
                wprintw(DAT_00063d60,"%s",local_850);
              }
            }
            local_950[0] = '\0';
            (**(code **)(*(int *)(iVar10 + 4) + 0x18))(local_950,0x100,iVar10);
            snprintf(local_850,0x100,"%s",local_950,in_stack_fffff610,dVar24,uVar9);
            wprintw(DAT_00063d60,"%s",local_850);
            wclrtoeol(DAT_00063d60);
            goto LAB_00023eb0;
          }
          iVar16 = iVar16 + 1;
          iVar2 = iVar18;
        } while (iVar16 < DAT_00063cc0);
      }
LAB_00023f00:
      if (DAT_00063d60 == 0) {
        iVar2 = -1;
      }
      else {
        iVar2 = *(short *)(DAT_00063d60 + 4) + 1;
      }
      wtouchln(DAT_00063d60,0,iVar2,1);
      wrefresh(DAT_00063d60);
      if (DAT_000639d8 == 0) {
        iVar2 = -1;
      }
      else {
        iVar2 = *(short *)(DAT_000639d8 + 4) + 1;
      }
      wtouchln(DAT_000639d8,0,iVar2,1);
      wrefresh(DAT_000639d8);
      iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063d48);
      if (iVar2 != 0) {
        FUN_0000b694("unlock_curses",0xb70);
      }
      (*DAT_00060178)();
    }
    FUN_0002b13c(local_960);
    if (DAT_0006373c == '\0') {
      iVar2 = FUN_0001161c();
      if (iVar2 == 0) {
        if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
          in_stack_fffff610 = CONCAT44((int)((ulonglong)in_stack_fffff610 >> 0x20),DAT_00063b98);
          snprintf(local_850,0x800,"Pausing execution as per stop time %02d:%02d scheduled",DAT_00063b9c,DAT_00063b98);
          FUN_00038438(4,local_850,0);
        }
        if (DAT_00063e14 == '\0') {
          local_850[0] = 'T';
          local_850[1] = 'e';
          local_850[2] = 'r';
          local_850[3] = 'm';
          local_84c._0_1_ = 'i';
          local_84c._1_1_ = 'n';
          local_84c._2_1_ = 'a';
          cStack_849 = 't';
          acStack_848[0] = 'i';
          acStack_848[1] = 'n';
          acStack_848[2] = 'g';
          acStack_848[3] = ' ';
          acStack_844[0] = 'e';
          acStack_844[1] = 'x';
          acStack_844[2] = 'e';
          acStack_844[3] = 'c';
          local_840[0] = 'u';
          local_840[1] = 't';
          local_840[2] = 'i';
          local_840[3] = 'o';
          acStack_83c[0] = 'n';
          acStack_83c[1] = ' ';
          acStack_83c[2] = 'a';
          acStack_83c[3] = 's';
          acStack_838[0] = ' ';
          acStack_838[1] = 'p';
          acStack_838[2] = 'l';
          acStack_838[3] = 'a';
          acStack_834[0] = 'n';
          acStack_834[1] = 'n';
          acStack_834[2] = 'e';
          acStack_834[3] = 'd';
          local_830 = local_830 & 0xffffff00;
          FUN_00038438(3,local_850,1);
          FUN_00016724(0);
          return 0;
        }
        if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
          in_stack_fffff610 = CONCAT44((int)((ulonglong)in_stack_fffff610 >> 0x20),DAT_00063e1c);
          snprintf(local_850,0x800,"Will restart execution as scheduled at %02d:%02d",DAT_00063e20,DAT_00063e1c);
          FUN_00038438(4,local_850,0);
        }
        DAT_0006373c = '\x01';
        iVar2 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_00063bf0);
        if (iVar2 != 0) {
          FUN_0000b76c("watchdog_thread",0x25fd);
        }
        if (0 < DAT_0006410c) {
          piVar11 = DAT_00063b80 + DAT_0006410c;
          piVar13 = DAT_00063b80;
          do {
            piVar14 = piVar13 + 1;
            *(undefined1 *)(*piVar13 + 0x3c) = 1;
            piVar13 = piVar14;
          } while (piVar14 != piVar11);
        }
        iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_00063bf0);
        if (iVar2 != 0) {
          FUN_0000b700("watchdog_thread",0x2600);
        }
        (*DAT_00060178)();
      }
      else if (DAT_0006373c != '\0') goto LAB_000230cc;
    }
    else {
LAB_000230cc:
      iVar2 = FUN_0001161c();
      if (iVar2 != 0) {
        if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
          in_stack_fffff610 = CONCAT44((int)((ulonglong)in_stack_fffff610 >> 0x20),DAT_00063e1c);
          snprintf(local_850,0x800,"Restarting execution as per start time %02d:%02d scheduled",DAT_00063e20,
                   DAT_00063e1c);
          FUN_00038438(4,local_850,0);
        }
        if ((DAT_00063b90 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)))) {
          in_stack_fffff610 = CONCAT44((int)((ulonglong)in_stack_fffff610 >> 0x20),DAT_00063b98);
          snprintf(local_850,0x800,"Will pause execution as scheduled at %02d:%02d",DAT_00063b9c,DAT_00063b98);
          FUN_00038438(4,local_850,0);
        }
        iVar2 = 0;
        DAT_0006373c = '\0';
        if (0 < DAT_0006410c) {
          do {
            iVar16 = iVar2 + 1;
            puVar3 = (undefined4 *)FUN_0001c36c(iVar2);
            if (*(int *)(puVar3[9] + 0x20) != 1) {
              bVar20 = DAT_000630c1 != '\0';
              *(undefined1 *)(puVar3 + 0xf) = 0;
              if ((bVar20) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
                snprintf(local_850,0x800,"Pushing sem post to thread %d",*puVar3);
                FUN_00038438(7,local_850,0);
              }
              FUN_0002f134(puVar3 + 4,"cgminer.c","watchdog_thread",0x2616);
            }
            iVar2 = iVar16;
          } while (iVar16 < DAT_0006410c);
        }
      }
    }
    if (0 < DAT_00063cc0) {
      iVar2 = 0;
      do {
        iVar16 = FUN_0001ab68(iVar2);
        uVar17 = (undefined4)((ulonglong)in_stack_fffff610 >> 0x20);
        iVar18 = **(int **)(iVar16 + 0x98);
        if (iVar18 != 0) {
          (**(code **)(*(int *)(iVar16 + 4) + 0x20))();
          in_stack_fffff610 = CONCAT44(uVar17,*(undefined4 *)(iVar16 + 8));
          snprintf(local_950,8,"%s %d",*(undefined4 *)(*(int *)(iVar16 + 4) + 8),*(undefined4 *)(iVar16 + 8));
          if ((*(char *)(iVar18 + 0x3d) == '\0') && (*(int *)(iVar16 + 0x20) != 1)) {
            iVar12 = *(int *)(iVar16 + 0x60);
            iVar10 = local_960[0] - *(int *)(iVar18 + 0x2c);
            if (iVar12 == 0) {
              if (iVar10 < 0x79) {
LAB_000235e0:
                if ((0x3c < local_960[0] - *(int *)(iVar18 + 0x34)) &&
                   ((iVar12 - 1U < 2 && (FUN_0002b13c(iVar18 + 0x34), DAT_000600ac != '\0')))) {
LAB_000234a4:
                  FUN_00016704(iVar16);
                }
              }
              else {
                *(undefined8 *)(iVar16 + 0x30) = 0;
                cVar1 = DAT_000632f0;
                *(undefined4 *)(iVar16 + 0x60) = 1;
                if (((cVar1 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
                  snprintf(local_850,0x800,"%s: Idle for more than 60 seconds, declaring SICK!",local_950,
                           in_stack_fffff610);
                  FUN_00038438(3,local_850,0);
                }
                FUN_0002b13c(iVar18 + 0x34);
                FUN_0002ed00(iVar16,3);
                if (DAT_000600ac != '\0') {
                  if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
                    snprintf(local_850,0x800,"%s: Attempting to restart",local_950);
                    FUN_00038438(3,local_850,0);
                  }
                  goto LAB_000234a4;
                }
              }
            }
            else if (iVar10 < 0x78) {
              if ((iVar12 != 4) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)))) {
                snprintf(local_850,0x800,"%s: Recovered, declaring WELL!",local_950,in_stack_fffff610);
                FUN_00038438(3,local_850,0);
              }
              *(undefined4 *)(iVar16 + 0x60) = 0;
              tVar4 = time((time_t *)0x0);
              *(time_t *)(iVar16 + 0xf0) = tVar4;
            }
            else {
              if ((iVar12 != 1) || (iVar10 < 0x259)) goto LAB_000235e0;
              *(undefined4 *)(iVar16 + 0x60) = 2;
              if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
                snprintf(local_850,0x800,"%s: Not responded for more than 10 minutes, declaring DEAD!",local_950,
                         in_stack_fffff610);
                FUN_00038438(3,local_850,0);
              }
              FUN_0002b13c(iVar18 + 0x34);
              FUN_0002ed00(iVar16,4);
            }
          }
        }
        iVar2 = iVar2 + 1;
      } while (iVar2 < DAT_00063cc0);
    }
  } while( true );
}




int FUN_000243f8(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar2 = *(int *)(param_1 + 0x164);
  iVar3 = iVar2;
  if (iVar2 != 0) {
    iVar1 = FUN_0002282c(iVar2,0,param_3,param_4,param_4);
    if (iVar1 == 0) {
      FUN_000160b4(param_1,iVar2);
    }
    else {
      iVar3 = 0;
      FUN_000154ec(iVar2);
      FUN_00017ed8();
    }
    *(undefined4 *)(param_1 + 0x164) = 0;
  }
  return iVar3;
}




undefined4 FUN_00024450(int param_1)

{
  int iVar1;
  undefined4 uVar2;
  
  iVar1 = pthread_rwlock_wrlock((pthread_rwlock_t *)(param_1 + 0x140));
  if (iVar1 != 0) {
    FUN_0000b550("get_queued",0x2274);
  }
  uVar2 = FUN_000243f8(param_1);
  iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x140));
  if (iVar1 != 0) {
    FUN_0000b700("get_queued",0x2276);
  }
  (*DAT_00060178)();
  return uVar2;
}




void * FUN_000244c4(int param_1,undefined4 param_2)

{
  time_t tVar1;
  void *__dest;
  int iVar2;
  time_t tVar3;
  char cVar4;
  int iVar5;
  double dVar6;
  double dVar7;
  char local_820 [4];
  char acStack_81c [4];
  char acStack_818 [4];
  char acStack_814 [4];
  char local_810 [4];
  char acStack_80c [4];
  char acStack_808 [4];
  char acStack_804 [4];
  char local_800 [4];
  char acStack_7fc [2016];
  
  iVar5 = *(int *)(param_1 + 0x24);
  FUN_0000f808();
  if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    local_820[0] = 'P';
    local_820[1] = 'o';
    local_820[2] = 'p';
    local_820[3] = 'p';
    acStack_81c[0] = 'i';
    acStack_81c[1] = 'n';
    acStack_81c[2] = 'g';
    acStack_81c[3] = ' ';
    acStack_818[0] = 'w';
    acStack_818[1] = 'o';
    acStack_818[2] = 'r';
    acStack_818[3] = 'k';
    acStack_814[0] = ' ';
    acStack_814[1] = 'f';
    acStack_814[2] = 'r';
    acStack_814[3] = 'o';
    local_810[0] = 'm';
    local_810[1] = ' ';
    local_810[2] = 'g';
    local_810[3] = 'e';
    acStack_80c[0] = 't';
    acStack_80c[1] = ' ';
    acStack_80c[2] = 'q';
    acStack_80c[3] = 'u';
    acStack_808[0] = 'e';
    acStack_808[1] = 'u';
    acStack_808[2] = 'e';
    acStack_808[3] = ' ';
    acStack_804[0] = 't';
    acStack_804[1] = 'o';
    acStack_804[2] = ' ';
    acStack_804[3] = 'g';
    local_800[0] = 'e';
    local_800[1] = 't';
    local_800[2] = ' ';
    local_800[3] = 'w';
    acStack_7fc[0] = 'o';
    acStack_7fc[1] = 'r';
    acStack_7fc[2] = 'k';
    acStack_7fc[3] = '\0';
    FUN_00038438(7,local_820,0);
  }
  tVar1 = time((time_t *)0x0);
  do {
    while( true ) {
      __dest = (void *)FUN_00017a14(1);
      iVar2 = FUN_0002282c(__dest,0);
      if (iVar2 == 0) break;
      FUN_000154ec(__dest);
      FUN_00017ed8();
    }
  } while (__dest == (void *)0x0);
  tVar3 = time((time_t *)0x0);
  iVar2 = tVar3 - tVar1;
  cVar4 = DAT_000630c1;
  if (0 < iVar2) {
    if (DAT_000630c1 != '\0') {
      if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 7)) {
        cVar4 = '\x01';
      }
      else {
        snprintf(local_820,0x800,"Get work blocked for %d seconds",iVar2);
        FUN_00038438(7,local_820,0);
        cVar4 = DAT_000630c1;
      }
    }
    *(int *)(iVar5 + 0xe8) = *(int *)(iVar5 + 0xe8) + iVar2;
  }
  if ((cVar4 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    snprintf(local_820,0x800,"Got work from get queue to get work for thread %d",param_2);
    FUN_00038438(7,local_820,0);
  }
  *(undefined4 *)((int)__dest + 0x100) = param_2;
  if (DAT_000615c9 != '\0') {
    iVar2 = *(int *)(iVar5 + 0x17c) + *(int *)(iVar5 + 0x180);
    *(int *)(iVar5 + 0x17c) = iVar2;
    if (iVar2 < 1) {
      *(undefined4 *)(iVar5 + 0x180) = 1;
    }
    else if (0xf < iVar2) {
      iVar2 = *(int *)(iVar5 + 0x178) + 1;
      *(undefined4 *)(iVar5 + 0x180) = 0xffffffff;
      if (0xf < iVar2) {
        iVar2 = 0;
      }
      *(int *)(iVar5 + 0x178) = iVar2;
      memcpy(__dest,&DAT_000615d8 + iVar2 * 0xa0,0xa0);
      goto LAB_0002460c;
    }
    memcpy(__dest,&DAT_00061fd8 + iVar2 * 0xa0,0xa0);
  }
LAB_0002460c:
  FUN_0000f7d4(param_1);
  *(undefined1 *)((int)__dest + 0x110) = 1;
  dVar6 = *(double *)(*(int *)(iVar5 + 4) + 0x68);
  if (*(double *)((int)__dest + 0x178) < dVar6) {
    dVar6 = *(double *)((int)__dest + 0x178);
  }
  *(double *)((int)__dest + 0xe0) = dVar6;
  dVar7 = *(double *)(*(int *)(iVar5 + 4) + 0x78);
  if (dVar6 < dVar7) {
    dVar6 = dVar7;
  }
  *(double *)((int)__dest + 0xe0) = dVar6;
  return __dest;
}




void FUN_00024790(undefined4 *param_1)

{
  longlong lVar1;
  undefined4 uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  undefined4 uVar7;
  bool bVar8;
  longlong lVar9;
  longlong local_848;
  int local_838;
  int local_834;
  int local_830;
  int local_82c;
  char acStack_828 [2052];
  
  iVar5 = param_1[9];
  uVar7 = *param_1;
  local_834 = 0;
  iVar6 = *(int *)(iVar5 + 4);
  local_838 = 0;
  local_848 = 0;
  do {
    if (*(char *)(iVar5 + 0x16c) != '\0') {
LAB_000249fc:
      *(undefined4 *)(iVar5 + 0x20) = 1;
      return;
    }
    *(undefined1 *)((int)param_1 + 0x3f) = 0;
    do {
      if (*(int *)(iVar5 + 0x164) == 0) {
        uVar2 = FUN_000244c4(param_1,uVar7);
        iVar3 = pthread_rwlock_wrlock((pthread_rwlock_t *)(iVar5 + 0x140));
        if (iVar3 != 0) {
          FUN_0000b550("fill_queue",0x223f);
        }
        bVar8 = *(int *)(iVar5 + 0x164) == 0;
        if (bVar8) {
          *(undefined4 *)(iVar5 + 0x164) = uVar2;
        }
        iVar3 = pthread_rwlock_unlock((pthread_rwlock_t *)(iVar5 + 0x140));
        if (iVar3 != 0) {
          FUN_0000b700("fill_queue",0x2246);
        }
        (*DAT_00060178)();
        if (!bVar8) {
          FUN_000154ec(uVar2);
        }
      }
      iVar3 = (**(code **)(iVar6 + 0x48))(iVar5);
    } while (iVar3 == 0);
    lVar9 = (**(code **)(iVar6 + 0x44))(param_1);
    *(undefined1 *)((int)param_1 + 0x3e) = 0;
    if (lVar9 == -1) {
      if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
        snprintf(acStack_828,0x800,"%s %d failure, disabling!",*(undefined4 *)(iVar6 + 8),*(undefined4 *)(iVar5 + 8));
        FUN_00038438(3,acStack_828,0);
      }
      *(undefined4 *)(iVar5 + 0x20) = 1;
      FUN_0002ed00(iVar5);
      goto LAB_000249fc;
    }
    lVar1 = local_848 + lVar9;
    local_848 = lVar9 + local_848;
    FUN_0002b13c(&local_830);
    iVar3 = local_82c - local_834;
    bVar8 = iVar3 < 0;
    if (bVar8) {
      iVar3 = iVar3 + 0xf4000;
    }
    iVar4 = local_830 - local_838;
    if (bVar8) {
      iVar3 = iVar3 + 0x240;
      iVar4 = iVar4 + -1;
    }
    if (((lVar1 == 0) || ((iVar4 < 1 && (iVar3 < 0x30d41)))) && (iVar4 < DAT_0006006c)) {
      if (*(char *)(param_1 + 0xf) != '\0') goto LAB_0002497c;
LAB_00024928:
      if (*(int *)(iVar5 + 0x20) != 0) goto LAB_0002497c;
    }
    else {
      FUN_0001c834(uVar7,iVar4,(int)lVar1,(int)((ulonglong)lVar1 >> 0x20));
      local_848 = 0;
      FUN_0002ae20(&local_838,&local_830);
      if (*(char *)(param_1 + 0xf) == '\0') goto LAB_00024928;
LAB_0002497c:
      FUN_000118c4(param_1,uVar7,iVar6);
    }
    if (*(char *)((int)param_1 + 0x3f) != '\0') {
      (**(code **)(iVar6 + 0x50))(iVar5);
    }
  } while( true );
}




undefined4 FUN_00024a48(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  undefined4 uVar1;
  
  uVar1 = FUN_000244c4(param_1,param_3,param_3,param_4,param_4);
  FUN_00019930(param_2,uVar1);
  return uVar1;
}




void FUN_00024a70(undefined4 *param_1)

{
  longlong lVar1;
  undefined4 uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined4 uVar6;
  uint uVar7;
  int iVar8;
  int iVar9;
  uint uVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  int iVar14;
  int extraout_r3;
  int iVar15;
  int iVar16;
  int iVar17;
  int iVar18;
  bool bVar19;
  double dVar20;
  double dVar21;
  double dVar22;
  longlong lVar23;
  int *local_898;
  int local_888;
  int local_884;
  int local_880;
  int local_87c;
  uint local_874;
  uint local_868;
  int local_860;
  int local_85c;
  int local_858;
  int local_854;
  int local_850;
  int local_84c;
  int local_848;
  int local_844;
  timespec local_840 [256];
  
  uVar2 = *param_1;
  iVar17 = param_1[9];
  iVar3 = *(int *)(iVar17 + 4);
  iVar11 = DAT_0006006c / 5;
  if (iVar11 == 0) {
    iVar11 = 1;
  }
  if (param_1[1] == 0) {
    local_868 = 1;
  }
  else {
    local_868 = (uint)*(byte *)(param_1 + 2);
  }
  local_874 = (**(code **)(iVar3 + 0x30))(param_1);
  FUN_0002b13c(&local_860);
  FUN_0002b13c(&local_848);
  if (*(char *)(iVar17 + 0x16c) == '\0') {
    iVar12 = iVar11 * 1000000;
    lVar1 = 0;
    iVar14 = iVar12 + 0x3ff;
    if (-1 < iVar12) {
      iVar14 = iVar12;
    }
    iVar16 = 0;
    iVar18 = 0;
    do {
      iVar4 = FUN_000244c4(param_1,uVar2);
      *(undefined1 *)((int)param_1 + 0x3e) = 0;
      *(undefined1 *)(iVar17 + 0xac) = 1;
      FUN_0002b13c(&local_850);
      *(undefined4 *)(iVar4 + 0xf8) = 0;
      *(undefined8 *)(iVar17 + 0xa0) = 0;
      iVar5 = (**(code **)(iVar3 + 0x38))(param_1,iVar4);
      if (iVar5 == 0) {
        if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
          snprintf((char *)local_840,0x800,"work prepare failed, exiting mining thread %d",uVar2);
          FUN_00038438(3,local_840,0);
        }
        break;
      }
      dVar21 = *(double *)(iVar4 + 0x178);
      dVar20 = *(double *)(iVar3 + 0x68);
      if (dVar21 < *(double *)(iVar3 + 0x68)) {
        dVar20 = dVar21;
      }
      *(double *)(iVar4 + 0xe0) = dVar20;
      if (dVar20 < *(double *)(iVar3 + 0x78)) {
        dVar20 = *(double *)(iVar3 + 0x78);
      }
      bVar19 = DAT_00063df9 != '\0';
      *(double *)(iVar4 + 0xe0) = dVar20;
      if (bVar19) {
        dVar22 = (double)FUN_000493dc(DAT_000636a8,DAT_000636ac);
        if ((dVar22 / DAT_0005f898) * 60.0 <= 30.0) {
          dVar22 = *(double *)(iVar3 + 0x70);
LAB_00025090:
          bVar19 = dVar21 < dVar22;
          iVar5 = extraout_r3;
          if (bVar19) {
            iVar5 = iVar3;
          }
          if (bVar19) {
            *(double *)(iVar5 + 0x70) = dVar21;
          }
          if (bVar19) {
            dVar20 = *(double *)(iVar4 + 0xe0);
          }
        }
        else {
          dVar22 = *(double *)(iVar3 + 0x70);
          if ((*(double *)(iVar3 + 0x68) <= dVar22) || (dVar21 <= dVar22)) goto LAB_00025090;
          bVar19 = DAT_000630c1 != '\0';
          dVar20 = dVar22 + 1.0;
          *(double *)(iVar3 + 0x70) = dVar20;
          if ((bVar19) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
            snprintf((char *)local_840,0x800,"Driver %s working diff changed to %.0f",*(undefined4 *)(iVar3 + 4),dVar20)
            ;
            FUN_00038438(7,local_840,0);
            dVar20 = *(double *)(iVar3 + 0x70);
          }
          if (*(double *)(iVar4 + 0x178) < dVar20) {
            dVar20 = *(double *)(iVar4 + 0x178);
          }
          *(double *)(iVar4 + 0xe0) = dVar20;
        }
        FUN_00015d7c(SUB84(dVar20,0),iVar4 + 0x1b9);
      }
      local_87c = iVar17 + 0x128;
      local_880 = iVar4 + 0x1a8;
      local_884 = iVar17 + 0x138;
      local_888 = iVar17 + 0x130;
      local_898 = &local_858;
      while( true ) {
        FUN_0002b13c(local_898);
        FUN_0002ad38(local_898,&local_860);
        FUN_0002ad6c(&local_860,local_87c);
        iVar5 = FUN_0002adb8(&local_860,local_888);
        if (iVar5 != 0) {
          FUN_0002ae20(local_888,&local_860);
        }
        iVar5 = FUN_0002adec(&local_860,local_884);
        if (iVar5 != 0) {
          FUN_0002ae20(local_884,&local_860);
        }
        *(int *)(iVar17 + 0x124) = *(int *)(iVar17 + 0x124) + 1;
        iVar15 = *(int *)(iVar4 + 0x104);
        FUN_0002ad6c(&local_860,iVar15 + 0x17c);
        iVar5 = FUN_0002adb8(&local_860,iVar15 + 0x184);
        if (iVar5 != 0) {
          FUN_0002ae20(iVar15 + 0x184,&local_860);
        }
        iVar5 = FUN_0002adec(&local_860,iVar15 + 0x18c);
        if (iVar5 != 0) {
          FUN_0002ae20(iVar15 + 0x18c,&local_860);
        }
        *(int *)(iVar15 + 0x178) = *(int *)(iVar15 + 0x178) + 1;
        FUN_0002b13c(local_880);
        pthread_setcancelstate(1,(int *)0x0);
        FUN_0000f7d4(param_1);
        lVar23 = (**(code **)(iVar3 + 0x40))(param_1,iVar4,local_874 + *(int *)(iVar4 + 0xf8),0);
        iVar13 = (int)((ulonglong)lVar23 >> 0x20);
        FUN_0000f808(param_1);
        pthread_setcancelstate(0,(int *)0x0);
        pthread_testcancel();
        FUN_0002b13c(&local_860);
        iVar15 = local_85c;
        iVar5 = local_860;
        if (lVar23 == -1) break;
        lVar1 = lVar23 + lVar1;
        uVar7 = (uint)((ulonglong)lVar1 >> 0x20);
        iVar8 = *(int *)(iVar17 + 0xa4);
        bVar19 = *(uint *)(iVar17 + 0xa0) < (uint)lVar23;
        if ((int)(iVar8 - (iVar13 + (uint)bVar19)) < 0 !=
            (SBORROW4(iVar8,iVar13) != SBORROW4(iVar8 - iVar13,(uint)bVar19))) {
          *(longlong *)(iVar17 + 0xa0) = lVar23;
        }
        iVar13 = local_85c - local_854;
        bVar19 = iVar13 < 0;
        if (bVar19) {
          iVar13 = iVar13 + 0xf4000;
        }
        iVar8 = local_860 - local_850;
        if (bVar19) {
          iVar13 = iVar13 + 0x240;
        }
        iVar9 = local_860 - local_858;
        iVar13 = iVar16 + iVar13;
        if (bVar19) {
          iVar9 = iVar9 + -1;
        }
        iVar18 = iVar18 + iVar9;
        iVar16 = iVar13;
        if (1000000 < iVar13) {
          iVar16 = iVar13 + -0xf4000;
        }
        if (1000000 < iVar13) {
          iVar18 = iVar18 + 1;
          iVar16 = iVar16 + -0x240;
        }
        if (local_85c - local_84c < 0) {
          iVar8 = iVar8 + -1;
        }
        if (iVar18 < iVar11) {
          if (local_874 != 0xffffffff) {
            iVar13 = iVar16 + 0x400;
            if (iVar16 + 0x400 < 0) {
              iVar13 = iVar16 + 0x7ff;
            }
            iVar13 = FUN_00048f88(1000000,iVar13 >> 10);
            iVar13 = (iVar13 + 0x10) * iVar11;
            uVar10 = FUN_00048ec0(0xfffffc00,iVar13);
            if (uVar10 < local_874) {
              local_874 = 0xffffffff;
            }
            else {
              local_874 = local_874 * iVar13 >> 10;
            }
            goto LAB_00024e7c;
          }
        }
        else {
          if (iVar11 < iVar18) {
            local_874 = FUN_00048ec0(iVar11 * local_874,iVar18);
          }
          else if (100000 < iVar16) {
            uVar6 = FUN_00048f88(iVar12 + iVar16,iVar14 >> 10);
            local_874 = FUN_00048ec0(local_874 << 10,uVar6);
          }
LAB_00024e7c:
          iVar5 = iVar5 - local_848;
          iVar15 = iVar15 - local_844;
          if (iVar15 < 0) {
            iVar5 = iVar5 + -1;
            iVar15 = iVar15 + 1000000;
          }
          uVar10 = (uint)lVar1 | uVar7;
          if (((uVar10 != 0) && ((0 < iVar5 || (200000 < iVar15)))) || (DAT_0006006c <= iVar5)) {
            FUN_0001c834(uVar2,uVar10,(uint)lVar1,uVar7);
            FUN_0002ae20(&local_848,&local_860);
            lVar1 = 0;
          }
          if (*(char *)((int)param_1 + 0x3e) != '\0') {
            if (local_868 == 0) {
              local_840[0].tv_sec = local_868;
              local_840[0].tv_nsec = param_1[1] * 250000000;
              nanosleep(local_840,(timespec *)0x0);
            }
            goto LAB_00024bd0;
          }
          if ((*(char *)(param_1 + 0xf) == '\0') && (*(int *)(iVar17 + 0x20) == 0)) {
            iVar16 = 0;
            iVar18 = 0;
          }
          else {
            iVar16 = 0;
            FUN_000118c4(param_1,uVar2,iVar3);
            iVar18 = iVar16;
          }
        }
        if (DAT_00060090 < iVar8) goto LAB_00024bd0;
        bVar19 = *(int *)(iVar17 + 0xa4) == 0;
        if (*(int *)(iVar17 + 0xa4) == 0) {
          bVar19 = *(uint *)(iVar17 + 0xa0) < 0xfffffffe;
        }
        if ((!bVar19) || (iVar5 = FUN_0002282c(iVar4,0), iVar5 != 0)) goto LAB_00024bd0;
      }
      if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
        snprintf((char *)local_840,0x800,"%s %d failure, disabling!",*(undefined4 *)(iVar3 + 8),
                 *(undefined4 *)(iVar17 + 8));
        FUN_00038438(3,local_840,0);
      }
      *(undefined4 *)(iVar17 + 0x20) = 1;
      FUN_0002ed00(iVar17,1);
      *(undefined1 *)(iVar17 + 0x16c) = 1;
LAB_00024bd0:
      FUN_000152b8(iVar4);
    } while (*(char *)(iVar17 + 0x16c) == '\0');
  }
  *(undefined4 *)(iVar17 + 0x20) = 1;
  return;
}




void FUN_000252e4(void *param_1)

{
  int iVar1;
  char cVar2;
  uint uVar3;
  char *__format;
  undefined4 *puVar4;
  int iVar5;
  bool bVar6;
  pthread_t pStack_81c;
  char local_818 [4];
  char acStack_814 [4];
  char acStack_810 [4];
  char acStack_80c [4];
  char local_808 [4];
  char acStack_804 [4];
  char acStack_800 [4];
  char acStack_7fc [4];
  uint local_7f8 [505];
  
  if (*(int *)((int)param_1 + 0x4c) == 0) {
    if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 4)) {
      return;
    }
    local_818[0] = 'G';
    local_818[1] = 'e';
    local_818[2] = 't';
    local_818[3] = ' ';
    acStack_814[0] = 'A';
    acStack_814[1] = ' ';
    acStack_814[2] = 'E';
    acStack_814[3] = 'r';
    acStack_810[0] = 'r';
    acStack_810[1] = 'o';
    acStack_810[2] = 'r';
    acStack_810[3] = ' ';
    acStack_80c[0] = 'D';
    acStack_80c[1] = 'a';
    acStack_80c[2] = 't';
    acStack_80c[3] = 'a';
    local_808[0] = ' ';
    local_808[1] = 'T';
    local_808[2] = 'o';
    local_808[3] = ' ';
    acStack_804[0] = 'P';
    acStack_804[1] = 'u';
    acStack_804[2] = 's';
    acStack_804[3] = 'h';
    acStack_800[0] = '!';
    acStack_800[1] = 'D';
    acStack_800[2] = 'R';
    acStack_800[3] = 'O';
    acStack_7fc[0] = 'P';
    acStack_7fc[1] = '!';
    acStack_7fc[2] = '\r';
    acStack_7fc[3] = '\n';
    local_7f8[0] = local_7f8[0] & 0xffffff00;
    FUN_00038438(4,local_818,0);
    return;
  }
  puVar4 = *(undefined4 **)((int)param_1 + 0x104);
  FUN_0002b13c((int)param_1 + 0x1b0);
  if (DAT_000615c9 != '\0') {
    iVar1 = FUN_0001c36c(*(undefined4 *)((int)param_1 + 0x100));
    iVar5 = *(int *)(iVar1 + 0x24);
    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_000632f4);
    if (iVar1 != 0) {
      FUN_0000b4e4("submit_work_async",0x202e);
    }
    *(int *)(iVar5 + 0x24) = *(int *)(iVar5 + 0x24) + 1;
    uVar3 = puVar4[2];
    puVar4[2] = uVar3 + 1;
    puVar4[3] = puVar4[3] + (uint)(0xfffffffe < uVar3);
    bVar6 = 0xfffffffe < DAT_000639c8;
    DAT_000639c8 = DAT_000639c8 + 1;
    DAT_000639cc = DAT_000639cc + (uint)bVar6;
    *(double *)(iVar5 + 200) = *(double *)(iVar5 + 200) + *(double *)((int)param_1 + 0x178);
    DAT_00063b88 = *(double *)((int)param_1 + 0x178) + DAT_00063b88;
    *(double *)(puVar4 + 0x12) = *(double *)(puVar4 + 0x12) + *(double *)((int)param_1 + 0x178);
    iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_000632f4);
    if (iVar1 != 0) {
      FUN_0000b694("submit_work_async",0x2035);
    }
    (*DAT_00060178)();
    if (DAT_000630c1 == '\0') {
      return;
    }
    if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 7)) {
      return;
    }
    snprintf(local_818,0x800,"Accepted %s %d benchmark share nonce %08x",*(undefined4 *)(*(int *)(iVar5 + 4) + 8),
             *(undefined4 *)(iVar5 + 8),*(undefined4 *)((int)param_1 + 0x4c));
    FUN_00038438(7,local_818,0);
    return;
  }
  iVar1 = FUN_0002282c(param_1,1);
  cVar2 = DAT_000630c1;
  if (iVar1 == 0) goto LAB_000254a8;
  if (DAT_000600ad == '\0') {
    if (*(char *)(puVar4 + 0x1a) == '\0') {
      if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
        snprintf(local_818,0x800,"Pool %d stale share detected, discarding",*puVar4);
        FUN_00038438(7,local_818,0);
      }
      FUN_0001d408("discard",param_1);
      iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_000632f4);
      if (iVar1 != 0) {
        FUN_0000b4e4("submit_work_async",0x2047);
      }
      puVar4[0x1e] = puVar4[0x1e] + 1;
      bVar6 = 0xfffffffe < DAT_00064220;
      DAT_00064220 = DAT_00064220 + 1;
      DAT_00064224 = DAT_00064224 + (uint)bVar6;
      DAT_000639d0 = *(double *)((int)param_1 + 0x178) + DAT_000639d0;
      *(double *)(puVar4 + 0x16) = *(double *)(puVar4 + 0x16) + *(double *)((int)param_1 + 0x178);
      iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_000632f4);
      if (iVar1 != 0) {
        FUN_0000b694("submit_work_async",0x204c);
      }
      (*DAT_00060178)();
      FUN_000152b8(param_1);
      return;
    }
    if (DAT_000630c1 != '\0') {
      if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 7)) goto LAB_000255f8;
      __format = "Pool %d stale share detected, submitting as pool requested";
LAB_000256cc:
      snprintf(local_818,0x800,__format,*puVar4);
      FUN_00038438(7,local_818,0);
      cVar2 = DAT_000630c1;
    }
  }
  else if (DAT_000630c1 != '\0') {
    if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)) {
      __format = "Pool %d stale share detected, submitting as user requested";
      goto LAB_000256cc;
    }
LAB_000255f8:
    cVar2 = '\x01';
  }
  *(undefined1 *)((int)param_1 + 0x119) = 1;
LAB_000254a8:
  if (*(char *)((int)param_1 + 0x11c) == '\0') {
    if ((cVar2 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      local_818[0] = 'P';
      local_818[1] = 'u';
      local_818[2] = 's';
      local_818[3] = 'h';
      acStack_814[0] = 'i';
      acStack_814[1] = 'n';
      acStack_814[2] = 'g';
      acStack_814[3] = ' ';
      acStack_810[0] = 's';
      acStack_810[1] = 'u';
      acStack_810[2] = 'b';
      acStack_810[3] = 'm';
      acStack_80c[0] = 'i';
      acStack_80c[1] = 't';
      acStack_80c[2] = ' ';
      acStack_80c[3] = 'w';
      local_808[0] = 'o';
      local_808[1] = 'r';
      local_808[2] = 'k';
      local_808[3] = ' ';
      acStack_804[0] = 't';
      acStack_804[1] = 'o';
      acStack_804[2] = ' ';
      acStack_804[3] = 'w';
      acStack_800[0] = 'o';
      acStack_800[1] = 'r';
      acStack_800[2] = 'k';
      acStack_800[3] = ' ';
      acStack_7fc[0] = 't';
      acStack_7fc[1] = 'h';
      acStack_7fc[2] = 'r';
      acStack_7fc[3] = 'e';
      local_7f8[0] = CONCAT13(local_7f8[0]._3_1_,0x6461);
      FUN_00038438(7,local_818,0);
    }
    iVar1 = pthread_create(&pStack_81c,(pthread_attr_t *)0x0,(__start_routine *)&LAB_0000f7c0,param_1);
    if (iVar1 != 0) {
      local_818[0] = 'F';
      local_818[1] = 'a';
      local_818[2] = 'i';
      local_818[3] = 'l';
      acStack_814[0] = 'e';
      acStack_814[1] = 'd';
      acStack_814[2] = ' ';
      acStack_814[3] = 't';
      acStack_810[0] = 'o';
      acStack_810[1] = ' ';
      acStack_810[2] = 'c';
      acStack_810[3] = 'r';
      acStack_80c[0] = 'e';
      acStack_80c[1] = 'a';
      acStack_80c[2] = 't';
      acStack_80c[3] = 'e';
      local_808[0] = ' ';
      local_808[1] = 's';
      local_808[2] = 'u';
      local_808[3] = 'b';
      acStack_804[0] = 'm';
      acStack_804[1] = 'i';
      acStack_804[2] = 't';
      acStack_804[3] = '_';
      acStack_800[0] = 'w';
      acStack_800[1] = 'o';
      acStack_800[2] = 'r';
      acStack_800[3] = 'k';
      acStack_7fc[0] = '_';
      acStack_7fc[1] = 't';
      acStack_7fc[2] = 'h';
      acStack_7fc[3] = 'r';
      local_7f8[0]._0_1_ = 'e';
      local_7f8[0]._1_1_ = 'a';
      local_7f8[0]._2_1_ = 'd';
      local_7f8[0]._3_1_ = '\0';
      FUN_00038438(3,local_818,1);
      FUN_00016724(1);
    }
  }
  else {
    if ((cVar2 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      snprintf(local_818,0x800,"Pushing pool %d work to stratum queue",*puVar4);
      FUN_00038438(7,local_818,0);
    }
    iVar1 = FUN_0002ab68(puVar4[0xae],param_1);
    if (iVar1 == 0) {
      if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
        local_818[0] = 'D';
        local_818[1] = 'i';
        local_818[2] = 's';
        local_818[3] = 'c';
        acStack_814[0] = 'a';
        acStack_814[1] = 'r';
        acStack_814[2] = 'd';
        acStack_814[3] = 'i';
        acStack_810[0] = 'n';
        acStack_810[1] = 'g';
        acStack_810[2] = ' ';
        acStack_810[3] = 'w';
        acStack_80c[0] = 'o';
        acStack_80c[1] = 'r';
        acStack_80c[2] = 'k';
        acStack_80c[3] = ' ';
        local_808[0] = 'f';
        local_808[1] = 'r';
        local_808[2] = 'o';
        local_808[3] = 'm';
        acStack_804[0] = ' ';
        acStack_804[1] = 'r';
        acStack_804[2] = 'e';
        acStack_804[3] = 'm';
        acStack_800[0] = 'o';
        acStack_800[1] = 'v';
        acStack_800[2] = 'e';
        acStack_800[3] = 'd';
        acStack_7fc[0] = ' ';
        acStack_7fc[1] = 'p';
        acStack_7fc[2] = 'o';
        acStack_7fc[3] = 'o';
        local_7f8[0] = CONCAT22(local_7f8[0]._2_2_,0x6c);
        FUN_00038438(7,local_818,0);
      }
      FUN_000152b8(param_1);
    }
  }
  return;
}




undefined4 FUN_000258f8(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  char acStack_818 [2048];
  
  iVar1 = FUN_00019da0();
  FUN_000151bc(iVar1,param_2,param_4);
  iVar2 = FUN_00015fdc(iVar1,param_3);
  if (iVar2 == 0) {
    FUN_000152b8(iVar1);
    FUN_000189b4(param_1);
    uVar3 = 0;
  }
  else {
    FUN_0001a0f8(param_1,iVar1);
    if ((DAT_000612ac != 0) && (DAT_000629d8 != '\0')) {
      FUN_0001155c(iVar1,param_3);
    }
    iVar2 = FUN_0002a898(iVar1 + 0xc0,iVar1 + 0xa0);
    if (iVar2 == 0) {
      FUN_000152b8(iVar1);
      if ((DAT_000630c1 == '\0') || (((DAT_000632f0 == '\0' && (DAT_000630c0 == '\0')) && (DAT_00060964 < 7)))) {
        uVar3 = 1;
      }
      else {
        snprintf(acStack_818,0x800,"%s %d: Share above target",
                 *(undefined4 *)(*(int *)(*(int *)(param_1 + 0x24) + 4) + 8),
                 *(undefined4 *)(*(int *)(param_1 + 0x24) + 8));
        FUN_00038438(7,acStack_818,0);
        uVar3 = 1;
      }
    }
    else {
      FUN_000252e4();
      uVar3 = 1;
    }
  }
  return uVar3;
}




void FUN_00025a80(undefined4 param_1)

{
  FUN_00019e18(param_1,0);
  FUN_000252e4();
  return;
}




undefined4 FUN_00025a94(int param_1,int param_2)

{
  int iVar1;
  undefined4 uVar2;
  char acStack_810 [2052];
  
  FUN_0001a0f8();
  iVar1 = FUN_0002a898(param_2 + 0xc0,param_2 + 0xa0);
  if (iVar1 == 0) {
    if (DAT_000630c1 == '\0') {
      uVar2 = 0;
    }
    else if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (uVar2 = 0, 6 < DAT_00060964)) {
      snprintf(acStack_810,0x800,"%s %s %d: Share above target","submit_tested_work",
               *(undefined4 *)(*(int *)(*(int *)(param_1 + 0x24) + 4) + 8),*(undefined4 *)(*(int *)(param_1 + 0x24) + 8)
              );
      FUN_00038438(7,acStack_810,0);
      uVar2 = 0;
    }
  }
  else {
    FUN_00019e18(param_2,0);
    FUN_000252e4();
    uVar2 = 1;
  }
  return uVar2;
}




undefined4 FUN_00025b80(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  
  iVar1 = FUN_0000f3b0(param_1,param_3);
  if ((iVar1 == 0) || (iVar1 = FUN_00015fdc(param_2,param_3), iVar1 == 0)) {
    FUN_000189b4(param_1);
    return 0;
  }
  FUN_00025a94(param_1,param_2);
  if ((DAT_000612ac != 0) && (DAT_000629d8 != '\0')) {
    FUN_0001155c(param_2,param_3);
    return 1;
  }
  return 1;
}




char * FUN_00025c14(undefined4 param_1)

{
  char *pcVar1;
  char local_818 [4];
  char acStack_814 [4];
  char acStack_810 [4];
  char acStack_80c [4];
  char acStack_808 [4];
  undefined2 uStack_804;
  undefined1 local_802;
  
  echo();
  pcVar1 = (char *)malloc(0xff);
  if (pcVar1 == (char *)0x0) {
    local_818[0] = 'F';
    local_818[1] = 'a';
    local_818[2] = 'i';
    local_818[3] = 'l';
    acStack_814[0] = 'e';
    acStack_814[1] = 'd';
    acStack_814[2] = ' ';
    acStack_814[3] = 't';
    acStack_810[0] = 'o';
    acStack_810[1] = ' ';
    acStack_810[2] = 'm';
    acStack_810[3] = 'a';
    acStack_80c[0] = 'l';
    acStack_80c[1] = 'l';
    acStack_80c[2] = 'o';
    acStack_80c[3] = 'c';
    acStack_808[0] = ' ';
    acStack_808[1] = 'i';
    acStack_808[2] = 'n';
    acStack_808[3] = 'p';
    uStack_804 = 0x7475;
    local_802 = 0;
    FUN_00038438(3,local_818,1);
    FUN_00016724(1);
  }
  leaveok(DAT_000639d8,0);
  snprintf(local_818,0x800,"%s:\n",param_1);
  FUN_0001952c(local_818);
  wgetnstr(DAT_000639d8,pcVar1,0xff);
  if (*pcVar1 == '\0') {
    pcVar1[0] = '-';
    pcVar1[1] = '1';
    pcVar1[2] = '\0';
  }
  leaveok(DAT_000639d8,1);
  noecho();
  return pcVar1;
}




long FUN_00025d00(void)

{
  char *__nptr;
  long lVar1;
  
  __nptr = (char *)FUN_00025c14();
  lVar1 = strtol(__nptr,(char **)0x0,10);
  free(__nptr);
  return lVar1;
}




void FUN_00025d2c(void)

{
  int iVar1;
  uint uVar2;
  char *pcVar3;
  char *pcVar4;
  char *pcVar5;
  char *pcVar6;
  char *pcVar7;
  char *pcVar8;
  char *pcVar9;
  char *pcVar10;
  char *pcVar11;
  char *pcVar12;
  char *pcVar13;
  char local_829;
  char local_828 [4];
  char acStack_824 [4];
  char acStack_820 [4];
  char acStack_81c [4];
  undefined3 local_818;
  char cStack_815;
  char acStack_814 [4];
  char acStack_810 [4];
  uint local_80c;
  char local_808 [4];
  char acStack_804 [4];
  char acStack_800 [4];
  uint local_7fc;
  char acStack_7f8 [4];
  undefined1 local_7f4;
  
  DAT_00064068 = 1;
  immedok(DAT_000639d8,1);
  FUN_000193cc();
LAB_00025d70:
  do {
    while( true ) {
      while( true ) {
        while( true ) {
          pcVar6 = "disabled";
          local_828[0] = '[';
          local_828[1] = 'N';
          local_828[2] = ']';
          local_828[3] = 'o';
          acStack_824[0] = 'r';
          acStack_824[1] = 'm';
          acStack_824[2] = 'a';
          acStack_824[3] = 'l';
          acStack_820[0] = ' ';
          acStack_820[1] = '[';
          acStack_820[2] = 'C';
          acStack_820[3] = ']';
          acStack_81c[0] = 'l';
          acStack_81c[1] = 'e';
          acStack_81c[2] = 'a';
          acStack_81c[3] = 'r';
          pcVar7 = "enabled";
          local_818._0_1_ = ' ';
          local_818._1_1_ = '[';
          local_818._2_1_ = 'S';
          cStack_815 = ']';
          acStack_814[0] = 'i';
          acStack_814[1] = 'l';
          acStack_814[2] = 'e';
          acStack_814[3] = 'n';
          acStack_810[0] = 't';
          acStack_810[1] = ' ';
          acStack_810[2] = 'm';
          acStack_810[3] = 'o';
          local_80c._0_1_ = 'd';
          local_80c._1_1_ = 'e';
          local_80c._2_1_ = ' ';
          local_80c._3_1_ = '(';
          local_808[0] = 'd';
          local_808[1] = 'i';
          local_808[2] = 's';
          local_808[3] = 'a';
          acStack_804[0] = 'b';
          acStack_804[1] = 'l';
          acStack_804[2] = 'e';
          acStack_804[3] = ' ';
          acStack_800[0] = 'a';
          acStack_800[1] = 'l';
          acStack_800[2] = 'l';
          acStack_800[3] = ' ';
          local_7fc._0_1_ = 'o';
          local_7fc._1_1_ = 'u';
          local_7fc._2_1_ = 't';
          local_7fc._3_1_ = 'p';
          acStack_7f8[0] = 'u';
          acStack_7f8[1] = 't';
          acStack_7f8[2] = ')';
          acStack_7f8[3] = '\n';
          local_7f4 = 0;
          FUN_0001952c(local_828);
          pcVar5 = "off";
          pcVar3 = "on";
          pcVar8 = pcVar5;
          if (DAT_00063df8 != 0) {
            pcVar8 = pcVar3;
          }
          pcVar10 = pcVar5;
          if (DAT_00064218 != 0) {
            pcVar10 = pcVar3;
          }
          pcVar12 = pcVar5;
          if (DAT_000630c0 != 0) {
            pcVar12 = pcVar3;
          }
          pcVar9 = pcVar5;
          if (DAT_00063928 != 0) {
            pcVar9 = pcVar3;
          }
          pcVar11 = pcVar5;
          if (DAT_00063dfa != 0) {
            pcVar11 = pcVar3;
          }
          pcVar13 = pcVar5;
          if (DAT_00063ee0 != 0) {
            pcVar13 = pcVar3;
          }
          if (DAT_000630c1 != 0) {
            pcVar5 = pcVar3;
          }
          pcVar3 = pcVar6;
          if (DAT_0006142d != 0) {
            pcVar3 = pcVar7;
          }
          pcVar4 = pcVar6;
          if (DAT_000615d4 != 0) {
            pcVar4 = pcVar7;
          }
          snprintf(local_828,0x800,
                   "[D]ebug:%s\n[P]er-device:%s\n[Q]uiet:%s\n[V]erbose:%s\n[R]PC debug:%s\n[W]orkTime details:%s\nco[M]pact: %s\n[T]oggle status switching:%s\nw[I]descreen:%s\n[Z]ero statistics\n[L]og interval:%d\n"
                   ,pcVar5,pcVar8,pcVar10,pcVar12,pcVar9,pcVar11,pcVar13,pcVar3,pcVar4,DAT_0006006c);
          FUN_0001952c(local_828);
          local_828[0] = 'S';
          local_828[1] = 'e';
          local_828[2] = 'l';
          local_828[3] = 'e';
          acStack_824[0] = 'c';
          acStack_824[1] = 't';
          acStack_824[2] = ' ';
          acStack_824[3] = 'a';
          acStack_820[0] = 'n';
          acStack_820[1] = ' ';
          acStack_820[2] = 'o';
          acStack_820[3] = 'p';
          acStack_81c[0] = 't';
          acStack_81c[1] = 'i';
          acStack_81c[2] = 'o';
          acStack_81c[3] = 'n';
          local_818._0_1_ = ' ';
          local_818._1_1_ = 'o';
          local_818._2_1_ = 'r';
          cStack_815 = ' ';
          acStack_814[0] = 'a';
          acStack_814[1] = 'n';
          acStack_814[2] = 'y';
          acStack_814[3] = ' ';
          acStack_810[0] = 'o';
          acStack_810[1] = 't';
          acStack_810[2] = 'h';
          acStack_810[3] = 'e';
          local_80c._0_1_ = 'r';
          local_80c._1_1_ = ' ';
          local_80c._2_1_ = 'k';
          local_80c._3_1_ = 'e';
          local_808[0] = 'y';
          local_808[1] = ' ';
          local_808[2] = 't';
          local_808[3] = 'o';
          acStack_804[0] = ' ';
          acStack_804[1] = 'r';
          acStack_804[2] = 'e';
          acStack_804[3] = 't';
          acStack_800[0] = 'u';
          acStack_800[1] = 'r';
          acStack_800[2] = 'n';
          acStack_800[3] = '\n';
          local_7fc = local_7fc & 0xffffff00;
          FUN_0001952c(local_828);
          FUN_00019350();
          local_829 = wgetch(stdscr);
          iVar1 = strncasecmp(&local_829,"q",1);
          if (iVar1 != 0) break;
          DAT_00064218 = DAT_00064218 ^ 1;
          if (DAT_00064218 != 0) {
            pcVar6 = pcVar7;
          }
          snprintf(local_828,0x800,"Quiet mode %s\n",pcVar6);
          FUN_0001952c(local_828);
        }
        iVar1 = strncasecmp(&local_829,"v",1);
        if (iVar1 != 0) break;
        DAT_000630c0 = DAT_000630c0 ^ 1;
        if (DAT_000630c0 != 0) {
          DAT_00064218 = 0;
        }
        if (DAT_000630c0 == 0) {
          pcVar7 = pcVar6;
        }
        snprintf(local_828,0x800,"Verbose mode %s\n",pcVar7);
        FUN_0001952c(local_828);
      }
      iVar1 = strncasecmp(&local_829,"n",1);
      if (iVar1 != 0) break;
      DAT_000630c1 = 0;
      local_828[0] = 'O';
      local_828[1] = 'u';
      local_828[2] = 't';
      local_828[3] = 'p';
      acStack_824[0] = 'u';
      acStack_824[1] = 't';
      acStack_824[2] = ' ';
      acStack_824[3] = 'm';
      acStack_820[0] = 'o';
      acStack_820[1] = 'd';
      acStack_820[2] = 'e';
      acStack_820[3] = ' ';
      acStack_81c[0] = 'r';
      acStack_81c[1] = 'e';
      acStack_81c[2] = 's';
      acStack_81c[3] = 'e';
      DAT_000630c0 = 0;
      DAT_00064218 = 0;
      DAT_00063928 = 0;
      local_818._0_1_ = 't';
      local_818._1_1_ = ' ';
      local_818._2_1_ = 't';
      cStack_815 = 'o';
      acStack_814[0] = ' ';
      acStack_814[1] = 'n';
      acStack_814[2] = 'o';
      acStack_814[3] = 'r';
      acStack_810[0] = 'm';
      acStack_810[1] = 'a';
      acStack_810[2] = 'l';
      acStack_810[3] = '\n';
      DAT_00063ee0 = 0;
      DAT_00063df8 = 0;
      local_80c = local_80c & 0xffffff00;
      FUN_0001952c(local_828);
      iVar1 = FUN_00019140();
joined_r0x00026054:
      if (iVar1 != 0) {
        FUN_000192d4();
      }
    }
    iVar1 = strncasecmp(&local_829,"d",1);
    if (iVar1 != 0) {
      iVar1 = strncasecmp(&local_829,"m",1);
      if (iVar1 == 0) {
        DAT_00063ee0 = DAT_00063ee0 ^ 1;
        if (DAT_00063ee0 != 0) {
          pcVar6 = pcVar7;
        }
        snprintf(local_828,0x800,"Compact mode %s\n",pcVar6);
        FUN_0001952c(local_828);
        iVar1 = FUN_00019140();
        goto joined_r0x00026054;
      }
      iVar1 = strncasecmp(&local_829,"p",1);
      if (iVar1 == 0) {
        DAT_00063df8 = DAT_00063df8 ^ 1;
        if (DAT_00063df8 != 0) {
          pcVar6 = pcVar7;
        }
        DAT_000630c0 = DAT_00063df8;
        snprintf(local_828,0x800,"Per-device stats %s\n",pcVar6);
        FUN_0001952c(local_828);
      }
      else {
        iVar1 = strncasecmp(&local_829,"r",1);
        if (iVar1 == 0) {
          DAT_00063928 = DAT_00063928 ^ 1;
          if (DAT_00063928 != 0) {
            DAT_00064218 = 0;
          }
          if (DAT_00063928 == 0) {
            pcVar7 = pcVar6;
          }
          snprintf(local_828,0x800,"RPC protocol debugging %s\n",pcVar7);
          FUN_0001952c(local_828);
        }
        else {
          iVar1 = strncasecmp(&local_829,"c",1);
          if (iVar1 == 0) {
LAB_000262fc:
            FUN_000193cc();
LAB_00026300:
            immedok(DAT_000639d8,0);
            DAT_00064068 = 0;
            return;
          }
          iVar1 = strncasecmp(&local_829,"l",1);
          if (iVar1 == 0) {
            uVar2 = FUN_00025d00("Interval in seconds");
            if (uVar2 < 10000) {
              DAT_0006006c = uVar2;
              snprintf(local_828,0x800,"Log interval set to %d seconds\n",uVar2);
              FUN_0001952c(local_828);
            }
            else {
              local_828[0] = 'I';
              local_828[1] = 'n';
              local_828[2] = 'v';
              local_828[3] = 'a';
              acStack_824[0] = 'l';
              acStack_824[1] = 'i';
              acStack_824[2] = 'd';
              acStack_824[3] = ' ';
              acStack_820[0] = 's';
              acStack_820[1] = 'e';
              acStack_820[2] = 'l';
              acStack_820[3] = 'e';
              acStack_81c[0] = 'c';
              acStack_81c[1] = 't';
              acStack_81c[2] = 'i';
              acStack_81c[3] = 'o';
              _local_818 = CONCAT13(cStack_815,0xa6e);
              FUN_0001952c(local_828);
            }
          }
          else {
            iVar1 = strncasecmp(&local_829,"s",1);
            if (iVar1 == 0) {
              DAT_000640b8 = 1;
              goto LAB_00026300;
            }
            iVar1 = strncasecmp(&local_829,"w",1);
            if (iVar1 == 0) {
              DAT_00063dfa = DAT_00063dfa ^ 1;
              pcVar7 = "enabled";
              if (DAT_00063dfa == 0) {
                pcVar7 = "disabled";
              }
              snprintf(local_828,0x800,"WorkTime details %s\n",pcVar7);
              FUN_0001952c(local_828);
            }
            else {
              iVar1 = strncasecmp(&local_829,"t",1);
              if (iVar1 == 0) {
                DAT_0006142d = DAT_0006142d ^ 1;
              }
              else {
                iVar1 = strncasecmp(&local_829,"i",1);
                if (iVar1 == 0) {
                  DAT_000615d4 = DAT_000615d4 ^ 1;
                }
                else {
                  iVar1 = strncasecmp(&local_829,"z",1);
                  if (iVar1 != 0) goto LAB_000262fc;
                  FUN_0001abe0();
                }
              }
            }
          }
        }
      }
      goto LAB_00025d70;
    }
    DAT_000630c1 = DAT_000630c1 ^ 1;
    if (DAT_000630c1 != 0) {
      DAT_00064218 = 0;
    }
    if (DAT_000630c1 == 0) {
      pcVar7 = pcVar6;
    }
    DAT_000630c0 = DAT_000630c1;
    snprintf(local_828,0x800,"Debug mode %s\n",pcVar7);
    FUN_0001952c(local_828);
  } while( true );
}




void FUN_000263d4(void)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  char *__src;
  FILE *__stream;
  uint uVar5;
  uint uVar6;
  char cStack_28b1;
  stat sStack_28b0;
  char local_2854 [4];
  char acStack_2850 [4];
  char acStack_284c [4];
  char acStack_2848 [4];
  char local_2844 [4];
  char acStack_2840 [4];
  uint local_283c;
  char acStack_2054 [4096];
  char local_1054 [4];
  char acStack_1050 [4];
  char acStack_104c [4];
  undefined3 uStack_1048;
  char cStack_1045;
  undefined3 local_1044;
  char cStack_1041;
  char acStack_1040 [4];
  char acStack_103c [4];
  char acStack_1038 [4];
  char local_1034 [4];
  char acStack_1030 [4];
  char acStack_102c [4];
  undefined1 local_1028;
  
  DAT_00064068 = 1;
  immedok(DAT_000639d8,1);
  FUN_000193cc();
LAB_00026418:
  while( true ) {
    snprintf(local_1054,0x800,"[Q]ueue: %d\n[S]cantime: %d\n[E]xpiry: %d\n[W]rite config file\n[C]gminer restart\n",
             DAT_00060074,DAT_00060090,DAT_00060094);
    FUN_0001952c(local_1054);
    local_1054[0] = 'S';
    local_1054[1] = 'e';
    local_1054[2] = 'l';
    local_1054[3] = 'e';
    acStack_1050[0] = 'c';
    acStack_1050[1] = 't';
    acStack_1050[2] = ' ';
    acStack_1050[3] = 'a';
    acStack_104c[0] = 'n';
    acStack_104c[1] = ' ';
    acStack_104c[2] = 'o';
    acStack_104c[3] = 'p';
    uStack_1048._0_1_ = 't';
    uStack_1048._1_1_ = 'i';
    uStack_1048._2_1_ = 'o';
    cStack_1045 = 'n';
    local_1044._0_1_ = ' ';
    local_1044._1_1_ = 'o';
    local_1044._2_1_ = 'r';
    cStack_1041 = ' ';
    acStack_1040[0] = 'a';
    acStack_1040[1] = 'n';
    acStack_1040[2] = 'y';
    acStack_1040[3] = ' ';
    acStack_103c[0] = 'o';
    acStack_103c[1] = 't';
    acStack_103c[2] = 'h';
    acStack_103c[3] = 'e';
    acStack_1038[0] = 'r';
    acStack_1038[1] = ' ';
    acStack_1038[2] = 'k';
    acStack_1038[3] = 'e';
    local_1034[0] = 'y';
    local_1034[1] = ' ';
    local_1034[2] = 't';
    local_1034[3] = 'o';
    acStack_1030[0] = ' ';
    acStack_1030[1] = 'r';
    acStack_1030[2] = 'e';
    acStack_1030[3] = 't';
    acStack_102c[0] = 'u';
    acStack_102c[1] = 'r';
    acStack_102c[2] = 'n';
    acStack_102c[3] = '\n';
    local_1028 = 0;
    FUN_0001952c(local_1054);
    FUN_00019350();
    cStack_28b1 = wgetch(stdscr);
    iVar4 = strncasecmp(&cStack_28b1,"q",1);
    if (iVar4 != 0) break;
    uVar5 = FUN_00025d00("Extra work items to queue");
    uVar1 = DAT_00060090;
    uVar2 = DAT_00060094;
    if (uVar5 < 10000) {
      DAT_00060074 = uVar5;
      if ((int)uVar5 < (int)DAT_00060070) {
        DAT_00060070 = uVar5;
      }
    }
    else {
LAB_000265e0:
      DAT_00060094 = uVar2;
      DAT_00060090 = uVar1;
      local_1054[0] = 'I';
      local_1054[1] = 'n';
      local_1054[2] = 'v';
      local_1054[3] = 'a';
      acStack_1050[0] = 'l';
      acStack_1050[1] = 'i';
      acStack_1050[2] = 'd';
      acStack_1050[3] = ' ';
      acStack_104c[0] = 's';
      acStack_104c[1] = 'e';
      acStack_104c[2] = 'l';
      acStack_104c[3] = 'e';
      uStack_1048._0_1_ = 'c';
      uStack_1048._1_1_ = 't';
      uStack_1048._2_1_ = 'i';
      cStack_1045 = 'o';
      local_1044 = 0xa6e;
      FUN_0001952c(local_1054);
    }
  }
  iVar4 = strncasecmp(&cStack_28b1,"s",1);
  if (iVar4 == 0) {
    uVar6 = FUN_00025d00("Set scantime in seconds");
    uVar5 = uVar6;
    uVar1 = DAT_00060090;
    uVar3 = DAT_00060094;
    uVar2 = DAT_00060094;
joined_r0x000265d0:
    DAT_00060094 = uVar3;
    DAT_00060090 = uVar5;
    if (9999 < uVar6) goto LAB_000265e0;
    goto LAB_00026418;
  }
  iVar4 = strncasecmp(&cStack_28b1,"e",1);
  if (iVar4 == 0) {
    uVar6 = FUN_00025d00("Set expiry time in seconds");
    uVar5 = DAT_00060090;
    uVar1 = DAT_00060090;
    uVar3 = uVar6;
    uVar2 = DAT_00060094;
    goto joined_r0x000265d0;
  }
  iVar4 = strncasecmp(&cStack_28b1,"w",1);
  if (iVar4 == 0) {
    FUN_00015c88(acStack_2054);
    snprintf(local_1054,0x1032,"Config filename to write (Enter for default) [%s]",acStack_2054);
    __src = (char *)FUN_00025c14(local_1054);
    if (((*__src == '-') && (__src[1] == '1')) && (__src[2] == '\0')) {
      free(__src);
      goto LAB_00026554;
    }
    strcpy(acStack_2054,__src);
    free(__src);
    iVar4 = __xstat(3,acStack_2054,&sStack_28b0);
    if (iVar4 != 0) goto LAB_00026554;
    local_2854[0] = 'F';
    local_2854[1] = 'i';
    local_2854[2] = 'l';
    local_2854[3] = 'e';
    acStack_2850[0] = ' ';
    acStack_2850[1] = 'e';
    acStack_2850[2] = 'x';
    acStack_2850[3] = 'i';
    acStack_284c[0] = 's';
    acStack_284c[1] = 't';
    acStack_284c[2] = 's';
    acStack_284c[3] = ',';
    acStack_2848[0] = ' ';
    acStack_2848[1] = 'o';
    acStack_2848[2] = 'v';
    acStack_2848[3] = 'e';
    local_2844[0] = 'r';
    local_2844[1] = 'w';
    local_2844[2] = 'r';
    local_2844[3] = 'i';
    acStack_2840[0] = 't';
    acStack_2840[1] = 'e';
    acStack_2840[2] = '?';
    acStack_2840[3] = '\n';
    local_283c = local_283c & 0xffffff00;
    FUN_0001952c(local_2854);
    cStack_28b1 = wgetch(stdscr);
    iVar4 = strncasecmp(&cStack_28b1,"y",1);
    if (iVar4 == 0) {
LAB_00026554:
      __stream = fopen(acStack_2054,"w");
      if (__stream == (FILE *)0x0) {
        local_2854[0] = 'C';
        local_2854[1] = 'a';
        local_2854[2] = 'n';
        local_2854[3] = 'n';
        acStack_2850[0] = 'o';
        acStack_2850[1] = 't';
        acStack_2850[2] = ' ';
        acStack_2850[3] = 'o';
        acStack_284c[0] = 'p';
        acStack_284c[1] = 'e';
        acStack_284c[2] = 'n';
        acStack_284c[3] = ' ';
        acStack_2848[0] = 'o';
        acStack_2848[1] = 'r';
        acStack_2848[2] = ' ';
        acStack_2848[3] = 'c';
        local_2844[0] = 'r';
        local_2844[1] = 'e';
        local_2844[2] = 'a';
        local_2844[3] = 't';
        acStack_2840[0] = 'e';
        acStack_2840[1] = ' ';
        acStack_2840[2] = 'f';
        acStack_2840[3] = 'i';
        local_283c._0_1_ = 'l';
        local_283c._1_1_ = 'e';
        local_283c._2_1_ = '\n';
        local_283c._3_1_ = '\0';
        FUN_0001952c(local_2854);
      }
      else {
        FUN_0001569c();
        fclose(__stream);
      }
    }
    goto LAB_00026418;
  }
  iVar4 = strncasecmp(&cStack_28b1,"c",1);
  if (iVar4 == 0) {
    local_1054[0] = 'A';
    local_1054[1] = 'r';
    local_1054[2] = 'e';
    local_1054[3] = ' ';
    acStack_1050[0] = 'y';
    acStack_1050[1] = 'o';
    acStack_1050[2] = 'u';
    acStack_1050[3] = ' ';
    acStack_104c[0] = 's';
    acStack_104c[1] = 'u';
    acStack_104c[2] = 'r';
    acStack_104c[3] = 'e';
    uStack_1048 = 0xa3f;
    FUN_0001952c(local_1054);
    cStack_28b1 = wgetch(stdscr);
    iVar4 = strncasecmp(&cStack_28b1,"y",1);
    if (iVar4 == 0) {
      FUN_0001c028();
      goto LAB_0002677c;
    }
  }
  FUN_000193cc();
LAB_0002677c:
  immedok(DAT_000639d8,0);
  DAT_00064068 = 0;
  return;
}




undefined1 FUN_000267f4(void *param_1,uint param_2,undefined4 param_3,char *param_4,char *param_5)

{
  undefined1 uVar1;
  undefined4 uVar2;
  size_t sVar3;
  size_t sVar4;
  char *__s;
  int *piVar5;
  bool bVar6;
  char local_818 [4];
  char acStack_814 [4];
  char acStack_810 [4];
  char acStack_80c [4];
  char local_808 [4];
  char acStack_804 [4];
  undefined2 local_800;
  
  uVar2 = FUN_0002b5c8(param_3,param_1);
  *(char **)((int)param_1 + 0xac) = param_4;
  *(char **)((int)param_1 + 0xb0) = param_5;
  *(undefined4 *)((int)param_1 + 0xa4) = uVar2;
  sVar3 = strlen(param_4);
  sVar4 = strlen(param_5);
  sVar3 = sVar3 + sVar4 + 2;
  __s = (char *)malloc(sVar3);
  *(char **)((int)param_1 + 0xa8) = __s;
  if (__s == (char *)0x0) {
    local_818[0] = 'F';
    local_818[1] = 'a';
    local_818[2] = 'i';
    local_818[3] = 'l';
    acStack_814[0] = 'e';
    acStack_814[1] = 'd';
    acStack_814[2] = ' ';
    acStack_814[3] = 't';
    acStack_810[0] = 'o';
    acStack_810[1] = ' ';
    acStack_810[2] = 'm';
    acStack_810[3] = 'a';
    acStack_80c[0] = 'l';
    acStack_80c[1] = 'l';
    acStack_80c[2] = 'o';
    acStack_80c[3] = 'c';
    local_808[0] = ' ';
    local_808[1] = 'u';
    local_808[2] = 's';
    local_808[3] = 'e';
    acStack_804[0] = 'r';
    acStack_804[1] = 'p';
    acStack_804[2] = 'a';
    acStack_804[3] = 's';
    local_800 = 0x73;
    FUN_00038438(3,local_818,1);
    FUN_00016724(1);
    __s = *(char **)((int)param_1 + 0xa8);
    param_4 = *(char **)((int)param_1 + 0xac);
    param_5 = *(char **)((int)param_1 + 0xb0);
  }
  snprintf(__s,sVar3,"%s:%s",param_4,param_5);
  piVar5 = (int *)(param_2 ^ 1);
  bVar6 = *(int *)((int)param_1 + 100) != 1;
  *(char *)((int)param_1 + 0x6b) = (char)piVar5;
  if (bVar6) {
    *(undefined4 *)((int)param_1 + 100) = 1;
  }
  if (bVar6) {
    piVar5 = &DAT_00063b84;
  }
  *(undefined1 *)((int)param_1 + 0x11c) = 1;
  *(undefined1 *)((int)param_1 + 0x61) = 1;
  if (bVar6) {
    *piVar5 = *piVar5 + 1;
  }
  pthread_create((pthread_t *)((int)param_1 + 0x118),(pthread_attr_t *)0x0,(__start_routine *)&LAB_0001f99c,param_1);
  if (param_2 == 0) {
    pthread_join(*(pthread_t *)((int)param_1 + 0x118),(void **)0x0);
    uVar1 = DAT_000615c8;
  }
  else {
    uVar1 = 1;
  }
  return uVar1;
}




int FUN_00026934(undefined4 param_1)

{
  char *__s1;
  char *__ptr;
  char *__ptr_00;
  undefined4 uVar1;
  int iVar2;
  char *pcVar3;
  char local_820 [4];
  char acStack_81c [4];
  char acStack_818 [4];
  char acStack_814 [4];
  char local_810 [4];
  undefined3 uStack_80c;
  char cStack_809;
  undefined2 uStack_808;
  undefined1 local_806;
  
  immedok(DAT_000639d8,1);
  local_820[0] = 'I';
  local_820[1] = 'n';
  local_820[2] = 'p';
  local_820[3] = 'u';
  acStack_81c[0] = 't';
  acStack_81c[1] = ' ';
  acStack_81c[2] = 's';
  acStack_81c[3] = 'e';
  acStack_818[0] = 'r';
  acStack_818[1] = 'v';
  acStack_818[2] = 'e';
  acStack_818[3] = 'r';
  acStack_814[0] = ' ';
  acStack_814[1] = 'd';
  acStack_814[2] = 'e';
  acStack_814[3] = 't';
  local_810[0] = 'a';
  local_810[1] = 'i';
  local_810[2] = 'l';
  local_810[3] = 's';
  uStack_80c = 0xa2e;
  FUN_0001952c(local_820);
  __s1 = (char *)FUN_00025c14("URL");
  pcVar3 = __s1;
  if ((((*__s1 == '-') && (__s1[1] == '1')) && (__ptr = (char *)(uint)(byte)__s1[2], __ptr == (char *)0x0)) ||
     (((__ptr = (char *)FUN_00025c14("Username"), *__ptr == '-' && (__ptr[1] == '1')) && (__ptr[2] == '\0')))) {
    immedok(DAT_000639d8,0);
    __ptr_00 = (char *)0x0;
  }
  else {
    __ptr_00 = (char *)FUN_00025c14("Password");
    if (((*__ptr_00 == '-') && (__ptr_00[1] == '1')) && (__ptr_00[2] == '\0')) {
      free(__ptr_00);
      __ptr_00 = (char *)calloc(1,1);
    }
    uVar1 = FUN_0001746c();
    iVar2 = FUN_000150b4(uVar1,__s1);
    if (((iVar2 == 0) && (iVar2 = strncmp(__s1,"http://",7), iVar2 != 0)) &&
       (iVar2 = strncmp(__s1,"https://",8), iVar2 != 0)) {
      pcVar3 = (char *)malloc(0x100);
      if (pcVar3 == (char *)0x0) {
        local_820[0] = 'F';
        local_820[1] = 'a';
        local_820[2] = 'i';
        local_820[3] = 'l';
        acStack_81c[0] = 'e';
        acStack_81c[1] = 'd';
        acStack_81c[2] = ' ';
        acStack_81c[3] = 't';
        acStack_818[0] = 'o';
        acStack_818[1] = ' ';
        acStack_818[2] = 'm';
        acStack_818[3] = 'a';
        acStack_814[0] = 'l';
        acStack_814[1] = 'l';
        acStack_814[2] = 'o';
        acStack_814[3] = 'c';
        local_810[0] = ' ';
        local_810[1] = 'h';
        local_810[2] = 't';
        local_810[3] = 't';
        uStack_80c._0_1_ = 'p';
        uStack_80c._1_1_ = 'i';
        uStack_80c._2_1_ = 'n';
        cStack_809 = 'p';
        uStack_808 = 0x7475;
        local_806 = 0;
        FUN_00038438(3,local_820,1);
        FUN_00016724(1);
      }
      builtin_strncpy(pcVar3,"http://",8);
      strncat(pcVar3,__s1,0xf8);
      free(__s1);
    }
    iVar2 = FUN_000267f4(uVar1,param_1,pcVar3,__ptr,__ptr_00);
    immedok(DAT_000639d8,0);
    if (iVar2 != 0) {
      return iVar2;
    }
  }
  free(pcVar3);
  free(__ptr);
  free(__ptr_00);
  return 0;
}




void FUN_00026b74(void)

{
  undefined4 *puVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  undefined4 *puVar6;
  int iVar7;
  char *pcVar8;
  double dVar9;
  double dVar10;
  char local_831;
  char local_830 [4];
  char acStack_82c [4];
  uint local_828;
  char acStack_824 [4];
  undefined3 local_820;
  char cStack_81d;
  char acStack_81c [4];
  uint local_818;
  char acStack_814 [4];
  char local_810 [4];
  undefined3 uStack_80c;
  char cStack_809;
  char acStack_808 [4];
  char acStack_804 [4];
  char local_800 [4];
  undefined3 uStack_7fc;
  char cStack_7f9;
  undefined2 local_7f8;
  
  DAT_00064068 = 1;
  immedok(DAT_000639d8,1);
  FUN_000193cc();
  iVar4 = 0;
LAB_00026bc4:
  do {
    if (DAT_00063740 <= iVar4) {
LAB_00026bd0:
      snprintf(local_830,0x800,"\nCurrent pool management strategy: %s\n",(&DAT_000600b0)[DAT_000611ac]);
      FUN_0001952c(local_830);
      if (DAT_000611ac == 2) {
        snprintf(local_830,0x800,"Set to rotate every %d minutes\n",DAT_00063af8);
        FUN_0001952c(local_830);
      }
      pcVar8 = "disabled";
      if (DAT_00063bc5 != 0) {
        pcVar8 = "enabled";
      }
      snprintf(local_830,0x800,"[F]ailover only %s\n",pcVar8);
      FUN_0001952c(local_830);
      local_830[0] = 'P';
      local_830[1] = 'o';
      local_830[2] = 'o';
      local_830[3] = 'l';
      acStack_82c[0] = ' ';
      acStack_82c[1] = '[';
      acStack_82c[2] = 'A';
      acStack_82c[3] = ']';
      local_828._0_1_ = 'd';
      local_828._1_1_ = 'd';
      local_828._2_1_ = ' ';
      local_828._3_1_ = '[';
      acStack_824[0] = 'R';
      acStack_824[1] = ']';
      acStack_824[2] = 'e';
      acStack_824[3] = 'm';
      local_820._0_1_ = 'o';
      local_820._1_1_ = 'v';
      local_820._2_1_ = 'e';
      cStack_81d = ' ';
      acStack_81c[0] = '[';
      acStack_81c[1] = 'D';
      acStack_81c[2] = ']';
      acStack_81c[3] = 'i';
      local_818._0_1_ = 's';
      local_818._1_1_ = 'a';
      local_818._2_1_ = 'b';
      local_818._3_1_ = 'l';
      acStack_814[0] = 'e';
      acStack_814[1] = ' ';
      acStack_814[2] = '[';
      acStack_814[3] = 'E';
      local_810[0] = ']';
      local_810[1] = 'n';
      local_810[2] = 'a';
      local_810[3] = 'b';
      uStack_80c._0_1_ = 'l';
      uStack_80c._1_1_ = 'e';
      uStack_80c._2_1_ = ' ';
      cStack_809 = '[';
      acStack_808[0] = 'Q';
      acStack_808[1] = ']';
      acStack_808[2] = 'u';
      acStack_808[3] = 'o';
      acStack_804[0] = 't';
      acStack_804[1] = 'a';
      acStack_804[2] = ' ';
      acStack_804[3] = 'c';
      local_800[0] = 'h';
      local_800[1] = 'a';
      local_800[2] = 'n';
      local_800[3] = 'g';
      _uStack_7fc = CONCAT13(cStack_7f9,0xa65);
      FUN_0001952c(local_830);
      local_830[0] = '[';
      local_830[1] = 'C';
      local_830[2] = ']';
      local_830[3] = 'h';
      acStack_82c[0] = 'a';
      acStack_82c[1] = 'n';
      acStack_82c[2] = 'g';
      acStack_82c[3] = 'e';
      local_828._0_1_ = ' ';
      local_828._1_1_ = 'm';
      local_828._2_1_ = 'a';
      local_828._3_1_ = 'n';
      acStack_824[0] = 'a';
      acStack_824[1] = 'g';
      acStack_824[2] = 'e';
      acStack_824[3] = 'm';
      local_820._0_1_ = 'e';
      local_820._1_1_ = 'n';
      local_820._2_1_ = 't';
      cStack_81d = ' ';
      acStack_81c[0] = 's';
      acStack_81c[1] = 't';
      acStack_81c[2] = 'r';
      acStack_81c[3] = 'a';
      local_818._0_1_ = 't';
      local_818._1_1_ = 'e';
      local_818._2_1_ = 'g';
      local_818._3_1_ = 'y';
      acStack_814[0] = ' ';
      acStack_814[1] = '[';
      acStack_814[2] = 'S';
      acStack_814[3] = ']';
      local_810[0] = 'w';
      local_810[1] = 'i';
      local_810[2] = 't';
      local_810[3] = 'c';
      uStack_80c._0_1_ = 'h';
      uStack_80c._1_1_ = ' ';
      uStack_80c._2_1_ = 'p';
      cStack_809 = 'o';
      acStack_808[0] = 'o';
      acStack_808[1] = 'l';
      acStack_808[2] = ' ';
      acStack_808[3] = '[';
      acStack_804[0] = 'I';
      acStack_804[1] = ']';
      acStack_804[2] = 'n';
      acStack_804[3] = 'f';
      local_800[0] = 'o';
      local_800[1] = 'r';
      local_800[2] = 'm';
      local_800[3] = 'a';
      uStack_7fc._0_1_ = 't';
      uStack_7fc._1_1_ = 'i';
      uStack_7fc._2_1_ = 'o';
      cStack_7f9 = 'n';
      local_7f8 = 10;
      FUN_0001952c(local_830);
      local_830[0] = 'O';
      local_830[1] = 'r';
      local_830[2] = ' ';
      local_830[3] = 'p';
      acStack_82c[0] = 'r';
      acStack_82c[1] = 'e';
      acStack_82c[2] = 's';
      acStack_82c[3] = 's';
      local_828._0_1_ = ' ';
      local_828._1_1_ = 'a';
      local_828._2_1_ = 'n';
      local_828._3_1_ = 'y';
      acStack_824[0] = ' ';
      acStack_824[1] = 'o';
      acStack_824[2] = 't';
      acStack_824[3] = 'h';
      local_820._0_1_ = 'e';
      local_820._1_1_ = 'r';
      local_820._2_1_ = ' ';
      cStack_81d = 'k';
      acStack_81c[0] = 'e';
      acStack_81c[1] = 'y';
      acStack_81c[2] = ' ';
      acStack_81c[3] = 't';
      local_818._0_1_ = 'o';
      local_818._1_1_ = ' ';
      local_818._2_1_ = 'c';
      local_818._3_1_ = 'o';
      acStack_814[0] = 'n';
      acStack_814[1] = 't';
      acStack_814[2] = 'i';
      acStack_814[3] = 'n';
      local_810[0] = 'u';
      local_810[1] = 'e';
      local_810[2] = '\n';
      local_810[3] = '\0';
      FUN_0001952c(local_830);
      FUN_00019350();
      local_831 = wgetch(stdscr);
      iVar4 = strncasecmp(&local_831,"a",1);
      if (iVar4 == 0) {
        FUN_00026934(1);
        iVar4 = 0;
        goto LAB_00026bc4;
      }
      iVar4 = strncasecmp(&local_831,"r",1);
      if (iVar4 == 0) {
        if (DAT_00063740 < 2) {
          pcVar8 = "Cannot remove last pool";
LAB_00027014:
          local_830 = *(char (*) [4])pcVar8;
          acStack_82c = *(char (*) [4])(pcVar8 + 4);
          local_828 = *(uint *)(pcVar8 + 8);
          acStack_824 = *(char (*) [4])(pcVar8 + 0xc);
          _local_820 = *(undefined4 *)(pcVar8 + 0x10);
          acStack_81c = *(char (*) [4])(pcVar8 + 0x14);
          FUN_0001952c(local_830);
          goto LAB_00026bd0;
        }
        iVar4 = FUN_00025d00("Select pool number");
        if ((-1 < iVar4) && (iVar4 < DAT_00063740)) {
          iVar7 = *(int *)(DAT_000639e0 + iVar4 * 4);
          iVar4 = FUN_0001d644();
          if (iVar7 == iVar4) {
            FUN_000195d4(0);
            iVar4 = FUN_0001d644();
          }
          else {
            iVar4 = FUN_0001d644();
          }
          if (iVar7 != iVar4) {
            iVar3 = *(int *)(iVar7 + 100);
            iVar4 = 0;
            *(undefined4 *)(iVar7 + 100) = 0;
            if (iVar3 == 1) {
              DAT_00063b84 = DAT_00063b84 + -1;
            }
            FUN_00015600(iVar7);
            goto LAB_00026bc4;
          }
          local_830[0] = 'U';
          local_830[1] = 'n';
          local_830[2] = 'a';
          local_830[3] = 'b';
          acStack_82c[0] = 'l';
          acStack_82c[1] = 'e';
          acStack_82c[2] = ' ';
          acStack_82c[3] = 't';
          local_828._0_1_ = 'o';
          local_828._1_1_ = ' ';
          local_828._2_1_ = 'r';
          local_828._3_1_ = 'e';
          acStack_824[0] = 'm';
          acStack_824[1] = 'o';
          acStack_824[2] = 'v';
          acStack_824[3] = 'e';
          local_820._0_1_ = ' ';
          local_820._1_1_ = 'p';
          local_820._2_1_ = 'o';
          cStack_81d = 'o';
          acStack_81c[0] = 'l';
          acStack_81c[1] = ' ';
          acStack_81c[2] = 'd';
          acStack_81c[3] = 'u';
          local_818._0_1_ = 'e';
          local_818._1_1_ = ' ';
          local_818._2_1_ = 't';
          local_818._3_1_ = 'o';
          acStack_814[0] = ' ';
          acStack_814[1] = 'a';
          acStack_814[2] = 'c';
          acStack_814[3] = 't';
          local_810[0] = 'i';
          local_810[1] = 'v';
          local_810[2] = 'i';
          local_810[3] = 't';
          uStack_80c = 0xa79;
          FUN_0001952c(local_830);
          goto LAB_00026bd0;
        }
      }
      else {
        iVar4 = strncasecmp(&local_831,"s",1);
        if (iVar4 == 0) {
          iVar4 = FUN_00025d00("Select pool number");
          if ((iVar4 < 0) || (DAT_00063740 <= iVar4)) goto LAB_00026d3c;
          iVar7 = *(int *)(DAT_000639e0 + iVar4 * 4);
          if (*(int *)(iVar7 + 100) != 1) {
            *(undefined4 *)(iVar7 + 100) = 1;
            DAT_00063b84 = DAT_00063b84 + 1;
          }
LAB_00027080:
          iVar4 = 0;
          FUN_000195d4(iVar7);
          goto LAB_00026bc4;
        }
        iVar4 = strncasecmp(&local_831,"d",1);
        if (iVar4 == 0) {
          if (1 < DAT_00063b84) {
            iVar4 = FUN_00025d00("Select pool number");
            if ((iVar4 < 0) || (DAT_00063740 <= iVar4)) goto LAB_00026d3c;
            iVar7 = *(int *)(DAT_000639e0 + iVar4 * 4);
            if (*(int *)(iVar7 + 100) == 1) {
              DAT_00063b84 = DAT_00063b84 + -1;
            }
            iVar4 = 0;
            *(undefined4 *)(iVar7 + 100) = 0;
            iVar3 = FUN_0001d644();
            if (iVar7 != iVar3) goto LAB_00026df0;
            FUN_000195d4(0);
            goto LAB_00026bc4;
          }
          local_830[0] = 'C';
          local_830[1] = 'a';
          local_830[2] = 'n';
          local_830[3] = 'n';
          acStack_82c[0] = 'o';
          acStack_82c[1] = 't';
          acStack_82c[2] = ' ';
          acStack_82c[3] = 'd';
          local_828._0_1_ = 'i';
          local_828._1_1_ = 's';
          local_828._2_1_ = 'a';
          local_828._3_1_ = 'b';
          acStack_824[0] = 'l';
          acStack_824[1] = 'e';
          acStack_824[2] = ' ';
          acStack_824[3] = 'l';
          local_820._0_1_ = 'a';
          local_820._1_1_ = 's';
          local_820._2_1_ = 't';
          cStack_81d = ' ';
          acStack_81c[0] = 'p';
          acStack_81c[1] = 'o';
          acStack_81c[2] = 'o';
          acStack_81c[3] = 'l';
          local_818 = local_818 & 0xffffff00;
          FUN_0001952c(local_830);
          goto LAB_00026bd0;
        }
        iVar4 = strncasecmp(&local_831,"e",1);
        if (iVar4 == 0) {
          iVar4 = FUN_00025d00("Select pool number");
          if ((iVar4 < 0) || (DAT_00063740 <= iVar4)) goto LAB_00026d3c;
          iVar7 = *(int *)(DAT_000639e0 + iVar4 * 4);
          if (*(int *)(iVar7 + 100) != 1) {
            *(undefined4 *)(iVar7 + 100) = 1;
            DAT_00063b84 = DAT_00063b84 + 1;
          }
          iVar3 = *(int *)(iVar7 + 4);
          iVar4 = FUN_0001d644();
          if (iVar3 < *(int *)(iVar4 + 4)) goto LAB_00027080;
LAB_00026df0:
          iVar4 = 0;
          if (0 < DAT_00063740) goto LAB_00026e00;
          goto LAB_00026bd0;
        }
        iVar4 = strncasecmp(&local_831,"c",1);
        if (iVar4 == 0) {
          puVar1 = (undefined4 *)&DAT_000600ac;
          iVar4 = 0;
          do {
            puVar1 = puVar1 + 1;
            iVar7 = iVar4 + 1;
            snprintf(local_830,0x800,"%d: %s\n",iVar4,*puVar1);
            FUN_0001952c(local_830);
            iVar4 = iVar7;
          } while (iVar7 != 5);
          uVar2 = FUN_00025d00("Select strategy number type");
          if (uVar2 < 5) {
            if ((uVar2 != 2) || (DAT_00063af8 = FUN_00025d00("Select interval in minutes"), DAT_00063af8 < 10000)) {
              iVar4 = 0;
              DAT_000611ac = uVar2;
              FUN_000195d4();
              goto LAB_00026bc4;
            }
            DAT_00063af8 = 0;
          }
        }
        else {
          iVar4 = strncasecmp(&local_831,"i",1);
          if (iVar4 == 0) {
            iVar4 = FUN_00025d00("Select pool number");
            if ((iVar4 < 0) || (DAT_00063740 <= iVar4)) goto LAB_00026d3c;
            iVar7 = *(int *)(DAT_000639e0 + iVar4 * 4);
            iVar4 = FUN_00019140();
            if (iVar4 != 0) {
              snprintf(local_830,0x800,"Pool: %s\n",*(undefined4 *)(iVar7 + 0xa4));
              FUN_000153c8(local_830);
              iVar4 = *(int *)(iVar7 + 0x20);
              if (iVar4 != 0) {
                pcVar8 = "";
                if (1 < iVar4) {
                  pcVar8 = "S";
                }
                snprintf(local_830,0x800,"SOLVED %d BLOCK%s!\n",iVar4,pcVar8);
                FUN_000153c8(local_830);
              }
              if (*(char *)(iVar7 + 0x278) == '\0') {
                pcVar8 = "Does not have";
                if (*(int *)(iVar7 + 0x6c) != 0) {
                  pcVar8 = "Has";
                }
                snprintf(local_830,0x800,"%s own long-poll support\n",pcVar8);
                FUN_000153c8(local_830);
              }
              snprintf(local_830,0x800," Queued work requests: %d\n",*(undefined4 *)(iVar7 + 0x74));
              FUN_000153c8(local_830);
              VectorAdd(*(undefined8 *)(iVar7 + 8),*(undefined8 *)(iVar7 + 0x10),8);
              snprintf(local_830,0x800," Share submissions: %lld\n");
              FUN_000153c8(local_830);
              snprintf(local_830,0x800," Accepted shares: %lld\n");
              FUN_000153c8(local_830);
              snprintf(local_830,0x800," Rejected shares: %lld\n");
              FUN_000153c8(local_830);
              snprintf(local_830,0x800," Accepted difficulty shares: %1.f\n",*(undefined4 *)(iVar7 + 0x4c),
                       *(undefined4 *)(iVar7 + 0x48),*(undefined4 *)(iVar7 + 0x4c));
              FUN_000153c8(local_830);
              dVar9 = *(double *)(iVar7 + 0x50);
              snprintf(local_830,0x800," Rejected difficulty shares: %1.f\n",*(undefined4 *)(iVar7 + 0x54),
                       *(undefined4 *)(iVar7 + 0x50),*(undefined4 *)(iVar7 + 0x54));
              FUN_000153c8(local_830);
              uVar5 = *(uint *)(iVar7 + 8);
              iVar3 = *(int *)(iVar7 + 0xc);
              uVar2 = *(uint *)(iVar7 + 0x10);
              iVar4 = *(int *)(iVar7 + 0x14);
              if ((uVar5 != 0 || iVar3 != 0) || (uVar2 != 0 || iVar4 != 0)) {
                dVar9 = (double)FUN_000493dc((int)((ulonglong)uVar2 * 100),
                                             iVar4 * 100 + (int)((ulonglong)uVar2 * 100 >> 0x20));
                dVar10 = (double)FUN_000493dc(uVar5 + uVar2,iVar3 + iVar4 + (uint)CARRY4(uVar5,uVar2));
                dVar9 = dVar9 / dVar10;
                snprintf(local_830,0x800," Reject ratio: %.1f%%\n");
                FUN_000153c8(local_830);
              }
              snprintf(local_830,0x800," Items worked on: %d\n",*(undefined4 *)(iVar7 + 0x44),dVar9);
              FUN_000153c8(local_830);
              snprintf(local_830,0x800," Discarded work due to new blocks: %d\n",*(undefined4 *)(iVar7 + 0x7c));
              FUN_000153c8(local_830);
              snprintf(local_830,0x800," Stale submissions discarded due to new blocks: %d\n",
                       *(undefined4 *)(iVar7 + 0x78));
              FUN_000153c8(local_830);
              snprintf(local_830,0x800," Unable to get work from server occasions: %d\n",*(undefined4 *)(iVar7 + 0x80));
              FUN_000153c8(local_830);
              snprintf(local_830,0x800," Submitting work remotely delay occasions: %d\n\n",*(undefined4 *)(iVar7 + 0x84)
                      );
              FUN_000153c8(local_830);
              iVar4 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063d48);
              if (iVar4 != 0) {
                FUN_0000b694("unlock_curses",0xb70);
              }
              (*DAT_00060178)();
            }
            goto LAB_00026bd0;
          }
          iVar4 = strncasecmp(&local_831,"q",1);
          if (iVar4 != 0) {
            iVar4 = strncasecmp(&local_831,"f",1);
            if (iVar4 != 0) {
              FUN_000193cc();
              immedok(DAT_000639d8,0);
              DAT_00064068 = 0;
              return;
            }
            DAT_00063bc5 = DAT_00063bc5 ^ 1;
            iVar4 = 0;
            goto LAB_00026bc4;
          }
          iVar4 = FUN_00025d00("Select pool number");
          if ((-1 < iVar4) && (iVar4 < DAT_00063740)) {
            iVar7 = *(int *)(DAT_000639e0 + iVar4 * 4);
            iVar4 = FUN_00025d00("Set quota");
            if (iVar4 < 0) {
              pcVar8 = "Invalid negative quota\n";
              goto LAB_00027014;
            }
            *(int *)(iVar7 + 0x38) = iVar4;
            iVar4 = 0;
            FUN_00014e18();
            goto LAB_00026bc4;
          }
        }
      }
LAB_00026d3c:
      local_830[0] = 'I';
      local_830[1] = 'n';
      local_830[2] = 'v';
      local_830[3] = 'a';
      acStack_82c[0] = 'l';
      acStack_82c[1] = 'i';
      acStack_82c[2] = 'd';
      acStack_82c[3] = ' ';
      local_828._0_1_ = 's';
      local_828._1_1_ = 'e';
      local_828._2_1_ = 'l';
      local_828._3_1_ = 'e';
      acStack_824[0] = 'c';
      acStack_824[1] = 't';
      acStack_824[2] = 'i';
      acStack_824[3] = 'o';
      local_820 = 0xa6e;
      FUN_0001952c(local_830);
      goto LAB_00026bd0;
    }
LAB_00026e00:
    puVar6 = *(undefined4 **)(DAT_000639e0 + iVar4 * 4);
    puVar1 = (undefined4 *)FUN_0001d644();
    if (puVar6 == puVar1) {
      wattr_on(DAT_000639d8,0x200000,0);
    }
    if (puVar6[0x19] != 1) {
      wattr_on(DAT_000639d8,0x100000,0);
    }
    snprintf(local_830,0x800,"%d: ",*puVar6);
    FUN_0001952c(local_830);
    iVar7 = puVar6[0x19];
    if (iVar7 == 1) {
      local_830[0] = 'E';
      local_830[1] = 'n';
      local_830[2] = 'a';
      local_830[3] = 'b';
      acStack_82c[0] = 'l';
      acStack_82c[1] = 'e';
      acStack_82c[2] = 'd';
      acStack_82c[3] = ' ';
      local_828 = local_828 & 0xffffff00;
      FUN_0001952c(local_830);
    }
    else if (iVar7 == 0) {
      local_830[0] = 'D';
      local_830[1] = 'i';
      local_830[2] = 's';
      local_830[3] = 'a';
      acStack_82c[0] = 'b';
      acStack_82c[1] = 'l';
      acStack_82c[2] = 'e';
      acStack_82c[3] = 'd';
      local_828 = CONCAT22(local_828._2_2_,0x20);
      FUN_0001952c(local_830);
    }
    else if (iVar7 == 2) {
      local_830[0] = 'R';
      local_830[1] = 'e';
      local_830[2] = 'j';
      local_830[3] = 'e';
      acStack_82c[0] = 'c';
      acStack_82c[1] = 't';
      acStack_82c[2] = 'i';
      acStack_82c[3] = 'n';
      local_828 = CONCAT13(local_828._3_1_,0x2067);
      FUN_0001952c(local_830);
    }
    iVar4 = iVar4 + 1;
    pcVar8 = "Alive";
    if (*(char *)((int)puVar6 + 0x61) != '\0') {
      pcVar8 = "Dead";
    }
    snprintf(local_830,0x800,"%s Quota %d Prio %d: %s  User:%s\n",pcVar8,puVar6[0xe],puVar6[1],puVar6[0x29],puVar6[0x2b]
            );
    FUN_0001952c(local_830);
    wattr_off(DAT_000639d8,0x300000,0);
  } while( true );
}




undefined4 FUN_000276a8(void)

{
  int iVar1;
  char local_11 [5];
  
  pthread_setcanceltype(1,(int *)0x0);
  FUN_0002f02c("Input");
  if (DAT_000612f8 != '\0') {
    do {
      while( true ) {
        local_11[0] = wgetch(stdscr);
        iVar1 = strncasecmp(local_11,"q",1);
        if (iVar1 == 0) {
          FUN_00017328();
          return 0;
        }
        iVar1 = strncasecmp(local_11,"d",1);
        if (iVar1 != 0) break;
        FUN_00025d2c();
        if (DAT_000640b8 != '\0') goto LAB_00027768;
      }
      iVar1 = strncasecmp(local_11,"p",1);
      if (iVar1 == 0) {
        FUN_00026b74();
      }
      else {
        iVar1 = strncasecmp(local_11,"s",1);
        if (iVar1 == 0) {
          FUN_000263d4();
        }
      }
    } while (DAT_000640b8 == '\0');
LAB_00027768:
    FUN_00019060();
  }
  return 0;
}




void FUN_000277b0(void)

{
  int iVar1;
  int iVar2;
  
  iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00063d48);
  if (iVar1 != 0) {
    FUN_0000b4e4("lock_curses",0xb75);
  }
  if (DAT_000612f8 == '\0') {
    DAT_00064230 = initscr();
    if (DAT_00064230 == 0) {
      iVar2 = -1;
      iVar1 = iVar2;
    }
    else {
      iVar1 = *(short *)(DAT_00064230 + 6) + 1;
      iVar2 = *(short *)(DAT_00064230 + 4) + 1;
    }
    DAT_00063d60 = newwin(DAT_000612fc,iVar1,0,0);
    leaveok(DAT_00063d60,1);
    DAT_000639d8 = newwin(iVar2 - DAT_00061304,0,DAT_00061304,0);
    idlok(DAT_000639d8,1);
    scrollok(DAT_000639d8,1);
    leaveok(DAT_000639d8,1);
    cbreak();
    noecho();
    DAT_000612f8 = '\x01';
    DAT_00061300 = DAT_000612fc;
    iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063d48);
  }
  else {
    iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063d48);
  }
  if (iVar1 != 0) {
    FUN_0000b694("unlock_curses",0xb70);
  }
  (*DAT_00060178)();
  return;
}




void FUN_000278e0(int param_1)

{
  if (*(int *)(param_1 + 0xc) == 0) {
    *(undefined **)(param_1 + 0xc) = &DAT_0000f3a0;
  }
  if (*(int *)(param_1 + 0x10) == 0) {
    *(undefined **)(param_1 + 0x10) = &DAT_0000f35c;
  }
  if (*(int *)(param_1 + 0x14) == 0) {
    *(undefined **)(param_1 + 0x14) = &DAT_0000f360;
  }
  if (*(int *)(param_1 + 0x18) == 0) {
    *(undefined **)(param_1 + 0x18) = &DAT_0000f364;
  }
  if (*(int *)(param_1 + 0x20) == 0) {
    *(undefined1 **)(param_1 + 0x20) = &LAB_0000f368;
  }
  if (*(int *)(param_1 + 0x2c) == 0) {
    *(undefined1 **)(param_1 + 0x2c) = &LAB_0000f370;
  }
  if (*(int *)(param_1 + 0x30) == 0) {
    *(undefined1 **)(param_1 + 0x30) = &LAB_0000f378;
  }
  if (*(int *)(param_1 + 0x34) == 0) {
    *(undefined1 **)(param_1 + 0x34) = &LAB_0000f384;
  }
  if (*(int *)(param_1 + 0x38) == 0) {
    *(undefined1 **)(param_1 + 0x38) = &LAB_0000f38c;
  }
  if (*(int *)(param_1 + 0x54) == 0) {
    *(undefined **)(param_1 + 0x54) = &DAT_0000f394;
  }
  if (*(int *)(param_1 + 0x58) == 0) {
    *(undefined **)(param_1 + 0x58) = &DAT_0000f398;
  }
  if (*(int *)(param_1 + 0x5c) == 0) {
    *(undefined **)(param_1 + 0x5c) = &DAT_0000f39c;
  }
  if (*(int *)(param_1 + 0x3c) == 0) {
    *(code **)(param_1 + 0x3c) = FUN_00024a70;
  }
  if (*(int *)(param_1 + 0x4c) == 0) {
    *(undefined **)(param_1 + 0x4c) = &DAT_0000f35c;
  }
  if (*(int *)(param_1 + 0x50) == 0) {
    *(undefined **)(param_1 + 0x50) = &DAT_0000f35c;
  }
  if (*(int *)(param_1 + 0x48) == 0) {
    *(undefined1 **)(param_1 + 0x48) = &LAB_0000f368;
  }
  if (*(int *)(param_1 + 0x60) == 0) {
    *(undefined **)(param_1 + 0x60) = &DAT_0000f35c;
  }
  if (*(double *)(param_1 + 0x68) == 0.0) {
    *(undefined4 *)(param_1 + 0x68) = 0;
    *(undefined4 *)(param_1 + 0x6c) = 0x3ff00000;
  }
  return;
}




void FUN_00027b20(int *param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  param_1[8] = 0;
  iVar3 = pthread_rwlock_wrlock((pthread_rwlock_t *)&DAT_00063ca0);
  if (iVar3 != 0) {
    FUN_0000b550("enable_device",0x2898);
  }
  iVar1 = DAT_00063bc8;
  iVar3 = DAT_000629dc;
  iVar2 = DAT_000629dc + 1;
  *param_1 = DAT_000629dc;
  DAT_000629dc = iVar2;
  *(int **)(iVar1 + iVar3 * 4) = param_1;
  iVar3 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_00063ca0);
  if (iVar3 != 0) {
    FUN_0000b700("enable_device",0x289a);
  }
  (*DAT_00060178)();
  if (DAT_00063d70 == '\0') {
    DAT_0006410c = param_1[0x25] + DAT_0006410c;
  }
  else {
    DAT_000629e0 = param_1[0x25] + DAT_000629e0;
  }
  iVar3 = pthread_rwlock_init((pthread_rwlock_t *)(param_1 + 0x50),(pthread_rwlockattr_t *)0x0);
  if (iVar3 != 0) {
    FUN_0000b628("enable_device",0x28a1);
  }
  param_1[0x58] = 0;
  return;
}




undefined4 FUN_00027c18(int param_1)

{
  byte *pbVar1;
  byte *pbVar2;
  byte *pbVar3;
  byte *pbVar4;
  byte *pbVar5;
  byte bVar6;
  size_t sVar7;
  byte *pbVar8;
  undefined4 uVar9;
  time_t tVar10;
  void *pvVar11;
  byte *__s;
  uint uVar12;
  uint uVar13;
  int iVar14;
  byte *pbVar15;
  int iVar16;
  int iVar17;
  byte *pbVar18;
  undefined4 *puVar19;
  byte *pbVar20;
  int *piVar21;
  uint uVar22;
  uint uVar23;
  uint uVar24;
  int iVar25;
  uint local_2c;
  
  __s = DAT_000629e4;
  if (DAT_000629e4 == (byte *)0x0) {
    __s = (byte *)malloc(0x28);
    uVar9 = **(undefined4 **)(*(int *)(param_1 + 4) + 8);
    __s[4] = 0;
    __s[5] = 0;
    __s[6] = 0;
    __s[7] = 0;
    *(undefined4 *)__s = uVar9;
    *(undefined4 *)(param_1 + 8) = 0;
    __s[0x10] = 0;
    __s[0x11] = 0;
    __s[0x12] = 0;
    __s[0x13] = 0;
    *(byte **)(__s + 0x1c) = __s;
    sVar7 = strlen((char *)__s);
    __s[0xc] = 0;
    __s[0xd] = 0;
    __s[0xe] = 0;
    __s[0xf] = 0;
    DAT_000629e4 = __s;
    *(size_t *)(__s + 0x20) = sVar7;
    puVar19 = (undefined4 *)malloc(0x2c);
    *(undefined4 **)(__s + 8) = puVar19;
    if (puVar19 == (undefined4 *)0x0) goto LAB_000285e4;
    *puVar19 = 0;
    puVar19[3] = 0;
    pbVar15 = __s + 8;
    puVar19[4] = 0;
    puVar19[5] = 0;
    puVar19[6] = 0;
    puVar19[7] = 0;
    puVar19[8] = 0;
    puVar19[9] = 0;
    puVar19[10] = 0;
    puVar19[4] = pbVar15;
    puVar19[1] = 0x20;
    puVar19[2] = 5;
    puVar19[5] = 8;
    pvVar11 = malloc(0x180);
    *puVar19 = pvVar11;
    if (pvVar11 == (void *)0x0) goto LAB_000285e4;
    memset(pvVar11,0,0x180);
    puVar19[10] = 0xa0111fe1;
    pbVar8 = __s;
  }
  else {
    pbVar18 = *(byte **)(*(int *)(param_1 + 4) + 8);
    sVar7 = strlen((char *)pbVar18);
    uVar24 = 0x9e3779b9;
    uVar12 = 0xfeedbeef;
    pbVar15 = pbVar18;
    uVar22 = uVar24;
    for (uVar13 = sVar7; 0xb < uVar13; uVar13 = uVar13 - 0xc) {
      pbVar8 = pbVar15 + 2;
      pbVar20 = pbVar15 + 1;
      pbVar1 = pbVar15 + 10;
      pbVar2 = pbVar15 + 9;
      bVar6 = *pbVar15;
      iVar25 = (uint)pbVar15[6] * 0x10000 + (uint)pbVar15[5] * 0x100 + (uint)pbVar15[4] + (uint)pbVar15[7] * 0x1000000 +
               uVar22;
      pbVar3 = pbVar15 + 8;
      pbVar4 = pbVar15 + 3;
      pbVar5 = pbVar15 + 0xb;
      pbVar15 = pbVar15 + 0xc;
      uVar12 = (uint)*pbVar1 * 0x10000 + (uint)*pbVar2 * 0x100 + (uint)*pbVar3 + (uint)*pbVar5 * 0x1000000 + uVar12;
      uVar22 = ((((uint)*pbVar8 * 0x10000 + (uint)*pbVar20 * 0x100 + (uint)bVar6 + (uint)*pbVar4 * 0x1000000) - iVar25)
               - uVar12) + uVar24 ^ uVar12 >> 0xd;
      uVar24 = (iVar25 - uVar12) - uVar22 ^ uVar22 << 8;
      uVar12 = (uVar12 - uVar22) - uVar24 ^ uVar24 >> 0xd;
      uVar23 = (uVar22 - uVar24) - uVar12 ^ uVar12 >> 0xc;
      uVar22 = (uVar24 - uVar12) - uVar23 ^ uVar23 << 0x10;
      uVar12 = (uVar12 - uVar23) - uVar22 ^ uVar22 >> 5;
      uVar24 = (uVar23 - uVar22) - uVar12 ^ uVar12 >> 3;
      uVar22 = (uVar22 - uVar12) - uVar24 ^ uVar24 << 10;
      uVar12 = (uVar12 - uVar24) - uVar22 ^ uVar22 >> 0xf;
    }
    uVar12 = uVar12 + sVar7;
    switch(uVar13) {
    case 0xb:
      uVar12 = uVar12 + (uint)pbVar15[10] * 0x1000000;
    case 10:
      uVar12 = uVar12 + (uint)pbVar15[9] * 0x10000;
    case 9:
      uVar12 = uVar12 + (uint)pbVar15[8] * 0x100;
    case 8:
      uVar22 = uVar22 + (uint)pbVar15[7] * 0x1000000;
    case 7:
      uVar22 = uVar22 + (uint)pbVar15[6] * 0x10000;
    case 6:
      uVar22 = uVar22 + (uint)pbVar15[5] * 0x100;
    case 5:
      uVar22 = uVar22 + pbVar15[4];
    case 4:
      uVar24 = uVar24 + (uint)pbVar15[3] * 0x1000000;
    case 3:
      uVar24 = uVar24 + (uint)pbVar15[2] * 0x10000;
    case 2:
      uVar24 = uVar24 + (uint)pbVar15[1] * 0x100;
    case 1:
      uVar24 = uVar24 + *pbVar15;
    default:
      piVar21 = *(int **)(__s + 8);
      uVar24 = (uVar24 - uVar22) - uVar12 ^ uVar12 >> 0xd;
      uVar22 = (uVar22 - uVar12) - uVar24 ^ uVar24 << 8;
      uVar12 = (uVar12 - uVar24) - uVar22 ^ uVar22 >> 0xd;
      uVar24 = (uVar24 - uVar22) - uVar12 ^ uVar12 >> 0xc;
      uVar22 = (uVar22 - uVar12) - uVar24 ^ uVar24 << 0x10;
      uVar12 = (uVar12 - uVar24) - uVar22 ^ uVar22 >> 5;
      uVar24 = (uVar24 - uVar22) - uVar12 ^ uVar12 >> 3;
      uVar22 = (uVar22 - uVar12) - uVar24 ^ uVar24 << 10;
      iVar25 = *(int *)(*piVar21 + (((uVar12 - uVar24) - uVar22 ^ uVar22 >> 0xf) & piVar21[1] - 1U) * 0xc);
      if (iVar25 != 0) {
        iVar25 = iVar25 - piVar21[5];
      }
    }
    for (; iVar25 != 0; iVar25 = *(int *)(iVar25 + 0x18) - piVar21[5]) {
      if ((sVar7 == *(size_t *)(iVar25 + 0x20)) &&
         (iVar14 = memcmp(*(void **)(iVar25 + 0x1c),pbVar18,sVar7), iVar14 == 0)) {
        iVar14 = *(int *)(iVar25 + 4) + 1;
        *(int *)(iVar25 + 4) = iVar14;
        *(int *)(param_1 + 8) = iVar14;
        goto LAB_000280b8;
      }
      if (*(int *)(iVar25 + 0x18) == 0) break;
    }
    pbVar8 = (byte *)malloc(0x28);
    uVar9 = *(undefined4 *)pbVar18;
    pbVar8[4] = 0;
    pbVar8[5] = 0;
    pbVar8[6] = 0;
    pbVar8[7] = 0;
    pbVar15 = pbVar8 + 8;
    *(undefined4 *)pbVar8 = uVar9;
    *(undefined4 *)(param_1 + 8) = 0;
    pbVar8[0x10] = 0;
    pbVar8[0x11] = 0;
    pbVar8[0x12] = 0;
    pbVar8[0x13] = 0;
    *(byte **)(pbVar8 + 0x1c) = pbVar8;
    sVar7 = strlen((char *)pbVar8);
    *(size_t *)(pbVar8 + 0x20) = sVar7;
    *(byte **)(*(int *)(*(int *)(__s + 8) + 0x10) + 8) = pbVar8;
    *(int *)(pbVar8 + 0xc) = *(int *)(*(int *)(__s + 8) + 0x10) - *(int *)(*(int *)(__s + 8) + 0x14);
    *(byte **)(*(int *)(__s + 8) + 0x10) = pbVar15;
    puVar19 = *(undefined4 **)(__s + 8);
  }
  uVar13 = 0xfeedbeef;
  puVar19[3] = puVar19[3] + 1;
  uVar9 = *(undefined4 *)(__s + 8);
  pbVar8[0x24] = 0xef;
  pbVar8[0x25] = 0xbe;
  pbVar8[0x26] = 0xed;
  pbVar8[0x27] = 0xfe;
  uVar23 = 0x9e3779b9;
  *(undefined4 *)(pbVar8 + 8) = uVar9;
  uVar22 = strlen((char *)pbVar8);
  pbVar18 = pbVar8;
  pbVar20 = pbVar8;
  uVar24 = uVar23;
  uVar12 = uVar22;
  if (0xb < uVar22) {
    do {
      uVar12 = uVar22 - 0xc;
      uVar13 = (uint)pbVar18[10] * 0x10000 + (uint)pbVar18[9] * 0x100 + (uint)pbVar18[8] +
               (uint)pbVar18[0xb] * 0x1000000 + uVar13;
      pbVar20 = pbVar18 + 0xc;
      iVar25 = (uint)pbVar18[6] * 0x10000 + (uint)pbVar18[5] * 0x100 + (uint)pbVar18[4] + (uint)pbVar18[7] * 0x1000000 +
               uVar24;
      uVar24 = ((((uint)pbVar18[2] * 0x10000 + (uint)pbVar18[1] * 0x100 + (uint)*pbVar18 + (uint)pbVar18[3] * 0x1000000)
                - uVar13) - iVar25) + uVar23 ^ uVar13 >> 0xd;
      uVar22 = (iVar25 - uVar13) - uVar24 ^ uVar24 << 8;
      uVar13 = (uVar13 - uVar24) - uVar22 ^ uVar22 >> 0xd;
      uVar24 = (uVar24 - uVar22) - uVar13 ^ uVar13 >> 0xc;
      uVar22 = (uVar22 - uVar13) - uVar24 ^ uVar24 << 0x10;
      uVar13 = (uVar13 - uVar24) - uVar22 ^ uVar22 >> 5;
      uVar23 = (uVar24 - uVar22) - uVar13 ^ uVar13 >> 3;
      uVar24 = (uVar22 - uVar13) - uVar23 ^ uVar23 << 10;
      uVar13 = (uVar13 - uVar23) - uVar24 ^ uVar24 >> 0xf;
      *(uint *)(pbVar8 + 0x24) = uVar13;
      pbVar18 = pbVar20;
      uVar22 = uVar12;
    } while (0xb < uVar12);
    uVar22 = strlen((char *)pbVar8);
  }
  uVar22 = uVar22 + uVar13;
  *(uint *)(pbVar8 + 0x24) = uVar22;
  switch(uVar12) {
  case 0xb:
    uVar22 = uVar22 + (uint)pbVar20[10] * 0x1000000;
    *(uint *)(pbVar8 + 0x24) = uVar22;
  case 10:
    uVar22 = uVar22 + (uint)pbVar20[9] * 0x10000;
    *(uint *)(pbVar8 + 0x24) = uVar22;
  case 9:
    uVar22 = uVar22 + (uint)pbVar20[8] * 0x100;
    *(uint *)(pbVar8 + 0x24) = uVar22;
  case 8:
    uVar24 = uVar24 + (uint)pbVar20[7] * 0x1000000;
  case 7:
    uVar24 = uVar24 + (uint)pbVar20[6] * 0x10000;
  case 6:
    uVar24 = uVar24 + (uint)pbVar20[5] * 0x100;
  case 5:
    uVar24 = uVar24 + pbVar20[4];
  case 4:
    uVar23 = uVar23 + (uint)pbVar20[3] * 0x1000000;
  case 3:
    uVar23 = uVar23 + (uint)pbVar20[2] * 0x10000;
  case 2:
    uVar23 = uVar23 + (uint)pbVar20[1] * 0x100;
  case 1:
    uVar23 = uVar23 + *pbVar20;
  }
  uVar12 = (uVar23 - uVar24) - uVar22 ^ uVar22 >> 0xd;
  uVar13 = (uVar24 - uVar22) - uVar12 ^ uVar12 << 8;
  uVar23 = (uVar22 - uVar12) - uVar13 ^ uVar13 >> 0xd;
  uVar24 = (uVar12 - uVar13) - uVar23 ^ uVar23 >> 0xc;
  uVar22 = (uVar13 - uVar23) - uVar24 ^ uVar24 << 0x10;
  uVar12 = (uVar23 - uVar24) - uVar22 ^ uVar22 >> 5;
  uVar24 = (uVar24 - uVar22) - uVar12 ^ uVar12 >> 3;
  uVar22 = (uVar22 - uVar12) - uVar24 ^ uVar24 << 10;
  uVar24 = (uVar12 - uVar24) - uVar22 ^ uVar22 >> 0xf;
  *(uint *)(pbVar8 + 0x24) = uVar24;
  iVar25 = (uVar24 & (*(int **)(__s + 8))[1] - 1U) * 0xc;
  iVar14 = **(int **)(__s + 8) + iVar25;
  *(int *)(iVar14 + 4) = *(int *)(iVar14 + 4) + 1;
  uVar9 = *(undefined4 *)(**(int **)(__s + 8) + iVar25);
  pbVar8[0x14] = 0;
  pbVar8[0x15] = 0;
  pbVar8[0x16] = 0;
  pbVar8[0x17] = 0;
  *(undefined4 *)(pbVar8 + 0x18) = uVar9;
  iVar14 = **(int **)(__s + 8);
  if (*(int *)(iVar14 + iVar25) != 0) {
    *(byte **)(*(int *)(iVar14 + iVar25) + 0xc) = pbVar15;
    iVar14 = **(int **)(__s + 8);
  }
  *(byte **)(iVar14 + iVar25) = pbVar15;
  if (((uint)((*(int *)(**(int **)(__s + 8) + iVar25 + 8) + 1) * 10) <= *(uint *)(**(int **)(__s + 8) + iVar25 + 4)) &&
     (iVar25 = *(int *)(pbVar8 + 8), *(int *)(iVar25 + 0x24) != 1)) {
    sVar7 = *(int *)(iVar25 + 4) * 0x18;
    pvVar11 = malloc(sVar7);
    if (pvVar11 == (void *)0x0) {
LAB_000285e4:
                    /* WARNING: Subroutine does not return */
      exit(-1);
    }
    memset(pvVar11,0,sVar7);
    iVar14 = 0;
    *(uint *)(iVar25 + 0x18) =
         (uint)((*(int *)(iVar25 + 4) * 2 - 1U & *(uint *)(iVar25 + 0xc)) != 0) +
         (*(uint *)(iVar25 + 0xc) >> (*(int *)(iVar25 + 8) + 1U & 0xff));
    *(undefined4 *)(*(int *)(pbVar8 + 8) + 0x1c) = 0;
    piVar21 = *(int **)(pbVar8 + 8);
    uVar24 = piVar21[1];
    if (uVar24 != 0) {
      local_2c = 0;
      do {
        iVar25 = *(int *)(*piVar21 + iVar14);
        if (*(int *)(*piVar21 + iVar14) != 0) {
          while( true ) {
            iVar17 = *(int *)(iVar25 + 0x10);
            uVar22 = uVar24 * 2 - 1 & *(uint *)(iVar25 + 0x1c);
            uVar24 = *(int *)((int)pvVar11 + uVar22 * 0xc + 4) + 1;
            *(uint *)((int)pvVar11 + uVar22 * 0xc + 4) = uVar24;
            if ((uint)piVar21[6] < uVar24) {
              piVar21[7] = piVar21[7] + 1;
              uVar9 = FUN_00048ec0(*(undefined4 *)((int)pvVar11 + uVar22 * 0xc + 4),
                                   *(undefined4 *)(*(int *)(pbVar8 + 8) + 0x18));
              *(undefined4 *)((int)pvVar11 + uVar22 * 0xc + 8) = uVar9;
            }
            *(undefined4 *)(iVar25 + 0xc) = 0;
            *(undefined4 *)(iVar25 + 0x10) = *(undefined4 *)((int)pvVar11 + uVar22 * 0xc);
            iVar16 = *(int *)((int)pvVar11 + uVar22 * 0xc);
            if (iVar16 != 0) {
              *(int *)(iVar16 + 0xc) = iVar25;
            }
            *(int *)((int)pvVar11 + uVar22 * 0xc) = iVar25;
            piVar21 = *(int **)(pbVar8 + 8);
            if (iVar17 == 0) break;
            uVar24 = piVar21[1];
            iVar25 = iVar17;
          }
          uVar24 = piVar21[1];
        }
        iVar14 = iVar14 + 0xc;
        local_2c = local_2c + 1;
      } while (local_2c < uVar24);
    }
    free((void *)*piVar21);
    *(int *)(*(int *)(pbVar8 + 8) + 4) = *(int *)(*(int *)(pbVar8 + 8) + 4) << 1;
    *(int *)(*(int *)(pbVar8 + 8) + 8) = *(int *)(*(int *)(pbVar8 + 8) + 8) + 1;
    **(undefined4 **)(pbVar8 + 8) = pvVar11;
    iVar25 = *(int *)(pbVar8 + 8);
    if (*(uint *)(iVar25 + 0xc) >> 1 < *(uint *)(iVar25 + 0x1c)) {
      iVar14 = *(int *)(iVar25 + 0x20) + 1;
    }
    else {
      iVar14 = 0;
    }
    *(int *)(iVar25 + 0x20) = iVar14;
    if (1 < *(uint *)(*(int *)(pbVar8 + 8) + 0x20)) {
      *(undefined4 *)(*(int *)(pbVar8 + 8) + 0x24) = 1;
    }
  }
LAB_000280b8:
  iVar25 = pthread_rwlock_wrlock((pthread_rwlock_t *)&DAT_00063ca0);
  if (iVar25 != 0) {
    FUN_0000b550("add_cgpu",0x28d0);
  }
  DAT_00063bc8 = realloc(DAT_00063bc8,(DAT_00063cc0 + DAT_000629e8 + 2) * 4);
  iVar25 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_00063ca0);
  if (iVar25 != 0) {
    FUN_0000b700("add_cgpu",0x28d2);
  }
  (*DAT_00060178)();
  iVar25 = pthread_mutex_lock((pthread_mutex_t *)&DAT_000632f4);
  if (iVar25 != 0) {
    FUN_0000b4e4("add_cgpu",0x28d4);
  }
  tVar10 = time((time_t *)0x0);
  *(time_t *)(param_1 + 0xe8) = tVar10;
  iVar25 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_000632f4);
  if (iVar25 != 0) {
    FUN_0000b694("add_cgpu",0x28d6);
  }
  (*DAT_00060178)();
  if (DAT_00063d70 == '\0') {
    *(int *)((int)DAT_00063bc8 + DAT_00063cc0 * 4) = param_1;
    DAT_00063cc0 = DAT_00063cc0 + 1;
  }
  else {
    iVar25 = DAT_000629e8 + DAT_00063cc0;
    DAT_000629e8 = DAT_000629e8 + 1;
    *(int *)((int)DAT_00063bc8 + iVar25 * 4) = param_1;
  }
  if (DAT_0006130c < DAT_00063cc0 - DAT_00063e50) {
    DAT_0006130c = DAT_00063cc0 - DAT_00063e50;
  }
  return 1;
}




void * FUN_00028650(void *param_1)

{
  void *__dest;
  char *pcVar1;
  char acStack_810 [2048];
  
  __dest = malloc(0x80);
  if (__dest == (void *)0x0) {
    pcVar1 = "original";
    if (*(char *)((int)param_1 + 100) != '\0') {
      pcVar1 = "copy";
    }
    snprintf(acStack_810,0x800,"Failed to allocate device_drv copy of %s (%s)",*(undefined4 *)((int)param_1 + 8),pcVar1)
    ;
    FUN_00038438(3,acStack_810,1);
    FUN_00016724(1);
  }
  memcpy(__dest,param_1,0x80);
  *(undefined1 *)((int)__dest + 100) = 1;
  return __dest;
}




undefined4 FUN_000286f0(void)

{
  return 0;
}




void FUN_000286f8(int param_1)

{
  if (*(undefined1 **)(param_1 + 0x248) != (undefined1 *)0x0) {
    **(undefined1 **)(param_1 + 0x248) = 0;
  }
  return;
}




bool FUN_0002870c(int param_1,uint param_2)

{
  __suseconds_t *p_Var1;
  int iVar2;
  int iVar3;
  timeval local_a0;
  fd_set local_98;
  
  iVar3 = *(int *)(param_1 + 0x244);
  local_a0.tv_sec = param_2 & ~((int)param_2 >> 0x1f);
  p_Var1 = &local_a0.tv_usec;
  do {
    p_Var1 = p_Var1 + 1;
    *p_Var1 = 0;
  } while (p_Var1 != local_98.fds_bits + 0x1f);
  iVar2 = iVar3 + 0x1f;
  if (-1 < iVar3) {
    iVar2 = iVar3;
  }
  local_a0.tv_usec = 0;
  local_98.fds_bits[iVar2 >> 5] = local_98.fds_bits[iVar2 >> 5] | 1 << (iVar3 % 0x20 & 0xffU);
  iVar3 = select(iVar3 + 1,&local_98,(fd_set *)0x0,(fd_set *)0x0,&local_a0);
  return 0 < iVar3;
}




void FUN_000287ac(int param_1)

{
  uint uVar1;
  
  uVar1 = fcntl(param_1,3,0);
  fcntl(param_1,4,uVar1 & 0xfffff7ff);
  return;
}




uint FUN_000287d4(int param_1)

{
  uint uVar1;
  byte local_9 [5];
  
  uVar1 = recv(param_1,local_9,1,0);
  if (uVar1 != 0xffffffff) {
    uVar1 = (uint)local_9[0];
  }
  return uVar1;
}




undefined4 FUN_000287fc(int param_1,int param_2,int param_3)

{
  byte bVar1;
  size_t __n;
  ssize_t sVar2;
  int iVar3;
  char *__format;
  undefined4 uVar4;
  byte *pbVar5;
  undefined4 uVar6;
  byte bStack_c21;
  byte local_c20 [1024];
  char acStack_820 [2052];
  
  uVar4 = *(undefined4 *)(param_1 + 0x250);
  uVar6 = *(undefined4 *)(param_1 + 0x240);
  if (param_3 == 0) {
    snprintf((char *)local_c20,0x400,"CONNECT %s:%s HTTP/1.1\r\nHost: %s:%s\r\n\r\n",uVar4,uVar6,uVar4,uVar6);
  }
  else {
    snprintf((char *)local_c20,0x400,"CONNECT %s:%s HTTP/1.0\r\n\r\n",uVar4,uVar6);
  }
  if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    snprintf(acStack_820,0x800,"Sending proxy %s:%s - %s",*(undefined4 *)(param_1 + 0x254),
             *(undefined4 *)(param_1 + 600),local_c20);
    FUN_00038438(7,acStack_820,0);
  }
  __n = strlen((char *)local_c20);
  send(param_2,local_c20,__n,0);
  sVar2 = recv(param_2,local_c20,0xc,0);
  if (sVar2 < 1) {
    if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 4)) {
      return 0;
    }
    uVar4 = *(undefined4 *)(param_1 + 0x254);
    uVar6 = *(undefined4 *)(param_1 + 600);
    __format = "Couldn\'t read from proxy %s:%s after sending CONNECT";
  }
  else {
    local_c20[sVar2] = 0;
    if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      snprintf(acStack_820,0x800,"Received from proxy %s:%s - %s",*(undefined4 *)(param_1 + 0x254),
               *(undefined4 *)(param_1 + 600),local_c20);
      FUN_00038438(7,acStack_820,0);
    }
    iVar3 = strcmp((char *)local_c20,"HTTP/1.1 200");
    if ((iVar3 != 0) && (iVar3 = strcmp((char *)local_c20,"HTTP/1.0 200"), iVar3 != 0)) {
      if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 4)) {
        return 0;
      }
      snprintf(acStack_820,0x800,"HTTP Error from proxy %s:%s - %s",*(undefined4 *)(param_1 + 0x254),
               *(undefined4 *)(param_1 + 600),local_c20);
      goto LAB_00028a0c;
    }
    pbVar5 = &bStack_c21;
    do {
      bVar1 = FUN_000287d4(param_2);
      pbVar5 = pbVar5 + 1;
      *pbVar5 = bVar1;
      if (bVar1 == 0xff) goto LAB_000289c0;
    } while (pbVar5 != local_c20 + 3);
    do {
      iVar3 = strncmp((char *)local_c20,"\r\n\r\n",4);
      if (iVar3 == 0) {
        if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
          snprintf(acStack_820,0x800,"Success negotiating with %s:%s HTTP proxy",*(undefined4 *)(param_1 + 0x254),
                   *(undefined4 *)(param_1 + 600));
          FUN_00038438(7,acStack_820,0);
          return 1;
        }
        return 1;
      }
      local_c20[0] = local_c20[1];
      local_c20[1] = local_c20[2];
      local_c20[2] = local_c20[3];
      local_c20[3] = FUN_000287d4(param_2);
    } while (local_c20[3] != 0xff);
LAB_000289c0:
    if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 4)) {
      return 0;
    }
    uVar4 = *(undefined4 *)(param_1 + 0x254);
    uVar6 = *(undefined4 *)(param_1 + 600);
    __format = "Couldn\'t read HTTP byte from proxy %s:%s";
  }
  snprintf(acStack_820,0x800,__format,uVar4,uVar6);
LAB_00028a0c:
  FUN_00038438(4,acStack_820,0);
  return 0;
}




undefined4 FUN_00028bd0(int param_1,int param_2,int param_3)

{
  long lVar1;
  in_addr_t iVar2;
  int iVar3;
  size_t __n;
  uint uVar4;
  char *__s;
  addrinfo *local_a48;
  addrinfo aStack_a44;
  undefined1 local_a24;
  undefined1 local_a23;
  undefined1 local_a22;
  undefined1 local_a21;
  undefined1 local_a20;
  undefined1 local_a1f;
  undefined1 local_a1e;
  undefined1 local_a1d;
  char acStack_a1c [4];
  char acStack_a18 [4];
  undefined1 auStack_a14 [500];
  addrinfo local_820 [64];
  
  local_a24 = 4;
  local_a23 = 1;
  lVar1 = strtol(*(char **)(param_1 + 0x240),(char **)0x0,10);
  local_a21 = (undefined1)lVar1;
  local_a22 = (undefined1)((uint)lVar1 >> 8);
  acStack_a1c[0] = 'C';
  acStack_a1c[1] = 'G';
  acStack_a1c[2] = 'M';
  acStack_a1c[3] = 'I';
  acStack_a18[0] = 'N';
  acStack_a18[1] = 'E';
  acStack_a18[2] = 'R';
  acStack_a18[3] = '\0';
  iVar2 = inet_addr(*(char **)(param_1 + 0x250));
  uVar4 = iVar2 << 0x18 | (iVar2 >> 8 & 0xff) << 0x10 | (iVar2 >> 0x10 & 0xff) << 8 | iVar2 >> 0x18;
  if (uVar4 == 0xffffffff) {
    local_820[0].ai_socktype = 0;
    local_a48 = &aStack_a44;
    local_820[0].ai_protocol = 0;
    local_820[0].ai_addrlen = 0;
    local_820[0].ai_addr = (sockaddr *)0x0;
    local_820[0].ai_flags = 0;
    local_820[0].ai_canonname = (char *)0x0;
    local_820[0].ai_family = 2;
    local_820[0].ai_next = (addrinfo *)0x0;
    iVar3 = getaddrinfo(*(char **)(param_1 + 0x250),(char *)0x0,local_820,&local_a48);
    if (iVar3 == 0) {
      uVar4 = *(uint *)(local_a48->ai_addr->sa_data + 2);
      freeaddrinfo(local_a48);
      uVar4 = uVar4 << 0x18 | (uVar4 >> 8 & 0xff) << 0x10 | (uVar4 >> 0x10 & 0xff) << 8 | uVar4 >> 0x18;
      if (uVar4 == 0xffffffff) goto LAB_00028ddc;
      goto LAB_00028c34;
    }
    if (param_3 == 0) {
LAB_00028ddc:
      if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 4)) {
        return 0;
      }
      snprintf((char *)local_820,0x800,"Invalid IP address specified for socks4 proxy: %s",
               *(undefined4 *)(param_1 + 0x250));
      goto LAB_00028cc0;
    }
    __s = *(char **)(param_1 + 0x250);
    local_a20 = 0;
    local_a1f = 0;
    local_a1e = 0;
    local_a1d = 1;
    __n = strlen(__s);
    if (0xfe < (int)__n) {
      __n = 0xff;
    }
    memcpy(auStack_a14,__s,__n);
    auStack_a14[__n] = 0;
    send(param_2,&local_a24,__n + 0x11,0);
  }
  else {
LAB_00028c34:
    local_a1d = (undefined1)uVar4;
    local_a20 = (undefined1)(uVar4 >> 0x18);
    local_a1f = (undefined1)(uVar4 >> 0x10);
    local_a1e = (undefined1)(uVar4 >> 8);
    send(param_2,&local_a24,0x10,0);
  }
  iVar3 = FUN_000287d4(param_2);
  if ((iVar3 == 0) && (iVar3 = FUN_000287d4(param_2), iVar3 == 0x5a)) {
    iVar3 = 6;
    do {
      FUN_000287d4(param_2);
      iVar3 = iVar3 + -1;
    } while (iVar3 != 0);
    return 1;
  }
  if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 4)) {
    return 0;
  }
  snprintf((char *)local_820,0x800,"Bad response from %s:%s SOCKS4 server",*(undefined4 *)(param_1 + 0x254),
           *(undefined4 *)(param_1 + 600));
LAB_00028cc0:
  FUN_00038438(4,local_820,0);
  return 0;
}




void FUN_00028e3c(timespec *param_1)

{
  int iVar1;
  
  do {
    iVar1 = clock_nanosleep(1,1,param_1,(timespec *)0x0);
  } while (iVar1 == 4);
  return;
}




undefined4 FUN_00028e64(int *param_1,uint param_2)

{
  uint uVar1;
  int *piVar2;
  undefined4 uVar3;
  
  if ((((param_1 != (int *)0x0) && (*param_1 != 7)) && (*param_1 == 1)) &&
     (((uVar1 = FUN_00046864(), param_2 <= uVar1 &&
       (piVar2 = (int *)FUN_00046880(param_1,param_2), piVar2 != (int *)0x0)) && (*piVar2 == 2)))) {
    uVar3 = FUN_000469f0();
    return uVar3;
  }
  return 0;
}




void FUN_00028ec4(void)

{
  int iVar1;
  
  iVar1 = FUN_00028e64();
  if (iVar1 == 0) {
    return;
  }
  __strdup();
  return;
}




undefined1 FUN_00028edc(byte *param_1,undefined4 param_2,undefined4 param_3)

{
  size_t sVar1;
  uint uVar2;
  size_t sVar3;
  char acStack_818 [2052];
  
  if (param_1 == (byte *)0x0) {
    if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 3)) {
      return 0;
    }
    snprintf(acStack_818,0x800,"Null string passed to valid_hex from in %s %s():%d","util.c",param_2,param_3);
  }
  else {
    sVar1 = strlen((char *)param_1);
    if ((int)sVar1 < 1) {
      return 1;
    }
    uVar2 = (uint)*param_1;
    if (-1 < *(int *)(&DAT_00051788 + uVar2 * 4)) {
      sVar3 = 0;
      do {
        sVar3 = sVar3 + 1;
        if (sVar1 == sVar3) {
          return 1;
        }
        param_1 = param_1 + 1;
        uVar2 = (uint)*param_1;
      } while (-1 < *(int *)(&DAT_00051788 + uVar2 * 4));
    }
    if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 3)) {
      return 0;
    }
    snprintf(acStack_818,0x800,"Invalid char 0x%x passed to valid_hex from in %s %s():%d",uVar2,"util.c",param_2,param_3
            );
  }
  FUN_00038438(3,acStack_818,0);
  return 0;
}




void FUN_00029018(pthread_rwlock_t *param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  int *piVar2;
  char acStack_810 [2052];
  
  iVar1 = pthread_rwlock_unlock(param_1);
  if (iVar1 != 0) {
    piVar2 = __errno_location();
    snprintf(acStack_810,0x800,"WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d",*piVar2,"util.c",param_2,param_3);
    FUN_00038438(3,acStack_810,1);
    FUN_00016724(1);
  }
  return;
}




void FUN_00029094(pthread_rwlock_t *param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  int *piVar2;
  char acStack_810 [2052];
  
  iVar1 = pthread_rwlock_wrlock(param_1);
  if (iVar1 != 0) {
    piVar2 = __errno_location();
    snprintf(acStack_810,0x800,"WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d",*piVar2,"util.c",param_2,param_3);
    FUN_00038438(3,acStack_810,1);
    FUN_00016724(1);
  }
  return;
}




void FUN_00029110(pthread_mutex_t *param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  int *piVar2;
  char acStack_810 [2052];
  
  iVar1 = pthread_mutex_unlock(param_1);
  if (iVar1 != 0) {
    piVar2 = __errno_location();
    snprintf(acStack_810,0x800,"WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d",*piVar2,"util.c",param_2,param_3);
    FUN_00038438(3,acStack_810,1);
    FUN_00016724(1);
  }
  return;
}




undefined4 FUN_0002918c(int param_1,char *param_2,int param_3)

{
  size_t sVar1;
  int iVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  size_t __n;
  uint uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  timeval local_b0;
  fd_set local_a8;
  
  sVar1 = strlen(param_2);
  __n = param_3 + 1;
  iVar4 = *(int *)(param_1 + 0x244);
  (param_2 + sVar1)[0] = '\n';
  (param_2 + sVar1)[1] = '\0';
  if (0 < (int)__n) {
    iVar5 = iVar4 + 0x1f;
    if (-1 < iVar4) {
      iVar5 = iVar4;
    }
    iVar6 = 0;
LAB_0002920c:
    local_b0.tv_usec = 0;
    local_b0.tv_sec = 1;
    uVar7 = 0;
    do {
      if (0x1f < uVar7) {
        local_a8.fds_bits[iVar5 >> 5] = 1 << (iVar4 % 0x20 & 0xffU) | local_a8.fds_bits[iVar5 >> 5];
        iVar2 = select(iVar4 + 1,(fd_set *)0x0,&local_a8,(fd_set *)0x0,&local_b0);
        if (0 < iVar2) goto LAB_00029278;
        piVar3 = __errno_location();
        uVar7 = 0;
        if (*piVar3 != 4) {
          return 1;
        }
      }
      local_a8.fds_bits[uVar7] = 0;
      uVar7 = uVar7 + 1;
    } while( true );
  }
  uVar8 = 0;
LAB_000292b0:
  uVar9 = VectorAdd(*(undefined8 *)(param_1 + 0x1f0),uVar8,8);
  *(undefined8 *)(param_1 + 0x1f0) = uVar9;
  uVar7 = *(uint *)(param_1 + 0x1e8);
  uVar8 = VectorAdd(*(undefined8 *)(param_1 + 0x1f8),uVar8,8);
  *(undefined8 *)(param_1 + 0x1f8) = uVar8;
  *(uint *)(param_1 + 0x1e8) = uVar7 + 1;
  *(uint *)(param_1 + 0x1ec) = *(int *)(param_1 + 0x1ec) + (uint)(0xfffffffe < uVar7);
  return 0;
LAB_00029278:
  iVar2 = send(*(int *)(param_1 + 0x244),param_2 + iVar6,__n,0x4000);
  if (iVar2 < 0) {
    piVar3 = __errno_location();
    if (*piVar3 != 0xb) {
      return 2;
    }
    iVar2 = 0;
  }
  __n = __n - iVar2;
  iVar6 = iVar6 + iVar2;
  if ((int)__n < 1) goto code_r0x000292a8;
  goto LAB_0002920c;
code_r0x000292a8:
  uVar8 = VectorShiftRight(CONCAT44(iVar6,iVar6),0x20);
  goto LAB_000292b0;
}




void FUN_00029394(int param_1)

{
  int iVar1;
  ssize_t sVar2;
  
  iVar1 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0x2a0));
  if (iVar1 != 0) {
    FUN_0000b7d8("clear_sock",0x727);
  }
  do {
    if (*(int *)(param_1 + 0x244) == 0) break;
    sVar2 = recv(*(int *)(param_1 + 0x244),*(void **)(param_1 + 0x248),0x1ffc,0);
  } while (0 < sVar2);
  FUN_00029110((pthread_mutex_t *)(param_1 + 0x2a0),"clear_sock",0x72e);
  (*DAT_00060178)();
  FUN_000286f8(param_1);
  return;
}




char * FUN_00029418(int param_1)

{
  int *piVar1;
  int *piVar2;
  undefined *puVar3;
  
  if (param_1 == 0) {
    return "http:";
  }
  puVar3 = &UNK_00051ba4;
  do {
    piVar2 = (int *)(puVar3 + 8);
    if ((char *)*piVar2 == (char *)0x0) {
      return "invalid";
    }
    piVar1 = (int *)(puVar3 + 0xc);
    puVar3 = puVar3 + 8;
  } while (*piVar1 != param_1);
  return (char *)*piVar2;
}




void FUN_00029460(char *param_1,byte *param_2,int param_3)

{
  char *pcVar1;
  
  pcVar1 = param_1;
  if (0 < param_3) {
    pcVar1 = param_1 + param_3 * 2;
    do {
      *param_1 = "0123456789abcdefbin2hex"[*param_2 >> 4];
      param_1[1] = "0123456789abcdefbin2hex"[*param_2 & 0xf];
      param_1 = param_1 + 2;
      param_2 = param_2 + 1;
    } while (pcVar1 != param_1);
  }
  *pcVar1 = '\0';
  return;
}




char * FUN_000294b8(int param_1,int param_2)

{
  byte *pbVar1;
  char cVar2;
  char *pcVar3;
  char *pcVar4;
  int iVar5;
  char acStack_818 [2048];
  
  iVar5 = param_2 * 2 + 1;
  pcVar3 = (char *)calloc((4 - iVar5 % 4) + iVar5,1);
  if (pcVar3 == (char *)0x0) {
    snprintf(acStack_818,0x800,"Failed to calloc in %s %s():%d","util.c","bin2hex",0x359);
    FUN_00038438(3,acStack_818,1);
    FUN_00016724(1);
  }
  pcVar4 = pcVar3;
  if (0 < param_2) {
    iVar5 = 0;
    do {
      pbVar1 = (byte *)(param_1 + iVar5);
      iVar5 = iVar5 + 1;
      cVar2 = "0123456789abcdefbin2hex"[*pbVar1 >> 4];
      pcVar4[1] = "0123456789abcdefbin2hex"[*pbVar1 & 0xf];
      *pcVar4 = cVar2;
      pcVar4 = pcVar4 + 2;
    } while (iVar5 != param_2);
    pcVar4 = pcVar3 + param_2 * 2;
  }
  *pcVar4 = '\0';
  return pcVar3;
}




int FUN_000295b8(byte *param_1,byte *param_2,uint param_3)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  char local_810 [4];
  char acStack_80c [4];
  char acStack_808 [4];
  char acStack_804 [4];
  char local_800 [4];
  undefined2 local_7fc;
  
  uVar2 = (uint)*param_2;
  if (uVar2 == 0) {
LAB_00029634:
    iVar1 = 1 - param_3;
    if (1 < param_3) {
      iVar1 = 0;
    }
  }
  else {
    if (param_3 != 0) {
      uVar3 = (uint)param_2[1];
      if (uVar3 != 0) {
        param_2 = param_2 + 2;
        do {
          if ((int)(*(uint *)(&DAT_00051788 + uVar3 * 4) | *(uint *)(&DAT_00051788 + uVar2 * 4)) < 0) {
            if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
              local_810[0] = 'h';
              local_810[1] = 'e';
              local_810[2] = 'x';
              local_810[3] = '2';
              acStack_80c[0] = 'b';
              acStack_80c[1] = 'i';
              acStack_80c[2] = 'n';
              acStack_80c[3] = ' ';
              acStack_808[0] = 's';
              acStack_808[1] = 'c';
              acStack_808[2] = 'a';
              acStack_808[3] = 'n';
              acStack_804[0] = ' ';
              acStack_804[1] = 'f';
              acStack_804[2] = 'a';
              acStack_804[3] = 'i';
              local_800[0] = 'l';
              local_800[1] = 'e';
              local_800[2] = 'd';
              local_800[3] = '\0';
              FUN_00038438(3,local_810,0);
              return 0;
            }
            goto LAB_0002969c;
          }
          param_3 = param_3 - 1;
          *param_1 = (byte)*(uint *)(&DAT_00051788 + uVar3 * 4) |
                     (byte)((*(uint *)(&DAT_00051788 + uVar2 * 4) & 0xff) << 4);
          uVar2 = (uint)*param_2;
          if (uVar2 == 0) goto LAB_00029634;
          if (param_3 == 0) goto LAB_0002969c;
          uVar3 = (uint)param_2[1];
          param_2 = param_2 + 2;
          param_1 = param_1 + 1;
        } while (uVar3 != 0);
      }
      if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
        local_810[0] = 'h';
        local_810[1] = 'e';
        local_810[2] = 'x';
        local_810[3] = '2';
        acStack_80c[0] = 'b';
        acStack_80c[1] = 'i';
        acStack_80c[2] = 'n';
        acStack_80c[3] = ' ';
        acStack_808[0] = 's';
        acStack_808[1] = 't';
        acStack_808[2] = 'r';
        acStack_808[3] = ' ';
        acStack_804[0] = 't';
        acStack_804[1] = 'r';
        acStack_804[2] = 'u';
        acStack_804[3] = 'n';
        local_800[0] = 'c';
        local_800[1] = 'a';
        local_800[2] = 't';
        local_800[3] = 'e';
        local_7fc = 100;
        FUN_00038438(3,local_810,0);
      }
    }
LAB_0002969c:
    iVar1 = 0;
  }
  return iVar1;
}




int FUN_00029724(undefined4 *param_1,int param_2)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  byte *__s;
  char *__s_00;
  char *__s_01;
  int iVar4;
  int *piVar5;
  size_t sVar6;
  void *pvVar7;
  undefined4 *puVar8;
  byte *pbVar9;
  size_t sVar10;
  undefined1 *puVar11;
  char *pcVar12;
  bool bVar13;
  char *local_978 [4];
  char *local_968;
  undefined4 local_964;
  undefined1 auStack_960 [4];
  int *local_95c;
  int local_958;
  int local_954;
  undefined4 *local_950;
  pthread_mutex_t *local_94c;
  char *local_948;
  char *local_944;
  char *local_940;
  char *local_93c;
  char *local_938;
  uint local_934;
  uint local_930;
  uint local_92c;
  uint local_928;
  undefined4 local_924;
  undefined4 local_920;
  undefined4 local_91c;
  undefined1 *local_918;
  undefined4 local_914;
  char acStack_90c [228];
  char local_828 [4];
  char acStack_824 [4];
  char acStack_820 [4];
  char acStack_81c [4];
  char local_818 [4];
  char acStack_814 [4];
  char acStack_810 [4];
  char acStack_80c [4];
  char local_808 [4];
  undefined3 uStack_804;
  char cStack_801;
  char acStack_800 [4];
  undefined4 uStack_7fc;
  undefined4 local_7f8;
  undefined2 uStack_7f4;
  undefined1 local_7f2;
  
  piVar3 = (int *)FUN_00046880(param_2,4);
  if (piVar3 == (int *)0x0) {
    return 0;
  }
  if (*piVar3 != 1) {
    return 0;
  }
  local_918 = (undefined1 *)FUN_00046864();
  __s = (byte *)FUN_00028ec4(param_2,0);
  local_914 = FUN_00028e64(param_2,1);
  __s_00 = (char *)FUN_00028ec4(param_2,2);
  __s_01 = (char *)FUN_00028ec4(param_2,3);
  local_91c = FUN_00028e64(param_2,5);
  local_920 = FUN_00028e64(param_2,6);
  local_924 = FUN_00028e64(param_2,7);
  iVar4 = FUN_00046880(param_2,8);
  if (iVar4 == 0) {
    local_928 = 0;
  }
  else {
    piVar5 = (int *)FUN_00046880(param_2,8);
    local_928 = (uint)(*piVar5 == 5);
  }
  if (__s == (byte *)0x0) {
    if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 3)) goto LAB_00029888;
    local_978[1] = (char *)0x7d5;
    local_978[0] = "parse_notify";
    snprintf(local_828,0x800,"Null string passed to valid_ascii from in %s %s():%d","util.c");
  }
  else {
    sVar6 = strlen((char *)__s);
    if (sVar6 == 0) {
      if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 3)) goto LAB_00029888;
      local_978[1] = (char *)0x7d5;
      local_978[0] = "parse_notify";
      snprintf(local_828,0x800,"Zero length string passed to valid_ascii from in %s %s():%d","util.c");
    }
    else {
      if ((int)sVar6 < 1) {
LAB_00029870:
        iVar4 = FUN_00028edc(local_914,"parse_notify",0x7d5);
        if (((iVar4 == 0) || (iVar4 = FUN_00028edc(__s_00,"parse_notify",0x7d5), iVar4 == 0)) ||
           ((iVar4 = FUN_00028edc(__s_01,"parse_notify",0x7d6), iVar4 == 0 ||
            (((iVar4 = FUN_00028edc(local_91c,"parse_notify",0x7d6), iVar4 == 0 ||
              (iVar4 = FUN_00028edc(local_920,"parse_notify",0x7d6), iVar4 == 0)) ||
             (iVar4 = FUN_00028edc(local_924,"parse_notify",0x7d7), iVar4 == 0)))))) goto LAB_00029888;
        local_94c = (pthread_mutex_t *)(param_1 + 0x35);
        iVar4 = pthread_mutex_lock(local_94c);
        if (iVar4 != 0) {
          FUN_0000b7d8("parse_notify",0x7df);
        }
        local_950 = param_1 + 0x3b;
        local_940 = (char *)(param_1 + 0x1a4);
        local_93c = (char *)(param_1 + 0x1b8);
        FUN_00029094(local_950,"parse_notify",0x7df);
        free((void *)param_1[0xa0]);
        param_1[0xa0] = __s;
        snprintf(local_940,0x41,"%s",local_914);
        sVar6 = strlen(__s_00);
        local_948 = local_93c + 0xc;
        local_92c = sVar6 >> 1;
        sVar6 = strlen(__s_01);
        local_944 = (char *)(param_1 + 0x1b5);
        local_934 = sVar6 >> 1;
        snprintf(local_944,9,"%s",local_91c);
        snprintf(local_93c,9,"%s",local_920);
        snprintf(local_948,9,"%s",local_924);
        param_1[0x182] = local_92c + param_1[0x17f];
        *(char *)(param_1 + 0xa2) = (char)local_928;
        if (0 < (int)param_1[0x1a3]) {
          param_2 = 0;
        }
        local_930 = local_934 + param_1[0x9c] + local_92c + param_1[0x17f];
        param_1[0x181] = local_930;
        if (0 < (int)param_1[0x1a3]) {
          do {
            iVar4 = param_2 * 4;
            param_2 = param_2 + 1;
            free(*(void **)(param_1[0xa1] + iVar4));
          } while (param_2 < (int)param_1[0x1a3]);
        }
        if (local_918 == (undefined1 *)0x0) {
LAB_00029a64:
          local_938 = &DAT_00063928;
        }
        else {
          pvVar7 = realloc((void *)param_1[0xa1],(int)local_918 * 4 + 1);
          param_1[0xa1] = pvVar7;
          if ((int)local_918 < 1) goto LAB_00029a64;
          puVar11 = (undefined1 *)0x0;
          local_938 = &DAT_00063928;
          local_95c = piVar3;
          do {
            pcVar12 = (char *)FUN_00028ec4(local_95c,puVar11);
            local_958 = param_1[0xa1];
            pvVar7 = malloc(0x20);
            *(void **)(local_958 + (int)puVar11 * 4) = pvVar7;
            local_954 = (int)puVar11 << 2;
            if (*(int *)(param_1[0xa1] + (int)puVar11 * 4) == 0) {
              local_828[0] = 'F';
              local_828[1] = 'a';
              local_828[2] = 'i';
              local_828[3] = 'l';
              acStack_824[0] = 'e';
              acStack_824[1] = 'd';
              acStack_824[2] = ' ';
              acStack_824[3] = 't';
              acStack_820[0] = 'o';
              acStack_820[1] = ' ';
              acStack_820[2] = 'm';
              acStack_820[3] = 'a';
              acStack_81c[0] = 'l';
              acStack_81c[1] = 'l';
              acStack_81c[2] = 'o';
              acStack_81c[3] = 'c';
              local_818[0] = ' ';
              local_818[1] = 'p';
              local_818[2] = 'o';
              local_818[3] = 'o';
              acStack_814[0] = 'l';
              acStack_814[1] = ' ';
              acStack_814[2] = 's';
              acStack_814[3] = 'w';
              acStack_810[0] = 'o';
              acStack_810[1] = 'r';
              acStack_810[2] = 'k';
              acStack_810[3] = ' ';
              acStack_80c[0] = 'm';
              acStack_80c[1] = 'e';
              acStack_80c[2] = 'r';
              acStack_80c[3] = 'k';
              local_808[0] = 'l';
              local_808[1] = 'e';
              local_808[2] = '_';
              local_808[3] = 'b';
              uStack_804 = 0x6e69;
              FUN_00038438(3,local_828,1);
              FUN_00016724(1);
            }
            if (((*local_938 != '\0') && (DAT_000630c1 != '\0')) &&
               ((DAT_000632f0 != '\0' || ((DAT_000630c0 != '\0' || (6 < DAT_00060964)))))) {
              local_978[0] = pcVar12;
              snprintf(local_828,0x800,"merkle %d: %s",puVar11);
              FUN_00038438(7,local_828,0);
            }
            puVar11 = puVar11 + 1;
            local_958 = FUN_000295b8(*(undefined4 *)(param_1[0xa1] + local_954),pcVar12,0x20);
            free(pcVar12);
            if (local_958 == 0) {
              if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 3)) goto LAB_0002a114;
              pcVar12 = "Failed to convert merkle to merkle_bin in parse_notify";
              goto LAB_0002a480;
            }
          } while (local_918 != puVar11);
        }
        param_1[0x1a3] = local_918;
        if (local_928 != 0) {
          *(undefined8 *)(param_1 + 0x9a) = 0;
        }
        local_978[0] = local_940;
        local_964 = DAT_00060150;
        local_978[2] = local_948;
        local_978[3] = local_93c;
        local_978[1] = "0000000000000000000000000000000000000000000000000000000000000000";
        local_968 = "00000000";
        snprintf(acStack_90c,0xe1,"%s%s%s%s%s%s%s",local_944);
        iVar4 = FUN_000295b8(param_1 + 0x183,acStack_90c,0x70);
        if (iVar4 == 0) {
          if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 3)) {
LAB_0002a114:
            iVar4 = 0;
          }
          else {
            pcVar12 = "Failed to convert header to header_bin in parse_notify";
LAB_0002a480:
            iVar4 = 0;
            local_828 = *(char (*) [4])pcVar12;
            acStack_824 = *(char (*) [4])(pcVar12 + 4);
            acStack_820 = *(char (*) [4])(pcVar12 + 8);
            acStack_81c = *(char (*) [4])(pcVar12 + 0xc);
            local_818 = *(char (*) [4])(pcVar12 + 0x10);
            acStack_814 = *(char (*) [4])(pcVar12 + 0x14);
            acStack_810 = *(char (*) [4])(pcVar12 + 0x18);
            acStack_80c = *(char (*) [4])(pcVar12 + 0x1c);
            local_808 = *(char (*) [4])(pcVar12 + 0x20);
            _uStack_804 = *(undefined4 *)(pcVar12 + 0x24);
            acStack_800 = *(char (*) [4])(pcVar12 + 0x28);
            uStack_7fc = *(undefined4 *)(pcVar12 + 0x2c);
            local_7f8 = *(undefined4 *)(pcVar12 + 0x30);
            uStack_7f4 = (undefined2)*(undefined4 *)(pcVar12 + 0x34);
            local_7f2 = (undefined1)((uint)*(undefined4 *)(pcVar12 + 0x34) >> 0x10);
            FUN_00038438(3,local_828,0);
          }
        }
        else {
          iVar1 = -(local_92c + 0xe & 0xfffffff8);
          iVar4 = FUN_000295b8(auStack_960 + iVar1,__s_00,local_92c);
          if (iVar4 == 0) {
            if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 3)) goto LAB_0002a114;
            pcVar12 = "Failed to convert cb1 to cb1_bin in parse_notify";
            iVar4 = 0;
          }
          else {
            iVar2 = -(local_934 + 0xe & 0xfffffff8);
            local_918 = auStack_960 + iVar2 + iVar1;
            iVar4 = FUN_000295b8(local_918,__s_01,local_934);
            if (iVar4 != 0) {
              free((void *)param_1[0x180]);
              if ((local_930 & 3) != 0) {
                local_930 = (local_930 & 0xfffffffc) + 4;
              }
              pvVar7 = calloc(local_930,1);
              param_1[0x180] = pvVar7;
              if (pvVar7 == (void *)0x0) {
                local_828[0] = 'F';
                local_828[1] = 'a';
                local_828[2] = 'i';
                local_828[3] = 'l';
                acStack_824[0] = 'e';
                acStack_824[1] = 'd';
                acStack_824[2] = ' ';
                acStack_824[3] = 't';
                acStack_820[0] = 'o';
                acStack_820[1] = ' ';
                acStack_820[2] = 'c';
                acStack_820[3] = 'a';
                acStack_81c[0] = 'l';
                acStack_81c[1] = 'l';
                acStack_81c[2] = 'o';
                acStack_81c[3] = 'c';
                local_818[0] = ' ';
                local_818[1] = 'p';
                local_818[2] = 'o';
                local_818[3] = 'o';
                acStack_814[0] = 'l';
                acStack_814[1] = ' ';
                acStack_814[2] = 'c';
                acStack_814[3] = 'o';
                acStack_810[0] = 'i';
                acStack_810[1] = 'n';
                acStack_810[2] = 'b';
                acStack_810[3] = 'a';
                acStack_80c[0] = 's';
                acStack_80c[1] = 'e';
                acStack_80c[2] = ' ';
                acStack_80c[3] = 'i';
                local_808[0] = 'n';
                local_808[1] = ' ';
                local_808[2] = 'p';
                local_808[3] = 'a';
                uStack_804._0_1_ = 'r';
                uStack_804._1_1_ = 's';
                uStack_804._2_1_ = 'e';
                cStack_801 = '_';
                acStack_800[0] = 'n';
                acStack_800[1] = 'o';
                acStack_800[2] = 't';
                acStack_800[3] = 'i';
                uStack_7fc = CONCAT13(uStack_7fc._3_1_,0x7966);
                FUN_00038438(3,local_828,1);
                FUN_00016724(1);
              }
              memcpy((void *)param_1[0x180],auStack_960 + iVar1,local_92c);
              memcpy((void *)(param_1[0x180] + local_92c),(void *)param_1[0x98],param_1[0x17f]);
              memcpy((void *)(param_1[0x180] + param_1[0x9c] + param_1[0x17f] + local_92c),local_918,local_934);
              if (DAT_000630c1 != '\0') {
                pvVar7 = (void *)FUN_000294b8(param_1[0x180],param_1[0x181]);
                if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))
                   ) {
                  *(void **)((int)local_978 + iVar2 + iVar1) = pvVar7;
                  snprintf(local_828,0x800,"Pool %d coinbase %s",*param_1);
                  FUN_00038438(7,local_828,0);
                }
                free(pvVar7);
              }
              goto LAB_00029be4;
            }
            if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 3)) goto LAB_0002a114;
            pcVar12 = "Failed to convert cb2 to cb2_bin in parse_notify";
          }
          local_828 = *(char (*) [4])pcVar12;
          acStack_824 = *(char (*) [4])(pcVar12 + 4);
          acStack_820 = *(char (*) [4])(pcVar12 + 8);
          acStack_81c = *(char (*) [4])(pcVar12 + 0xc);
          local_818 = *(char (*) [4])(pcVar12 + 0x10);
          acStack_814 = *(char (*) [4])(pcVar12 + 0x14);
          acStack_810 = *(char (*) [4])(pcVar12 + 0x18);
          acStack_80c = *(char (*) [4])(pcVar12 + 0x1c);
          local_808 = *(char (*) [4])(pcVar12 + 0x20);
          _uStack_804 = *(undefined4 *)(pcVar12 + 0x24);
          acStack_800 = *(char (*) [4])(pcVar12 + 0x28);
          uStack_7fc = *(undefined4 *)(pcVar12 + 0x2c);
          local_7f8 = CONCAT31(local_7f8._1_3_,(char)*(undefined4 *)(pcVar12 + 0x30));
          FUN_00038438(3,local_828,0);
        }
LAB_00029be4:
        FUN_00029018(local_950,"parse_notify",0x837);
        FUN_00029110(local_94c,"parse_notify",0x837);
        (*DAT_00060178)();
        if ((*local_938 == '\0') || (DAT_000630c1 == '\0')) goto LAB_00029f94;
        if ((DAT_000632f0 == '\0') && ((DAT_000630c0 == '\0' && (DAT_00060964 < 7)))) {
LAB_00029cb4:
          if ((DAT_000630c0 != '\0') || (6 < DAT_00060964)) goto LAB_00029cd8;
LAB_00029d20:
          if ((DAT_000630c0 != '\0') || (6 < DAT_00060964)) goto LAB_00029d44;
LAB_00029d8c:
          if ((DAT_000630c0 != '\0') || (6 < DAT_00060964)) goto LAB_00029db0;
LAB_00029df8:
          if ((DAT_000630c0 != '\0') || (6 < DAT_00060964)) goto LAB_00029e1c;
LAB_00029e64:
          if ((DAT_000630c0 != '\0') || (6 < DAT_00060964)) goto LAB_00029e88;
LAB_00029ed0:
          if ((DAT_000630c0 != '\0') || (6 < DAT_00060964)) goto LAB_00029ef4;
LAB_00029f3c:
          if ((DAT_000630c0 == '\0') && (DAT_00060964 < 7)) goto LAB_00029f94;
        }
        else {
          snprintf(local_828,0x800,"job_id: %s",__s);
          FUN_00038438(7,local_828,0);
          if (DAT_000630c1 == '\0') goto LAB_00029f94;
          if (DAT_000632f0 == '\0') goto LAB_00029cb4;
LAB_00029cd8:
          snprintf(local_828,0x800,"prev_hash: %s",local_914);
          FUN_00038438(7,local_828,0);
          if (DAT_000630c1 == '\0') goto LAB_00029f94;
          if (DAT_000632f0 == '\0') goto LAB_00029d20;
LAB_00029d44:
          snprintf(local_828,0x800,"coinbase1: %s",__s_00);
          FUN_00038438(7,local_828,0);
          if (DAT_000630c1 == '\0') goto LAB_00029f94;
          if (DAT_000632f0 == '\0') goto LAB_00029d8c;
LAB_00029db0:
          snprintf(local_828,0x800,"coinbase2: %s",__s_01);
          FUN_00038438(7,local_828,0);
          if (DAT_000630c1 == '\0') goto LAB_00029f94;
          if (DAT_000632f0 == '\0') goto LAB_00029df8;
LAB_00029e1c:
          snprintf(local_828,0x800,"bbversion: %s",local_91c);
          FUN_00038438(7,local_828,0);
          if (DAT_000630c1 == '\0') goto LAB_00029f94;
          if (DAT_000632f0 == '\0') goto LAB_00029e64;
LAB_00029e88:
          snprintf(local_828,0x800,"nbit: %s",local_920);
          FUN_00038438(7,local_828,0);
          if (DAT_000630c1 == '\0') goto LAB_00029f94;
          if (DAT_000632f0 == '\0') goto LAB_00029ed0;
LAB_00029ef4:
          snprintf(local_828,0x800,"ntime: %s",local_924);
          FUN_00038438(7,local_828,0);
          if (DAT_000630c1 == '\0') goto LAB_00029f94;
          if (DAT_000632f0 == '\0') goto LAB_00029f3c;
        }
        puVar8 = (undefined4 *)&DAT_0005236c;
        if (local_928 == 0) {
          puVar8 = &DAT_00052370;
        }
        snprintf(local_828,0x800,"clean: %s",puVar8);
        FUN_00038438(7,local_828,0);
LAB_00029f94:
        free(__s_00);
        free(__s_01);
        param_1[0x1d] = param_1[0x1d] + 1;
        bVar13 = 0xfffffffe < DAT_00063be8;
        DAT_00063be8 = DAT_00063be8 + 1;
        DAT_00063bec = DAT_00063bec + (uint)bVar13;
        puVar8 = (undefined4 *)FUN_0001d644();
        if (param_1 != puVar8) {
          return iVar4;
        }
        DAT_00063e4c = 1;
        return iVar4;
      }
      if (*__s - 0x20 < 0x5f) {
        sVar10 = 0;
        pbVar9 = __s;
        do {
          sVar10 = sVar10 + 1;
          if (sVar6 == sVar10) goto LAB_00029870;
          pbVar9 = pbVar9 + 1;
        } while (*pbVar9 - 0x20 < 0x5f);
      }
      if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 3)) goto LAB_00029888;
      local_978[2] = (char *)0x7d5;
      local_978[0] = "util.c";
      local_978[1] = "parse_notify";
      snprintf(local_828,0x800,"Invalid char 0x%x passed to valid_ascii from in %s %s():%d");
    }
  }
  FUN_00038438(3,local_828,0);
LAB_00029888:
  free(__s);
  free(__s_00);
  free(__s_01);
  return 0;
}




void FUN_0002a5b4(undefined1 *param_1,char *param_2)

{
  longlong lVar1;
  size_t sVar2;
  uint *puVar3;
  uint uVar4;
  undefined1 *puVar5;
  uint uVar6;
  int iVar7;
  size_t sVar8;
  uint local_44;
  uint local_40 [7];
  
  uVar6 = 0;
  local_44 = 0;
  local_40[0] = 0;
  local_40[1] = 0;
  local_40[2] = 0;
  local_40[3] = 0;
  local_40[4] = 0;
  local_40[5] = 0;
  sVar2 = strlen(param_2);
  uVar4 = uVar6;
  if (0 < (int)sVar2) {
    sVar8 = 0;
    do {
      iVar7 = 6;
      uVar4 = *(uint *)(&DAT_00051c04 + (uint)(byte)param_2[sVar8] * 4);
      puVar3 = &local_44;
      while( true ) {
        lVar1 = (ulonglong)uVar6 * 0x3a + (ulonglong)uVar4;
        iVar7 = iVar7 + -1;
        uVar4 = (uint)((ulonglong)lVar1 >> 0x20) & 0x3f;
        puVar3[6] = (uint)lVar1;
        if (iVar7 == -1) break;
        uVar6 = puVar3[5];
        puVar3 = puVar3 + -1;
      }
      sVar8 = sVar8 + 1;
      uVar6 = local_40[5];
    } while (sVar2 != sVar8);
    uVar6 = local_40[0] << 0x18 | (local_40[0] >> 8 & 0xff) << 0x10 | (local_40[0] >> 0x10 & 0xff) << 8 |
            local_40[0] >> 0x18;
    uVar4 = local_44 & 0xff;
  }
  puVar3 = local_40;
  puVar5 = param_1 + 5;
  *param_1 = (char)uVar4;
  while( true ) {
    *(uint *)(puVar5 + -4) = uVar6;
    puVar5 = puVar5 + 4;
    if (puVar5 == param_1 + 0x1d) break;
    puVar3 = puVar3 + 1;
    uVar6 = *puVar3;
    uVar6 = uVar6 << 0x18 | (uVar6 >> 8 & 0xff) << 0x10 | (uVar6 >> 0x10 & 0xff) << 8 | uVar6 >> 0x18;
  }
  return;
}




void FUN_0002a6b0(undefined1 *param_1)

{
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined1 local_1c;
  
  local_34 = 0;
  local_30 = 0;
  local_2c = 0;
  local_28 = 0;
  local_24 = 0;
  local_20 = 0;
  local_1c = 0;
  FUN_0002a5b4(&local_34);
  *param_1 = 0x76;
  param_1[1] = 0xa9;
  param_1[2] = 0x14;
  *(uint *)(param_1 + 3) = CONCAT13((undefined1)local_30,local_34._1_3_);
  param_1[0x17] = 0x88;
  *(uint *)(param_1 + 7) = CONCAT13((undefined1)local_2c,local_30._1_3_);
  *(uint *)(param_1 + 0xb) = CONCAT13((undefined1)local_28,local_2c._1_3_);
  *(uint *)(param_1 + 0xf) = CONCAT13((undefined1)local_24,local_28._1_3_);
  *(uint *)(param_1 + 0x13) = CONCAT13((undefined1)local_20,local_24._1_3_);
  param_1[0x18] = 0xac;
  return;
}




undefined1 * FUN_0002a78c(char *param_1,int *param_2)

{
  size_t __n;
  undefined1 *puVar1;
  char local_818 [4];
  char acStack_814 [4];
  char acStack_810 [4];
  char acStack_80c [4];
  char local_808 [4];
  char acStack_804 [4];
  char acStack_800 [4];
  char acStack_7fc [4];
  undefined2 uStack_7f8;
  undefined1 local_7f6;
  
  __n = strlen(param_1);
  puVar1 = (undefined1 *)malloc(__n + 9);
  if (puVar1 == (undefined1 *)0x0) {
    local_818[0] = 'F';
    local_818[1] = 'a';
    local_818[2] = 'i';
    local_818[3] = 'l';
    acStack_814[0] = 'e';
    acStack_814[1] = 'd';
    acStack_814[2] = ' ';
    acStack_814[3] = 't';
    acStack_810[0] = 'o';
    acStack_810[1] = ' ';
    acStack_810[2] = 'm';
    acStack_810[3] = 'a';
    acStack_80c[0] = 'l';
    acStack_80c[1] = 'l';
    acStack_80c[2] = 'o';
    acStack_80c[3] = 'c';
    local_808[0] = ' ';
    local_808[1] = 'r';
    local_808[2] = 'e';
    local_808[3] = 't';
    acStack_804[0] = ' ';
    acStack_804[1] = 'i';
    acStack_804[2] = 'n';
    acStack_804[3] = ' ';
    acStack_800[0] = 's';
    acStack_800[1] = 'e';
    acStack_800[2] = 'r';
    acStack_800[3] = '_';
    acStack_7fc[0] = 's';
    acStack_7fc[1] = 't';
    acStack_7fc[2] = 'r';
    acStack_7fc[3] = 'i';
    uStack_7f8 = 0x676e;
    local_7f6 = 0;
    FUN_00038438(3,local_818,1);
    FUN_00016724(1);
  }
  if (__n < 0xfd) {
    *puVar1 = (char)__n;
    memcpy(puVar1 + 1,param_1,__n);
    *param_2 = __n + 1;
  }
  else if (__n < 0x10000) {
    *(ushort *)(puVar1 + 1) = (ushort)(byte)(__n >> 8) | (ushort)(__n << 8);
    *puVar1 = 0xfd;
    memcpy(puVar1 + 3,param_1,__n);
    *param_2 = __n + 3;
  }
  else {
    *puVar1 = 0xfe;
    *(size_t *)(puVar1 + 1) = __n << 0x18 | (__n >> 8 & 0xff) << 0x10 | (__n >> 0x10 & 0xff) << 8 | __n >> 0x18;
    memcpy(puVar1 + 5,param_1,__n);
    *param_2 = __n + 5;
  }
  return puVar1;
}




int FUN_0002a898(uint *param_1,uint *param_2)

{
  void *__ptr;
  void *__ptr_00;
  uint *puVar1;
  int iVar2;
  char *pcVar3;
  uint uVar4;
  uint uVar5;
  uint *puVar6;
  uint uVar7;
  uint uVar8;
  uint local_868;
  uint local_864;
  uint local_860;
  uint local_85c;
  uint local_858;
  uint local_854;
  uint local_850;
  uint local_84c;
  uint local_848;
  uint local_844;
  uint local_840;
  uint local_83c;
  uint local_838;
  uint local_834;
  uint local_830;
  uint local_82c;
  char acStack_828 [2052];
  
  puVar6 = param_1 + 8;
  puVar1 = param_2 + 8;
  iVar2 = 7;
  do {
    puVar6 = puVar6 + -1;
    iVar2 = iVar2 + -1;
    puVar1 = puVar1 + -1;
    if (*puVar1 < *puVar6) {
      iVar2 = 0;
      goto LAB_0002a8dc;
    }
  } while ((*puVar1 <= *puVar6) && (iVar2 != -1));
  iVar2 = 1;
LAB_0002a8dc:
  if (DAT_000630c1 != '\0') {
    uVar5 = param_1[7];
    uVar4 = param_1[6];
    uVar8 = param_1[5];
    local_868 = uVar5 << 0x18 | (uVar5 >> 8 & 0xff) << 0x10 | (uVar5 >> 0x10 & 0xff) << 8 | uVar5 >> 0x18;
    uVar7 = param_1[4];
    local_864 = uVar4 << 0x18 | (uVar4 >> 8 & 0xff) << 0x10 | (uVar4 >> 0x10 & 0xff) << 8 | uVar4 >> 0x18;
    uVar4 = param_1[3];
    local_860 = uVar8 << 0x18 | (uVar8 >> 8 & 0xff) << 0x10 | (uVar8 >> 0x10 & 0xff) << 8 | uVar8 >> 0x18;
    uVar5 = param_1[2];
    local_85c = uVar7 << 0x18 | (uVar7 >> 8 & 0xff) << 0x10 | (uVar7 >> 0x10 & 0xff) << 8 | uVar7 >> 0x18;
    uVar7 = param_1[1];
    local_858 = uVar4 << 0x18 | (uVar4 >> 8 & 0xff) << 0x10 | (uVar4 >> 0x10 & 0xff) << 8 | uVar4 >> 0x18;
    uVar8 = *param_1;
    local_854 = uVar5 << 0x18 | (uVar5 >> 8 & 0xff) << 0x10 | (uVar5 >> 0x10 & 0xff) << 8 | uVar5 >> 0x18;
    uVar4 = param_2[7];
    local_850 = uVar7 << 0x18 | (uVar7 >> 8 & 0xff) << 0x10 | (uVar7 >> 0x10 & 0xff) << 8 | uVar7 >> 0x18;
    local_84c = uVar8 << 0x18 | (uVar8 >> 8 & 0xff) << 0x10 | (uVar8 >> 0x10 & 0xff) << 8 | uVar8 >> 0x18;
    uVar5 = param_2[6];
    local_848 = uVar4 << 0x18 | (uVar4 >> 8 & 0xff) << 0x10 | (uVar4 >> 0x10 & 0xff) << 8 | uVar4 >> 0x18;
    local_844 = uVar5 << 0x18 | (uVar5 >> 8 & 0xff) << 0x10 | (uVar5 >> 0x10 & 0xff) << 8 | uVar5 >> 0x18;
    uVar4 = param_2[5];
    uVar5 = param_2[4];
    local_840 = uVar4 << 0x18 | (uVar4 >> 8 & 0xff) << 0x10 | (uVar4 >> 0x10 & 0xff) << 8 | uVar4 >> 0x18;
    uVar4 = param_2[3];
    local_83c = uVar5 << 0x18 | (uVar5 >> 8 & 0xff) << 0x10 | (uVar5 >> 0x10 & 0xff) << 8 | uVar5 >> 0x18;
    local_838 = uVar4 << 0x18 | (uVar4 >> 8 & 0xff) << 0x10 | (uVar4 >> 0x10 & 0xff) << 8 | uVar4 >> 0x18;
    uVar4 = param_2[2];
    uVar5 = param_2[1];
    uVar7 = *param_2;
    local_834 = uVar4 << 0x18 | (uVar4 >> 8 & 0xff) << 0x10 | (uVar4 >> 0x10 & 0xff) << 8 | uVar4 >> 0x18;
    local_830 = uVar5 << 0x18 | (uVar5 >> 8 & 0xff) << 0x10 | (uVar5 >> 0x10 & 0xff) << 8 | uVar5 >> 0x18;
    local_82c = uVar7 << 0x18 | (uVar7 >> 8 & 0xff) << 0x10 | (uVar7 >> 0x10 & 0xff) << 8 | uVar7 >> 0x18;
    __ptr = (void *)FUN_000294b8(&local_868,0x20);
    __ptr_00 = (void *)FUN_000294b8(&local_848,0x20);
    if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      pcVar3 = "YES (hash <= target)";
      if (iVar2 == 0) {
        pcVar3 = "no (false positive; hash > target)";
      }
      snprintf(acStack_828,0x800," Proof: %s\nTarget: %s\nTrgVal? %s",__ptr,__ptr_00,pcVar3);
      FUN_00038438(7,acStack_828,0);
    }
    free(__ptr);
    free(__ptr_00);
  }
  return iVar2;
}




void * FUN_0002aa90(void)

{
  void *pvVar1;
  
  pvVar1 = calloc(1,0x58);
  if (pvVar1 != (void *)0x0) {
    *(void **)pvVar1 = pvVar1;
    *(void **)((int)pvVar1 + 4) = pvVar1;
    pthread_mutex_init((pthread_mutex_t *)((int)pvVar1 + 0xc),(pthread_mutexattr_t *)0x0);
    pthread_cond_init((pthread_cond_t *)((int)pvVar1 + 0x28),(pthread_condattr_t *)0x0);
  }
  return pvVar1;
}




void FUN_0002aad0(undefined4 *param_1)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  
  if (param_1 != (undefined4 *)0x0) {
    puVar2 = *(undefined4 **)*param_1;
    puVar3 = (undefined4 *)*param_1;
    while (puVar1 = puVar2, param_1 != puVar3) {
      puVar2 = (undefined4 *)puVar3[1];
      puVar1[1] = puVar2;
      *puVar2 = puVar1;
      *puVar3 = 0;
      puVar3[1] = 0;
      free(puVar3 + -1);
      puVar2 = (undefined4 *)*puVar1;
      puVar3 = puVar1;
    }
    pthread_cond_destroy((pthread_cond_t *)(param_1 + 10));
    pthread_mutex_destroy((pthread_mutex_t *)(param_1 + 3));
    memset(param_1,0,0x58);
    free(param_1);
    return;
  }
  return;
}




void FUN_0002ab58(int param_1)

{
  int iVar1;
  
  iVar1 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0xc));
  if (iVar1 != 0) {
    FUN_0000b7d8("tq_freezethaw",0x47c);
  }
  *(undefined1 *)(param_1 + 8) = 1;
  pthread_cond_signal((pthread_cond_t *)(param_1 + 0x28));
  FUN_00029110((pthread_mutex_t *)(param_1 + 0xc),"tq_freezethaw",0x47f);
  (*DAT_00060178)();
  return;
}




bool FUN_0002ab68(int param_1,undefined4 param_2)

{
  undefined4 *__ptr;
  int iVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  bool bVar4;
  
  __ptr = (undefined4 *)calloc(1,0xc);
  if (__ptr == (undefined4 *)0x0) {
    bVar4 = false;
  }
  else {
    puVar3 = __ptr + 1;
    *__ptr = param_2;
    __ptr[1] = puVar3;
    __ptr[2] = puVar3;
    iVar1 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0xc));
    if (iVar1 != 0) {
      FUN_0000b7d8("tq_push",0x498);
    }
    bVar4 = *(char *)(param_1 + 8) != '\0';
    if (bVar4) {
      free(__ptr);
    }
    else {
      puVar2 = *(undefined4 **)(param_1 + 4);
      *(undefined4 **)(param_1 + 4) = puVar3;
      __ptr[1] = param_1;
      __ptr[2] = puVar2;
      *puVar2 = puVar3;
    }
    bVar4 = !bVar4;
    pthread_cond_signal((pthread_cond_t *)(param_1 + 0x28));
    FUN_00029110((pthread_mutex_t *)(param_1 + 0xc),"tq_push",0x4a0);
    (*DAT_00060178)();
  }
  return bVar4;
}




int FUN_0002ac28(int *param_1,timespec *param_2)

{
  int iVar1;
  int *piVar2;
  int *piVar3;
  pthread_mutex_t *__mutex;
  int iVar4;
  
  __mutex = (pthread_mutex_t *)(param_1 + 3);
  iVar1 = pthread_mutex_lock(__mutex);
  if (iVar1 != 0) {
    FUN_0000b7d8("tq_pop",0x4ab);
  }
  piVar3 = (int *)*param_1;
  if (param_1 == piVar3) {
    if (param_2 == (timespec *)0x0) {
      iVar1 = pthread_cond_wait((pthread_cond_t *)(param_1 + 10),__mutex);
    }
    else {
      iVar1 = pthread_cond_timedwait((pthread_cond_t *)(param_1 + 10),__mutex,param_2);
    }
    if (iVar1 != 0) {
      iVar1 = 0;
      goto LAB_0002ac7c;
    }
    piVar3 = (int *)*param_1;
    if (param_1 == piVar3) {
      iVar1 = 0;
      goto LAB_0002ac7c;
    }
  }
  piVar2 = (int *)piVar3[1];
  iVar4 = *piVar3;
  iVar1 = piVar3[-1];
  *(int **)(iVar4 + 4) = piVar2;
  *piVar2 = iVar4;
  *piVar3 = 0;
  piVar3[1] = 0;
  free(piVar3 + -1);
LAB_0002ac7c:
  FUN_00029110(__mutex,"tq_pop",0x4be);
  (*DAT_00060178)();
  return iVar1;
}




void FUN_0002ad04(int param_1)

{
  if (param_1 == 0) {
    return;
  }
  if (*(pthread_t *)(param_1 + 0xc) != 0) {
    pthread_cancel(*(pthread_t *)(param_1 + 0xc));
    *(undefined4 *)(param_1 + 0xc) = 0;
  }
  sem_destroy((sem_t *)(param_1 + 0x10));
  return;
}




void FUN_0002ad38(int *param_1,int *param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar3 = *param_1;
  iVar1 = *param_2;
  *param_2 = iVar3 - iVar1;
  iVar2 = param_1[1] - param_2[1];
  param_2[1] = iVar2;
  if (iVar2 < 0) {
    *param_2 = (iVar3 - iVar1) + -1;
    param_2[1] = iVar2 + 1000000;
  }
  return;
}




void FUN_0002ad6c(int *param_1,int *param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar3 = *param_2;
  iVar2 = *param_1;
  *param_2 = iVar2 + iVar3;
  iVar1 = param_1[1] + param_2[1];
  param_2[1] = iVar1;
  if (999999 < iVar1) {
    *param_2 = iVar2 + iVar3 + 1;
    param_2[1] = iVar1 + -1000000;
  }
  return;
}




bool FUN_0002adb8(int *param_1,int *param_2)

{
  if (*param_1 != *param_2) {
    return *param_2 < *param_1;
  }
  return param_2[1] < param_1[1];
}




bool FUN_0002adec(int *param_1,int *param_2)

{
  if (*param_1 == *param_2) {
    return param_1[1] < param_2[1];
  }
  return *param_1 < *param_2;
}




void FUN_0002ae20(undefined4 *param_1,undefined4 *param_2)

{
  undefined4 uVar1;
  
  uVar1 = param_2[1];
  *param_1 = *param_2;
  param_1[1] = uVar1;
  return;
}




void FUN_0002ae78(undefined4 *param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  lldiv_t local_18;
  
  lldiv(&local_18,CONCAT44(param_4,param_3),1000000);
  *param_1 = (undefined4)local_18.quot;
  param_1[1] = (undefined4)local_18.rem;
  return;
}




void FUN_0002aeb0(undefined4 *param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  lldiv_t local_18;
  
  lldiv(&local_18,CONCAT44(param_4,param_3),1000000);
  *param_1 = (undefined4)local_18.quot;
  param_1[1] = (int)local_18.rem * 1000;
  return;
}




void FUN_0002aef0(undefined4 *param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  lldiv_t local_18;
  
  lldiv(&local_18,CONCAT44(param_4,param_3),1000);
  *param_1 = (undefined4)local_18.quot;
  param_1[1] = (int)local_18.rem * 1000000;
  return;
}




void FUN_0002af38(undefined4 *param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  lldiv_t local_18;
  
  lldiv(&local_18,CONCAT44(param_4,param_3),1000);
  *param_1 = (undefined4)local_18.quot;
  param_1[1] = (int)local_18.rem * 1000;
  return;
}




void FUN_0002af78(int *param_1,int *param_2)

{
  int iVar1;
  int iVar2;
  
  iVar1 = *param_1 + *param_2;
  *param_1 = iVar1;
  iVar2 = param_1[1] + param_2[1];
  param_1[1] = iVar2;
  if (999999999 < iVar2) {
    do {
      iVar1 = iVar1 + 1;
      iVar2 = iVar2 + -1000000000;
    } while (999999999 < iVar2);
    *param_1 = iVar1;
    param_1[1] = iVar2;
  }
  if (iVar2 < 0) {
    iVar1 = *param_1;
    do {
      iVar1 = iVar1 + -1;
      iVar2 = iVar2 + 1000000000;
    } while (iVar2 < 0);
    *param_1 = iVar1;
    param_1[1] = iVar2;
  }
  return;
}




char * FUN_0002b0f0(undefined4 *param_1,char *param_2)

{
  char *pcVar1;
  char *__s;
  
  __s = (char *)*param_1;
  if ((__s != (char *)0x0) && (pcVar1 = strpbrk(__s,param_2), pcVar1 != (char *)0x0)) {
    *pcVar1 = '\0';
    *param_1 = pcVar1 + 1;
    return __s;
  }
  *param_1 = 0;
  return __s;
}




void FUN_0002b13c(timeval *param_1)

{
  gettimeofday(param_1,(__timezone_ptr_t)0x0);
  return;
}




void FUN_0002b1a8(timespec *param_1)

{
  clock_gettime(1,param_1);
  return;
}




void FUN_0002b1b4(undefined4 param_1,int param_2)

{
  undefined1 auStack_10 [8];
  
  FUN_0002aef0(auStack_10,param_2,param_2,param_2 >> 0x1f);
  FUN_0002af78(auStack_10,param_1);
  FUN_00028e3c(auStack_10);
  return;
}




void FUN_0002b1ec(undefined4 param_1)

{
  undefined1 auStack_10 [8];
  
  FUN_0002aeb0(auStack_10);
  FUN_0002af78(auStack_10,param_1);
  FUN_00028e3c(auStack_10);
  return;
}




void FUN_0002b21c(undefined4 param_1)

{
  undefined1 auStack_10 [8];
  
  FUN_0002b1a8(auStack_10);
  FUN_0002b1b4(auStack_10,param_1);
  return;
}




void FUN_0002b244(undefined4 param_1,undefined4 param_2)

{
  undefined4 extraout_r1;
  undefined1 auStack_10 [12];
  
  FUN_0002b1a8(auStack_10);
  FUN_0002b1ec(auStack_10,extraout_r1,param_1,param_2);
  return;
}




undefined4 FUN_0002b314(int *param_1,int *param_2)

{
  return SUB84((double)(longlong)(*param_1 - *param_2) + (double)(longlong)(param_1[1] - param_2[1]) / 1000000.0,0);
}




void FUN_0002b358(undefined4 *param_1,char *param_2)

{
  char *__src;
  int iVar1;
  char acStack_820 [16];
  char acStack_810 [2048];
  
  __src = strchr(param_2,0x23);
  if ((__src != (char *)0x0) && (*(char *)(param_1 + 0x8f) == '\0')) {
    strcpy(acStack_820,__src);
    *__src = '\0';
    iVar1 = strcmp(acStack_820,"#xnsub");
    if (((iVar1 == 0) && (*(undefined1 *)(param_1 + 0x8f) = 1, DAT_000630c1 != '\0')) &&
       (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      snprintf(acStack_810,0x800,"Pool %d extranonce subscribing enabled.",*param_1);
      FUN_00038438(7,acStack_810,0);
    }
  }
  return;
}




undefined4 FUN_0002b43c(char *param_1,undefined4 *param_2,undefined4 *param_3)

{
  bool bVar1;
  char *pcVar2;
  char *pcVar3;
  char *pcVar4;
  size_t sVar5;
  undefined4 uVar6;
  size_t sVar7;
  int iVar8;
  undefined2 local_130;
  undefined1 local_12e;
  char acStack_128 [260];
  
  *param_2 = param_1;
  pcVar2 = strstr(param_1,"//");
  if (pcVar2 != (char *)0x0) {
    param_1 = pcVar2 + 2;
  }
  pcVar2 = strchr(param_1,0x5b);
  pcVar3 = strchr(param_1,0x5d);
  if (pcVar3 == (char *)0x0 || pcVar2 == (char *)0x0) {
    bVar1 = false;
  }
  else {
    bVar1 = true;
    pcVar4 = pcVar3;
    if (pcVar2 < pcVar3) goto LAB_0002b4a0;
  }
  pcVar4 = param_1;
LAB_0002b4a0:
  pcVar4 = strchr(pcVar4,0x3a);
  if (pcVar4 == (char *)0x0) {
    sVar7 = strlen(param_1);
    pcVar4 = (char *)0x0;
    iVar8 = 0;
  }
  else {
    sVar7 = (int)pcVar4 - (int)param_1;
    sVar5 = strlen(param_1);
    iVar8 = ~sVar7 + sVar5;
    if (iVar8 < 1) {
      return 0;
    }
    pcVar4 = pcVar4 + 1;
  }
  if ((int)sVar7 < 1) {
    return 0;
  }
  if ((bVar1) && (pcVar2 < pcVar3)) {
    sVar7 = sVar7 - 2;
    param_1 = param_1 + 1;
  }
  snprintf(acStack_128,0xfe,"%.*s",sVar7,param_1);
  if (iVar8 == 0) {
    local_130 = 0x3038;
    local_12e = 0;
  }
  else {
    snprintf((char *)&local_130,6,"%.*s",iVar8,pcVar4);
    pcVar2 = strchr((char *)&local_130,0x2f);
    if (pcVar2 != (char *)0x0) {
      *pcVar2 = '\0';
    }
  }
  uVar6 = __strdup(&local_130);
  *param_3 = uVar6;
  uVar6 = __strdup(acStack_128);
  *param_2 = uVar6;
  return 1;
}




char * FUN_0002b5c8(char *param_1,int param_2)

{
  int iVar1;
  char *__dest;
  char *__src;
  char *pcVar2;
  int iVar3;
  size_t __n;
  char acStack_820 [2052];
  
  pcVar2 = "http:";
  iVar3 = 0;
  __n = 5;
  *(undefined4 *)(param_2 + 0xb8) = 0;
  while( true ) {
    iVar1 = strncmp(param_1,pcVar2,__n);
    if (iVar1 == 0) {
      pcVar2 = strchr(param_1,0x7c);
      if (pcVar2 != (char *)0x0) {
        *pcVar2 = '\0';
        __dest = (char *)malloc((size_t)(pcVar2 + ((1 - (int)param_1) - __n)));
        *(char **)(param_2 + 0xb8) = __dest;
        if (__dest == (char *)0x0) {
          snprintf(acStack_820,0x800,"Failed to malloc rpc_proxy in %s %s():%d","util.c","get_proxy",0x333);
          FUN_00038438(3,acStack_820,1);
          FUN_00016724(1);
          __dest = *(char **)(param_2 + 0xb8);
        }
        __src = param_1 + __n;
        param_1 = pcVar2 + 1;
        strcpy(__dest,__src);
        FUN_0002b43c(*(undefined4 *)(param_2 + 0xb8),param_2 + 0x254,param_2 + 600);
        *(undefined4 *)(param_2 + 0xb4) = (&DAT_00051ba8)[iVar3 * 2];
      }
      return param_1;
    }
    iVar3 = iVar3 + 1;
    pcVar2 = *(char **)(&UNK_00051ba4 + iVar3 * 8);
    if (pcVar2 == (char *)0x0) break;
    __n = strlen(pcVar2);
  }
  return param_1;
}




undefined4 FUN_0002b6f8(int param_1)

{
  undefined4 uVar1;
  
  if (**(char **)(param_1 + 0x248) != '\0') {
    return 1;
  }
  uVar1 = FUN_0002870c();
  return uVar1;
}




void FUN_0002b7c0(undefined4 *param_1)

{
  int iVar1;
  int *piVar2;
  char acStack_810 [2052];
  
  if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    snprintf(acStack_810,0x800,"Closing socket for stratum pool %d",*param_1);
    FUN_00038438(7,acStack_810,0);
  }
  iVar1 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0xa8));
  if (iVar1 != 0) {
    FUN_0000b7d8("suspend_stratum",0xb3e);
  }
  FUN_000286f8(param_1);
  *(undefined1 *)((int)param_1 + 0x27b) = 0;
  *(undefined1 *)((int)param_1 + 0x279) = 0;
  if (param_1[0x91] != 0) {
    close(param_1[0x91]);
  }
  param_1[0x91] = 0;
  iVar1 = pthread_mutex_unlock((pthread_mutex_t *)(param_1 + 0xa8));
  if (iVar1 != 0) {
    piVar2 = __errno_location();
    snprintf(acStack_810,0x800,"WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d",*piVar2,"util.c","suspend_stratum",
             0xb40);
    FUN_00038438(3,acStack_810,1);
    FUN_00016724(1);
  }
  (*DAT_00060178)();
  return;
}




char * FUN_0002b920(int param_1)

{
  char *pcVar1;
  size_t sVar2;
  size_t sVar3;
  uint uVar4;
  int iVar5;
  ssize_t sVar6;
  int *piVar7;
  int iVar8;
  void *pvVar9;
  char *__s;
  uint uVar10;
  uint uVar11;
  int iStack_2840;
  int local_283c;
  int iStack_2838;
  int local_2834;
  char local_2830 [4];
  char acStack_282c [4];
  char acStack_2828 [4];
  char acStack_2824 [4];
  char local_2820 [4];
  char acStack_281c [4];
  char acStack_2818 [4];
  char acStack_2814 [4];
  ushort local_2810;
  undefined1 local_280e;
  char local_2030 [4];
  char acStack_202c [4];
  char acStack_2028 [4];
  char acStack_2024 [4];
  char local_2020 [4];
  char acStack_201c [4];
  char acStack_2018 [4];
  char acStack_2014 [4];
  char local_2010 [4];
  char acStack_200c [4];
  undefined2 local_2008 [2];
  char acStack_2004 [4];
  char local_2000 [8148];
  
  __s = *(char **)(param_1 + 0x248);
  pcVar1 = strchr(__s,10);
  if (pcVar1 == (char *)0x0) {
    FUN_0002b13c(&iStack_2840);
    iVar5 = FUN_0002870c(param_1,0x3c);
    if (iVar5 == 0) {
      if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
        local_2030[0] = 'T';
        local_2030[1] = 'i';
        local_2030[2] = 'm';
        local_2030[3] = 'e';
        acStack_202c[0] = 'd';
        acStack_202c[1] = ' ';
        acStack_202c[2] = 'o';
        acStack_202c[3] = 'u';
        acStack_2028[0] = 't';
        acStack_2028[1] = ' ';
        acStack_2028[2] = 'w';
        acStack_2028[3] = 'a';
        acStack_2024[0] = 'i';
        acStack_2024[1] = 't';
        acStack_2024[2] = 'i';
        acStack_2024[3] = 'n';
        local_2020[0] = 'g';
        local_2020[1] = ' ';
        local_2020[2] = 'f';
        local_2020[3] = 'o';
        acStack_201c[0] = 'r';
        acStack_201c[1] = ' ';
        acStack_201c[2] = 'd';
        acStack_201c[3] = 'a';
        acStack_2018[0] = 't';
        acStack_2018[1] = 'a';
        acStack_2018[2] = ' ';
        acStack_2018[3] = 'o';
        acStack_2014[0] = 'n';
        acStack_2014[1] = ' ';
        acStack_2014[2] = 's';
        acStack_2014[3] = 'o';
        local_2010[0] = 'c';
        local_2010[1] = 'k';
        local_2010[2] = 'e';
        local_2010[3] = 't';
        acStack_200c[0] = '_';
        acStack_200c[1] = 'f';
        acStack_200c[2] = 'u';
        acStack_200c[3] = 'l';
        local_2008[0] = 0x6c;
        FUN_00038438(7,local_2030,0);
      }
      goto LAB_0002bb04;
    }
    while( true ) {
      memset(local_2030,0,0x2000);
      sVar6 = recv(*(int *)(param_1 + 0x244),local_2030,0x1ffc,0);
      if (sVar6 == 0) break;
      FUN_0002b13c(&iStack_2838);
      iVar5 = (int)(longlong)
                   ((double)(longlong)(iStack_2838 - iStack_2840) +
                   (double)(longlong)(local_2834 - local_283c) / 1000000.0);
      if (sVar6 < 0) {
        piVar7 = __errno_location();
        if ((*piVar7 != 0xb) || (iVar8 = FUN_0002870c(param_1,0x3c - iVar5), iVar8 == 0)) {
          if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
            local_2830[0] = 'F';
            local_2830[1] = 'a';
            local_2830[2] = 'i';
            local_2830[3] = 'l';
            acStack_282c[0] = 'e';
            acStack_282c[1] = 'd';
            acStack_282c[2] = ' ';
            acStack_282c[3] = 't';
            acStack_2828[0] = 'o';
            acStack_2828[1] = ' ';
            acStack_2828[2] = 'r';
            acStack_2828[3] = 'e';
            acStack_2824[0] = 'c';
            acStack_2824[1] = 'v';
            acStack_2824[2] = ' ';
            acStack_2824[3] = 's';
            local_2820[0] = 'o';
            local_2820[1] = 'c';
            local_2820[2] = 'k';
            local_2820[3] = ' ';
            acStack_281c[0] = 'i';
            acStack_281c[1] = 'n';
            acStack_281c[2] = ' ';
            acStack_281c[3] = 'r';
            acStack_2818[0] = 'e';
            acStack_2818[1] = 'c';
            acStack_2818[2] = 'v';
            acStack_2818[3] = '_';
            acStack_2814[0] = 'l';
            acStack_2814[1] = 'i';
            acStack_2814[2] = 'n';
            acStack_2814[3] = 'e';
            local_2810 = local_2810 & 0xff00;
            FUN_00038438(7,local_2830,0);
          }
          goto LAB_0002bcdc;
        }
      }
      else {
        sVar2 = strlen(local_2030);
        pcVar1 = *(char **)(param_1 + 0x248);
        sVar3 = strlen(pcVar1);
        uVar4 = sVar2 + sVar3 + 1;
        if (*(uint *)(param_1 + 0x24c) <= uVar4) {
          sVar2 = (uVar4 & 0xffffe000) + 0x2000;
          pvVar9 = realloc(pcVar1,sVar2);
          *(void **)(param_1 + 0x248) = pvVar9;
          if (pvVar9 == (void *)0x0) {
            snprintf(local_2830,0x800,"Failed to realloc pool sockbuf in %s %s():%d","util.c","recalloc_sock",0x74f);
            FUN_00038438(3,local_2830,1);
            FUN_00016724(1);
            pvVar9 = *(void **)(param_1 + 0x248);
          }
          memset((void *)((int)pvVar9 + sVar3),0,sVar2 - sVar3);
          pcVar1 = *(char **)(param_1 + 0x248);
          *(size_t *)(param_1 + 0x24c) = sVar2;
        }
        strcat(pcVar1,local_2030);
      }
      __s = *(char **)(param_1 + 0x248);
      if ((0x3b < iVar5) || (pcVar1 = strchr(__s,10), pcVar1 != (char *)0x0)) goto LAB_0002b94c;
    }
    if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      local_2830[0] = 'S';
      local_2830[1] = 'o';
      local_2830[2] = 'c';
      local_2830[3] = 'k';
      acStack_282c[0] = 'e';
      acStack_282c[1] = 't';
      acStack_282c[2] = ' ';
      acStack_282c[3] = 'c';
      acStack_2828[0] = 'l';
      acStack_2828[1] = 'o';
      acStack_2828[2] = 's';
      acStack_2828[3] = 'e';
      acStack_2824[0] = 'd';
      acStack_2824[1] = ' ';
      acStack_2824[2] = 'w';
      acStack_2824[3] = 'a';
      local_2820[0] = 'i';
      local_2820[1] = 't';
      local_2820[2] = 'i';
      local_2820[3] = 'n';
      acStack_281c[0] = 'g';
      acStack_281c[1] = ' ';
      acStack_281c[2] = 'i';
      acStack_281c[3] = 'n';
      acStack_2818[0] = ' ';
      acStack_2818[1] = 'r';
      acStack_2818[2] = 'e';
      acStack_2818[3] = 'c';
      acStack_2814[0] = 'v';
      acStack_2814[1] = '_';
      acStack_2814[2] = 'l';
      acStack_2814[3] = 'i';
      local_2810 = 0x656e;
      local_280e = 0;
      FUN_00038438(7,local_2830,0);
    }
LAB_0002bcdc:
    FUN_0002b7c0(param_1);
    __s = *(char **)(param_1 + 0x248);
  }
LAB_0002b94c:
  sVar2 = strlen(__s);
  pcVar1 = strtok(__s,"\n");
  if (pcVar1 == (char *)0x0) {
    if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      local_2030[0] = 'F';
      local_2030[1] = 'a';
      local_2030[2] = 'i';
      local_2030[3] = 'l';
      acStack_202c[0] = 'e';
      acStack_202c[1] = 'd';
      acStack_202c[2] = ' ';
      acStack_202c[3] = 't';
      acStack_2028[0] = 'o';
      acStack_2028[1] = ' ';
      acStack_2028[2] = 'p';
      acStack_2028[3] = 'a';
      acStack_2024[0] = 'r';
      acStack_2024[1] = 's';
      acStack_2024[2] = 'e';
      acStack_2024[3] = ' ';
      local_2020[0] = 'a';
      local_2020[1] = ' ';
      local_2020[2] = '\\';
      local_2020[3] = 'n';
      acStack_201c[0] = ' ';
      acStack_201c[1] = 't';
      acStack_201c[2] = 'e';
      acStack_201c[3] = 'r';
      acStack_2018[0] = 'm';
      acStack_2018[1] = 'i';
      acStack_2018[2] = 'n';
      acStack_2018[3] = 'a';
      acStack_2014[0] = 't';
      acStack_2014[1] = 'e';
      acStack_2014[2] = 'd';
      acStack_2014[3] = ' ';
      local_2010[0] = 's';
      local_2010[1] = 't';
      local_2010[2] = 'r';
      local_2010[3] = 'i';
      acStack_200c[0] = 'n';
      acStack_200c[1] = 'g';
      acStack_200c[2] = ' ';
      acStack_200c[3] = 'i';
      local_2008[0]._0_1_ = 'n';
      local_2008[0]._1_1_ = ' ';
      local_2008[1]._0_1_ = 'r';
      local_2008[1]._1_1_ = 'e';
      acStack_2004[0] = 'c';
      acStack_2004[1] = 'v';
      acStack_2004[2] = '_';
      acStack_2004[3] = 'l';
      local_2000[0] = 'i';
      local_2000[1] = 'n';
      local_2000[2] = 'e';
      local_2000[3] = '\0';
      FUN_00038438(7,local_2030,0);
    }
  }
  else {
    pcVar1 = (char *)__strdup();
    sVar3 = strlen(pcVar1);
    if ((int)(sVar3 + 1) < (int)sVar2) {
      memmove(*(void **)(param_1 + 0x248),(void *)((int)*(void **)(param_1 + 0x248) + sVar3 + 1),(sVar2 - sVar3) + 1);
    }
    else {
      **(undefined1 **)(param_1 + 0x248) = 0;
    }
    uVar11 = *(uint *)(param_1 + 0x208);
    uVar4 = *(uint *)(param_1 + 0x210);
    uVar10 = *(uint *)(param_1 + 0x200);
    *(uint *)(param_1 + 0x200) = uVar10 + 1;
    *(uint *)(param_1 + 0x204) = *(int *)(param_1 + 0x204) + (uint)(0xfffffffe < uVar10);
    *(uint *)(param_1 + 0x208) = uVar11 + sVar3;
    *(uint *)(param_1 + 0x20c) = *(int *)(param_1 + 0x20c) + ((int)sVar3 >> 0x1f) + (uint)CARRY4(uVar11,sVar3);
    *(size_t *)(param_1 + 0x210) = sVar3 + uVar4;
    *(uint *)(param_1 + 0x214) = ((int)sVar3 >> 0x1f) + *(int *)(param_1 + 0x214) + (uint)CARRY4(sVar3,uVar4);
    if (pcVar1 != (char *)0x0) {
      if (DAT_00063928 == '\0') {
        return pcVar1;
      }
      if (DAT_000630c1 == '\0') {
        return pcVar1;
      }
      if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 7)) {
        return pcVar1;
      }
      snprintf(local_2030,0x800,"RECVD: %s",pcVar1);
      FUN_00038438(7,local_2030,0);
      return pcVar1;
    }
  }
LAB_0002bb04:
  FUN_00029394(param_1);
  return (char *)0x0;
}




int FUN_0002bea8(undefined4 *param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  uint uVar4;
  char local_818 [4];
  char acStack_814 [4];
  char acStack_810 [4];
  char acStack_80c [4];
  char local_808 [4];
  char acStack_804 [4];
  char acStack_800 [4];
  undefined3 uStack_7fc;
  char cStack_7f9;
  char local_7f8 [4];
  char acStack_7f4 [4];
  char acStack_7f0 [4];
  char acStack_7ec [4];
  undefined2 local_7e8;
  
  if (((DAT_00063928 != '\0') && (DAT_000630c1 != '\0')) &&
     ((DAT_000632f0 != '\0' || ((DAT_000630c0 != '\0' || (6 < DAT_00060964)))))) {
    snprintf(local_818,0x800,"SEND: %s",param_2);
    FUN_00038438(7,local_818,0);
  }
  iVar1 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0xa8));
  if (iVar1 != 0) {
    FUN_0000b7d8("stratum_send",0x6ea);
  }
  if (*(char *)((int)param_1 + 0x279) == '\0') {
    uVar4 = 3;
    iVar1 = 0;
  }
  else {
    uVar4 = FUN_0002918c(param_1,param_2,param_3);
    iVar1 = 1 - uVar4;
    if (1 < uVar4) {
      iVar1 = 0;
    }
  }
  iVar2 = pthread_mutex_unlock((pthread_mutex_t *)(param_1 + 0xa8));
  if (iVar2 != 0) {
    piVar3 = __errno_location();
    snprintf(local_818,0x800,"WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d",*piVar3,"util.c","stratum_send",0x6ed);
    FUN_00038438(3,local_818,1);
    FUN_00016724(1);
  }
  (*DAT_00060178)();
  if (uVar4 == 2) {
    if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      local_818[0] = 'F';
      local_818[1] = 'a';
      local_818[2] = 'i';
      local_818[3] = 'l';
      acStack_814[0] = 'e';
      acStack_814[1] = 'd';
      acStack_814[2] = ' ';
      acStack_814[3] = 't';
      acStack_810[0] = 'o';
      acStack_810[1] = ' ';
      acStack_810[2] = 's';
      acStack_810[3] = 'e';
      acStack_80c[0] = 'n';
      acStack_80c[1] = 'd';
      acStack_80c[2] = ' ';
      acStack_80c[3] = 'i';
      local_808[0] = 'n';
      local_808[1] = ' ';
      local_808[2] = 's';
      local_808[3] = 't';
      acStack_804[0] = 'r';
      acStack_804[1] = 'a';
      acStack_804[2] = 't';
      acStack_804[3] = 'u';
      acStack_800[0] = 'm';
      acStack_800[1] = '_';
      acStack_800[2] = 's';
      acStack_800[3] = 'e';
      _uStack_7fc = CONCAT13(cStack_7f9,0x646e);
      FUN_00038438(7,local_818,0);
      FUN_0002b7c0(param_1);
      return iVar1;
    }
  }
  else {
    if (uVar4 == 3) {
      if (DAT_000630c1 == '\0') {
        return iVar1;
      }
      if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 7)) {
        return iVar1;
      }
      local_818[0] = 'S';
      local_818[1] = 't';
      local_818[2] = 'r';
      local_818[3] = 'a';
      acStack_814[0] = 't';
      acStack_814[1] = 'u';
      acStack_814[2] = 'm';
      acStack_814[3] = ' ';
      acStack_810[0] = 's';
      acStack_810[1] = 'e';
      acStack_810[2] = 'n';
      acStack_810[3] = 'd';
      acStack_80c[0] = ' ';
      acStack_80c[1] = 'f';
      acStack_80c[2] = 'a';
      acStack_80c[3] = 'i';
      local_808[0] = 'l';
      local_808[1] = 'e';
      local_808[2] = 'd';
      local_808[3] = ' ';
      acStack_804[0] = 'd';
      acStack_804[1] = 'u';
      acStack_804[2] = 'e';
      acStack_804[3] = ' ';
      acStack_800[0] = 't';
      acStack_800[1] = 'o';
      acStack_800[2] = ' ';
      acStack_800[3] = 'n';
      uStack_7fc._0_1_ = 'o';
      uStack_7fc._1_1_ = ' ';
      uStack_7fc._2_1_ = 'p';
      cStack_7f9 = 'o';
      local_7f8[0] = 'o';
      local_7f8[1] = 'l';
      local_7f8[2] = ' ';
      local_7f8[3] = 's';
      acStack_7f4[0] = 't';
      acStack_7f4[1] = 'r';
      acStack_7f4[2] = 'a';
      acStack_7f4[3] = 't';
      acStack_7f0[0] = 'u';
      acStack_7f0[1] = 'm';
      acStack_7f0[2] = '_';
      acStack_7f0[3] = 'a';
      acStack_7ec[0] = 'c';
      acStack_7ec[1] = 't';
      acStack_7ec[2] = 'i';
      acStack_7ec[3] = 'v';
      local_7e8 = 0x65;
      FUN_00038438(7,local_818,0);
      return iVar1;
    }
    if (uVar4 != 1) {
      return iVar1;
    }
    if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      snprintf(local_818,0x800,"Write select failed on pool %d sock",*param_1);
      FUN_00038438(7,local_818,0);
    }
  }
  FUN_0002b7c0(param_1);
  return iVar1;
}




void FUN_0002c1c4(undefined4 *param_1)

{
  size_t sVar1;
  char acStack_2808 [2048];
  char acStack_2008 [8192];
  
  if (*(char *)(param_1 + 0x8f) != '\0') {
    DAT_000636a0 = DAT_000636a0 + 1;
    sprintf(acStack_2008,"{\"id\": %d, \"method\": \"mining.extranonce.subscribe\", \"params\": []}");
    if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      snprintf(acStack_2808,0x800,"Send extranonce.subscribe for stratum pool %d",*param_1);
      FUN_00038438(7,acStack_2808,0);
    }
    sVar1 = strlen(acStack_2008);
    FUN_0002bea8(param_1,acStack_2008,sVar1);
  }
  return;
}




int FUN_0002c29c(undefined4 *param_1)

{
  bool bVar1;
  byte bVar2;
  bool bVar3;
  char cVar4;
  int iVar5;
  undefined4 uVar6;
  uint uVar7;
  int iVar8;
  int *piVar9;
  size_t sVar10;
  void *pvVar11;
  int *piVar12;
  char *pcVar13;
  long lVar14;
  int *piVar15;
  int iVar16;
  void *pvVar17;
  undefined4 uVar18;
  undefined4 uVar19;
  addrinfo *paVar20;
  __fd_mask *p_Var21;
  int local_2b80;
  char *local_2b7c;
  char *local_2b78;
  addrinfo *paStack_2b60;
  undefined4 uStack_2b5c;
  socklen_t sStack_2b58;
  int iStack_2b54;
  timeval tStack_2b50;
  addrinfo local_2b48;
  undefined4 auStack_2b28 [23];
  undefined1 auStack_2acc [160];
  fd_set local_2a2c [4];
  char local_2828 [4];
  char acStack_2824 [4];
  char acStack_2820 [4];
  char acStack_281c [4];
  char local_2818 [4];
  char acStack_2814 [4];
  undefined2 local_2810 [2];
  char local_280c [4];
  char local_2808 [4];
  uint local_2804;
  char acStack_2800 [4];
  undefined3 uStack_27fc;
  char cStack_27f9;
  undefined2 uStack_27f8;
  undefined1 local_27f6;
  char acStack_2028 [8196];
  
  local_2b80 = 0;
  bVar2 = 0;
  bVar3 = false;
LAB_0002c478:
  iVar5 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0xa8));
  if (iVar5 != 0) {
    FUN_0000b7d8("setup_stratum_socket",0xa97);
  }
  *(undefined1 *)((int)param_1 + 0x279) = 0;
  if (param_1[0x91] != 0) {
    close(param_1[0x91]);
  }
  param_1[0x91] = 0;
  iVar5 = pthread_mutex_unlock((pthread_mutex_t *)(param_1 + 0xa8));
  if (iVar5 != 0) {
    piVar9 = __errno_location();
    snprintf(local_2828,0x800,"WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d",*piVar9,"util.c",
             "setup_stratum_socket",0xa9c);
    FUN_00038438(3,local_2828,1);
    FUN_00016724(1);
  }
  (*DAT_00060178)();
  iVar5 = DAT_00062e34;
  local_2b48.ai_family = 0;
  local_2b48.ai_flags = 0;
  local_2b48.ai_protocol = 0;
  local_2b48.ai_addrlen = 0;
  local_2b48.ai_addr = (sockaddr *)0x0;
  local_2b48.ai_canonname = (char *)0x0;
  local_2b48.ai_next = (addrinfo *)0x0;
  local_2b48.ai_socktype = 1;
  if (param_1[0x2e] == 0) {
    if (DAT_00062e34 != 0) {
      param_1[0x2e] = DAT_00062e34;
      FUN_0002b43c(iVar5,param_1 + 0x95,param_1 + 0x96);
      param_1[0x2d] = 3;
      if (param_1[0x2e] != 0) goto LAB_0002c504;
    }
    local_2b7c = (char *)param_1[0x94];
    local_2b78 = (char *)param_1[0x90];
  }
  else {
LAB_0002c504:
    local_2b7c = (char *)param_1[0x95];
    local_2b78 = (char *)param_1[0x96];
  }
  iVar5 = getaddrinfo(local_2b7c,local_2b78,&local_2b48,&paStack_2b60);
  paVar20 = paStack_2b60;
  if (iVar5 != 0) {
    if (*(char *)((int)param_1 + 99) == '\0') {
      if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
        snprintf(local_2828,0x800,"Failed to resolve (?wrong URL) %s:%s",local_2b7c,local_2b78);
        FUN_00038438(4,local_2828,0);
      }
      *(undefined1 *)((int)param_1 + 99) = 1;
    }
    else if ((DAT_000630c1 != 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      snprintf(local_2828,0x800,"Failed to getaddrinfo for %s:%s",local_2b7c,local_2b78);
      FUN_00038438(7,local_2828,0);
    }
    goto LAB_0002c348;
  }
joined_r0x0002c548:
  if (paVar20 == (addrinfo *)0x0) goto LAB_0002c818;
  iVar5 = socket(paVar20->ai_family,paVar20->ai_socktype,paVar20->ai_protocol);
  if (iVar5 == -1) {
    if ((DAT_000630c1 != 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      pcVar13 = local_2828;
      uVar6._0_1_ = 'F';
      uVar6._1_1_ = 'a';
      uVar6._2_1_ = 'i';
      uVar6._3_1_ = 'l';
      uVar18._0_1_ = 'e';
      uVar18._1_1_ = 'd';
      uVar18._2_1_ = ' ';
      uVar18._3_1_ = 's';
      uVar19._0_1_ = 'o';
      uVar19._1_1_ = 'c';
      uVar19._2_1_ = 'k';
      uVar19._3_1_ = 'e';
LAB_0002c5b4:
      *(undefined4 *)pcVar13 = uVar6;
      *(undefined4 *)(pcVar13 + 4) = uVar18;
      *(undefined4 *)(pcVar13 + 8) = uVar19;
      pcVar13[0xc] = 't';
      pcVar13[0xd] = '\0';
      FUN_00038438(7,local_2828,0);
    }
LAB_0002c5cc:
    paVar20 = paVar20->ai_next;
    goto joined_r0x0002c548;
  }
  uVar7 = fcntl(iVar5,3,0);
  fcntl(iVar5,4,uVar7 | 0x800);
  iVar8 = connect(iVar5,paVar20->ai_addr,paVar20->ai_addrlen);
  if (iVar8 == -1) {
    tStack_2b50.tv_sec = 1;
    tStack_2b50.tv_usec = 0;
    piVar9 = __errno_location();
    if (*piVar9 == 0x73) {
      iVar8 = iVar5 + 0x1f;
      if (-1 < iVar5) {
        iVar8 = iVar5;
      }
      p_Var21 = local_2a2c[0].fds_bits + (iVar8 >> 5);
      uVar7 = 0;
LAB_0002c6a0:
      if (uVar7 < 0x20) {
LAB_0002c76c:
        local_2a2c[0].fds_bits[uVar7] = 0;
        uVar7 = uVar7 + 1;
        goto LAB_0002c6a0;
      }
      *p_Var21 = 1 << (iVar5 % 0x20 & 0xffU) | *p_Var21;
      iVar8 = select(iVar5 + 1,(fd_set *)0x0,local_2a2c,(fd_set *)0x0,&tStack_2b50);
      if (iVar8 < 1) {
        uVar7 = 0;
        if ((iVar8 == 0) || (*piVar9 != 4)) goto LAB_0002c6ec;
        goto LAB_0002c76c;
      }
      if ((*p_Var21 >> (iVar5 % 0x20 & 0xffU) & 1U) != 0) {
        sStack_2b58 = 4;
        iVar8 = getsockopt(iVar5,1,4,&iStack_2b54,&sStack_2b58);
        if ((iVar8 == 0) && (iStack_2b54 == 0)) {
          if ((DAT_000630c1 != 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
            local_2828[0] = 'S';
            local_2828[1] = 'u';
            local_2828[2] = 'c';
            local_2828[3] = 'c';
            acStack_2824[0] = 'e';
            acStack_2824[1] = 'e';
            acStack_2824[2] = 'd';
            acStack_2824[3] = 'e';
            acStack_2820[0] = 'd';
            acStack_2820[1] = ' ';
            acStack_2820[2] = 'd';
            acStack_2820[3] = 'e';
            acStack_281c[0] = 'l';
            acStack_281c[1] = 'a';
            acStack_281c[2] = 'y';
            acStack_281c[3] = 'e';
            local_2818[0] = 'd';
            local_2818[1] = ' ';
            local_2818[2] = 'c';
            local_2818[3] = 'o';
            acStack_2814[0] = 'n';
            acStack_2814[1] = 'n';
            acStack_2814[2] = 'e';
            acStack_2814[3] = 'c';
            local_2810[0] = 0x74;
            FUN_00038438(7,local_2828,0);
          }
          goto LAB_0002c940;
        }
      }
LAB_0002c6ec:
      close(iVar5);
      if ((DAT_000630c1 != 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
        local_2828[0] = 'S';
        local_2828[1] = 'e';
        local_2828[2] = 'l';
        local_2828[3] = 'e';
        acStack_2824[0] = 'c';
        acStack_2824[1] = 't';
        acStack_2824[2] = ' ';
        acStack_2824[3] = 't';
        acStack_2820[0] = 'i';
        acStack_2820[1] = 'm';
        acStack_2820[2] = 'e';
        acStack_2820[3] = 'o';
        acStack_281c[0] = 'u';
        acStack_281c[1] = 't';
        acStack_281c[2] = '/';
        acStack_281c[3] = 'f';
        pcVar13 = local_2818;
        uVar6._0_1_ = 'a';
        uVar6._1_1_ = 'i';
        uVar6._2_1_ = 'l';
        uVar6._3_1_ = 'e';
        uVar18._0_1_ = 'd';
        uVar18._1_1_ = ' ';
        uVar18._2_1_ = 'c';
        uVar18._3_1_ = 'o';
        uVar19._0_1_ = 'n';
        uVar19._1_1_ = 'n';
        uVar19._2_1_ = 'e';
        uVar19._3_1_ = 'c';
        goto LAB_0002c5b4;
      }
    }
    else {
      close(iVar5);
      if ((DAT_000630c1 != 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
        local_2828[0] = 'F';
        local_2828[1] = 'a';
        local_2828[2] = 'i';
        local_2828[3] = 'l';
        acStack_2824[0] = 'e';
        acStack_2824[1] = 'd';
        acStack_2824[2] = ' ';
        acStack_2824[3] = 's';
        acStack_2820[0] = 'o';
        acStack_2820[1] = 'c';
        acStack_2820[2] = 'k';
        acStack_2820[3] = ' ';
        acStack_281c[0] = 'c';
        acStack_281c[1] = 'o';
        acStack_281c[2] = 'n';
        acStack_281c[3] = 'n';
        local_2818[0] = 'e';
        local_2818[1] = 'c';
        local_2818[2] = 't';
        local_2818[3] = '\0';
        FUN_00038438(7,local_2828,0);
        paVar20 = paVar20->ai_next;
        goto joined_r0x0002c548;
      }
    }
    goto LAB_0002c5cc;
  }
  if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
    local_2828[0] = 'S';
    local_2828[1] = 'u';
    local_2828[2] = 'c';
    local_2828[3] = 'c';
    acStack_2824[0] = 'e';
    acStack_2824[1] = 'e';
    acStack_2824[2] = 'd';
    acStack_2824[3] = 'e';
    acStack_2820[0] = 'd';
    acStack_2820[1] = ' ';
    acStack_2820[2] = 'i';
    acStack_2820[3] = 'm';
    acStack_281c[0] = 'm';
    acStack_281c[1] = 'e';
    acStack_281c[2] = 'd';
    acStack_281c[3] = 'i';
    local_2818[0] = 'a';
    local_2818[1] = 't';
    local_2818[2] = 'e';
    local_2818[3] = ' ';
    acStack_2814[0] = 'c';
    acStack_2814[1] = 'o';
    acStack_2814[2] = 'n';
    acStack_2814[3] = 'n';
    local_2810[0]._0_1_ = 'e';
    local_2810[0]._1_1_ = 'c';
    local_2810[1]._0_1_ = 't';
    local_2810[1]._1_1_ = '\0';
    FUN_00038438(4,local_2828,0);
  }
LAB_0002c940:
  FUN_000287ac(iVar5);
  freeaddrinfo(paStack_2b60);
  if (param_1[0x2e] == 0) goto LAB_0002ca84;
  switch(param_1[0x2d]) {
  case 0:
    iVar8 = FUN_000287fc(param_1,iVar5,0);
    if (iVar8 == 0) goto LAB_0002c348;
    iVar8 = param_1[0x92];
    goto joined_r0x0002ca8c;
  case 1:
    iVar8 = FUN_000287fc(param_1,iVar5,1);
    break;
  case 2:
    iVar8 = FUN_00028bd0(param_1,iVar5,0);
    break;
  case 3:
  case 5:
    local_2a2c[0].fds_bits[0]._0_1_ = 5;
    local_2a2c[0].fds_bits[0]._1_1_ = 1;
    local_2a2c[0].fds_bits[0]._2_1_ = 0;
    if ((DAT_000630c1 != 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      snprintf(local_2828,0x800,"Attempting to negotiate with %s:%s SOCKS5 proxy",param_1[0x95],param_1[0x96]);
      FUN_00038438(7,local_2828,0);
    }
    send(iVar5,local_2a2c,3,0);
    iVar8 = FUN_000287d4(iVar5);
    if ((iVar8 != 5) || (uVar7 = FUN_000287d4(iVar5), uVar7 != local_2a2c[0].fds_bits[0]._2_1_)) {
LAB_0002cd10:
      if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
        snprintf(local_2828,0x800,"Bad response from %s:%s SOCKS5 server",param_1[0x95],param_1[0x96]);
        FUN_00038438(4,local_2828,0);
      }
      goto LAB_0002c348;
    }
    pcVar13 = (char *)param_1[0x94];
    local_2a2c[0].fds_bits[0]._1_1_ = 1;
    local_2a2c[0].fds_bits[0]._0_1_ = 5;
    local_2a2c[0].fds_bits[0]._2_1_ = 0;
    local_2a2c[0].fds_bits[0]._3_1_ = 3;
    sVar10 = strlen(pcVar13);
    if (0xfe < (int)sVar10) {
      sVar10 = 0xff;
    }
    local_2a2c[0].fds_bits[1]._0_1_ = (undefined1)sVar10;
    memcpy((void *)((int)local_2a2c[0].fds_bits + 5),pcVar13,sVar10);
    lVar14 = strtol((char *)param_1[0x90],(char **)0x0,10);
    *(char *)((int)local_2a2c[0].fds_bits + sVar10 + 6) = (char)lVar14;
    *(char *)((int)local_2a2c[0].fds_bits + sVar10 + 5) = (char)((uint)lVar14 >> 8);
    send(iVar5,local_2a2c,sVar10 + 7,0);
    iVar8 = FUN_000287d4(iVar5);
    if ((iVar8 != 5) || (iVar8 = FUN_000287d4(iVar5), iVar8 != 0)) goto LAB_0002cd10;
    FUN_000287d4(iVar5);
    cVar4 = FUN_000287d4(iVar5);
    if (cVar4 == '\x01') {
      FUN_000287d4(iVar5);
      FUN_000287d4(iVar5);
      FUN_000287d4(iVar5);
      FUN_000287d4(iVar5);
      goto LAB_0002d3e0;
    }
    if (cVar4 != '\x03') goto LAB_0002cd10;
    iVar16 = FUN_000287d4(iVar5);
    iVar8 = 0;
    if (0 < iVar16) {
      do {
        iVar8 = iVar8 + 1;
        FUN_000287d4(iVar5);
      } while (iVar8 != iVar16);
    }
LAB_0002d3e0:
    FUN_000287d4(iVar5);
    FUN_000287d4(iVar5);
    if ((DAT_000630c1 != 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      snprintf(local_2828,0x800,"Success negotiating with %s:%s SOCKS5 proxy",param_1[0x95],param_1[0x96]);
      FUN_00038438(7,local_2828,0);
    }
LAB_0002ca84:
    iVar8 = param_1[0x92];
joined_r0x0002ca8c:
    if (iVar8 == 0) {
      pvVar11 = calloc(0x2000,1);
      param_1[0x92] = pvVar11;
      if (pvVar11 == (void *)0x0) {
        snprintf(local_2828,0x800,"Failed to calloc pool sockbuf in %s %s():%d","util.c","setup_stratum_socket",0xb15);
        FUN_00038438(3,local_2828,1);
        FUN_00016724(1);
      }
      param_1[0x93] = 0x2000;
    }
    param_1[0x91] = iVar5;
    uStack_2b5c = 1;
    sStack_2b58 = 0x2d;
    iStack_2b54 = 0x1e;
    uVar7 = fcntl(iVar5,3,0);
    fcntl(iVar5,4,uVar7 | 0x800);
    setsockopt(iVar5,1,9,&uStack_2b5c,4);
    if (DAT_000642c0 == '\0') {
      fcntl(iVar5,2,1);
    }
    setsockopt(iVar5,6,1,&uStack_2b5c,4);
    setsockopt(iVar5,6,6,&uStack_2b5c,4);
    setsockopt(iVar5,6,4,&sStack_2b58,4);
    setsockopt(iVar5,6,5,&iStack_2b54,4);
    if (bVar3) {
      FUN_00029394(param_1);
      DAT_000636a0 = DAT_000636a0 + 1;
      sprintf(acStack_2028,"{\"id\": %d, \"method\": \"mining.subscribe\", \"params\": []}");
    }
    else if (param_1[0x9d] == 0) {
      DAT_000636a0 = DAT_000636a0 + 1;
      sprintf(acStack_2028,"{\"id\": %d, \"method\": \"mining.subscribe\", \"params\": [\"cgminer/4.9.0\"]}");
    }
    else {
      DAT_000636a0 = DAT_000636a0 + 1;
      sprintf(acStack_2028,"{\"id\": %d, \"method\": \"mining.subscribe\", \"params\": [\"cgminer/4.9.0\", \"%s\"]}");
    }
    sVar10 = strlen(acStack_2028);
    iVar5 = FUN_0002918c(param_1,acStack_2028,sVar10);
    if (iVar5 == 0) {
      iVar5 = FUN_0002870c(param_1,0x3c);
      if (iVar5 == 0) {
        if ((DAT_000630c1 == 0) || (((DAT_000632f0 == '\0' && (DAT_000630c0 == '\0')) && (DAT_00060964 < 7))))
        goto LAB_0002ceb0;
        bVar1 = true;
        local_2828[0] = 'T';
        local_2828[1] = 'i';
        local_2828[2] = 'm';
        local_2828[3] = 'e';
        acStack_2824[0] = 'd';
        acStack_2824[1] = ' ';
        acStack_2824[2] = 'o';
        acStack_2824[3] = 'u';
        acStack_2820[0] = 't';
        acStack_2820[1] = ' ';
        acStack_2820[2] = 'w';
        acStack_2820[3] = 'a';
        acStack_281c[0] = 'i';
        acStack_281c[1] = 't';
        acStack_281c[2] = 'i';
        acStack_281c[3] = 'n';
        local_2818[0] = 'g';
        local_2818[1] = ' ';
        local_2818[2] = 'f';
        local_2818[3] = 'o';
        acStack_2814[0] = 'r';
        acStack_2814[1] = ' ';
        acStack_2814[2] = 'r';
        acStack_2814[3] = 'e';
        local_2810[0]._0_1_ = 's';
        local_2810[0]._1_1_ = 'p';
        local_2810[1]._0_1_ = 'o';
        local_2810[1]._1_1_ = 'n';
        local_280c[0] = 's';
        local_280c[1] = 'e';
        local_280c[2] = ' ';
        local_280c[3] = 'i';
        local_2808[0] = 'n';
        local_2808[1] = ' ';
        local_2808[2] = 'i';
        local_2808[3] = 'n';
        local_2804._0_1_ = 'i';
        local_2804._1_1_ = 't';
        local_2804._2_1_ = 'i';
        local_2804._3_1_ = 'a';
        acStack_2800[0] = 't';
        acStack_2800[1] = 'e';
        acStack_2800[2] = '_';
        acStack_2800[3] = 's';
        uStack_27fc._0_1_ = 't';
        uStack_27fc._1_1_ = 'r';
        uStack_27fc._2_1_ = 'a';
        cStack_27f9 = 't';
        uStack_27f8 = 0x6d75;
        local_27f6 = 0;
        FUN_00038438(7,local_2828,0);
      }
      else {
        pvVar11 = (void *)FUN_0002b920(param_1);
        if (pvVar11 == (void *)0x0) {
          bVar1 = true;
        }
        else {
          local_2b80 = FUN_00045aa8(pvVar11,0,auStack_2b28);
          free(pvVar11);
          if (local_2b80 == 0) {
            if (DAT_000630c1 == 0) {
              bVar3 = true;
              bVar1 = true;
            }
            else if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 7)) {
              bVar1 = true;
              bVar3 = true;
            }
            else {
              bVar1 = true;
              snprintf(local_2828,0x800,"JSON decode failed(%d): %s",auStack_2b28[0],auStack_2acc);
              FUN_00038438(7,local_2828,0);
              bVar3 = true;
            }
            goto LAB_0002c34c;
          }
          piVar9 = (int *)FUN_00046698(local_2b80,"result");
          piVar12 = (int *)FUN_00046698(local_2b80,"error");
          if ((piVar9 == (int *)0x0) || (*piVar9 == 7)) {
            if (piVar12 != (int *)0x0) goto LAB_0002d0ec;
            pcVar13 = (char *)malloc(0x11);
            if (pcVar13 != (char *)0x0) {
              builtin_strncpy(pcVar13,"(unknown reason)",0x11);
            }
          }
          else {
            if ((piVar12 == (int *)0x0) || (*piVar12 == 7)) {
              piVar12 = (int *)FUN_00046880(piVar9,0);
              if ((piVar12 != (int *)0x0) && ((*piVar12 == 1 && (iVar5 = FUN_00046864(), 0 < iVar5)))) {
                iVar8 = 0;
                do {
                  piVar15 = (int *)FUN_00046880(piVar12,iVar8);
                  if ((piVar15 == (int *)0x0) || (*piVar15 != 1)) break;
                  iVar8 = iVar8 + 1;
                  pcVar13 = (char *)FUN_00028e64(piVar15,0);
                  if ((pcVar13 != (char *)0x0) && (iVar16 = strncasecmp(pcVar13,"mining.notify",0xd), iVar16 == 0)) {
                    pvVar11 = (void *)FUN_00028ec4(piVar15,1);
                    if (pvVar11 != (void *)0x0) goto LAB_0002d524;
                    break;
                  }
                } while (iVar5 != iVar8);
              }
              pvVar11 = (void *)(uint)DAT_000630c1;
              if ((pvVar11 != (void *)0x0) &&
                 (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (pvVar11 = (void *)0x0, 6 < DAT_00060964)))) {
                pvVar11 = (void *)0x0;
                local_2828[0] = 'F';
                local_2828[1] = 'a';
                local_2828[2] = 'i';
                local_2828[3] = 'l';
                acStack_2824[0] = 'e';
                acStack_2824[1] = 'd';
                acStack_2824[2] = ' ';
                acStack_2824[3] = 't';
                acStack_2820[0] = 'o';
                acStack_2820[1] = ' ';
                acStack_2820[2] = 'g';
                acStack_2820[3] = 'e';
                acStack_281c[0] = 't';
                acStack_281c[1] = ' ';
                acStack_281c[2] = 's';
                acStack_281c[3] = 'e';
                local_2818[0] = 's';
                local_2818[1] = 's';
                local_2818[2] = 'i';
                local_2818[3] = 'o';
                acStack_2814[0] = 'n';
                acStack_2814[1] = 'i';
                acStack_2814[2] = 'd';
                acStack_2814[3] = ' ';
                local_2810[0]._0_1_ = 'i';
                local_2810[0]._1_1_ = 'n';
                local_2810[1]._0_1_ = ' ';
                local_2810[1]._1_1_ = 'i';
                local_280c[0] = 'n';
                local_280c[1] = 'i';
                local_280c[2] = 't';
                local_280c[3] = 'i';
                local_2808[0] = 'a';
                local_2808[1] = 't';
                local_2808[2] = 'e';
                local_2808[3] = '_';
                local_2804._0_1_ = 's';
                local_2804._1_1_ = 't';
                local_2804._2_1_ = 'r';
                local_2804._3_1_ = 'a';
                acStack_2800[0] = 't';
                acStack_2800[1] = 'u';
                acStack_2800[2] = 'm';
                acStack_2800[3] = '\0';
                FUN_00038438(7,local_2828,0);
              }
LAB_0002d524:
              pcVar13 = (char *)FUN_00028ec4(piVar9,1);
              iVar5 = FUN_00028edc(pcVar13,"initiate_stratum",0xb97);
              if (iVar5 != 0) {
                FUN_00046880(piVar9,2);
                iVar5 = FUN_00046ac0();
                if (0xe < iVar5 - 2U) {
                  if ((DAT_000630c1 != 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964))))
                  {
                    local_2828[0] = 'F';
                    local_2828[1] = 'a';
                    local_2828[2] = 'i';
                    local_2828[3] = 'l';
                    acStack_2824[0] = 'e';
                    acStack_2824[1] = 'd';
                    acStack_2824[2] = ' ';
                    acStack_2824[3] = 't';
                    acStack_2820[0] = 'o';
                    acStack_2820[1] = ' ';
                    acStack_2820[2] = 'g';
                    acStack_2820[3] = 'e';
                    acStack_281c[0] = 't';
                    acStack_281c[1] = ' ';
                    acStack_281c[2] = 'v';
                    acStack_281c[3] = 'a';
                    local_2818[0] = 'l';
                    local_2818[1] = 'i';
                    local_2818[2] = 'd';
                    local_2818[3] = ' ';
                    acStack_2814[0] = 'n';
                    acStack_2814[1] = '2';
                    acStack_2814[2] = 's';
                    acStack_2814[3] = 'i';
                    local_2810[0]._0_1_ = 'z';
                    local_2810[0]._1_1_ = 'e';
                    local_2810[1]._0_1_ = ' ';
                    local_2810[1]._1_1_ = 'i';
                    local_280c[0] = 'n';
                    local_280c[1] = ' ';
                    local_280c[2] = 'i';
                    local_280c[3] = 'n';
                    local_2808[0] = 'i';
                    local_2808[1] = 't';
                    local_2808[2] = 'i';
                    local_2808[3] = 'a';
                    local_2804._0_1_ = 't';
                    local_2804._1_1_ = 'e';
                    local_2804._2_1_ = '_';
                    local_2804._3_1_ = 's';
                    acStack_2800[0] = 't';
                    acStack_2800[1] = 'r';
                    acStack_2800[2] = 'a';
                    acStack_2800[3] = 't';
                    uStack_27fc = 0x6d75;
                    FUN_00038438(7,local_2828,0);
                  }
                  bVar1 = true;
                  free(pvVar11);
                  free(pcVar13);
                  bVar3 = true;
                  goto LAB_0002c34c;
                }
                iVar8 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0x35));
                if (iVar8 != 0) {
                  FUN_0000b7d8("initiate_stratum",0xba4);
                }
                iVar8 = pthread_rwlock_wrlock((pthread_rwlock_t *)(param_1 + 0x3b));
                if (iVar8 != 0) {
                  piVar9 = __errno_location();
                  snprintf(local_2828,0x800,"WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d",*piVar9,"util.c",
                           "initiate_stratum",0xba4);
                  FUN_00038438(3,local_2828,1);
                  FUN_00016724(1);
                }
                param_1[0x9d] = pvVar11;
                param_1[0x97] = pcVar13;
                sVar10 = strlen(pcVar13);
                param_1[0x17f] = sVar10 >> 1;
                free((void *)param_1[0x98]);
                sVar10 = param_1[0x17f];
                pvVar17 = calloc(sVar10,1);
                param_1[0x98] = pvVar17;
                if (pvVar17 == (void *)0x0) {
                  snprintf(local_2828,0x800,"Failed to calloc pool->nonce1bin in %s %s():%d","util.c","initiate_stratum"
                           ,0xbab);
                  FUN_00038438(3,local_2828,1);
                  FUN_00016724(1);
                  pvVar17 = (void *)param_1[0x98];
                  sVar10 = param_1[0x17f];
                }
                FUN_000295b8(pvVar17,param_1[0x97],sVar10);
                param_1[0x9c] = iVar5;
                iVar5 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x3b));
                if (iVar5 != 0) {
                  piVar9 = __errno_location();
                  snprintf(local_2828,0x800,"WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d",*piVar9,"util.c",
                           "initiate_stratum",0xbae);
                  FUN_00038438(3,local_2828,1);
                  FUN_00016724(1);
                }
                FUN_00029110((pthread_mutex_t *)(param_1 + 0x35),"initiate_stratum",0xbae);
                (*DAT_00060178)();
                if (((pvVar11 != (void *)0x0) && (DAT_000630c1 != 0)) &&
                   ((DAT_000632f0 != '\0' || ((DAT_000630c0 != '\0' || (6 < DAT_00060964)))))) {
                  snprintf(local_2828,0x800,"Pool %d stratum session id: %s",*param_1,param_1[0x9d]);
                  FUN_00038438(7,local_2828,0);
                }
                if (param_1[0x8e] == 0) {
                  param_1[0x8e] = param_1[0x94];
                }
                cVar4 = DAT_00063928;
                *(undefined1 *)((int)param_1 + 0x279) = 1;
                param_1[0x1be] = 0;
                param_1[0x1bf] = 0x3ff00000;
                if (((cVar4 != '\0') && (DAT_000630c1 != 0)) &&
                   ((DAT_000632f0 != '\0' || ((DAT_000630c0 != '\0' || (6 < DAT_00060964)))))) {
                  snprintf(local_2828,0x800,"Pool %d confirmed mining.subscribe with extranonce1 %s extran2size %d",
                           *param_1,param_1[0x97],param_1[0x9c]);
                  FUN_00038438(7,local_2828,0);
                }
                if (*(char *)(param_1 + 0x8f) != '\0') {
                  DAT_000636a0 = DAT_000636a0 + 1;
                  sprintf(acStack_2028,"{\"id\": %d, \"method\": \"mining.extranonce.subscribe\", \"params\": []}");
                  sVar10 = strlen(acStack_2028);
                  FUN_0002bea8(param_1,acStack_2028,sVar10);
                }
                iVar5 = 1;
                goto LAB_0002cfac;
              }
              if ((DAT_000630c1 != 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
                local_2828[0] = 'F';
                local_2828[1] = 'a';
                local_2828[2] = 'i';
                local_2828[3] = 'l';
                acStack_2824[0] = 'e';
                acStack_2824[1] = 'd';
                acStack_2824[2] = ' ';
                acStack_2824[3] = 't';
                acStack_2820[0] = 'o';
                acStack_2820[1] = ' ';
                acStack_2820[2] = 'g';
                acStack_2820[3] = 'e';
                acStack_281c[0] = 't';
                acStack_281c[1] = ' ';
                acStack_281c[2] = 'v';
                acStack_281c[3] = 'a';
                local_2818[0] = 'l';
                local_2818[1] = 'i';
                local_2818[2] = 'd';
                local_2818[3] = ' ';
                acStack_2814[0] = 'n';
                acStack_2814[1] = 'o';
                acStack_2814[2] = 'n';
                acStack_2814[3] = 'c';
                local_2810[0]._0_1_ = 'e';
                local_2810[0]._1_1_ = '1';
                local_2810[1]._0_1_ = ' ';
                local_2810[1]._1_1_ = 'i';
                local_280c[0] = 'n';
                local_280c[1] = ' ';
                local_280c[2] = 'i';
                local_280c[3] = 'n';
                local_2808[0] = 'i';
                local_2808[1] = 't';
                local_2808[2] = 'i';
                local_2808[3] = 'a';
                local_2804._0_1_ = 't';
                local_2804._1_1_ = 'e';
                local_2804._2_1_ = '_';
                local_2804._3_1_ = 's';
                acStack_2800[0] = 't';
                acStack_2800[1] = 'r';
                acStack_2800[2] = 'a';
                acStack_2800[3] = 't';
                uStack_27fc = 0x6d75;
                FUN_00038438(7,local_2828,0);
              }
              bVar1 = true;
              free(pvVar11);
              bVar3 = true;
              goto LAB_0002c34c;
            }
LAB_0002d0ec:
            pcVar13 = (char *)FUN_000440cc(piVar12,3);
          }
          if ((DAT_000630c1 != 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
            snprintf(local_2828,0x800,"JSON-RPC decode failed: %s",pcVar13);
            FUN_00038438(7,local_2828,0);
          }
          bVar1 = true;
          free(pcVar13);
          bVar3 = true;
        }
      }
    }
    else if ((DAT_000630c1 == 0) || (((DAT_000632f0 == '\0' && (DAT_000630c0 == '\0')) && (DAT_00060964 < 7)))) {
LAB_0002ceb0:
      bVar1 = true;
    }
    else {
      bVar1 = true;
      local_2828[0] = 'F';
      local_2828[1] = 'a';
      local_2828[2] = 'i';
      local_2828[3] = 'l';
      acStack_2824[0] = 'e';
      acStack_2824[1] = 'd';
      acStack_2824[2] = ' ';
      acStack_2824[3] = 't';
      acStack_2820[0] = 'o';
      acStack_2820[1] = ' ';
      acStack_2820[2] = 's';
      acStack_2820[3] = 'e';
      acStack_281c[0] = 'n';
      acStack_281c[1] = 'd';
      acStack_281c[2] = ' ';
      acStack_281c[3] = 's';
      local_2818[0] = ' ';
      local_2818[1] = 'i';
      local_2818[2] = 'n';
      local_2818[3] = ' ';
      acStack_2814[0] = 'i';
      acStack_2814[1] = 'n';
      acStack_2814[2] = 'i';
      acStack_2814[3] = 't';
      local_2810[0]._0_1_ = 'i';
      local_2810[0]._1_1_ = 'a';
      local_2810[1]._0_1_ = 't';
      local_2810[1]._1_1_ = 'e';
      local_280c[0] = '_';
      local_280c[1] = 's';
      local_280c[2] = 't';
      local_280c[3] = 'r';
      local_2808[0] = 'a';
      local_2808[1] = 't';
      local_2808[2] = 'u';
      local_2808[3] = 'm';
      local_2804 = local_2804 & 0xffffff00;
      FUN_00038438(7,local_2828,0);
    }
    goto LAB_0002c34c;
  case 4:
    iVar8 = FUN_00028bd0(param_1,iVar5,1);
    break;
  default:
    if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
      snprintf(local_2828,0x800,"Unsupported proxy type for %s:%s",param_1[0x95],param_1[0x96]);
      FUN_00038438(4,local_2828,0);
    }
    goto LAB_0002c348;
  }
  if (iVar8 != 0) goto LAB_0002ca84;
  goto LAB_0002c348;
LAB_0002c818:
  if ((DAT_000630c1 != 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    snprintf(local_2828,0x800,"Failed to connect to stratum on %s:%s",local_2b7c,local_2b78);
    FUN_00038438(7,local_2828,0);
  }
  freeaddrinfo(paStack_2b60);
LAB_0002c348:
  bVar1 = false;
LAB_0002c34c:
  if (!(bool)(bVar3 & (bVar2 ^ 1))) {
    if ((DAT_000630c1 != 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      local_2828[0] = 'I';
      local_2828[1] = 'n';
      local_2828[2] = 'i';
      local_2828[3] = 't';
      acStack_2824[0] = 'i';
      acStack_2824[1] = 'a';
      acStack_2824[2] = 't';
      acStack_2824[3] = 'e';
      acStack_2820[0] = ' ';
      acStack_2820[1] = 's';
      acStack_2820[2] = 't';
      acStack_2820[3] = 'r';
      acStack_281c[0] = 'a';
      acStack_281c[1] = 't';
      acStack_281c[2] = 'u';
      acStack_281c[3] = 'm';
      local_2818[0] = ' ';
      local_2818[1] = 'f';
      local_2818[2] = 'a';
      local_2818[3] = 'i';
      acStack_2814[0] = 'l';
      acStack_2814[1] = 'e';
      acStack_2814[2] = 'd';
      acStack_2814[3] = '\0';
      FUN_00038438(7,local_2828,0);
    }
    if (bVar1) {
      FUN_0002b7c0(param_1);
    }
    iVar5 = local_2b80;
    if (local_2b80 != 0) {
      iVar5 = 0;
LAB_0002cfac:
      if ((*(int *)(local_2b80 + 4) != -1) &&
         (iVar8 = *(int *)(local_2b80 + 4) + -1, *(int *)(local_2b80 + 4) = iVar8, iVar8 == 0)) {
        FUN_00046c5c(local_2b80);
      }
    }
    return iVar5;
  }
  iVar5 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0x35));
  if (iVar5 != 0) {
    FUN_0000b7d8("initiate_stratum",0xbc7);
  }
  iVar5 = pthread_rwlock_wrlock((pthread_rwlock_t *)(param_1 + 0x3b));
  if (iVar5 != 0) {
    piVar9 = __errno_location();
    snprintf(local_2828,0x800,"WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d",*piVar9,"util.c","initiate_stratum",
             0xbc7);
    FUN_00038438(3,local_2828,1);
    FUN_00016724(1);
  }
  free((void *)param_1[0x9d]);
  free((void *)param_1[0x97]);
  param_1[0x97] = 0;
  param_1[0x9d] = 0;
  iVar5 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x3b));
  if (iVar5 != 0) {
    piVar9 = __errno_location();
    snprintf(local_2828,0x800,"WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d",*piVar9,"util.c","initiate_stratum",
             0xbcb);
    FUN_00038438(3,local_2828,1);
    FUN_00016724(1);
  }
  iVar5 = pthread_mutex_unlock((pthread_mutex_t *)(param_1 + 0x35));
  if (iVar5 != 0) {
    piVar9 = __errno_location();
    snprintf(local_2828,0x800,"WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d",*piVar9,"util.c","initiate_stratum",
             0xbcb);
    FUN_00038438(3,local_2828,1);
    FUN_00016724(1);
  }
  (*DAT_00060178)();
  if ((DAT_000630c1 != 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    local_2828[0] = 'F';
    local_2828[1] = 'a';
    local_2828[2] = 'i';
    local_2828[3] = 'l';
    acStack_2824[0] = 'e';
    acStack_2824[1] = 'd';
    acStack_2824[2] = ' ';
    acStack_2824[3] = 't';
    acStack_2820[0] = 'o';
    acStack_2820[1] = ' ';
    acStack_2820[2] = 'r';
    acStack_2820[3] = 'e';
    acStack_281c[0] = 's';
    acStack_281c[1] = 'u';
    acStack_281c[2] = 'm';
    acStack_281c[3] = 'e';
    local_2818[0] = ' ';
    local_2818[1] = 's';
    local_2818[2] = 't';
    local_2818[3] = 'r';
    acStack_2814[0] = 'a';
    acStack_2814[1] = 't';
    acStack_2814[2] = 'u';
    acStack_2814[3] = 'm';
    local_2810[0]._0_1_ = ',';
    local_2810[0]._1_1_ = ' ';
    local_2810[1]._0_1_ = 't';
    local_2810[1]._1_1_ = 'r';
    local_280c[0] = 'y';
    local_280c[1] = 'i';
    local_280c[2] = 'n';
    local_280c[3] = 'g';
    local_2808[0] = ' ';
    local_2808[1] = 'a';
    local_2808[2] = 'f';
    local_2808[3] = 'r';
    local_2804._0_1_ = 'e';
    local_2804._1_1_ = 's';
    local_2804._2_1_ = 'h';
    local_2804._3_1_ = '\0';
    FUN_00038438(7,local_2828,0);
  }
  if (((local_2b80 != 0) && (*(int *)(local_2b80 + 4) != -1)) &&
     (iVar5 = *(int *)(local_2b80 + 4) + -1, *(int *)(local_2b80 + 4) = iVar5, iVar5 == 0)) {
    FUN_00046c5c(local_2b80);
  }
  bVar2 = 1;
  goto LAB_0002c478;
}




undefined4 FUN_0002dc00(int param_1)

{
  int iVar1;
  
  if (*(char *)(param_1 + 0x279) == '\0') {
    iVar1 = FUN_0002c29c(param_1);
  }
  else {
    FUN_0002b7c0();
    iVar1 = FUN_0002c29c(param_1);
  }
  if ((iVar1 != 0) && (iVar1 = FUN_0002e9b0(param_1), iVar1 != 0)) {
    FUN_0002c1c4(param_1);
    FUN_0001f8f4(param_1);
    return 1;
  }
  FUN_0001f5dc(param_1);
  return 0;
}




uint FUN_0002dc70(undefined4 *param_1,int param_2)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  int *piVar4;
  char *pcVar5;
  char *pcVar6;
  undefined4 uVar7;
  size_t sVar8;
  char *pcVar9;
  char *__s2;
  void *pvVar10;
  int iVar11;
  uint uVar12;
  double dVar13;
  double dVar14;
  undefined8 in_stack_ffffddb8;
  undefined8 uVar15;
  undefined4 uStack_2234;
  undefined4 uStack_2230;
  undefined4 auStack_222c [23];
  undefined1 auStack_21d0 [160];
  char acStack_2130 [256];
  char local_2030 [4];
  char acStack_202c [4];
  char acStack_2028 [4];
  char acStack_2024 [4];
  char local_2020 [4];
  char acStack_201c [4];
  char acStack_2018 [4];
  char acStack_2014 [4];
  char local_2010 [4];
  char acStack_200c [4];
  char acStack_2008 [4];
  undefined2 uStack_2004;
  undefined1 local_2002;
  undefined4 extraout_s1;
  
  pcVar5 = (char *)((ulonglong)in_stack_ffffddb8 >> 0x20);
  if (param_2 == 0) {
    return 0;
  }
  iVar1 = FUN_00045aa8(param_2,0,auStack_222c);
  if (iVar1 == 0) {
    if (DAT_000630c1 == 0) {
      return 0;
    }
    if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 7)) {
      return 0;
    }
    snprintf(local_2030,0x800,"JSON decode failed(%d): %s",auStack_222c[0],auStack_21d0);
    FUN_00038438(7,local_2030,0);
    return 0;
  }
  iVar2 = FUN_00046698(iVar1,"method");
  if (iVar2 != 0) {
    piVar3 = (int *)FUN_00046698(iVar1,"error");
    piVar4 = (int *)FUN_00046698(iVar1,"params");
    if ((piVar3 != (int *)0x0) && (*piVar3 != 7)) {
      pcVar5 = (char *)FUN_000440cc(piVar3,3);
      if ((DAT_000630c1 != 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
        snprintf(local_2030,0x800,"JSON-RPC method decode failed: %s",pcVar5);
        FUN_00038438(7,local_2030,0);
      }
LAB_0002dd08:
      uVar12 = 0;
      free(pcVar5);
      goto LAB_0002dd14;
    }
    pcVar6 = (char *)FUN_000469f0(iVar2);
    if (pcVar6 != (char *)0x0) {
      iVar2 = strncasecmp(pcVar6,"mining.notify",0xd);
      if (iVar2 == 0) {
        iVar2 = FUN_00029724(param_1,piVar4);
        if (iVar2 == 0) {
          *(undefined1 *)((int)param_1 + 0x27b) = 0;
        }
        else {
          *(undefined1 *)((int)param_1 + 0x27b) = 1;
        }
        uVar12 = (uint)(iVar2 != 0);
        goto LAB_0002dd14;
      }
      iVar2 = strncasecmp(pcVar6,"mining.set_extranonce",0x15);
      if (iVar2 == 0) {
        pcVar5 = (char *)FUN_00028ec4(piVar4);
        iVar2 = FUN_00028edc(pcVar5,"parse_extranonce",0x87c);
        if (iVar2 == 0) {
          uVar12 = (uint)DAT_000630c1;
          if ((uVar12 != 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (uVar12 = 0, 6 < DAT_00060964)))) {
            uVar12 = 0;
            local_2030[0] = 'F';
            local_2030[1] = 'a';
            local_2030[2] = 'i';
            local_2030[3] = 'l';
            acStack_202c[0] = 'e';
            acStack_202c[1] = 'd';
            acStack_202c[2] = ' ';
            acStack_202c[3] = 't';
            acStack_2028[0] = 'o';
            acStack_2028[1] = ' ';
            acStack_2028[2] = 'g';
            acStack_2028[3] = 'e';
            acStack_2024[0] = 't';
            acStack_2024[1] = ' ';
            acStack_2024[2] = 'v';
            acStack_2024[3] = 'a';
            local_2020[0] = 'l';
            local_2020[1] = 'i';
            local_2020[2] = 'd';
            local_2020[3] = ' ';
            acStack_201c[0] = 'n';
            acStack_201c[1] = 'o';
            acStack_201c[2] = 'n';
            acStack_201c[3] = 'c';
            acStack_2018[0] = 'e';
            acStack_2018[1] = '1';
            acStack_2018[2] = ' ';
            acStack_2018[3] = 'i';
            acStack_2014[0] = 'n';
            acStack_2014[1] = ' ';
            acStack_2014[2] = 'p';
            acStack_2014[3] = 'a';
            local_2010[0] = 'r';
            local_2010[1] = 's';
            local_2010[2] = 'e';
            local_2010[3] = '_';
            acStack_200c[0] = 'e';
            acStack_200c[1] = 'x';
            acStack_200c[2] = 't';
            acStack_200c[3] = 'r';
            acStack_2008[0] = 'a';
            acStack_2008[1] = 'n';
            acStack_2008[2] = 'o';
            acStack_2008[3] = 'n';
            uStack_2004 = 0x6563;
            local_2002 = 0;
            FUN_00038438(7,local_2030,0);
          }
          goto LAB_0002dd14;
        }
        FUN_00046880(piVar4,1);
        iVar2 = FUN_00046ac0();
        if (iVar2 - 2U < 0xf) {
          iVar11 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0x35));
          if (iVar11 != 0) {
            FUN_0000b7d8("parse_extranonce",0x887);
          }
          FUN_00029094(param_1 + 0x3b,"parse_extranonce",0x887);
          param_1[0x97] = pcVar5;
          sVar8 = strlen(pcVar5);
          param_1[0x17f] = sVar8 >> 1;
          free((void *)param_1[0x98]);
          sVar8 = param_1[0x17f];
          pvVar10 = calloc(sVar8,1);
          param_1[0x98] = pvVar10;
          if (pvVar10 == (void *)0x0) {
            snprintf(local_2030,0x800,"Failed to calloc pool->nonce1bin in %s %s():%d","util.c","parse_extranonce",0x88d
                    );
            FUN_00038438(3,local_2030,1);
            FUN_00016724(1);
            pvVar10 = (void *)param_1[0x98];
            sVar8 = param_1[0x17f];
          }
          FUN_000295b8(pvVar10,param_1[0x97],sVar8);
          param_1[0x9c] = iVar2;
          if ((DAT_000630c1 != 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
            snprintf(local_2030,0x800,"Pool %d confirmed mining.extranonce.subscribe with extranonce1 %s extran2size %d"
                     ,*param_1,param_1[0x97],iVar2);
            FUN_00038438(7,local_2030,0);
          }
          uVar12 = 1;
          FUN_00029018(param_1 + 0x3b,"parse_extranonce",0x892);
          FUN_00029110((pthread_mutex_t *)(param_1 + 0x35),"parse_extranonce",0x892);
          (*DAT_00060178)();
          goto LAB_0002dd14;
        }
        if ((DAT_000630c1 != 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
          local_2030[0] = 'F';
          local_2030[1] = 'a';
          local_2030[2] = 'i';
          local_2030[3] = 'l';
          acStack_202c[0] = 'e';
          acStack_202c[1] = 'd';
          acStack_202c[2] = ' ';
          acStack_202c[3] = 't';
          acStack_2028[0] = 'o';
          acStack_2028[1] = ' ';
          acStack_2028[2] = 'g';
          acStack_2028[3] = 'e';
          acStack_2024[0] = 't';
          acStack_2024[1] = ' ';
          acStack_2024[2] = 'v';
          acStack_2024[3] = 'a';
          local_2020[0] = 'l';
          local_2020[1] = 'i';
          local_2020[2] = 'd';
          local_2020[3] = ' ';
          acStack_201c[0] = 'n';
          acStack_201c[1] = '2';
          acStack_201c[2] = 's';
          acStack_201c[3] = 'i';
          acStack_2018[0] = 'z';
          acStack_2018[1] = 'e';
          acStack_2018[2] = ' ';
          acStack_2018[3] = 'i';
          acStack_2014[0] = 'n';
          acStack_2014[1] = ' ';
          acStack_2014[2] = 'p';
          acStack_2014[3] = 'a';
          local_2010[0] = 'r';
          local_2010[1] = 's';
          local_2010[2] = 'e';
          local_2010[3] = '_';
          acStack_200c[0] = 'e';
          acStack_200c[1] = 'x';
          acStack_200c[2] = 't';
          acStack_200c[3] = 'r';
          acStack_2008[0] = 'a';
          acStack_2008[1] = 'n';
          acStack_2008[2] = 'o';
          acStack_2008[3] = 'n';
          uStack_2004 = 0x6563;
          local_2002 = 0;
          FUN_00038438(7,local_2030,0);
        }
        goto LAB_0002dd08;
      }
      iVar2 = strncasecmp(pcVar6,"mining.set_difficulty",0x15);
      if (iVar2 != 0) {
        iVar2 = strncasecmp(pcVar6,"client.reconnect",0x10);
        if (iVar2 == 0) {
          memset(acStack_2130,0,0xff);
          FUN_00046880(piVar4,0);
          pcVar5 = (char *)FUN_000469f0();
          if (pcVar5 == (char *)0x0) {
            pcVar5 = (char *)param_1[0x94];
LAB_0002e398:
            FUN_00046880(piVar4,1);
            iVar2 = FUN_000469f0();
            if (iVar2 == 0) {
              iVar2 = param_1[0x90];
            }
            snprintf(acStack_2130,0xfe,"%s:%s",pcVar5,iVar2);
            iVar2 = FUN_0002b43c(acStack_2130,&uStack_2234,&uStack_2230);
            if (iVar2 != 0) {
              if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
                snprintf(local_2030,0x800,"Stratum reconnect requested from pool %d to %s",*param_1,acStack_2130);
                FUN_00038438(4,local_2030,0);
              }
              FUN_00017fc4(param_1);
              iVar2 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0xa8));
              if (iVar2 != 0) {
                FUN_0000b7d8("parse_reconnect",0x8cc);
              }
              FUN_000286f8(param_1);
              *(undefined1 *)((int)param_1 + 0x27b) = 0;
              *(undefined1 *)((int)param_1 + 0x279) = 0;
              if (param_1[0x91] != 0) {
                close(param_1[0x91]);
              }
              pvVar10 = (void *)param_1[0x94];
              param_1[0x91] = 0;
              param_1[0x8e] = uStack_2234;
              param_1[0x94] = uStack_2234;
              free(pvVar10);
              pvVar10 = (void *)param_1[0x90];
              param_1[0x90] = uStack_2230;
              free(pvVar10);
              iVar2 = pthread_mutex_unlock((pthread_mutex_t *)(param_1 + 0xa8));
              if (iVar2 != 0) {
                piVar3 = __errno_location();
                snprintf(local_2030,0x800,"WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d",*piVar3,"util.c",
                         "parse_reconnect",0x8d5);
                FUN_00038438(3,local_2030,1);
                FUN_00016724(1);
              }
              (*DAT_00060178)();
              uVar12 = FUN_0002dc00(param_1);
              goto LAB_0002dd14;
            }
          }
          else {
            pcVar6 = (char *)param_1[0x94];
            pcVar9 = strchr(pcVar6,0x2e);
            if (pcVar9 == (char *)0x0) {
              if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
                pcVar9 = "Denied stratum reconnect request for pool without domain \'%s\'";
LAB_0002e224:
                uVar12 = 0;
                snprintf(local_2030,0x800,pcVar9,pcVar6);
                FUN_00038438(3,local_2030,0);
                goto LAB_0002dd14;
              }
            }
            else {
              __s2 = strchr(pcVar5,0x2e);
              if (__s2 == (char *)0x0) {
                if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
                  pcVar9 = "Denied stratum reconnect request to url without domain \'%s\'";
                  pcVar6 = pcVar5;
                  goto LAB_0002e224;
                }
              }
              else {
                iVar2 = strcmp(pcVar9,__s2);
                if (iVar2 == 0) goto LAB_0002e398;
                if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
                  pcVar9 = "Denied stratum reconnect request to non-matching domain url \'%s\'";
                  goto LAB_0002e224;
                }
              }
            }
          }
        }
        else {
          iVar2 = strncasecmp(pcVar6,"client.get_version",0x12);
          if (iVar2 == 0) {
            uVar12 = FUN_00046698(iVar1,&DAT_0004e540);
            if (uVar12 == 0) goto LAB_0002dd14;
            FUN_00046698(iVar1,&DAT_0004e540);
            uVar7 = FUN_00046ac0();
            pcVar5 = "{\"id\": %d, \"result\": \"cgminer/4.9.0\", \"error\": null}";
LAB_0002df70:
            sprintf(local_2030,pcVar5,uVar7);
            sVar8 = strlen(local_2030);
            uVar12 = FUN_0002bea8(param_1,local_2030,sVar8);
            goto LAB_0002dd14;
          }
          iVar2 = strncasecmp(pcVar6,"client.show_message",0x13);
          if (iVar2 == 0) {
            if ((piVar4 != (int *)0x0) && (*piVar4 == 1)) {
              FUN_00046880(piVar4);
              iVar2 = FUN_000469f0();
              if (iVar2 != 0) {
                if ((DAT_000630c1 != 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
                  uVar15 = CONCAT44(pcVar5,iVar2);
                  uVar7 = *param_1;
                  pcVar5 = "Pool %d message: %s";
                  goto LAB_0002e09c;
                }
                goto LAB_0002e0b0;
              }
            }
          }
          else {
            iVar2 = strncasecmp(pcVar6,"mining.ping",0xb);
            if (iVar2 == 0) {
              if ((DAT_000630c1 != 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
                snprintf(local_2030,0x800,"Pool %d ping",*param_1);
                FUN_00038438(7,local_2030,0);
              }
              uVar12 = FUN_00046698(iVar1,&DAT_0004e540);
              if (uVar12 == 0) goto LAB_0002dd14;
              FUN_00046698(iVar1,&DAT_0004e540);
              uVar7 = FUN_00046ac0();
              pcVar5 = "{\"id\": %d, \"result\": \"pong\", \"error\": null}";
              goto LAB_0002df70;
            }
          }
        }
        goto LAB_0002dd94;
      }
      FUN_00046880(piVar4,0);
      uVar7 = FUN_00046bf0();
      dVar13 = (double)CONCAT44(extraout_s1,uVar7);
      uVar12 = 0;
      if (dVar13 == 0.0) goto LAB_0002dd14;
      iVar2 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0x35));
      if (iVar2 != 0) {
        FUN_0000b7d8("parse_diff",0x861);
      }
      iVar2 = pthread_rwlock_wrlock((pthread_rwlock_t *)(param_1 + 0x3b));
      if (iVar2 != 0) {
        piVar3 = __errno_location();
        pcVar5 = "parse_diff";
        snprintf(local_2030,0x800,"WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d",*piVar3,"util.c","parse_diff",0x861
                );
        FUN_00038438(3,local_2030,1);
        FUN_00016724(1);
      }
      dVar14 = *(double *)(param_1 + 0x1be);
      *(double *)(param_1 + 0x1be) = dVar13;
      iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x3b));
      if (iVar2 != 0) {
        piVar3 = __errno_location();
        pcVar5 = "parse_diff";
        snprintf(local_2030,0x800,"WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d",*piVar3,"util.c","parse_diff",
                 0x864);
        FUN_00038438(3,local_2030,1);
        FUN_00016724(1);
      }
      iVar2 = pthread_mutex_unlock((pthread_mutex_t *)(param_1 + 0x35));
      if (iVar2 != 0) {
        piVar3 = __errno_location();
        pcVar5 = "parse_diff";
        snprintf(local_2030,0x800,"WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d",*piVar3,"util.c","parse_diff",
                 0x864);
        FUN_00038438(3,local_2030,1);
        FUN_00016724(1);
      }
      (*DAT_00060178)();
      if (dVar13 == dVar14) {
        if ((DAT_000630c1 != 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
          uVar12 = 1;
          snprintf(local_2030,0x800,"Pool %d difficulty set to %f",*param_1,dVar13);
          FUN_00038438(7,local_2030,0);
          goto LAB_0002dd14;
        }
      }
      else if (dVar13 == (double)(longlong)(int)(longlong)dVar13) {
        if ((DAT_000630c1 != 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
          uVar15 = CONCAT44(pcVar5,(int)(longlong)dVar13);
          pcVar5 = "Pool %d difficulty changed to %d";
          uVar7 = *param_1;
LAB_0002e09c:
          snprintf(local_2030,0x800,pcVar5,uVar7,uVar15);
LAB_0002e0a0:
          FUN_00038438(7,local_2030,0);
        }
      }
      else if ((DAT_000630c1 != 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
        snprintf(local_2030,0x800,"Pool %d difficulty changed to %.1f",*param_1,dVar13);
        goto LAB_0002e0a0;
      }
LAB_0002e0b0:
      uVar12 = 1;
      goto LAB_0002dd14;
    }
  }
LAB_0002dd94:
  uVar12 = 0;
LAB_0002dd14:
  if (*(int *)(iVar1 + 4) == -1) {
    return uVar12;
  }
  iVar2 = *(int *)(iVar1 + 4) + -1;
  *(int *)(iVar1 + 4) = iVar2;
  if (iVar2 == 0) {
    FUN_00046c5c(iVar1);
    return uVar12;
  }
  return uVar12;
}




undefined4 FUN_0002e9b0(undefined4 *param_1)

{
  size_t sVar1;
  int iVar2;
  void *__ptr;
  int *piVar3;
  int *piVar4;
  char *__ptr_00;
  int iVar5;
  undefined4 uVar6;
  undefined1 auStack_2914 [252];
  char acStack_2818 [2048];
  char acStack_2018 [8196];
  
  iVar2 = DAT_000636a0;
  DAT_000636a0 = DAT_000636a0 + 1;
  sprintf(acStack_2018,"{\"id\": %d, \"method\": \"mining.authorize\", \"params\": [\"%s\", \"%s\"]}",iVar2,
          param_1[0x2b],param_1[0x2c]);
  sVar1 = strlen(acStack_2018);
  iVar2 = FUN_0002bea8(param_1,acStack_2018,sVar1);
  if (iVar2 != 0) {
    while (__ptr = (void *)FUN_0002b920(param_1), __ptr != (void *)0x0) {
      iVar2 = FUN_0002dc70(param_1,__ptr);
      if (iVar2 == 0) {
        iVar2 = FUN_00045aa8(__ptr,0,auStack_2914);
        free(__ptr);
        piVar3 = (int *)FUN_00046698(iVar2,"result");
        piVar4 = (int *)FUN_00046698(iVar2,"error");
        if ((piVar3 == (int *)0x0) || (*piVar3 == 6)) {
          if (piVar4 != (int *)0x0) goto LAB_0002eab4;
          __ptr_00 = (char *)malloc(0x11);
          if (__ptr_00 != (char *)0x0) {
            builtin_strncpy(__ptr_00,"(unknown reason)",0x11);
          }
        }
        else {
          if ((piVar4 == (int *)0x0) || (*piVar4 == 7)) {
            if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
              snprintf(acStack_2818,0x800,"Stratum authorisation success for pool %d",*param_1);
              FUN_00038438(7,acStack_2818,0);
            }
            *(undefined1 *)((int)param_1 + 99) = 1;
            DAT_00062f60 = 1;
            if (DAT_000640c4 != 0) {
              DAT_000636a0 = DAT_000636a0 + 1;
              sprintf(acStack_2018,"{\"id\": %d, \"method\": \"mining.suggest_difficulty\", \"params\": [%d]}");
              sVar1 = strlen(acStack_2018);
              FUN_0002bea8(param_1,acStack_2018,sVar1);
            }
            if (DAT_00060154 == 0) {
              uVar6 = 1;
            }
            else {
              DAT_000636a0 = DAT_000636a0 + 1;
              sprintf(acStack_2018,"{\"id\": %d, \"method\": \"mining.multi_version\", \"params\": [%d]}");
              uVar6 = 1;
              sVar1 = strlen(acStack_2018);
              FUN_0002bea8(param_1,acStack_2018,sVar1);
            }
            goto LAB_0002eb2c;
          }
LAB_0002eab4:
          __ptr_00 = (char *)FUN_000440cc(piVar4,3);
        }
        if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
          snprintf(acStack_2818,0x800,"pool %d JSON stratum auth failed: %s",*param_1,__ptr_00);
          FUN_00038438(7,acStack_2818,0);
        }
        uVar6 = 0;
        free(__ptr_00);
        FUN_0002b7c0(param_1);
LAB_0002eb2c:
        if (iVar2 == 0) {
          return uVar6;
        }
        if (*(int *)(iVar2 + 4) == -1) {
          return uVar6;
        }
        iVar5 = *(int *)(iVar2 + 4) + -1;
        *(int *)(iVar2 + 4) = iVar5;
        if (iVar5 != 0) {
          return uVar6;
        }
        FUN_00046c5c(iVar2);
        return uVar6;
      }
      free(__ptr);
    }
  }
  return 0;
}




void FUN_0002ed00(int param_1,undefined4 param_2)

{
  time_t tVar1;
  
  tVar1 = time((time_t *)0x0);
  *(undefined4 *)(param_1 + 0xf8) = param_2;
  *(time_t *)(param_1 + 0xf4) = tVar1;
  switch(param_2) {
  case 0:
    *(int *)(param_1 + 0xfc) = *(int *)(param_1 + 0xfc) + 1;
    return;
  case 1:
    *(int *)(param_1 + 0x100) = *(int *)(param_1 + 0x100) + 1;
    return;
  case 2:
    *(int *)(param_1 + 0x104) = *(int *)(param_1 + 0x104) + 1;
    return;
  case 3:
    *(int *)(param_1 + 0x108) = *(int *)(param_1 + 0x108) + 1;
    return;
  case 4:
    *(int *)(param_1 + 0x10c) = *(int *)(param_1 + 0x10c) + 1;
    return;
  case 5:
    *(int *)(param_1 + 0x110) = *(int *)(param_1 + 0x110) + 1;
    return;
  case 6:
    *(int *)(param_1 + 0x114) = *(int *)(param_1 + 0x114) + 1;
    return;
  case 7:
    *(int *)(param_1 + 0x118) = *(int *)(param_1 + 0x118) + 1;
    return;
  case 8:
    *(int *)(param_1 + 0x11c) = *(int *)(param_1 + 0x11c) + 1;
    return;
  case 9:
    *(int *)(param_1 + 0x120) = *(int *)(param_1 + 0x120) + 1;
  }
  return;
}




char * FUN_0002edf0(char *param_1,char *param_2)

{
  size_t sVar1;
  char *pcVar2;
  char acStack_810 [2048];
  
  sVar1 = strlen(param_2);
  pcVar2 = param_1;
  if (sVar1 != 0) {
    if (param_1 != (char *)0x0) {
      pcVar2 = (char *)strlen(param_1);
    }
    pcVar2 = pcVar2 + sVar1 + 1;
    if (((uint)pcVar2 & 3) != 0) {
      pcVar2 = (char *)(((uint)pcVar2 & 0xfffffffc) + 4);
    }
    pcVar2 = (char *)malloc((size_t)pcVar2);
    if (pcVar2 == (char *)0x0) {
      snprintf(acStack_810,0x800,"Failed to malloc in %s %s():%d","util.c","realloc_strcat",0xc26);
      FUN_00038438(3,acStack_810,1);
      FUN_00016724(1);
    }
    if (param_1 == (char *)0x0) {
      strcpy(pcVar2,param_2);
    }
    else {
      sprintf(pcVar2,"%s%s",param_1,param_2);
      free(param_1);
    }
  }
  return pcVar2;
}




byte * FUN_0002eedc(byte *param_1)

{
  size_t sVar1;
  byte *pbVar2;
  undefined4 *puVar3;
  byte bVar4;
  byte *__s;
  byte *pbVar5;
  char acStack_810 [2048];
  
  if (param_1 == (byte *)0x0) {
    puVar3 = (undefined4 *)malloc(7);
    if (puVar3 == (undefined4 *)0x0) {
      snprintf(acStack_810,0x800,"Failed to malloc null in %s %s():%d","util.c","str_text",0xc3c);
      FUN_00038438(3,acStack_810,1);
      FUN_00016724(1);
    }
    else {
      *(undefined1 *)((int)puVar3 + 6) = 0;
      *puVar3 = 0x6c756e28;
      *(undefined2 *)(puVar3 + 1) = 0x296c;
    }
  }
  sVar1 = strlen((char *)param_1);
  pbVar2 = (byte *)malloc(sVar1 * 4 + 5);
  __s = pbVar2;
  if (pbVar2 == (byte *)0x0) {
    snprintf(acStack_810,0x800,"Failed to malloc txt in %s %s():%d","util.c","str_text",0xc43);
    FUN_00038438(3,acStack_810,1);
    FUN_00016724(1);
  }
  do {
    while( true ) {
      if (*param_1 - 0x20 < 0x5f) break;
      sprintf((char *)__s,"0x%02x");
      bVar4 = *param_1;
      pbVar5 = __s + 4;
      param_1 = param_1 + 1;
      __s = pbVar5;
      if (bVar4 == 0) goto LAB_0002ef50;
    }
    pbVar5 = __s + 1;
    *__s = *param_1;
    bVar4 = *param_1;
    param_1 = param_1 + 1;
    __s = pbVar5;
  } while (bVar4 != 0);
LAB_0002ef50:
  *pbVar5 = bVar4;
  return pbVar2;
}




void FUN_0002f02c(undefined4 param_1)

{
  char acStack_18 [20];
  
  snprintf(acStack_18,0x10,"cg@%s",param_1);
  prctl(0xf,acStack_18,0,0,0);
  return;
}




void FUN_0002f06c(sem_t *param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  int iVar1;
  int *piVar2;
  char acStack_818 [2052];
  
  iVar1 = sem_init(param_1,0,0);
  if (iVar1 != 0) {
    piVar2 = __errno_location();
    snprintf(acStack_818,0x800,"Failed to sem_init ret=%d errno=%d in %s %s():%d",iVar1,*piVar2,param_2,param_3,param_4)
    ;
    FUN_00038438(3,acStack_818,1);
    FUN_00016724(1);
  }
  return;
}




void FUN_0002f0ec(int param_1,pthread_attr_t *param_2,__start_routine *param_3,void *param_4)

{
  FUN_0002f06c(param_1 + 0x10,"util.c","thr_info_create",0x4c5);
  pthread_create((pthread_t *)(param_1 + 0xc),param_2,param_3,param_4);
  return;
}




void FUN_0002f134(sem_t *param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  int iVar1;
  int *piVar2;
  char acStack_818 [2052];
  
  iVar1 = sem_post(param_1);
  if (iVar1 != 0) {
    piVar2 = __errno_location();
    snprintf(acStack_818,0x800,"Failed to sem_post errno=%d cgsem=0x%p in %s %s():%d",*piVar2,param_1,param_2,param_3,
             param_4);
    FUN_00038438(3,acStack_818,1);
    FUN_00016724(1);
  }
  return;
}




undefined4 FUN_0002f1b4(int param_1)

{
  pthread_setcanceltype(1,(int *)0x0);
  (**(code **)(param_1 + 0x10))(*(undefined4 *)(param_1 + 0x14));
  FUN_0002f134(param_1,"util.c","completion_thread",0xd18);
  return 0;
}




void FUN_0002f1f8(sem_t *param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  int iVar1;
  int *piVar2;
  char acStack_818 [2052];
  
  do {
    iVar1 = sem_wait(param_1);
    if (iVar1 == 0) {
      return;
    }
    piVar2 = __errno_location();
  } while (*piVar2 == 4);
  snprintf(acStack_818,0x800,"Failed to sem_wait errno=%d cgsem=0x%p in %s %s():%d",*piVar2,param_1,param_2,param_3,
           param_4);
  FUN_00038438(3,acStack_818,1);
  FUN_00016724(1);
  return;
}




undefined4 FUN_0002f27c(sem_t *param_1,int param_2,undefined4 param_3,undefined4 param_4,undefined4 param_5)

{
  int iVar1;
  int *piVar2;
  timespec tStack_830;
  undefined4 local_828;
  int local_824;
  undefined4 local_820;
  int local_81c;
  char acStack_818 [2052];
  
  FUN_0002b13c(&local_820);
  local_824 = local_81c * 1000;
  local_828 = local_820;
  FUN_0002aef0(&tStack_830,local_824,param_2,param_2 >> 0x1f);
  while( true ) {
    FUN_0002af78(&tStack_830,&local_828);
    iVar1 = sem_timedwait(param_1,&tStack_830);
    if (iVar1 == 0) {
      return 0;
    }
    piVar2 = __errno_location();
    iVar1 = *piVar2;
    if (iVar1 == 0x6e) break;
    if (iVar1 != 4) {
      snprintf(acStack_818,0x800,"Failed to sem_timedwait errno=%d cgsem=0x%p in %s %s():%d",iVar1,param_1,param_3,
               param_4,param_5);
      FUN_00038438(3,acStack_818,1);
      FUN_00016724(1);
      return 0;
    }
  }
  return 0x6e;
}




void FUN_0002f354(sem_t *param_1)

{
  int iVar1;
  int *piVar2;
  
  do {
    while( true ) {
      iVar1 = sem_trywait(param_1);
      if (iVar1 < 0) break;
      if (iVar1 != 0) {
        return;
      }
    }
    piVar2 = __errno_location();
  } while (*piVar2 == 4);
  return;
}




uint FUN_0002f38c(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  void *__arg;
  uint uVar1;
  pthread_t local_1c [2];
  
  __arg = malloc(0x18);
  if (__arg == (void *)0x0) {
    uVar1 = 0;
  }
  else {
    FUN_0002f06c(__arg,"util.c","cg_completion_timeout",0xd26);
    *(undefined4 *)((int)__arg + 0x10) = param_1;
    *(undefined4 *)((int)__arg + 0x14) = param_2;
    pthread_create(local_1c,(pthread_attr_t *)0x0,FUN_0002f1b4,__arg);
    uVar1 = FUN_0002f27c(__arg,param_3,"util.c","cg_completion_timeout",0xd2c);
    if (uVar1 != 0) {
      uVar1 = 1;
    }
    if (uVar1 == 0) {
      pthread_join(local_1c[0],(void **)0x0);
      free(__arg);
    }
    else {
      pthread_cancel(local_1c[0]);
    }
    uVar1 = uVar1 ^ 1;
  }
  return uVar1;
}




void FUN_0002f444(void *param_1,void *param_2,size_t param_3,undefined4 param_4,undefined4 param_5,undefined4 param_6)

{
  char acStack_810 [2052];
  
  if (-1 < (int)(param_3 - 1)) {
    memcpy(param_1,param_2,param_3);
    return;
  }
  if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
    snprintf(acStack_810,0x800,"ERR: Asked to memcpy %u bytes from %s %s():%d",param_3,param_4,param_5,param_6);
    FUN_00038438(3,acStack_810,0);
  }
  return;
}




void FUN_0002f560(undefined1 *param_1,int param_2)

{
  undefined1 uVar1;
  uint uVar2;
  undefined1 *puVar3;
  uint uVar4;
  
  uVar2 = param_2 - 1;
  if (uVar2 != 0) {
    uVar4 = 0;
    puVar3 = param_1;
    do {
      uVar4 = uVar4 + 1;
      uVar1 = *puVar3;
      *puVar3 = param_1[uVar2];
      param_1[uVar2] = uVar1;
      uVar2 = uVar2 - 1;
      puVar3 = puVar3 + 1;
    } while (uVar4 < uVar2);
  }
  return;
}




int FUN_0002f59c(undefined4 param_1,uint param_2)

{
  int iVar1;
  uint uVar2;
  
  switch(param_1) {
  case 1:
    break;
  case 2:
    if ((param_2 & 0x80) != 0) {
      return 2;
    }
    break;
  default:
    return 0;
  case 4:
    param_2 = param_2 & 0xc0;
    if (param_2 == 0x80) {
      return 3;
    }
    if (param_2 == 0xc0) {
      return 4;
    }
    if (param_2 == 0x40) {
      iVar1 = 2;
    }
    else {
      iVar1 = 1;
    }
    return iVar1;
  case 8:
    param_2 = param_2 & 0xe0;
    if (param_2 == 0x80) {
      return 5;
    }
    if (param_2 < 0x81) {
      if (param_2 == 0x40) {
        return 3;
      }
      if (param_2 == 0x60) {
        return 4;
      }
      if (param_2 == 0x20) {
        return 2;
      }
    }
    else {
      if (param_2 == 0xc0) {
        return 7;
      }
      if (param_2 == 0xe0) {
        return 8;
      }
      if (param_2 == 0xa0) {
        return 6;
      }
    }
    break;
  case 0x10:
    param_2 = param_2 & 0xf0;
    if (param_2 == 0x80) {
      return 9;
    }
    if (param_2 < 0x81) {
      if (param_2 == 0x40) {
        return 5;
      }
      if (param_2 < 0x41) {
        if (param_2 == 0x20) {
          return 3;
        }
        if (param_2 == 0x30) {
          return 4;
        }
        if (param_2 == 0x10) {
          return 2;
        }
      }
      else {
        if (param_2 == 0x60) {
          return 7;
        }
        if (param_2 == 0x70) {
          return 8;
        }
        if (param_2 == 0x50) {
          return 6;
        }
      }
    }
    else {
      if (param_2 == 0xc0) {
        return 0xd;
      }
      if (param_2 < 0xc1) {
        if (param_2 == 0xa0) {
          return 0xb;
        }
        if (param_2 == 0xb0) {
          return 0xc;
        }
        if (param_2 == 0x90) {
          return 10;
        }
      }
      else {
        if (param_2 == 0xe0) {
          return 0xf;
        }
        if (param_2 == 0xf0) {
          return 0x10;
        }
        if (param_2 == 0xd0) {
          return 0xe;
        }
      }
    }
    break;
  case 0x20:
    uVar2 = (param_2 & 0xfffffff8) - 8 & 0xff;
    if (uVar2 < 0xf1) {
      return (int)(char)(&DAT_00051ef0)[uVar2];
    }
    break;
  case 0x40:
    uVar2 = (param_2 & 0xfffffffc) - 4 & 0xff;
    if (uVar2 < 0xf9) {
      return (int)(char)(&DAT_00051fe4)[uVar2];
    }
  }
  return 1;
}




void FUN_0002f884(void *param_1,undefined1 *param_2,int param_3)

{
  uint uVar1;
  uint uVar2;
  undefined1 uVar3;
  ulonglong uVar4;
  void *__ptr;
  void *__ptr_00;
  void *__ptr_01;
  void *__ptr_02;
  void *__ptr_03;
  void *__ptr_04;
  undefined4 uVar5;
  size_t sVar6;
  uint *puVar7;
  int iVar8;
  undefined4 *puVar9;
  undefined8 uVar10;
  undefined4 local_cd8 [4];
  undefined4 local_cc8;
  undefined4 uStack_cc4;
  undefined4 uStack_cc0;
  undefined4 uStack_cbc;
  undefined4 local_cb8 [2];
  undefined4 uStack_cb0;
  undefined1 uStack_cad;
  undefined4 uStack_cac;
  undefined4 uStack_ca8;
  undefined4 uStack_ca4;
  undefined4 uStack_ca0;
  undefined4 local_c9c;
  undefined4 local_c98 [4];
  undefined4 local_c88;
  undefined4 uStack_c84;
  undefined4 uStack_c80;
  undefined4 uStack_c7c;
  uint local_c78 [19];
  char local_c29 [1025];
  char acStack_828 [2052];
  
  if (DAT_00060e98 != (char *)0x0) {
    memset(local_c29 + 1,0,0x400);
    uStack_cb0 = 0;
    uStack_cac = 0;
    uStack_ca8 = 0;
    uStack_ca4 = 0;
    uStack_ca0 = 0;
    local_c9c = 0;
    memset(local_c78,0,0x50);
    iVar8 = 0;
    local_cd8[0] = *(undefined4 *)((int)param_1 + 0x80);
    local_cd8[1] = *(undefined4 *)((int)param_1 + 0x84);
    local_cd8[2] = *(undefined4 *)((int)param_1 + 0x88);
    local_cd8[3] = *(undefined4 *)((int)param_1 + 0x8c);
    local_cc8 = *(undefined4 *)((int)param_1 + 0x90);
    uStack_cc4 = *(undefined4 *)((int)param_1 + 0x94);
    uStack_cc0 = *(undefined4 *)((int)param_1 + 0x98);
    uStack_cbc = *(undefined4 *)((int)param_1 + 0x9c);
    uStack_cb0 = *(undefined4 *)((int)param_1 + 0x48);
    local_cb8[0] = *(undefined4 *)((int)param_1 + 0x40);
    local_cb8[1] = *(undefined4 *)((int)param_1 + 0x44);
    local_c98[0] = *(undefined4 *)((int)param_1 + 0xc0);
    local_c98[1] = *(undefined4 *)((int)param_1 + 0xc4);
    local_c98[2] = *(undefined4 *)((int)param_1 + 200);
    local_c98[3] = *(undefined4 *)((int)param_1 + 0xcc);
    local_c88 = *(undefined4 *)((int)param_1 + 0xd0);
    uStack_c84 = *(undefined4 *)((int)param_1 + 0xd4);
    uStack_c80 = *(undefined4 *)((int)param_1 + 0xd8);
    uStack_c7c = *(undefined4 *)((int)param_1 + 0xdc);
    puVar9 = local_cd8;
    do {
      uVar3 = *(undefined1 *)((int)local_cd8 + iVar8);
      *(undefined1 *)((int)local_cd8 + iVar8) = *(undefined1 *)((int)puVar9 + 0x1f);
      iVar8 = iVar8 + 1;
      *(undefined1 *)((int)puVar9 + 0x1f) = uVar3;
      puVar9 = (undefined4 *)((int)puVar9 + -1);
    } while (iVar8 != 0x10);
    iVar8 = 0;
    puVar9 = local_cb8;
    do {
      uVar3 = *(undefined1 *)((int)local_cb8 + iVar8);
      *(undefined1 *)((int)local_cb8 + iVar8) = *(undefined1 *)((int)puVar9 + 0xb);
      iVar8 = iVar8 + 1;
      *(undefined1 *)((int)puVar9 + 0xb) = uVar3;
      puVar9 = (undefined4 *)((int)puVar9 + -1);
    } while (iVar8 != 6);
    iVar8 = 0;
    puVar9 = local_c98;
    do {
      uVar3 = *(undefined1 *)((int)local_c98 + iVar8);
      *(undefined1 *)((int)local_c98 + iVar8) = *(undefined1 *)((int)puVar9 + 0x1f);
      iVar8 = iVar8 + 1;
      *(undefined1 *)((int)puVar9 + 0x1f) = uVar3;
      puVar9 = (undefined4 *)((int)puVar9 + -1);
    } while (iVar8 != 0x10);
    if (DAT_00063df9 == '\0') {
      __ptr = (void *)FUN_000294b8(param_1,0x80);
    }
    else {
      memcpy(local_c78,param_1,0x50);
      iVar8 = 0;
      puVar7 = local_c78;
      do {
        uVar3 = *(undefined1 *)((int)local_c78 + iVar8);
        *(undefined1 *)((int)local_c78 + iVar8) = *(undefined1 *)((int)puVar7 + 0x4f);
        iVar8 = iVar8 + 1;
        *(undefined1 *)((int)puVar7 + 0x4f) = uVar3;
        puVar7 = (uint *)((int)puVar7 + -1);
      } while (iVar8 != 0x28);
      uVar1 = (local_c78[0] << 0x18 | (local_c78[0] >> 8 & 0xff) << 0x10 | (local_c78[0] >> 0x10 & 0xff) << 8 |
              local_c78[0] >> 0x18) << 4;
      local_c78[0] = (local_c78[0] >> 0x18) << 0x1c | (uVar1 >> 8 & 0xff) << 0x10 | (uVar1 >> 0x10 & 0xff) << 8 |
                     uVar1 >> 0x18;
      __ptr = (void *)FUN_000294b8(local_c78,0x50);
    }
    __ptr_00 = (void *)FUN_000294b8(local_cd8,0x20);
    __ptr_01 = (void *)FUN_000294b8(local_cb8,0xc);
    __ptr_02 = (void *)FUN_000294b8(param_2,4);
    __ptr_03 = (void *)FUN_000294b8(param_2,5);
    __ptr_04 = (void *)FUN_000294b8(local_c98,0x20);
    uVar10 = FUN_0001541c(param_1);
    uVar4 = (ulonglong)uVar10 >> 0x20;
    uVar5 = (undefined4)uVar10;
    iVar8 = strcmp(DAT_00060e98,"screen");
    if (iVar8 == 0) {
      if (param_3 != 0) {
        sprintf(local_c29 + 1,"work %s nonce %s",__ptr,__ptr_02);
        if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
          snprintf(acStack_828,0x800,local_c29 + 1);
          FUN_00038438(3,acStack_828,0);
        }
        sVar6 = strlen(local_c29 + 1);
        fwrite(local_c29 + 1,sVar6,1,DAT_00062c10);
        fwrite(&DAT_00054ea0,1,1,DAT_00062c10);
        fflush(DAT_00062c10);
      }
    }
    else {
      if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
        snprintf(acStack_828,0x800,local_c29 + 1);
        FUN_00038438(3,acStack_828,0);
      }
      if (DAT_00062c10 != (FILE *)0x0) {
        if (param_3 == 0) {
          sprintf(local_c29 + 1,"%s %08x work %s midstate %s data %s nonce %s hash %s diff %lld","x",
                  *(undefined4 *)((int)param_1 + 0x154),__ptr,__ptr_00,__ptr_01,__ptr_03,__ptr_04);
          sVar6 = strlen(local_c29 + 1);
          fwrite(local_c29 + 1,sVar6,1,DAT_00062c10);
          fwrite(&DAT_00054ea0,1,1,DAT_00062c10);
          fflush(DAT_00062c10);
        }
        else {
          sprintf(local_c29 + 1,"%s %08x work %s midstate %s data %s nonce %s hash %s diff %lld",&DAT_00053454,
                  *(undefined4 *)((int)param_1 + 0x154),__ptr,__ptr_00,__ptr_01,__ptr_03,__ptr_04);
          sVar6 = strlen(local_c29 + 1);
          fwrite(local_c29 + 1,sVar6,1,DAT_00062c10);
          fwrite(&DAT_00054ea0,1,1,DAT_00062c10);
          fflush(DAT_00062c10);
          if (DAT_00062c0c == 1) {
            sprintf(local_c29 + 1,"midstate %s data %s nonce %s hash %s",__ptr_00,__ptr_01,__ptr_02,__ptr_04);
            sVar6 = strlen(local_c29 + 1);
            fwrite(local_c29 + 1,sVar6,1,DAT_00062c14);
            fwrite(&DAT_00054ea0,1,1,DAT_00062c14);
            fflush(DAT_00062c14);
          }
          else if (DAT_00062c0c == 0x20 || DAT_00062c0c == 0x40) {
            sprintf(local_c29 + 1,"midstate %s data %s nonce %s hash %s",__ptr_00,__ptr_01,__ptr_02,__ptr_04);
            iVar8 = FUN_0002f59c(DAT_00062c0c,*param_2);
            sVar6 = strlen(local_c29 + 1);
            fwrite(local_c29 + 1,sVar6,1,(&DAT_00062c14)[iVar8]);
            fwrite(&DAT_00054ea0,1,1,(&DAT_00062c14)[iVar8]);
            fflush((&DAT_00062c14)[iVar8]);
          }
          if (DAT_00062d18 != '\0') {
            iVar8 = 0;
            do {
              uVar1 = (uint)((ulonglong)uVar10 >> 0x21);
              uVar2 = (uint)((byte)((ulonglong)uVar10 >> 0x20) & 1) << 0x1f | (uint)uVar10 >> 1;
              uVar10 = CONCAT44(uVar1,uVar2);
              if (uVar2 == 0 && uVar1 == 0) break;
              iVar8 = iVar8 + 1;
            } while (iVar8 != 0x40);
            if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
              snprintf(acStack_828,0x800,"work diff %lld diffnum %d",uVar5,uVar5,(int)uVar4,iVar8);
              FUN_00038438(7,acStack_828,0);
            }
            sprintf(local_c29 + 1,"midstate %s data %s nonce %s hash %s",__ptr_00,__ptr_01,__ptr_02,__ptr_04);
            sVar6 = strlen(local_c29 + 1);
            fwrite(local_c29 + 1,sVar6,1,(FILE *)(&DAT_00062d1c)[iVar8]);
            fwrite(&DAT_00054ea0,1,1,(FILE *)(&DAT_00062d1c)[iVar8]);
            fflush((FILE *)(&DAT_00062d1c)[iVar8]);
          }
        }
      }
    }
    if (__ptr != (void *)0x0) {
      free(__ptr);
    }
    if (__ptr_00 != (void *)0x0) {
      free(__ptr_00);
    }
    if (__ptr_01 != (void *)0x0) {
      free(__ptr_01);
    }
    if (__ptr_02 != (void *)0x0) {
      free(__ptr_02);
    }
    if (__ptr_03 != (void *)0x0) {
      free(__ptr_03);
    }
    if (__ptr_04 != (void *)0x0) {
      free(__ptr_04);
    }
  }
  return;
}




void FUN_0002fff0(int param_1,int param_2,int param_3)

{
  int iVar1;
  uint *puVar2;
  int *piVar3;
  int *piVar4;
  int iVar5;
  uint uVar6;
  uint *puVar7;
  uint uVar8;
  int iVar9;
  int iVar10;
  uint uVar11;
  uint uVar12;
  int local_154;
  uint local_144;
  uint local_140 [8];
  uint local_120 [64];
  
  if (0 < param_3) {
    local_154 = 0;
    do {
      puVar7 = local_140 + 7;
      iVar5 = param_2 + local_154 * 0x40;
      iVar10 = 0;
      do {
        iVar9 = iVar5 + iVar10 * 4;
        iVar1 = iVar10 * 4;
        iVar10 = iVar10 + 1;
        puVar7 = puVar7 + 1;
        *puVar7 = (uint)*(byte *)(iVar9 + 3) | (uint)*(byte *)(iVar5 + iVar1) << 0x18 | (uint)*(byte *)(iVar9 + 2) << 8
                  | (uint)*(byte *)(iVar9 + 1) << 0x10;
      } while (iVar10 != 0x10);
      puVar7 = local_120;
      iVar5 = 0;
      do {
        uVar6 = puVar7[0xe];
        uVar8 = puVar7[1];
        piVar3 = (int *)((int)local_120 + iVar5);
        iVar5 = iVar5 + 4;
        puVar7[0x10] = puVar7[9] + *piVar3 +
                       ((uVar6 >> 0x11 | uVar6 << 0xf) ^ (uVar6 >> 0x13 | uVar6 << 0xd) ^ uVar6 >> 10) +
                       ((uVar8 >> 7 | uVar8 << 0x19) ^ (uVar8 >> 0x12 | uVar8 << 0xe) ^ uVar8 >> 3);
        puVar7 = puVar7 + 1;
      } while (iVar5 != 0xc0);
      puVar7 = &local_144;
      iVar5 = param_1;
      do {
        puVar2 = (uint *)(iVar5 + 0x88);
        iVar5 = iVar5 + 4;
        puVar7 = puVar7 + 1;
        *puVar7 = *puVar2;
      } while (puVar7 != local_140 + 7);
      iVar5 = 0;
      do {
        uVar12 = local_140[1];
        uVar11 = local_140[5];
        uVar8 = local_140[6];
        local_140[5] = local_140[4];
        local_140[1] = local_140[0];
        uVar6 = local_140[2];
        piVar3 = (int *)((int)local_120 + iVar5);
        piVar4 = (int *)((int)&DAT_0006027c + iVar5);
        iVar5 = iVar5 + 4;
        iVar10 = *piVar3 + *piVar4 +
                 ((local_140[5] >> 6 | local_140[5] << 0x1a) ^ (local_140[5] >> 0xb | local_140[5] << 0x15) ^
                 (local_140[5] >> 0x19 | local_140[5] << 7)) + (uVar8 & ~local_140[5] ^ uVar11 & local_140[5]) +
                 local_140[7];
        local_140[4] = local_140[3] + iVar10;
        local_140[0] = ((uVar12 ^ uVar6) & local_140[1] ^ uVar6 & uVar12) +
                       ((local_140[1] >> 2 | local_140[1] << 0x1e) ^ (local_140[1] >> 0xd | local_140[1] << 0x13) ^
                       (local_140[1] >> 0x16 | local_140[1] << 10)) + iVar10;
        local_140[2] = uVar12;
        local_140[6] = uVar11;
        local_140[3] = uVar6;
        local_140[7] = uVar8;
      } while (iVar5 != 0x100);
      iVar5 = 0;
      iVar10 = param_1;
      uVar6 = local_140[0];
      while( true ) {
        *(uint *)(iVar10 + 0x88) = *(int *)(iVar10 + 0x88) + uVar6;
        iVar10 = iVar10 + 4;
        if (iVar5 + 4 == 0x20) break;
        uVar6 = *(uint *)((int)local_140 + iVar5 + 4);
        iVar5 = iVar5 + 4;
      }
      local_154 = local_154 + 1;
    } while (param_3 != local_154);
  }
  return;
}




void FUN_00030210(undefined4 *param_1)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  
  puVar2 = (undefined4 *)0x60378;
  puVar1 = param_1;
  do {
    puVar2 = puVar2 + 1;
    puVar1[0x22] = *puVar2;
    puVar1 = puVar1 + 1;
  } while (puVar2 != (undefined4 *)0x60398);
  param_1[1] = 0;
  *param_1 = 0;
  return;
}




void FUN_00030244(int *param_1,void *param_2,uint param_3,undefined4 param_4)

{
  uint uVar1;
  uint uVar2;
  uint __n;
  uint __n_00;
  
  __n = 0x40 - param_1[1];
  if (param_3 < __n) {
    __n = param_3;
  }
  memcpy((void *)((int)param_1 + param_1[1] + 8),param_2,__n);
  uVar2 = param_3 + param_1[1];
  if (0x3f < uVar2) {
    __n_00 = param_3 - __n & 0x3f;
    uVar1 = param_3 - __n >> 6;
    FUN_0002fff0(param_1,param_1 + 2,1,uVar2,param_4);
    FUN_0002fff0(param_1,(int)param_2 + __n,uVar1);
    memcpy(param_1 + 2,(void *)((int)param_2 + __n + uVar1 * 0x40),__n_00);
    param_1[1] = __n_00;
    *param_1 = *param_1 + (uVar1 + 1) * 0x40;
    return;
  }
  param_1[1] = uVar2;
  return;
}




void FUN_000302e4(int *param_1,int param_2,undefined4 param_3,undefined4 param_4)

{
  undefined1 *puVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  undefined4 uVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  bool bVar10;
  
  uVar3 = param_1[1];
  iVar4 = *param_1;
  bVar10 = (uVar3 & 0x3f) < 0x38;
  if (bVar10) {
    iVar2 = 0x40;
  }
  else {
    iVar2 = 0x80;
  }
  if (bVar10) {
    iVar6 = 0x3c;
    iVar8 = 0x3d;
    iVar7 = 0x3e;
    iVar9 = 0x3f;
    uVar5 = 1;
  }
  else {
    iVar6 = 0x7c;
    iVar8 = 0x7d;
    iVar7 = 0x7e;
    iVar9 = 0x7f;
    uVar5 = 2;
  }
  memset((void *)((int)param_1 + uVar3 + 8),0,iVar2 - uVar3);
  uVar3 = (uVar3 + iVar4) * 8;
  *(undefined1 *)((int)param_1 + param_1[1] + 8) = 0x80;
  *(char *)((int)param_1 + iVar9 + 8) = (char)uVar3;
  *(char *)((int)param_1 + iVar7 + 8) = (char)(uVar3 >> 8);
  *(char *)((int)param_1 + iVar8 + 8) = (char)(uVar3 >> 0x10);
  *(char *)((int)param_1 + iVar6 + 8) = (char)(uVar3 >> 0x18);
  FUN_0002fff0(param_1,param_1 + 2,uVar5,uVar3 >> 0x10,param_4);
  iVar4 = 0;
  do {
    iVar2 = param_2 + iVar4 * 4;
    *(char *)(iVar2 + 3) = (char)param_1[0x22];
    *(char *)(iVar2 + 2) = (char)((uint)param_1[0x22] >> 8);
    *(char *)(iVar2 + 1) = (char)*(undefined2 *)((int)param_1 + 0x8a);
    puVar1 = (undefined1 *)((int)param_1 + 0x8b);
    param_1 = param_1 + 1;
    *(undefined1 *)(param_2 + iVar4 * 4) = *puVar1;
    iVar4 = iVar4 + 1;
  } while (iVar4 != 8);
  return;
}




void FUN_000303dc(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  undefined4 local_b8;
  undefined4 local_b4;
  undefined4 uStack_34;
  undefined4 local_30 [8];
  
  puVar1 = (undefined4 *)0x60378;
  puVar2 = &uStack_34;
  do {
    puVar1 = puVar1 + 1;
    puVar2 = puVar2 + 1;
    *puVar2 = *puVar1;
  } while (puVar1 != (undefined4 *)0x60398);
  local_b8 = 0;
  local_b4 = 0;
  FUN_00030244(&local_b8,param_1,param_2);
  FUN_000302e4(&local_b8,param_3);
  return;
}




byte * FUN_00030440(byte *param_1,int param_2)

{
  size_t sVar1;
  byte *pbVar2;
  byte *pbVar3;
  byte *pbVar4;
  byte bVar5;
  byte *pbVar6;
  byte bVar7;
  int iVar8;
  char acStack_820 [2052];
  
  bVar7 = *param_1;
  pbVar2 = param_1;
  if (bVar7 != 0) {
    iVar8 = 0;
    pbVar3 = param_1;
    bVar5 = bVar7;
    do {
      while (bVar5 != 0x3d) {
        if (bVar5 < 0x3e) {
          if (bVar5 == 0x22) {
            if (param_2 != 0) goto LAB_000304b4;
          }
          else if (bVar5 == 0x2c) break;
          goto LAB_00030484;
        }
        if (bVar5 != 0x5c) {
          if (bVar5 != 0x7c) goto LAB_00030484;
          break;
        }
LAB_000304b4:
        pbVar3 = pbVar3 + 1;
        bVar5 = *pbVar3;
        iVar8 = iVar8 + 1;
        if (bVar5 == 0) goto LAB_000304c4;
      }
      if (param_2 == 0) goto LAB_000304b4;
LAB_00030484:
      pbVar3 = pbVar3 + 1;
      bVar5 = *pbVar3;
    } while (bVar5 != 0);
LAB_000304c4:
    if (iVar8 != 0) {
      sVar1 = strlen((char *)param_1);
      sVar1 = iVar8 + 1 + sVar1;
      pbVar2 = (byte *)malloc(sVar1);
      if (pbVar2 == (byte *)0x0) {
        snprintf(acStack_820,0x800,"Failed to malloc escape buf %d in %s %s():%d",sVar1,"api.c","escape_string",0x343);
        FUN_00038438(3,acStack_820,1);
        FUN_00016724(1);
        bVar7 = *param_1;
      }
      pbVar4 = param_1 + 1;
      pbVar3 = pbVar2;
      while (bVar7 != 0) {
        pbVar6 = pbVar3;
        if (bVar7 == 0x3d) {
LAB_00030558:
          if (param_2 == 0) {
LAB_00030560:
            *pbVar3 = 0x5c;
            bVar7 = pbVar4[-1];
            pbVar6 = pbVar3 + 1;
          }
LAB_00030528:
          pbVar3 = pbVar6 + 1;
          *pbVar6 = bVar7;
        }
        else {
          if (bVar7 < 0x3e) {
            if (bVar7 == 0x22) {
              if (param_2 != 0) goto LAB_00030560;
            }
            else if (bVar7 == 0x2c) goto LAB_00030558;
            goto LAB_00030528;
          }
          if (bVar7 != 0x5c) {
            if (bVar7 != 0x7c) goto LAB_00030528;
            goto LAB_00030558;
          }
          *pbVar3 = 0x5c;
          pbVar3[1] = pbVar4[-1];
          pbVar3 = pbVar3 + 2;
        }
        param_1 = param_1 + 1;
        pbVar4 = pbVar4 + 1;
        bVar7 = *param_1;
      }
      *pbVar3 = 0;
    }
  }
  return pbVar2;
}




void FUN_000305f4(int param_1,char *param_2)

{
  size_t sVar1;
  undefined4 *puVar2;
  void *__ptr;
  int iVar3;
  int iVar4;
  char acStack_828 [2052];
  
  puVar2 = *(undefined4 **)(param_1 + 0xc);
  sVar1 = strlen(param_2);
  iVar3 = puVar2[1];
  __ptr = (void *)*puVar2;
  if ((uint)puVar2[2] < iVar3 + 1 + sVar1) {
    iVar4 = (sVar1 + 0x1001) - (sVar1 + 1 & 0xfff);
    __ptr = realloc(__ptr,iVar4 + puVar2[2]);
    *puVar2 = __ptr;
    if (__ptr == (void *)0x0) {
      snprintf(acStack_828,0x800,"OOM buf siz=%d tot=%d ext=%d in %s %s():%d",sVar1,
               *(undefined4 *)(*(int *)(param_1 + 0xc) + 8),iVar4,"api.c","add_item_buf",0x496);
      FUN_00038438(3,acStack_828,1);
      FUN_00016724(1);
    }
    *(int *)(*(int *)(param_1 + 0xc) + 8) = *(int *)(*(int *)(param_1 + 0xc) + 8) + iVar4;
  }
  memcpy((void *)((int)__ptr + iVar3),param_2,sVar1 + 1);
  *(size_t *)(*(int *)(param_1 + 0xc) + 4) = *(int *)(*(int *)(param_1 + 0xc) + 4) + sVar1;
  return;
}




undefined4 FUN_00030708(uint *param_1,char *param_2)

{
  size_t sVar1;
  void *pvVar2;
  uint uVar3;
  void *__dest;
  size_t __size;
  int iVar4;
  float fVar5;
  
  sVar1 = strlen(param_2);
  __dest = (void *)param_1[2];
  iVar4 = (int)__dest - (int)param_1[1];
  uVar3 = iVar4 + 0xc + sVar1;
  if (*param_1 < uVar3) {
    __size = *param_1 + 0x20000;
    if (__size < uVar3) {
      fVar5 = (float)FixedToFP(uVar3,0x20,0x20,0x10,1,0);
      __size = ((uint)(0.0 < fVar5) * (int)fVar5 + 2) * 0x10000;
    }
    pvVar2 = realloc((void *)param_1[1],__size);
    *param_1 = __size;
    __dest = (void *)((int)pvVar2 + iVar4);
    param_1[1] = (uint)pvVar2;
    param_1[2] = (uint)__dest;
  }
  memcpy(__dest,param_2,sVar1 + 1);
  param_1[2] = param_1[2] + sVar1;
  return 1;
}




void FUN_0003079c(undefined4 param_1,void *param_2,int param_3,char *param_4)

{
  void *__ptr;
  
  if (*param_4 == '\0') {
    if (param_3 == 0) goto LAB_000307c4;
    FUN_00030708(param_1,&DAT_0004cfd4);
    __ptr = (void *)FUN_00030440(param_2,1);
  }
  else {
    if (param_3 == 0) {
      *param_4 = '\0';
LAB_000307c4:
      __ptr = (void *)FUN_00030440(param_2,param_3);
      FUN_00030708(param_1,&DAT_00053588);
      FUN_00030708(param_1,__ptr);
      FUN_00030708(param_1,&DAT_0004cf6c);
      goto joined_r0x000307fc;
    }
    FUN_00030708(param_1,&DAT_00053584);
    *param_4 = '\0';
    __ptr = (void *)FUN_00030440(param_2,1);
  }
  FUN_00030708(param_1,&DAT_0004d080);
  FUN_00030708(param_1,__ptr);
  FUN_00030708(param_1,&DAT_00053c1c);
joined_r0x000307fc:
  if (__ptr != param_2) {
    free(__ptr);
    return;
  }
  return;
}




bool FUN_00030928(sockaddr *param_1,undefined4 *param_2,byte *param_3)

{
  byte *pbVar1;
  char *__host;
  __int32_t **pp_Var2;
  byte *pbVar3;
  byte *pbVar4;
  byte *pbVar5;
  int iVar6;
  bool bVar7;
  byte bStack_51;
  int local_50;
  int local_4c;
  int local_48;
  undefined4 local_44;
  char acStack_40 [36];
  
  __host = (char *)malloc(0x2e);
  *param_2 = __host;
  getnameinfo(param_1,0x80,__host,0x2e,(char *)0x0,0,1);
  if (param_1->sa_family == 2) {
    sprintf(acStack_40,"::ffff:%s",*param_2);
    inet_pton(10,acStack_40,&local_50);
  }
  else {
    inet_pton(10,(char *)*param_2,&local_50);
  }
  pp_Var2 = __ctype_toupper_loc();
  *param_3 = (byte)(*pp_Var2)[0x52];
  if (DAT_00062f4c == 0) {
    if ((DAT_00063d64 == '\0') && (iVar6 = strcmp((char *)*param_2,"127.0.0.1"), iVar6 != 0)) {
      if (local_50 == 0) {
        bVar7 = false;
        if (local_4c == 0) {
          if (local_48 == 0) {
            bVar7 = local_44 == 0x1000000;
          }
          else {
            bVar7 = false;
          }
        }
      }
      else {
        bVar7 = false;
      }
    }
    else {
      bVar7 = true;
    }
  }
  else {
    if (0 < DAT_00062f68) {
      iVar6 = 0;
      pbVar4 = (byte *)(DAT_00062f6c + -1);
      do {
        pbVar3 = &bStack_51;
        pbVar5 = pbVar4;
        while( true ) {
          pbVar1 = pbVar5 + 0x11;
          pbVar3 = pbVar3 + 1;
          pbVar5 = pbVar5 + 1;
          if (*pbVar5 != (*pbVar1 & *pbVar3)) break;
          if (pbVar3 == (byte *)((int)&local_44 + 3)) {
            *param_3 = pbVar4[0x21];
            return true;
          }
        }
        iVar6 = iVar6 + 1;
        pbVar4 = pbVar4 + 0x24;
      } while (iVar6 != DAT_00062f68);
    }
    bVar7 = false;
  }
  return bVar7;
}




void FUN_00030ac8(int param_1,int param_2,int param_3)

{
  size_t sVar1;
  int iVar2;
  size_t sVar3;
  int *piVar4;
  size_t sVar5;
  __suseconds_t *p_Var6;
  int iVar7;
  char *pcVar8;
  int iVar9;
  int iVar10;
  undefined4 *puVar11;
  timeval local_8b0;
  fd_set local_8a8;
  char acStack_828 [2052];
  
  pcVar8 = *(char **)(param_1 + 4);
  if (*(char *)(param_1 + 0xd) != '\0') {
    sVar1 = strlen(pcVar8);
    (pcVar8 + sVar1)[0] = ']';
    (pcVar8 + sVar1)[1] = '\0';
  }
  if (param_3 != 0) {
    sVar1 = strlen(pcVar8);
    builtin_strncpy(pcVar8 + sVar1,",\"id\":1}",9);
  }
  sVar1 = strlen(pcVar8);
  sVar5 = sVar1 + 1;
  if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    puVar11 = (undefined4 *)&DAT_0005220c;
    if (10 < (int)sVar1) {
      puVar11 = &DAT_000535d8;
    }
    snprintf(acStack_828,0x800,"API: send reply: (%d) \'%.10s%s\'",sVar5,pcVar8,puVar11);
    FUN_00038438(7,acStack_828,0);
  }
  iVar9 = param_2 + 0x1f;
  if (-1 < param_2) {
    iVar9 = param_2;
  }
  iVar7 = 0;
  iVar10 = 0;
  sVar1 = sVar5;
  while( true ) {
    if (4 < iVar10 || (int)sVar1 < 1) {
      return;
    }
    p_Var6 = &local_8b0.tv_usec;
    local_8b0.tv_sec = 0;
    local_8b0.tv_usec = (__suseconds_t)&DAT_0000c350;
    do {
      p_Var6 = p_Var6 + 1;
      *p_Var6 = 0;
    } while (p_Var6 != local_8a8.fds_bits + 0x1f);
    local_8a8.fds_bits[iVar9 >> 5] = 1 << (param_2 % 0x20 & 0xffU) | local_8a8.fds_bits[iVar9 >> 5];
    iVar2 = select(param_2 + 1,(fd_set *)0x0,&local_8a8,(fd_set *)0x0,&local_8b0);
    if (iVar2 < 1) {
      if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 4)) {
        return;
      }
      snprintf(acStack_828,0x800,"API: send select failed (%d)",iVar2);
      FUN_00038438(4,acStack_828,0);
      return;
    }
    sVar3 = send(param_2,pcVar8,sVar1,0);
    iVar7 = iVar7 + 1;
    if ((int)sVar3 < 0) break;
    if (iVar7 == 1) {
      if (sVar3 != sVar1) {
        if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
          snprintf(acStack_828,0x800,"API: sent %d of %d first go",sVar3,sVar1);
          goto LAB_00030c9c;
        }
        goto LAB_00030cb0;
      }
      if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
        snprintf(acStack_828,0x800,"API: sent all of %d first go",sVar3);
        goto LAB_00030dec;
      }
LAB_00030e00:
      sVar1 = sVar1 - sVar3;
      pcVar8 = pcVar8 + sVar3;
    }
    else {
      if (sVar3 == sVar1) {
        if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
          snprintf(acStack_828,0x800,"API: sent all of remaining %d (sendc=%d)",sVar3,iVar7);
LAB_00030dec:
          FUN_00038438(7,acStack_828,0);
        }
        goto LAB_00030e00;
      }
      if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
        snprintf(acStack_828,0x800,"API: sent %d of remaining %d (sendc=%d)",sVar3,sVar1,iVar7);
LAB_00030c9c:
        FUN_00038438(7,acStack_828,0);
      }
LAB_00030cb0:
      sVar1 = sVar1 - sVar3;
      pcVar8 = pcVar8 + sVar3;
      if (sVar3 == 0) {
LAB_00030cc0:
        iVar10 = iVar10 + 1;
      }
    }
  }
  piVar4 = __errno_location();
  if (*piVar4 != 0xb) {
    if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 4)) {
      return;
    }
    pcVar8 = strerror(*piVar4);
    snprintf(acStack_828,0x800,"API: send (%d:%d) failed: %s",sVar5,sVar5 - sVar1,pcVar8);
    FUN_00038438(4,acStack_828,0);
    return;
  }
  goto LAB_00030cc0;
}




/* WARNING: Restarted to delay deadcode elimination for space: stack */

void FUN_00030fbc(void)

{
  int iVar1;
  int iVar2;
  time_t tVar3;
  size_t sVar4;
  uint __n;
  char *pcVar5;
  uint uVar6;
  int iVar7;
  time_t tVar8;
  long lVar9;
  ssize_t sVar10;
  int *piVar11;
  sockaddr *psVar12;
  char *pcVar13;
  addrinfo *paVar14;
  char *__buf;
  int local_1108;
  char *local_1104;
  undefined1 uStack_10fd;
  socklen_t sStack_10fc;
  char *pcStack_10f8;
  addrinfo *paStack_10f4;
  undefined4 uStack_10f0;
  char local_10ec [4];
  char acStack_10e8 [4];
  undefined1 local_10e4;
  char acStack_10e0 [12];
  char acStack_10d4 [12];
  addrinfo local_10c8;
  sockaddr asStack_10a8 [7];
  char acStack_1029 [10];
  char acStack_101f [1015];
  undefined4 local_c28;
  undefined4 local_c24;
  undefined4 uStack_c20;
  undefined4 uStack_c1c;
  undefined4 local_c18;
  char local_828 [4];
  char acStack_824 [4];
  char acStack_820 [4];
  char acStack_81c [4];
  char local_818 [4];
  char acStack_814 [4];
  char acStack_810 [4];
  undefined2 local_80c [2];
  undefined2 uStack_808;
  undefined1 local_806;
  
  local_10ec[0] = 'c';
  local_10ec[1] = 'g';
  local_10ec[2] = 'm';
  local_10ec[3] = 'i';
  acStack_10e8[0] = 'n';
  acStack_10e8[1] = 'e';
  acStack_10e8[2] = 'r';
  acStack_10e8[3] = '-';
  local_10e4 = 0;
  sprintf(acStack_10e0,"%d",DAT_0006015c);
  local_10c8.ai_flags = 0;
  local_10c8.ai_family = 0;
  local_10c8.ai_socktype = 0;
  local_10c8.ai_protocol = 0;
  local_10c8.ai_addrlen = 0;
  local_10c8.ai_addr = (sockaddr *)0x0;
  local_10c8.ai_canonname = (char *)0x0;
  local_10c8.ai_next = (addrinfo *)0x0;
  iVar1 = getaddrinfo(DAT_00060168,acStack_10e0,&local_10c8,&paStack_10f4);
  if (iVar1 != 0) {
    local_828[0] = 'I';
    local_828[1] = 'n';
    local_828[2] = 'v';
    local_828[3] = 'a';
    acStack_824[0] = 'l';
    acStack_824[1] = 'i';
    acStack_824[2] = 'd';
    acStack_824[3] = ' ';
    acStack_820[0] = 'A';
    acStack_820[1] = 'P';
    acStack_820[2] = 'I';
    acStack_820[3] = ' ';
    acStack_81c[0] = 'M';
    acStack_81c[1] = 'u';
    acStack_81c[2] = 'l';
    acStack_81c[3] = 't';
    local_818[0] = 'i';
    local_818[1] = 'c';
    local_818[2] = 'a';
    local_818[3] = 's';
    acStack_814[0] = 't';
    acStack_814[1] = ' ';
    acStack_814[2] = 'A';
    acStack_814[3] = 'd';
    acStack_810[0] = 'd';
    acStack_810[1] = 'r';
    acStack_810[2] = 'e';
    acStack_810[3] = 's';
    local_80c[0] = 0x73;
    FUN_00038438(3,local_828,1);
    FUN_00016724(1);
  }
  paVar14 = paStack_10f4;
  if (paStack_10f4 == (addrinfo *)0x0) {
LAB_0003143c:
    freeaddrinfo(paStack_10f4);
    paVar14 = (addrinfo *)0x0;
    iVar1 = -1;
    local_828[0] = 'A';
    local_828[1] = 'P';
    local_828[2] = 'I';
    local_828[3] = ' ';
    acStack_824[0] = 'm';
    acStack_824[1] = 'c';
    acStack_824[2] = 'a';
    acStack_824[3] = 's';
    acStack_820[0] = 't';
    acStack_820[1] = ' ';
    acStack_820[2] = 'c';
    acStack_820[3] = 'o';
    acStack_81c[0] = 'u';
    acStack_81c[1] = 'l';
    acStack_81c[2] = 'd';
    acStack_81c[3] = ' ';
    local_818[0] = 'n';
    local_818[1] = 'o';
    local_818[2] = 't';
    local_818[3] = ' ';
    acStack_814[0] = 'o';
    acStack_814[1] = 'p';
    acStack_814[2] = 'e';
    acStack_814[3] = 'n';
    acStack_810[0] = ' ';
    acStack_810[1] = 's';
    acStack_810[2] = 'o';
    acStack_810[3] = 'c';
    local_80c[0]._0_1_ = 'k';
    local_80c[0]._1_1_ = 'e';
    local_80c[1]._0_1_ = 't';
    local_80c[1]._1_1_ = '\0';
    FUN_00038438(3,local_828,1);
    FUN_00016724(1);
  }
  else {
    do {
      iVar1 = socket(paStack_10f4->ai_family,2,0);
      if (0 < iVar1) goto LAB_00031088;
      paVar14 = paVar14->ai_next;
    } while (paVar14 != (addrinfo *)0x0);
    if (iVar1 == -1) goto LAB_0003143c;
  }
LAB_00031088:
  uStack_10f0 = 1;
  iVar2 = setsockopt(iVar1,1,2,&uStack_10f0,4);
  if (iVar2 < 0) {
    if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 3)) goto LAB_000314e8;
    piVar11 = __errno_location();
    pcVar13 = strerror(*piVar11);
    pcVar5 = "API mcast setsockopt SO_REUSEADDR failed (%s)%s";
  }
  else {
    tVar3 = time((time_t *)0x0);
    while (iVar2 = bind(iVar1,paVar14->ai_addr,paVar14->ai_addrlen), iVar2 < 0) {
      piVar11 = __errno_location();
      pcVar13 = strerror(*piVar11);
      tVar8 = time((time_t *)0x0);
      if (0x3d < tVar8 - tVar3) {
        if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
          snprintf(local_828,0x800,"API mcast bind to port %d failed (%s)%s",DAT_0006015c,pcVar13,
                   " - API multicast listener will not be available");
          FUN_00038438(3,local_828,0);
        }
        goto LAB_000314e8;
      }
      FUN_0002b21c(30000);
    }
    if (paVar14->ai_family == 2) {
      local_c24 = 0;
      local_c28 = *(undefined4 *)(paVar14->ai_addr->sa_data + 2);
      iVar2 = setsockopt(iVar1,0,0x23,&local_c28,8);
    }
    else {
      if (paVar14->ai_family != 10) goto LAB_00031100;
      psVar12 = paVar14->ai_addr;
      local_c28 = *(undefined4 *)(psVar12->sa_data + 6);
      local_c24 = *(undefined4 *)(psVar12->sa_data + 10);
      uStack_c20._0_2_ = psVar12[1].sa_family;
      uStack_c20._2_1_ = psVar12[1].sa_data[0];
      uStack_c20._3_1_ = psVar12[1].sa_data[1];
      uStack_c1c = *(undefined4 *)(psVar12[1].sa_data + 2);
      local_c18 = 0;
      iVar2 = setsockopt(iVar1,0x29,0x14,&local_c28,0x14);
    }
    if (-1 < iVar2) {
LAB_00031100:
      local_1104 = (char *)&local_c28;
      freeaddrinfo(paStack_10f4);
      pcVar13 = DAT_00060164;
      sVar4 = strlen(DAT_00060164);
      __n = sVar4 + 9;
      pcVar5 = (char *)malloc(sVar4 + 10);
      if (pcVar5 == (char *)0x0) {
        local_828[0] = 'F';
        local_828[1] = 'a';
        local_828[2] = 'i';
        local_828[3] = 'l';
        acStack_824[0] = 'e';
        acStack_824[1] = 'd';
        acStack_824[2] = ' ';
        acStack_824[3] = 't';
        acStack_820[0] = 'o';
        acStack_820[1] = ' ';
        acStack_820[2] = 'm';
        acStack_820[3] = 'a';
        acStack_81c[0] = 'l';
        acStack_81c[1] = 'l';
        acStack_81c[2] = 'o';
        acStack_81c[3] = 'c';
        local_818[0] = ' ';
        local_818[1] = 'm';
        local_818[2] = 'c';
        local_818[3] = 'a';
        acStack_814[0] = 's';
        acStack_814[1] = 't';
        acStack_814[2] = ' ';
        acStack_814[3] = 'e';
        acStack_810[0] = 'x';
        acStack_810[1] = 'p';
        acStack_810[2] = 'e';
        acStack_810[3] = 'c';
        local_80c[0]._0_1_ = 't';
        local_80c[0]._1_1_ = '_';
        local_80c[1]._0_1_ = 'c';
        local_80c[1]._1_1_ = 'o';
        uStack_808 = 0x6564;
        local_806 = 0;
        FUN_00038438(3,local_828,1);
        FUN_00016724(1);
        pcVar13 = DAT_00060164;
      }
      __buf = acStack_1029 + 1;
      iVar2 = 0;
      snprintf(pcVar5,sVar4 + 10,"%s%s-",local_10ec,pcVar13);
      local_1108 = -1;
LAB_00031178:
      do {
        while( true ) {
          while( true ) {
            while( true ) {
              do {
                while( true ) {
                  iVar2 = iVar2 + 1;
                  FUN_0002b21c(1000);
                  sStack_10fc = 0x80;
                  uVar6 = recvfrom(iVar1,__buf,0x3ff,0,asStack_10a8,&sStack_10fc);
                  if (-1 < (int)uVar6) break;
                  if ((DAT_000630c1 != '\0') &&
                     (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
                    piVar11 = __errno_location();
                    pcVar13 = strerror(*piVar11);
                    snprintf(local_828,0x800,"API mcast failed count=%d (%s) (%d)",iVar2,pcVar13,iVar1);
                    FUN_00038438(7,local_828,0);
                  }
                }
                iVar7 = FUN_00030928(asStack_10a8,&pcStack_10f8,&uStack_10fd);
                if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))
                   ) {
                  pcVar13 = "Ignored";
                  if (iVar7 != 0) {
                    pcVar13 = "Accepted";
                  }
                  snprintf(local_828,0x800,"API mcast from %s - %s",pcStack_10f8,pcVar13);
                  FUN_00038438(7,local_828,0);
                }
              } while (iVar7 == 0);
              __buf[uVar6] = '\0';
              if ((uVar6 != 0) && (acStack_1029[uVar6] == '\n')) {
                uVar6 = uVar6 - 1;
                __buf[uVar6] = '\0';
              }
              getnameinfo(asStack_10a8,sStack_10fc,(char *)0x0,0,acStack_10d4,10,1);
              if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964))))
              {
                snprintf(local_828,0x800,"API mcast request rep=%d (%s) from [%s]:%s",uVar6,__buf,pcStack_10f8,
                         acStack_10d4);
                FUN_00038438(7,local_828,0);
              }
              if ((__n < uVar6) && (iVar7 = memcmp(__buf,pcVar5,__n), iVar7 == 0)) break;
              if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964))))
              {
                local_828[0] = 'A';
                local_828[1] = 'P';
                local_828[2] = 'I';
                local_828[3] = ' ';
                acStack_824[0] = 'm';
                acStack_824[1] = 'c';
                acStack_824[2] = 'a';
                acStack_824[3] = 's';
                acStack_820[0] = 't';
                acStack_820[1] = ' ';
                acStack_820[2] = 'r';
                acStack_820[3] = 'e';
                acStack_81c[0] = 'q';
                acStack_81c[1] = 'u';
                acStack_81c[2] = 'e';
                acStack_81c[3] = 's';
                local_818[0] = 't';
                local_818[1] = ' ';
                local_818[2] = 'w';
                local_818[3] = 'a';
                acStack_814[0] = 's';
                acStack_814[1] = ' ';
                acStack_814[2] = 'n';
                acStack_814[3] = 'o';
                acStack_810[0] = ' ';
                acStack_810[1] = 'g';
                acStack_810[2] = 'o';
                acStack_810[3] = 'o';
                local_80c[0] = 100;
                FUN_00038438(7,local_828,0);
              }
            }
            pcVar13 = __buf + __n;
            lVar9 = strtol(pcVar13,(char **)0x0,10);
            if (lVar9 - 1U < 0xffff) break;
            if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
              snprintf(local_828,0x800,"API mcast request ignored - invalid port (%s)",pcVar13);
              FUN_00038438(7,local_828,0);
            }
          }
          if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
            snprintf(local_828,0x800,"API mcast request OK port %s=%d",pcVar13,lVar9);
            FUN_00038438(7,local_828,0);
          }
          iVar7 = getaddrinfo(pcStack_10f8,pcVar13,&local_10c8,&paStack_10f4);
          paVar14 = paStack_10f4;
          if (iVar7 != 0) goto code_r0x000316a8;
          if ((paStack_10f4 == (addrinfo *)0x0) || (local_1108 = socket(paStack_10f4->ai_family,2,0), 0 < iVar1)) break;
          while (paVar14 = paVar14->ai_next, paVar14 != (addrinfo *)0x0) {
            local_1108 = socket(paStack_10f4->ai_family,2,0);
          }
          paVar14 = (addrinfo *)0x0;
          if (local_1108 == -1) goto LAB_00031894;
LAB_0003175c:
          snprintf(local_1104,0x400,"cgm-FTW-%d-%s",DAT_00060170,DAT_00060160);
          sVar4 = strlen(local_1104);
          sVar10 = sendto(local_1108,local_1104,sVar4 + 1,0,paVar14->ai_addr,paVar14->ai_addrlen);
          freeaddrinfo(paStack_10f4);
          if (sVar10 < 0) {
            if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
              piVar11 = __errno_location();
              pcVar13 = strerror(*piVar11);
              snprintf(local_828,0x800,"API mcast send reply failed (%s) (%d)",pcVar13,local_1108);
              FUN_00038438(7,local_828,0);
            }
          }
          else if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964))))
          {
            snprintf(local_828,0x800,"API mcast send reply (%s) succeeded (%d) (%d)",local_1104,sVar10,local_1108);
            FUN_00038438(7,local_828,0);
          }
          close(local_1108);
        }
        if (local_1108 != -1) goto LAB_0003175c;
LAB_00031894:
        freeaddrinfo(paStack_10f4);
      } while (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 3));
      pcVar13 = "API mcast could not open socket to client %s";
      goto LAB_00031700;
    }
    if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 3)) goto LAB_000314e8;
    piVar11 = __errno_location();
    pcVar13 = strerror(*piVar11);
    pcVar5 = "API mcast join failed (%s)%s";
  }
  snprintf(local_828,0x800,pcVar5,pcVar13," - API multicast listener will not be available");
  FUN_00038438(3,local_828,0);
LAB_000314e8:
  close(iVar1);
  return;
code_r0x000316a8:
  if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
    pcVar13 = "Invalid client address %s";
LAB_00031700:
    snprintf(local_828,0x800,pcVar13,pcStack_10f8);
    FUN_00038438(3,local_828,0);
  }
  goto LAB_00031178;
}




undefined4 FUN_00031bd4(int param_1)

{
  pthread_t __th;
  
  __th = pthread_self();
  pthread_detach(__th);
  pthread_setcanceltype(1,(int *)0x0);
  FUN_0002f02c("APIMcast");
  FUN_00030fbc();
  *(undefined4 *)(param_1 + 0xc) = 0;
  return 0;
}




undefined4 * FUN_00031c10(undefined4 *param_1,undefined4 param_2,undefined4 param_3,char *param_4,char param_5)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  undefined4 uVar3;
  undefined2 *puVar4;
  char *pcVar5;
  size_t sVar6;
  undefined4 *puVar7;
  char acStack_820 [2052];
  
  puVar2 = (undefined4 *)malloc(0x18);
  uVar3 = __strdup(param_2);
  *puVar2 = param_3;
  puVar1 = param_1;
  if (param_1 == (undefined4 *)0x0) {
    puVar2[4] = puVar2;
    puVar2[5] = puVar2;
    puVar1 = puVar2;
  }
  puVar2[1] = uVar3;
  if (param_1 != (undefined4 *)0x0) {
    puVar2[4] = puVar1[4];
    puVar1[4] = puVar2;
    puVar2[5] = puVar1;
    *(undefined4 **)(puVar2[4] + 0x14) = puVar2;
  }
  *(char *)(puVar2 + 3) = param_5;
  if (param_4 == (char *)0x0) {
    *(undefined1 *)(puVar2 + 3) = 0;
    param_4 = "(null)";
    *puVar2 = 2;
  }
  else if (param_5 != '\0') {
    switch(param_3) {
    case 0:
    case 1:
    case 2:
      sVar6 = strlen(param_4);
      pcVar5 = (char *)malloc(sVar6 + 1);
      puVar2[2] = pcVar5;
      strcpy(pcVar5,param_4);
      return puVar1;
    case 3:
      pcVar5 = (char *)malloc(4);
      puVar2[2] = pcVar5;
      *pcVar5 = *param_4;
      return puVar1;
    case 4:
    case 5:
      puVar4 = (undefined2 *)malloc(4);
      puVar2[2] = puVar4;
      *puVar4 = *(undefined2 *)param_4;
      return puVar1;
    case 6:
    case 7:
    case 8:
    case 9:
    case 0x10:
      puVar7 = (undefined4 *)malloc(4);
      puVar2[2] = puVar7;
      *puVar7 = *(undefined4 *)param_4;
      return puVar1;
    case 10:
    case 0xb:
      puVar7 = (undefined4 *)malloc(8);
      puVar2[2] = puVar7;
      uVar3 = *(undefined4 *)(param_4 + 4);
      *puVar7 = *(undefined4 *)param_4;
      puVar7[1] = uVar3;
      return puVar1;
    case 0xc:
    case 0xd:
    case 0x11:
    case 0x12:
    case 0x14:
    case 0x15:
    case 0x17:
    case 0x18:
    case 0x19:
      puVar7 = (undefined4 *)malloc(8);
      puVar2[2] = puVar7;
      uVar3 = *(undefined4 *)(param_4 + 4);
      *puVar7 = *(undefined4 *)param_4;
      puVar7[1] = uVar3;
      return puVar1;
    case 0xe:
      pcVar5 = (char *)malloc(1);
      puVar2[2] = pcVar5;
      *pcVar5 = *param_4;
      return puVar1;
    case 0xf:
      puVar7 = (undefined4 *)malloc(8);
      puVar2[2] = puVar7;
      uVar3 = *(undefined4 *)(param_4 + 4);
      *puVar7 = *(undefined4 *)param_4;
      puVar7[1] = uVar3;
      return puVar1;
    case 0x13:
    case 0x16:
    case 0x1a:
      puVar7 = (undefined4 *)malloc(4);
      puVar2[2] = puVar7;
      *puVar7 = *(undefined4 *)param_4;
      return puVar1;
    }
    if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
      snprintf(acStack_820,0x800,"API: unknown1 data type %d ignored",param_3);
      FUN_00038438(3,acStack_820,0);
    }
    *puVar2 = 1;
    *(undefined1 *)(puVar2 + 3) = 0;
    puVar2[2] = "Unknown";
    return puVar1;
  }
  puVar2[2] = param_4;
  return puVar1;
}




void FUN_00031e94(int param_1,int param_2,undefined4 param_3,undefined4 param_4)

{
  undefined4 extraout_r2;
  
  if (*(char *)(param_1 + 0xd) == '\0') {
    if (param_2 == 0) {
      return;
    }
  }
  else {
    FUN_00030708(param_1,"]");
    *(undefined1 *)(param_1 + 0xd) = 0;
    if (param_2 == 0) {
      return;
    }
  }
  FUN_00030708(param_1,&DAT_000535dc);
  FUN_00030708(param_1,"]",extraout_r2,param_4);
  return;
}




void FUN_00031ef4(undefined4 *param_1,undefined4 *param_2)

{
  char cVar1;
  char *pcVar2;
  char *pcVar3;
  undefined1 *puVar4;
  char *pcVar5;
  
  pcVar3 = (char *)*param_1;
  cVar1 = *pcVar3;
  do {
    if (cVar1 == '\0') {
LAB_00031f64:
      puVar4 = (undefined1 *)*param_2;
      *puVar4 = 0;
      *param_2 = puVar4 + 1;
      return;
    }
    if (cVar1 == ',') {
      *param_1 = pcVar3 + 1;
      goto LAB_00031f64;
    }
    if ((cVar1 == '\\') && (pcVar5 = pcVar3 + 1, pcVar3[1] != '\0')) {
      *param_1 = pcVar5;
    }
    else {
      pcVar5 = (char *)*param_1;
    }
    pcVar2 = (char *)*param_2;
    pcVar3 = pcVar5 + 1;
    *pcVar2 = *pcVar5;
    *param_2 = pcVar2 + 1;
    *param_1 = pcVar3;
    cVar1 = pcVar5[1];
  } while( true );
}




undefined4 FUN_00031f7c(char *param_1,undefined4 *param_2,undefined4 *param_3,undefined4 *param_4)

{
  size_t sVar1;
  void *__ptr;
  char *local_824 [2];
  void *local_81c;
  char local_818 [4];
  char acStack_814 [4];
  char acStack_810 [4];
  char acStack_80c [4];
  char local_808 [4];
  char acStack_804 [4];
  char acStack_800 [4];
  char acStack_7fc [4];
  undefined1 local_7f8;
  
  local_824[0] = param_1;
  sVar1 = strlen(param_1);
  __ptr = malloc(sVar1 + 1);
  local_81c = __ptr;
  if (__ptr == (void *)0x0) {
    local_818[0] = 'F';
    local_818[1] = 'a';
    local_818[2] = 'i';
    local_818[3] = 'l';
    acStack_814[0] = 'e';
    acStack_814[1] = 'd';
    acStack_814[2] = ' ';
    acStack_814[3] = 't';
    acStack_810[0] = 'o';
    acStack_810[1] = ' ';
    acStack_810[2] = 'm';
    acStack_810[3] = 'a';
    acStack_80c[0] = 'l';
    acStack_80c[1] = 'l';
    acStack_80c[2] = 'o';
    acStack_80c[3] = 'c';
    local_808[0] = ' ';
    local_808[1] = 'p';
    local_808[2] = 'o';
    local_808[3] = 'o';
    acStack_804[0] = 'l';
    acStack_804[1] = 'd';
    acStack_804[2] = 'e';
    acStack_804[3] = 't';
    acStack_800[0] = 'a';
    acStack_800[1] = 'i';
    acStack_800[2] = 'l';
    acStack_800[3] = 's';
    acStack_7fc[0] = ' ';
    acStack_7fc[1] = 'b';
    acStack_7fc[2] = 'u';
    acStack_7fc[3] = 'f';
    local_7f8 = 0;
    FUN_00038438(3,local_818,1);
    FUN_00016724(1);
  }
  *param_2 = local_81c;
  FUN_00031ef4(local_824,&local_81c);
  if (*local_824[0] != '\0') {
    *param_3 = local_81c;
    FUN_00031ef4(local_824,&local_81c);
    if (*local_824[0] != '\0') {
      *param_4 = local_81c;
      FUN_00031ef4(local_824,&local_81c);
      return 1;
    }
  }
  free(__ptr);
  return 0;
}




void FUN_00032074(pthread_rwlock_t *param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  int *piVar2;
  char acStack_810 [2052];
  
  iVar1 = pthread_rwlock_rdlock(param_1);
  if (iVar1 != 0) {
    piVar2 = __errno_location();
    snprintf(acStack_810,0x800,"WTF RDLOCK ERROR ON LOCK! errno=%d in %s %s():%d",*piVar2,"api.c",param_2,param_3);
    FUN_00038438(3,acStack_810,1);
    FUN_00016724(1);
  }
  return;
}




void FUN_000320f0(pthread_mutex_t *param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  
  iVar1 = pthread_mutex_unlock(param_1);
  if (iVar1 != 0) {
    FUN_0000b91c(param_2,param_3);
  }
  (*DAT_00060178)();
  return;
}




undefined4 FUN_0003212c(void)

{
  int iVar1;
  char local_808 [4];
  char acStack_804 [4];
  char acStack_800 [4];
  char acStack_7fc [4];
  char local_7f8 [4];
  char acStack_7f4 [2032];
  
  iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00062f70);
  if (iVar1 != 0) {
    FUN_0000b844("restart_thread",0x1345);
  }
  iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00062f70);
  if (iVar1 != 0) {
    FUN_0000b91c("restart_thread",0x1346);
  }
  (*DAT_00060178)();
  if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    local_808[0] = 'A';
    local_808[1] = 'P';
    local_808[2] = 'I';
    local_808[3] = ':';
    acStack_804[0] = ' ';
    acStack_804[1] = 'r';
    acStack_804[2] = 'e';
    acStack_804[3] = 's';
    acStack_800[0] = 't';
    acStack_800[1] = 'a';
    acStack_800[2] = 'r';
    acStack_800[3] = 't';
    acStack_7fc[0] = 'i';
    acStack_7fc[1] = 'n';
    acStack_7fc[2] = 'g';
    acStack_7fc[3] = ' ';
    local_7f8[0] = 'c';
    local_7f8[1] = 'g';
    local_7f8[2] = 'm';
    local_7f8[3] = 'i';
    acStack_7f4[0] = 'n';
    acStack_7f4[1] = 'e';
    acStack_7f4[2] = 'r';
    acStack_7f4[3] = '\0';
    FUN_00038438(7,local_808,0);
  }
  FUN_0001c028();
  return 0;
}




undefined4 FUN_00032224(void)

{
  int iVar1;
  char local_808 [4];
  char acStack_804 [4];
  char acStack_800 [4];
  char acStack_7fc [4];
  char acStack_7f8 [4];
  undefined1 local_7f4;
  
  iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00062f70);
  if (iVar1 != 0) {
    FUN_0000b844("quit_thread",0x1337);
  }
  iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00062f70);
  if (iVar1 != 0) {
    FUN_0000b91c("quit_thread",0x1338);
  }
  (*DAT_00060178)();
  if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    local_808[0] = 'A';
    local_808[1] = 'P';
    local_808[2] = 'I';
    local_808[3] = ':';
    acStack_804[0] = ' ';
    acStack_804[1] = 'k';
    acStack_804[2] = 'i';
    acStack_804[3] = 'l';
    acStack_800[0] = 'l';
    acStack_800[1] = 'i';
    acStack_800[2] = 'n';
    acStack_800[3] = 'g';
    acStack_7fc[0] = ' ';
    acStack_7fc[1] = 'c';
    acStack_7fc[2] = 'g';
    acStack_7fc[3] = 'm';
    acStack_7f8[0] = 'i';
    acStack_7f8[1] = 'n';
    acStack_7f8[2] = 'e';
    acStack_7f8[3] = 'r';
    local_7f4 = 0;
    FUN_00038438(7,local_808,0);
  }
  FUN_00017328();
  return 0;
}




void FUN_00032320(int *param_1)

{
  int *piVar1;
  int iVar2;
  int *__ptr;
  int *piVar3;
  
  iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00062f70);
  if (iVar2 != 0) {
    FUN_0000b844("tidyup",0x11fa);
  }
  DAT_00062f64 = 1;
  if (*param_1 != -1) {
    shutdown(*param_1,2);
    close(*param_1);
    *param_1 = -1;
  }
  if (DAT_00062f6c != (void *)0x0) {
    free(DAT_00062f6c);
    DAT_00062f6c = (void *)0x0;
  }
  piVar1 = DAT_00062f88;
  __ptr = DAT_00062f88;
  if (DAT_00062f88 != (int *)0x0) {
    do {
      piVar3 = (int *)__ptr[2];
      free(*(void **)(*__ptr + 4));
      free((void *)*__ptr);
      free(__ptr);
      __ptr = piVar3;
    } while (piVar1 != piVar3);
    DAT_00062f88 = (int *)0x0;
  }
  iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00062f70);
  if (iVar2 != 0) {
    FUN_0000b91c("tidyup",0x120f);
  }
  (*DAT_00060178)();
  return;
}




undefined4 FUN_00032418(undefined4 param_1,undefined4 *param_2,int param_3,int param_4)

{
  int iVar1;
  int iVar2;
  void *__ptr;
  int *piVar3;
  char *pcVar4;
  undefined4 *__ptr_00;
  pthread_mutex_t *ppVar5;
  void *pvVar6;
  char acStack_870 [64];
  char acStack_830 [2052];
  
  ppVar5 = *(pthread_mutex_t **)(DAT_00062f8c + 8);
  iVar1 = pthread_mutex_lock(ppVar5);
  if (iVar1 != 0) {
    FUN_0000b844("print_data",0x4a7);
  }
  iVar1 = pthread_rwlock_wrlock((pthread_rwlock_t *)(ppVar5 + 1));
  if (iVar1 != 0) {
    piVar3 = __errno_location();
    snprintf(acStack_830,0x800,"WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d",*piVar3,"api.c","print_data",0x4a7);
    FUN_00038438(3,acStack_830,1);
    FUN_00016724(1);
  }
  iVar1 = FUN_00038eec(DAT_00062f8c,"api.c","print_data",0x4a8);
  ppVar5 = *(pthread_mutex_t **)(DAT_00062f8c + 8);
  iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)(ppVar5 + 1));
  if (iVar2 != 0) {
    FUN_0000b8b0("print_data",0x4a9);
  }
  iVar2 = pthread_mutex_unlock(ppVar5);
  if (iVar2 != 0) {
    FUN_0000b91c("print_data",0x4a9);
  }
  (*DAT_00060178)();
  *(undefined4 *)(*(int *)(iVar1 + 0xc) + 4) = 0;
  if (param_4 != 0) {
    FUN_000305f4(iVar1,&DAT_0004cfd4);
  }
  if (param_3 != 0) {
    FUN_000305f4(iVar1,&DAT_00053584);
  }
  if (param_2 == (undefined4 *)0x0) {
LAB_00032644:
    if (param_3 == 0) {
      pcVar4 = "|";
    }
    else {
      pcVar4 = "}";
    }
    FUN_000305f4(iVar1,pcVar4);
    FUN_00030708(param_1,**(undefined4 **)(iVar1 + 0xc));
    ppVar5 = *(pthread_mutex_t **)(DAT_00062f8c + 8);
    iVar2 = pthread_mutex_lock(ppVar5);
    if (iVar2 != 0) {
      FUN_0000b844("print_data",0x553);
    }
    iVar2 = pthread_rwlock_wrlock((pthread_rwlock_t *)(ppVar5 + 1));
    if (iVar2 != 0) {
      piVar3 = __errno_location();
      snprintf(acStack_830,0x800,"WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d",*piVar3,"api.c","print_data",0x553);
      FUN_00038438(3,acStack_830,1);
      FUN_00016724(1);
    }
    FUN_00039058(DAT_00062f8c,iVar1,"api.c","print_data",0x554);
    ppVar5 = *(pthread_mutex_t **)(DAT_00062f8c + 8);
    iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)(ppVar5 + 1));
    if (iVar1 != 0) {
      FUN_0000b8b0("print_data",0x555);
    }
    iVar1 = pthread_mutex_unlock(ppVar5);
    if (iVar1 != 0) {
      FUN_0000b91c("print_data",0x555);
    }
    (*DAT_00060178)();
    return 0;
  }
  if (param_3 != 0) goto LAB_000325f8;
LAB_000324f0:
  FUN_000305f4(iVar1,param_2[1]);
  FUN_000305f4(iVar1,&DAT_00053aa4);
  __ptr_00 = param_2;
  do {
    switch(*__ptr_00) {
    case 0:
      pvVar6 = (void *)__ptr_00[2];
      __ptr = (void *)FUN_00030440(pvVar6,param_3);
      if (param_3 == 0) {
        FUN_000305f4(iVar1,__ptr);
      }
      else {
        FUN_000305f4(iVar1,&DAT_0004d080);
        FUN_000305f4(iVar1,__ptr);
        FUN_000305f4(iVar1,&DAT_0004d080);
      }
      if (__ptr != pvVar6) {
        free(__ptr);
      }
      goto LAB_000325a8;
    case 1:
    case 2:
      if (param_3 == 0) {
        FUN_000305f4(iVar1,__ptr_00[2]);
      }
      else {
        FUN_000305f4(iVar1,&DAT_0004d080);
        FUN_000305f4(iVar1,__ptr_00[2]);
        FUN_000305f4(iVar1,&DAT_0004d080);
      }
      goto LAB_000325a8;
    case 3:
      snprintf(acStack_870,0x40,"%u",(uint)*(byte *)__ptr_00[2]);
      break;
    case 4:
      snprintf(acStack_870,0x40,"%d",(int)*(short *)__ptr_00[2]);
      break;
    case 5:
      snprintf(acStack_870,0x40,"%u",(uint)*(ushort *)__ptr_00[2]);
      break;
    case 6:
      snprintf(acStack_870,0x40,"%d",*(undefined4 *)__ptr_00[2]);
      break;
    case 7:
    case 8:
      snprintf(acStack_870,0x40,"%u",*(undefined4 *)__ptr_00[2]);
      break;
    case 9:
      if (param_3 == 0) {
        snprintf(acStack_870,0x40,"0x%08x",*(undefined4 *)__ptr_00[2]);
        FUN_000305f4(iVar1,acStack_870);
      }
      else {
        FUN_000305f4(iVar1,&DAT_0004d080);
        snprintf(acStack_870,0x40,"0x%08x",*(undefined4 *)__ptr_00[2]);
        FUN_000305f4(iVar1,acStack_870);
        FUN_000305f4(iVar1,&DAT_0004d080);
      }
      goto LAB_000325a8;
    case 10:
      snprintf(acStack_870,0x40,"%llu",(undefined4 *)__ptr_00[2],*(undefined4 *)__ptr_00[2]);
      break;
    case 0xb:
      snprintf(acStack_870,0x40,"%lld",(undefined4 *)__ptr_00[2],*(undefined4 *)__ptr_00[2]);
      break;
    case 0xc:
      snprintf(acStack_870,0x40,"%f",((undefined4 *)__ptr_00[2])[1],*(undefined4 *)__ptr_00[2]);
      break;
    case 0xd:
      snprintf(acStack_870,0x40,"%.0f",((undefined4 *)__ptr_00[2])[1],*(undefined4 *)__ptr_00[2]);
      break;
    case 0xe:
      pcVar4 = "false";
      if (*(char *)__ptr_00[2] != '\0') {
        pcVar4 = "true";
      }
      snprintf(acStack_870,0x40,"%s",pcVar4);
      break;
    case 0xf:
      snprintf(acStack_870,0x40,"%ld.%06ld",*(undefined4 *)__ptr_00[2],((undefined4 *)__ptr_00[2])[1]);
      break;
    case 0x10:
      snprintf(acStack_870,0x40,"%lu",*(undefined4 *)__ptr_00[2]);
      break;
    case 0x11:
    case 0x14:
    case 0x15:
      snprintf(acStack_870,0x40,"%.2f",((undefined4 *)__ptr_00[2])[1],*(undefined4 *)__ptr_00[2]);
      break;
    case 0x12:
      snprintf(acStack_870,0x40,"%.4f",((undefined4 *)__ptr_00[2])[1],*(undefined4 *)__ptr_00[2]);
      break;
    case 0x13:
      snprintf(acStack_870,0x40,"%.2f",(float *)__ptr_00[2],(double)*(float *)__ptr_00[2]);
      break;
    case 0x16:
    case 0x1a:
      snprintf(acStack_870,0x40,"%.3f",(float *)__ptr_00[2],(double)*(float *)__ptr_00[2]);
      break;
    case 0x17:
      snprintf(acStack_870,0x40,"%.15f",((undefined4 *)__ptr_00[2])[1],*(undefined4 *)__ptr_00[2]);
      break;
    case 0x18:
      snprintf(acStack_870,0x40,"%.8f",((undefined4 *)__ptr_00[2])[1],*(undefined4 *)__ptr_00[2]);
      break;
    case 0x19:
      snprintf(acStack_870,0x40,"%.4f",(double *)__ptr_00[2],*(double *)__ptr_00[2] * 100.0);
      break;
    default:
      if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
        snprintf(acStack_830,0x800,"API: unknown2 data type %d ignored");
        FUN_00038438(3,acStack_830,0);
      }
      if (param_3 == 0) {
        FUN_000305f4(iVar1,"Unknown");
      }
      else {
        FUN_000305f4(iVar1,&DAT_0004d080);
        FUN_000305f4(iVar1,"Unknown");
        FUN_000305f4(iVar1,&DAT_0004d080);
      }
      goto LAB_000325a8;
    }
    FUN_000305f4(iVar1,acStack_870);
LAB_000325a8:
    free((void *)__ptr_00[1]);
    if (*(char *)(__ptr_00 + 3) == '\0') {
      param_2 = (undefined4 *)__ptr_00[5];
    }
    else {
      free((void *)__ptr_00[2]);
      param_2 = (undefined4 *)__ptr_00[5];
    }
    if (param_2 == __ptr_00) {
      free(__ptr_00);
      goto LAB_00032644;
    }
    iVar2 = __ptr_00[4];
    param_2[4] = iVar2;
    *(undefined4 **)(iVar2 + 0x14) = param_2;
    free(__ptr_00);
    FUN_000305f4(iVar1,&DAT_0004cfd4);
    if (param_3 == 0) goto LAB_000324f0;
LAB_000325f8:
    FUN_000305f4(iVar1,&DAT_0004d080);
    FUN_000305f4(iVar1,param_2[1]);
    FUN_000305f4(iVar1,&DAT_0004d080);
    FUN_000305f4(iVar1,&DAT_0005231c);
    __ptr_00 = param_2;
  } while( true );
}




void FUN_00032cd8(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,0,param_3,param_4);
  return;
}




void FUN_00032cfc(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,1,param_3,param_4);
  return;
}




void FUN_00032d20(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,2,param_3,param_4);
  return;
}




void FUN_00032d44(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,3,param_3,param_4);
  return;
}




void FUN_00032d68(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,4,param_3,param_4);
  return;
}




void FUN_00032d8c(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,5,param_3,param_4);
  return;
}




void FUN_00032db0(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,6,param_3,param_4);
  return;
}




void FUN_00032dd4(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,7,param_3,param_4);
  return;
}




void FUN_00032df8(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,8,param_3,param_4);
  return;
}




void FUN_00032e1c(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,9,param_3,param_4);
  return;
}




void FUN_00032e40(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,10,param_3,param_4);
  return;
}




void FUN_00032e64(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,0xb,param_3,param_4);
  return;
}




void FUN_00032e88(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,0xc,param_3,param_4);
  return;
}




void FUN_00032eac(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,0xd,param_3,param_4);
  return;
}




void FUN_00032ed0(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,0xe,param_3,param_4);
  return;
}




void FUN_00032ef4(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,0xf,param_3,param_4);
  return;
}




void FUN_00032f18(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,0x10,param_3,param_4);
  return;
}




void FUN_00032f3c(undefined4 param_1,int param_2,int param_3,undefined4 param_4,char param_5)

{
  int *piVar1;
  undefined4 uVar2;
  undefined4 *puVar3;
  char *pcVar4;
  int iVar5;
  int iVar6;
  int iStack_202c;
  undefined1 uStack_2028;
  undefined1 local_2027;
  undefined4 uStack_2024;
  char acStack_2020 [8192];
  
  iStack_202c = param_2;
  if (param_5 != '\0') {
    FUN_00030708(param_1,"{\"STATUS\":[");
  }
  if (DAT_0006039c == 4) {
LAB_00032fd4:
    uVar2 = FUN_00032cfc(0,"STATUS",&DAT_00053adc,0);
    uVar2 = FUN_00032f18(uVar2,&DAT_00053abc,&DAT_00062f90,0);
    uStack_2024 = 0xffffffff;
    uVar2 = FUN_00032db0(uVar2,&DAT_00053ac4,&uStack_2024,0);
    sprintf(acStack_2020,"%d",iStack_202c);
  }
  else {
    if (DAT_000603a0 == iStack_202c) {
      iVar6 = 0;
      iVar5 = DAT_0006039c;
    }
    else {
      iVar6 = 0;
      puVar3 = &DAT_0006039c;
      do {
        iVar5 = puVar3[4];
        iVar6 = iVar6 + 1;
        if (iVar5 == 4) goto LAB_00032fd4;
        piVar1 = puVar3 + 5;
        puVar3 = puVar3 + 4;
      } while (*piVar1 != iStack_202c);
    }
    if (iVar5 == 2) {
      uStack_2028 = 0x49;
    }
    else if (iVar5 == 3) {
      uStack_2028 = 0x53;
    }
    else if (iVar5 == 1) {
      uStack_2028 = 0x57;
    }
    else {
      uStack_2028 = 0x45;
    }
    local_2027 = 0;
    switch((&DAT_000603a4)[iVar6 * 4]) {
    case 0:
    case 1:
    case 2:
    case 0xe:
      sprintf(acStack_2020,(char *)(&DAT_000603a8)[iVar6 * 4],param_3);
      break;
    default:
      strcpy(acStack_2020,(char *)(&DAT_000603a8)[iVar6 * 4]);
      break;
    case 5:
      sprintf(acStack_2020,(char *)(&DAT_000603a8)[iVar6 * 4],DAT_00063740);
      break;
    case 6:
      sprintf(acStack_2020,(char *)(&DAT_000603a8)[iVar6 * 4],param_3,DAT_00063740 + -1);
      break;
    case 7:
      sprintf(acStack_2020,(char *)(&DAT_000603a8)[iVar6 * 4]);
      break;
    case 8:
      sprintf(acStack_2020,(char *)(&DAT_000603a8)[iVar6 * 4],"command");
      break;
    case 9:
      sprintf(acStack_2020,(char *)(&DAT_000603a8)[iVar6 * 4],param_3,
              *(undefined4 *)(*(int *)(DAT_000639e0 + param_3 * 4) + 0xa4));
      break;
    case 10:
      sprintf(acStack_2020,(char *)(&DAT_000603a8)[iVar6 * 4],param_4);
      break;
    case 0xb:
      sprintf(acStack_2020,(char *)(&DAT_000603a8)[iVar6 * 4],param_3,param_4);
      break;
    case 0xc:
      pcVar4 = "false";
      if (param_3 != 0) {
        pcVar4 = "true";
      }
      sprintf(acStack_2020,(char *)(&DAT_000603a8)[iVar6 * 4],pcVar4);
      break;
    case 0xd:
      sprintf(acStack_2020,(char *)(&DAT_000603a8)[iVar6 * 4],param_4,param_3);
    }
    uVar2 = FUN_00032cfc(0,"STATUS",&uStack_2028,0);
    uVar2 = FUN_00032f18(uVar2,&DAT_00053abc,&DAT_00062f90,0);
    uVar2 = FUN_00032db0(uVar2,&DAT_00053ac4,&iStack_202c,0);
  }
  uVar2 = FUN_00032cd8(uVar2,&DAT_00053acc,acStack_2020,0);
  uVar2 = FUN_00032cd8(uVar2,"Description",DAT_00060174,0);
  FUN_00032418(param_1,uVar2,param_5,0);
  if (param_5 != '\0') {
    FUN_00030708(param_1,"]");
  }
  return;
}




void FUN_00033368(int param_1,undefined4 param_2,undefined4 param_3,int param_4)

{
  int iVar1;
  undefined4 uVar2;
  undefined4 local_14;
  
  local_14 = 0;
  FUN_00032f3c(param_1,0x68,0,0,param_4);
  if (param_4 == 0) {
    FUN_00030708(param_1,"ASCS,");
    uVar2 = FUN_00032db0(0,"Count",&local_14,0);
    FUN_00032418(param_1,uVar2,0,0);
  }
  else {
    iVar1 = FUN_00030708(param_1,",\"ASCS\":[");
    uVar2 = FUN_00032db0(0,"Count",&local_14,0);
    FUN_00032418(param_1,uVar2,1,0);
    if (iVar1 != 0) {
      *(undefined1 *)(param_1 + 0xd) = 1;
    }
  }
  return;
}




void FUN_0003375c(int param_1,undefined4 param_2,byte *param_3,int param_4)

{
  byte bVar1;
  __int32_t **pp_Var2;
  int iVar3;
  undefined4 uVar4;
  byte *pbVar5;
  
  if (param_3 == (byte *)0x0) goto switchD_00033790_caseD_65;
  pp_Var2 = __ctype_tolower_loc();
  bVar1 = *(byte *)(*pp_Var2 + *param_3);
  *param_3 = bVar1;
  switch(bVar1) {
  case 100:
    DAT_000630c0 = DAT_000630c1 ^ 1;
    DAT_000630c1 = DAT_000630c0;
    if (DAT_000630c0 == 0) break;
    goto LAB_00033808;
  case 0x6e:
    DAT_000630c0 = 0;
    DAT_000630c1 = 0;
    DAT_00064218 = 0;
    DAT_00063928 = 0;
    DAT_00063df8 = 0;
    DAT_00063dfa = 0;
    break;
  case 0x70:
    DAT_000630c0 = DAT_00063df8 ^ 1;
    DAT_00063df8 = DAT_000630c0;
    break;
  case 0x71:
    DAT_00064218 = DAT_00064218 ^ 1;
    break;
  case 0x72:
    pbVar5 = &DAT_00063928;
    goto LAB_000339f8;
  case 0x73:
    DAT_000640b8 = 1;
    break;
  case 0x76:
    pbVar5 = &DAT_000630c0;
LAB_000339f8:
    bVar1 = *pbVar5;
    *pbVar5 = bVar1 ^ 1;
    if ((bVar1 ^ 1) != 0) {
LAB_00033808:
      DAT_00064218 = 0;
    }
    break;
  case 0x77:
    DAT_00063dfa = DAT_00063dfa ^ 1;
  }
switchD_00033790_caseD_65:
  FUN_00032f3c(param_1,0x4f,0,0,param_4);
  if (param_4 == 0) {
    FUN_00030708(param_1,"DEBUG,");
    uVar4 = FUN_00032ed0(0,"Silent",&DAT_000640b8,0);
    uVar4 = FUN_00032ed0(uVar4,"Quiet",&DAT_00064218,0);
    uVar4 = FUN_00032ed0(uVar4,"Verbose",&DAT_000630c0,0);
    uVar4 = FUN_00032ed0(uVar4,"Debug",&DAT_000630c1,0);
    uVar4 = FUN_00032ed0(uVar4,"RPCProto",&DAT_00063928,0);
    uVar4 = FUN_00032ed0(uVar4,"PerDevice",&DAT_00063df8,0);
    uVar4 = FUN_00032ed0(uVar4,"WorkTime",&DAT_00063dfa,0);
    FUN_00032418(param_1,uVar4,0,0);
    return;
  }
  iVar3 = FUN_00030708(param_1,",\"DEBUG\":[");
  uVar4 = FUN_00032ed0(0,"Silent",&DAT_000640b8,0);
  uVar4 = FUN_00032ed0(uVar4,"Quiet",&DAT_00064218,0);
  uVar4 = FUN_00032ed0(uVar4,"Verbose",&DAT_000630c0,0);
  uVar4 = FUN_00032ed0(uVar4,"Debug",&DAT_000630c1,0);
  uVar4 = FUN_00032ed0(uVar4,"RPCProto",&DAT_00063928,0);
  uVar4 = FUN_00032ed0(uVar4,"PerDevice",&DAT_00063df8,0);
  uVar4 = FUN_00032ed0(uVar4,"WorkTime",&DAT_00063dfa,0);
  FUN_00032418(param_1,uVar4,1,0);
  if (iVar3 != 0) {
    *(undefined1 *)(param_1 + 0xd) = 1;
  }
  return;
}




void FUN_00033a68(undefined4 param_1,undefined4 param_2,byte *param_3)

{
  byte bVar1;
  __int32_t **pp_Var2;
  
  if ((param_3 != (byte *)0x0) && (bVar1 = *param_3, bVar1 != 0)) {
    pp_Var2 = __ctype_tolower_loc();
    bVar1 = *(byte *)(*pp_Var2 + bVar1);
    *param_3 = bVar1;
    if (bVar1 != 0x66 && bVar1 != 0x74) {
      FUN_00032f3c(param_1,0x4c,0,0);
      return;
    }
    DAT_00063bc5 = bVar1 == 0x74;
    FUN_00032f3c(param_1,0x4d,DAT_00063bc5,0);
    return;
  }
  FUN_00032f3c(param_1,0x4b,0,0);
  return;
}




void FUN_00033b14(int param_1,undefined4 param_2,char *param_3,uint param_4,byte param_5)

{
  int iVar1;
  __int32_t **pp_Var2;
  char *pcVar3;
  uint uVar4;
  undefined4 uVar5;
  char *pcVar6;
  undefined *puVar7;
  __int32_t *p_Var8;
  int *piVar9;
  undefined *puVar10;
  char *pcVar11;
  char acStack_84 [100];
  
  if ((param_3 == (char *)0x0) || (*param_3 == '\0')) {
    FUN_00032f3c(param_1,0x47,0,0,param_4);
  }
  else {
    pcVar3 = DAT_000607cc;
    pcVar11 = DAT_000607cc;
    if (DAT_000607cc != (char *)0x0) {
      piVar9 = (int *)&DAT_000607cc;
      do {
        iVar1 = strcmp(pcVar3,param_3);
        if (iVar1 == 0) {
          sprintf(acStack_84,"|%s|",param_3);
          pp_Var2 = __ctype_toupper_loc();
          p_Var8 = *pp_Var2;
          if ((p_Var8[param_5] == p_Var8[0x57]) ||
             (pcVar3 = strstr(*(char **)(&DAT_000642c4 + (p_Var8[param_5] - p_Var8[0x41]) * 4),acStack_84),
             pcVar3 != (char *)0x0)) {
            pcVar3 = (char *)0x1;
            pcVar11 = (char *)0x1;
          }
          else {
            pcVar3 = (char *)0x0;
            pcVar11 = (char *)0x1;
          }
          break;
        }
        piVar9 = piVar9 + 3;
        pcVar3 = (char *)*piVar9;
        pcVar11 = pcVar3;
      } while (pcVar3 != (char *)0x0);
    }
    FUN_00032f3c(param_1,0x48,0,0,param_4);
    puVar10 = &UNK_00053b98;
    pcVar6 = "CHECK,";
    if (param_4 != 0) {
      pcVar6 = ",\"CHECK\":[";
    }
    uVar4 = FUN_00030708(param_1,pcVar6);
    puVar7 = puVar10;
    if (pcVar11 != (char *)0x0) {
      puVar7 = &DAT_00053b94;
    }
    uVar5 = FUN_00032d20(0,"Exists",puVar7,0);
    if (pcVar3 != (char *)0x0) {
      puVar10 = &DAT_00053b94;
    }
    uVar5 = FUN_00032d20(uVar5,"Access",puVar10,0);
    FUN_00032418(param_1,uVar5,param_4,0);
    if ((uVar4 & param_4) != 0) {
      *(undefined1 *)(param_1 + 0xd) = 1;
    }
  }
  return;
}




void FUN_00033cac(int param_1,undefined4 param_2,undefined4 param_3,int param_4)

{
  int iVar1;
  int iVar2;
  undefined1 *puVar3;
  undefined4 uVar4;
  int local_24;
  
  if (DAT_00063cc0 == 0) {
    FUN_00032f3c(param_1,10,0,0,param_4);
  }
  else {
    FUN_00032f3c(param_1,0x45,0,0,param_4);
    if (param_4 == 0) {
      iVar2 = 0;
    }
    else {
      iVar2 = FUN_00030708(param_1,",\"DEVDETAILS\":[");
    }
    uVar4 = 0;
    local_24 = 0;
    if (0 < DAT_00063cc0) {
      do {
        iVar1 = FUN_0001ab68(local_24);
        uVar4 = FUN_00032db0(uVar4,"DEVDETAILS",&local_24,0);
        uVar4 = FUN_00032cfc(uVar4,&DAT_00053bd0,*(undefined4 *)(*(int *)(iVar1 + 4) + 8),0);
        uVar4 = FUN_00032db0(uVar4,&DAT_00053bd8,iVar1 + 8,0);
        uVar4 = FUN_00032cfc(uVar4,"Driver",*(undefined4 *)(*(int *)(iVar1 + 4) + 4),0);
        puVar3 = *(undefined1 **)(iVar1 + 0xa8);
        if (*(undefined1 **)(iVar1 + 0xa8) == (undefined1 *)0x0) {
          puVar3 = &DAT_0005220c;
        }
        uVar4 = FUN_00032d20(uVar4,"Kernel",puVar3);
        puVar3 = *(undefined1 **)(iVar1 + 0xc);
        if (*(undefined1 **)(iVar1 + 0xc) == (undefined1 *)0x0) {
          puVar3 = &DAT_0005220c;
        }
        uVar4 = FUN_00032d20(uVar4,"Model",puVar3);
        puVar3 = *(undefined1 **)(iVar1 + 0x10);
        if (*(undefined1 **)(iVar1 + 0x10) == (undefined1 *)0x0) {
          puVar3 = &DAT_0005220c;
        }
        uVar4 = FUN_00032d20(uVar4,"Device Path",puVar3);
        iVar1 = param_4;
        if (param_4 != 0) {
          if (local_24 < 1) {
            iVar1 = 0;
          }
          else {
            iVar1 = 1;
          }
        }
        uVar4 = FUN_00032418(param_1,uVar4,param_4,iVar1);
        local_24 = local_24 + 1;
      } while (local_24 < DAT_00063cc0);
    }
    if (iVar2 != 0) {
      *(undefined1 *)(param_1 + 0xd) = 1;
    }
  }
  return;
}




void FUN_00033e50(undefined4 param_1,undefined4 param_2,char *param_3,undefined4 param_4)

{
  long lVar1;
  int iVar2;
  void *__ptr;
  int iVar3;
  
  if (DAT_00063740 == 0) {
    FUN_00032f3c(param_1,8,0,0);
    return;
  }
  if ((param_3 == (char *)0x0) || (*param_3 == '\0')) {
    FUN_00032f3c(param_1,0x19,0,0);
    return;
  }
  lVar1 = strtol(param_3,(char **)0x0,10);
  if ((lVar1 < 0) || (DAT_00063740 <= lVar1)) {
    FUN_00032f3c(param_1,0x1a,lVar1,0);
    return;
  }
  if (DAT_00063740 < 2) {
    FUN_00032f3c(param_1,0x42,lVar1,0);
    return;
  }
  iVar3 = *(int *)(DAT_000639e0 + lVar1 * 4);
  iVar2 = FUN_0001d644();
  if (iVar3 == iVar2) {
    FUN_000195d4(0);
  }
  iVar2 = FUN_0001d644();
  if (iVar3 != iVar2) {
    *(undefined4 *)(iVar3 + 100) = 0;
    __ptr = (void *)FUN_00030440(*(undefined4 *)(iVar3 + 0xa4),param_4);
    if (__ptr != *(void **)(iVar3 + 0xa4)) {
      FUN_00015600(iVar3);
      FUN_00032f3c(param_1,0x44,lVar1,__ptr,param_4);
      free(__ptr);
      return;
    }
    FUN_00015600(iVar3);
    FUN_00032f3c(param_1,0x44,lVar1,__ptr);
    return;
  }
  FUN_00032f3c(param_1,0x43,lVar1,0);
  return;
}




void FUN_00033ffc(undefined4 param_1,undefined4 param_2,char *param_3)

{
  long lVar1;
  int iVar2;
  int iVar3;
  
  if (DAT_00063740 == 0) {
    FUN_00032f3c(param_1,8,0,0);
    return;
  }
  if ((param_3 == (char *)0x0) || (*param_3 == '\0')) {
    FUN_00032f3c(param_1,0x19,0,0);
    return;
  }
  lVar1 = strtol(param_3,(char **)0x0,10);
  if ((lVar1 < 0) || (DAT_00063740 <= lVar1)) {
    FUN_00032f3c(param_1,0x1a,lVar1,0);
    return;
  }
  iVar3 = *(int *)(DAT_000639e0 + lVar1 * 4);
  if (*(int *)(iVar3 + 100) == 0) {
    FUN_00032f3c(param_1,0x32,lVar1);
    return;
  }
  if (1 < DAT_00063b84) {
    *(undefined4 *)(iVar3 + 100) = 0;
    iVar2 = FUN_0001d644();
    if (iVar3 == iVar2) {
      FUN_000195d4(0);
    }
    FUN_00032f3c(param_1,0x30,lVar1,0);
    return;
  }
  FUN_00032f3c(param_1,0x33,lVar1,0);
  return;
}




void FUN_00034144(undefined4 param_1,undefined4 param_2,char *param_3)

{
  long lVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  if (DAT_00063740 == 0) {
    FUN_00032f3c(param_1,8,0,0);
    return;
  }
  if ((param_3 != (char *)0x0) && (*param_3 != '\0')) {
    lVar1 = strtol(param_3,(char **)0x0,10);
    if ((-1 < lVar1) && (lVar1 < DAT_00063740)) {
      iVar3 = *(int *)(DAT_000639e0 + lVar1 * 4);
      if (*(int *)(iVar3 + 100) != 1) {
        *(undefined4 *)(iVar3 + 100) = 1;
        iVar4 = *(int *)(iVar3 + 4);
        iVar2 = FUN_0001d644();
        if (iVar4 < *(int *)(iVar2 + 4)) {
          FUN_000195d4(iVar3);
        }
        FUN_00032f3c(param_1,0x2f,lVar1,0);
        return;
      }
      FUN_00032f3c(param_1,0x31,lVar1,0);
      return;
    }
    FUN_00032f3c(param_1,0x1a,lVar1,0);
    return;
  }
  FUN_00032f3c(param_1,0x19,0,0);
  return;
}




void FUN_00034268(undefined4 param_1,undefined4 param_2,char *param_3)

{
  char *pcVar1;
  long lVar2;
  int iVar3;
  
  if (DAT_00063740 == 0) {
    FUN_00032f3c(param_1,8,0,0);
    return;
  }
  if ((param_3 == (char *)0x0) || (*param_3 == '\0')) {
    FUN_00032f3c(param_1,0x19,0,0);
    return;
  }
  pcVar1 = strchr(param_3,0x2c);
  if (pcVar1 == (char *)0x0) {
    FUN_00032f3c(param_1,0x56,0,param_3);
    return;
  }
  *pcVar1 = '\0';
  lVar2 = strtol(param_3,(char **)0x0,10);
  if ((-1 < lVar2) && (lVar2 < DAT_00063740)) {
    iVar3 = *(int *)(DAT_000639e0 + lVar2 * 4);
    lVar2 = strtol(pcVar1 + 1,(char **)0x0,10);
    if (-1 < lVar2) {
      *(long *)(iVar3 + 0x38) = lVar2;
      FUN_00014e18();
      FUN_00032f3c(param_1,0x7a,lVar2,*(undefined4 *)(iVar3 + 0xa4));
      return;
    }
    FUN_00032f3c(param_1,0x79,lVar2,*(undefined4 *)(iVar3 + 0xa4));
    return;
  }
  FUN_00032f3c(param_1,0x1a,lVar2,0);
  return;
}




void FUN_000343b0(undefined4 param_1,undefined4 param_2,char *param_3,undefined4 param_4)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  char *pcVar5;
  long lVar6;
  byte *pbVar7;
  byte *pbVar9;
  int iVar10;
  int iVar11;
  byte *pbVar12;
  int iVar13;
  char *pcVar14;
  uint uVar15;
  int iVar16;
  bool bVar17;
  undefined4 local_40 [2];
  byte abStack_38 [4];
  undefined4 local_34;
  undefined4 local_30;
  undefined1 *local_2c;
  byte *pbVar8;
  
  local_2c = (undefined1 *)local_40;
  local_40[0] = param_4;
  local_34 = param_1;
  local_30 = param_4;
  if (DAT_00063740 == 0) {
    FUN_00032f3c(param_1,8,0,0);
  }
  else if ((param_3 == (char *)0x0) || (*param_3 == '\0')) {
    local_2c = (undefined1 *)local_40;
    FUN_00032f3c(param_1,0x19,0,0);
  }
  else {
    iVar1 = -(DAT_00063740 + 7U & 0xfffffff8);
    pbVar12 = abStack_38 + iVar1;
    iVar2 = -(DAT_00063740 * 4 + 10U & 0xfffffff8);
    iVar16 = iVar2 + iVar1 + -0x38;
    local_2c = (undefined1 *)local_40;
    if (0 < DAT_00063740) {
      pbVar8 = pbVar12;
      local_2c = (undefined1 *)local_40;
      do {
        pbVar9 = pbVar8 + 1;
        *pbVar8 = 0;
        pbVar8 = pbVar9;
      } while (pbVar9 != pbVar12 + DAT_00063740);
    }
    iVar13 = 0;
    do {
      pcVar5 = strchr(param_3,0x2c);
      pcVar14 = pcVar5;
      if (pcVar5 != (char *)0x0) {
        pcVar14 = pcVar5 + 1;
        *pcVar5 = '\0';
      }
      lVar6 = strtol(param_3,(char **)0x0,10);
      iVar11 = DAT_000639e0;
      iVar3 = DAT_00063740;
      if ((lVar6 < 0) || (DAT_00063740 <= lVar6)) {
        *(undefined4 *)((int)local_40 + iVar2 + iVar1) = local_30;
        FUN_00032f3c(local_34,0x1a,lVar6,0);
        return;
      }
      if (pbVar12[lVar6] != 0) {
        *(undefined4 *)((int)local_40 + iVar2 + iVar1) = local_30;
        FUN_00032f3c(local_34,0x4a,lVar6,0);
        return;
      }
      *(int *)(abStack_38 + lVar6 * 4 + iVar16 + 0x38) = iVar13;
      pbVar12[lVar6] = 1;
      iVar13 = iVar13 + 1;
      if (pcVar14 == (char *)0x0) goto LAB_000344e8;
      param_3 = pcVar14;
    } while (*pcVar14 != '\0');
    if (0 < DAT_00063740) {
LAB_000344e8:
      pbVar9 = pbVar12 + DAT_00063740;
      iVar10 = 0;
      pbVar8 = pbVar12;
      do {
        pbVar7 = pbVar8 + 1;
        uVar15 = (uint)*pbVar8;
        bVar17 = uVar15 != 0;
        if (bVar17) {
          uVar15 = *(uint *)(iVar11 + iVar10);
          pcVar14 = *(char **)(abStack_38 + iVar10 + iVar16 + 0x38);
        }
        iVar10 = iVar10 + 4;
        if (bVar17) {
          *(char **)(uVar15 + 4) = pcVar14;
        }
        iVar4 = DAT_000639e0;
        pbVar8 = pbVar7;
      } while (pbVar7 != pbVar9);
      iVar16 = 0;
      do {
        iVar11 = 0;
        do {
          if ((pbVar12[iVar11] == 0) && (iVar10 = *(int *)(iVar4 + iVar11 * 4), *(int *)(iVar10 + 4) == iVar16)) {
            *(int *)(iVar10 + 4) = iVar13;
            iVar13 = iVar13 + 1;
            pbVar12[iVar11] = 1;
            break;
          }
          iVar11 = iVar11 + 1;
        } while (iVar11 != iVar3);
        iVar16 = iVar16 + 1;
      } while (iVar16 != iVar3);
    }
    iVar16 = FUN_0001d644();
    if (*(int *)(iVar16 + 4) != 0) {
      FUN_000195d4(0);
    }
    *(undefined4 *)((int)local_40 + iVar2 + iVar1) = local_30;
    FUN_00032f3c(local_34,0x49,0,0);
  }
  return;
}




void FUN_00034608(undefined4 param_1,undefined4 param_2,char *param_3,undefined4 param_4)

{
  int iVar1;
  char *__ptr;
  undefined4 *puVar2;
  void *__ptr_00;
  void *local_24;
  undefined4 local_20;
  undefined4 local_1c;
  
  if ((param_3 == (char *)0x0) || (*param_3 == '\0')) {
    FUN_00032f3c(param_1,0x34,0,0,param_4);
  }
  else {
    iVar1 = FUN_00031f7c(param_3,&local_24,&local_20,&local_1c);
    if (iVar1 == 0) {
      __ptr = (char *)FUN_00030440(param_3,param_4);
      FUN_00032f3c(param_1,0x35,0,__ptr,param_4);
      if (__ptr != param_3) {
        free(__ptr);
      }
    }
    else {
      puVar2 = (undefined4 *)FUN_0001746c();
      FUN_000150b4(puVar2,local_24);
      FUN_000267f4(puVar2,1,local_24,local_20,local_1c);
      __ptr_00 = (void *)FUN_00030440(local_24,param_4);
      FUN_00032f3c(param_1,0x37,*puVar2,__ptr_00,param_4);
      if (__ptr_00 != local_24) {
        free(__ptr_00);
      }
    }
  }
  return;
}




void FUN_00034710(undefined4 param_1,undefined4 param_2,char *param_3)

{
  long lVar1;
  int iVar2;
  int iVar3;
  
  if (DAT_00063740 == 0) {
    FUN_00032f3c(param_1,8,0,0);
    return;
  }
  if ((param_3 != (char *)0x0) && (*param_3 != '\0')) {
    lVar1 = strtol(param_3,(char **)0x0,10);
    iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00063fb0);
    if (iVar2 != 0) {
      FUN_0000b844("switchpool",0xb47);
    }
    FUN_00032074(&DAT_00063fc8,"switchpool",0xb47);
    iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063fb0);
    if (iVar2 != 0) {
      FUN_0000b91c("switchpool",0xb47);
    }
    if ((-1 < lVar1) && (lVar1 < DAT_00063740)) {
      iVar3 = *(int *)(DAT_000639e0 + lVar1 * 4);
      *(undefined4 *)(iVar3 + 100) = 1;
      iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_00063fc8);
      if (iVar2 != 0) {
        FUN_0000b8b0("switchpool",0xb51);
      }
      (*DAT_00060178)();
      FUN_000195d4(iVar3);
      FUN_00032f3c(param_1,0x1b,lVar1,0);
      return;
    }
    iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_00063fc8);
    if (iVar2 != 0) {
      FUN_0000b8b0("switchpool",0xb4a);
    }
    (*DAT_00060178)();
    FUN_00032f3c(param_1,0x1a,lVar1,0);
    return;
  }
  FUN_00032f3c(param_1,0x19,0,0);
  return;
}




void FUN_000348b0(int param_1,undefined4 param_2,undefined4 param_3,int param_4)

{
  int iVar1;
  undefined4 uVar2;
  undefined4 local_14;
  
  local_14 = 0;
  FUN_00032f3c(param_1,0x3b,0,0,param_4);
  if (param_4 == 0) {
    FUN_00030708(param_1,"PGAS,");
    uVar2 = FUN_00032db0(0,"Count",&local_14,0);
    FUN_00032418(param_1,uVar2,0,0);
  }
  else {
    iVar1 = FUN_00030708(param_1,",\"PGAS\":[");
    uVar2 = FUN_00032db0(0,"Count",&local_14,0);
    FUN_00032418(param_1,uVar2,1,0);
    if (iVar1 != 0) {
      *(undefined1 *)(param_1 + 0xd) = 1;
    }
  }
  return;
}




void FUN_00034998(int param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint uVar1;
  undefined4 uVar2;
  char *pcVar3;
  undefined4 local_20;
  undefined4 local_1c [2];
  
  local_20 = 0;
  local_1c[0] = 0;
  FUN_00032f3c(param_1,0x21,0,0,param_4);
  pcVar3 = "CONFIG,";
  if (param_4 != 0) {
    pcVar3 = ",\"CONFIG\":[";
  }
  uVar1 = FUN_00030708(param_1,pcVar3);
  uVar2 = FUN_00032db0(0,"ASC Count",&local_20,0);
  uVar2 = FUN_00032db0(uVar2,"PGA Count",local_1c,0);
  uVar2 = FUN_00032db0(uVar2,"Pool Count",&DAT_00063740,0);
  uVar2 = FUN_00032d20(uVar2,"Strategy",(&DAT_000600b0)[DAT_000611ac],0);
  uVar2 = FUN_00032db0(uVar2,"Log Interval",&DAT_0006006c,0);
  uVar2 = FUN_00032d20(uVar2,"Device Code",&DAT_0005220c,0);
  uVar2 = FUN_00032d20(uVar2,&DAT_00053c74,"Linux",0);
  uVar2 = FUN_00032ed0(uVar2,"Failover-Only",&DAT_00063bc5,0);
  uVar2 = FUN_00032db0(uVar2,"ScanTime",&DAT_00060090,0);
  uVar2 = FUN_00032db0(uVar2,"Queue",&DAT_00060074,0);
  uVar2 = FUN_00032db0(uVar2,"Expiry",&DAT_00060094,0);
  uVar2 = FUN_00032d20(uVar2,"Hotplug",&DAT_00053cb4,0);
  FUN_00032418(param_1,uVar2,param_4,0);
  if ((uVar1 & param_4) != 0) {
    *(undefined1 *)(param_1 + 0xd) = 1;
  }
  return;
}




void FUN_00034b40(int param_1,undefined4 param_2,undefined4 param_3,int param_4)

{
  int iVar1;
  undefined4 uVar2;
  
  FUN_00032f3c(param_1,0x16,0,0,param_4);
  if (param_4 == 0) {
    FUN_00030708(param_1,"VERSION,");
    uVar2 = FUN_00032cfc(0,"CGMiner","4.9.0",0);
    uVar2 = FUN_00032d20(uVar2,&DAT_0004cde0,&DAT_00053cd4,0);
    uVar2 = FUN_00032cfc(uVar2,"Miner",&DAT_00062e48,0);
    uVar2 = FUN_00032cfc(uVar2,"CompileTime",&DAT_00062a0c,0);
    uVar2 = FUN_00032cfc(uVar2,&DAT_00053cec,&DAT_00062b0c,0);
    FUN_00032418(param_1,uVar2,0,0);
    return;
  }
  iVar1 = FUN_00030708(param_1,",\"VERSION\":[");
  uVar2 = FUN_00032cfc(0,"CGMiner","4.9.0",0);
  uVar2 = FUN_00032d20(uVar2,&DAT_0004cde0,&DAT_00053cd4,0);
  uVar2 = FUN_00032cfc(uVar2,"Miner",&DAT_00062e48,0);
  uVar2 = FUN_00032cfc(uVar2,"CompileTime",&DAT_00062a0c,0);
  uVar2 = FUN_00032cfc(uVar2,&DAT_00053cec,&DAT_00062b0c,0);
  FUN_00032418(param_1,uVar2,1,0);
  if (iVar1 != 0) {
    *(undefined1 *)(param_1 + 0xd) = 1;
  }
  return;
}




void FUN_00034ca0(undefined4 param_1,undefined4 param_2,char *param_3,undefined4 param_4)

{
  FILE *__stream;
  char *pcVar1;
  char acStack_1018 [4096];
  
  if ((param_3 == (char *)0x0) || (*param_3 == '\0')) {
    FUN_00015c88();
    param_3 = acStack_1018;
  }
  __stream = fopen(param_3,"w");
  if (__stream == (FILE *)0x0) {
    pcVar1 = (char *)FUN_00030440(param_3,param_4);
    FUN_00032f3c(param_1,0x2b,0,pcVar1,param_4);
    if (pcVar1 != param_3) {
      free(pcVar1);
    }
  }
  else {
    FUN_0001569c();
    fclose(__stream);
    pcVar1 = (char *)FUN_00030440(param_3,param_4);
    FUN_00032f3c(param_1,0x2c,0,pcVar1,param_4);
    if (pcVar1 != param_3) {
      free(pcVar1);
    }
  }
  return;
}




void FUN_00034d90(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,0x11,param_3,param_4);
  return;
}




void FUN_00034db4(int param_1,undefined4 param_2,undefined4 param_3,int param_4)

{
  int iVar1;
  undefined4 uVar2;
  int iVar3;
  double local_c0;
  undefined4 local_b8;
  undefined4 local_b4;
  undefined4 local_b0;
  undefined4 local_ac;
  undefined4 local_a8;
  undefined4 local_a4;
  undefined4 local_a0;
  undefined4 local_9c;
  char local_98 [32];
  undefined4 local_78;
  undefined4 local_74;
  undefined4 local_70;
  undefined4 local_6c;
  undefined4 local_68;
  undefined4 local_64;
  undefined4 local_60;
  undefined4 local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  
  local_b8 = 0;
  local_b4 = 0;
  local_b0 = 0;
  local_ac = 0;
  local_a8 = 0;
  local_a4 = 0;
  local_a0 = 0;
  local_9c = 0;
  local_98[0] = '\0';
  local_98[1] = '\0';
  local_98[2] = '\0';
  local_98[3] = '\0';
  local_98[4] = '\0';
  local_98[5] = '\0';
  local_98[6] = '\0';
  local_98[7] = '\0';
  local_98[8] = '\0';
  local_98[9] = '\0';
  local_98[10] = '\0';
  local_98[0xb] = '\0';
  local_98[0xc] = '\0';
  local_98[0xd] = '\0';
  local_98[0xe] = '\0';
  local_98[0xf] = '\0';
  local_98[0x10] = '\0';
  local_98[0x11] = '\0';
  local_98[0x12] = '\0';
  local_98[0x13] = '\0';
  local_98[0x14] = '\0';
  local_98[0x15] = '\0';
  local_98[0x16] = '\0';
  local_98[0x17] = '\0';
  local_98[0x18] = '\0';
  local_98[0x19] = '\0';
  local_98[0x1a] = '\0';
  local_98[0x1b] = '\0';
  local_98[0x1c] = '\0';
  local_98[0x1d] = '\0';
  local_98[0x1e] = '\0';
  local_98[0x1f] = '\0';
  local_78 = 0;
  local_74 = 0;
  local_70 = 0;
  local_6c = 0;
  local_68 = 0;
  local_64 = 0;
  local_60 = 0;
  local_5c = 0;
  local_58 = 0;
  local_54 = 0;
  local_50 = 0;
  local_4c = 0;
  local_48 = 0;
  local_44 = 0;
  local_40 = 0;
  local_3c = 0;
  local_38 = 0;
  local_34 = 0;
  local_30 = 0;
  local_2c = 0;
  local_28 = 0;
  local_24 = 0;
  local_20 = 0;
  local_1c = 0;
  iVar1 = FUN_0001d644();
  FUN_00032f3c(param_1,7,0,0,param_4);
  if (param_4 == 0) {
    iVar3 = 0;
  }
  else {
    iVar3 = FUN_00030708(param_1,",\"POOLS\":[");
  }
  local_b8 = CONCAT22(local_b8._2_2_,0x30);
  local_c0 = (DAT_00063268 / 1000.0) / DAT_0005f898;
  uVar2 = FUN_00032cfc(0,&DAT_00053d0c,&local_b8,0);
  uVar2 = FUN_00034d90(uVar2,"GHS5s",&DAT_00061430,0);
  uVar2 = FUN_00034d90(uVar2,"GHSavg",&local_c0,0);
  sprintf(local_98,"%d",DAT_00063e48);
  uVar2 = FUN_00032cfc(uVar2,&DAT_00053d20,local_98,0);
  sprintf((char *)&local_78,"%d",DAT_000640c0);
  uVar2 = FUN_00032cfc(uVar2,"temp",&local_78,0);
  if (iVar1 == 0) {
    local_58 = CONCAT13(local_58._3_1_,0x6f6e);
    local_38 = CONCAT13(local_38._3_1_,0x6f6e);
    uVar2 = FUN_00032cfc(uVar2,"pool",&local_58,0);
    uVar2 = FUN_00032cfc(uVar2,&DAT_00053d24,&local_38,0);
  }
  else {
    uVar2 = FUN_00032cfc(uVar2,"pool",*(undefined4 *)(iVar1 + 0xa4),0);
    uVar2 = FUN_00032cfc(uVar2,&DAT_00053d24,*(undefined4 *)(iVar1 + 0xac),0);
  }
  FUN_00032418(param_1,uVar2,param_4,param_4);
  if (iVar3 != 0) {
    *(undefined1 *)(param_1 + 0xd) = 1;
  }
  return;
}




int FUN_00035034(undefined4 param_1,int param_2,undefined4 param_3,int param_4,int param_5,undefined1 param_6)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  int local_2c;
  double local_28;
  
  local_28 = DAT_00063268 / DAT_0005f898;
  local_2c = param_2;
  uVar1 = FUN_00032db0(0,"STATS",&local_2c,0);
  uVar1 = FUN_00032cfc(uVar1,&DAT_00053bd8,param_3,0);
  uVar1 = FUN_00032eac(uVar1,"Elapsed",&DAT_0005f898,0);
  uVar1 = FUN_00032df8(uVar1,"Calls",param_4,0);
  uVar1 = FUN_00032ef4(uVar1,&DAT_00053d44,param_4 + 4,0);
  uVar1 = FUN_00032ef4(uVar1,&DAT_00053d4c,param_4 + 0xc,0);
  uVar1 = FUN_00032ef4(uVar1,&DAT_00053d50,param_4 + 0x14,0);
  uVar1 = FUN_00032cfc(uVar1,"GHS 5s",&DAT_00062e38,0);
  iVar2 = FUN_00034d90(uVar1,"GHS av",&local_28,0);
  iVar3 = iVar2;
  if ((param_5 != 0) && (iVar3 = param_5, iVar2 != 0)) {
    iVar3 = *(int *)(param_5 + 0x10);
    *(undefined4 *)(param_5 + 0x10) = *(undefined4 *)(iVar2 + 0x10);
    *(int *)(*(int *)(iVar2 + 0x10) + 0x14) = param_5;
    *(int *)(iVar3 + 0x14) = iVar2;
    *(int *)(iVar2 + 0x10) = iVar3;
    iVar3 = iVar2;
  }
  FUN_00032418(param_1,iVar3,param_6);
  return local_2c + 1;
}




void FUN_00035198(int param_1,undefined4 param_2,undefined4 param_3,int param_4)

{
  int iVar1;
  undefined4 uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  char acStack_3c [24];
  
  FUN_00032f3c(param_1,0x46,0,0,param_4);
  if (param_4 == 0) {
    iVar4 = 0;
  }
  else {
    iVar4 = FUN_00030708(param_1,",\"STATS\":[");
  }
  if (0 < DAT_00063cc0) {
    iVar6 = 0;
    iVar3 = iVar6;
    do {
      iVar1 = FUN_0001ab68(iVar6);
      if ((iVar1 != 0) && (iVar5 = *(int *)(iVar1 + 4), iVar5 != 0)) {
        if (*(code **)(iVar5 + 0x1c) == (code *)0x0) {
          uVar2 = 0;
        }
        else {
          uVar2 = (**(code **)(iVar5 + 0x1c))();
          iVar5 = *(int *)(iVar1 + 4);
        }
        sprintf(acStack_3c,"%s%d",*(undefined4 *)(iVar5 + 8),*(undefined4 *)(iVar1 + 8));
        iVar3 = FUN_00035034(param_1,iVar3,acStack_3c,iVar1 + 0x124,uVar2,param_4);
      }
      iVar6 = iVar6 + 1;
    } while (iVar6 < DAT_00063cc0);
  }
  if (iVar4 != 0) {
    *(undefined1 *)(param_1 + 0xd) = 1;
  }
  return;
}




void FUN_00035290(int param_1,undefined4 param_2,undefined4 param_3,int param_4)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  char acStack_3c [24];
  
  FUN_00032f3c(param_1,0x46,0,0,param_4);
  if (param_4 == 0) {
    iVar4 = 0;
  }
  else {
    iVar4 = FUN_00030708(param_1,",\"STATS\":[");
  }
  uVar1 = FUN_00032cfc(0,"CGMiner","4.9.0",0);
  uVar1 = FUN_00032cfc(uVar1,"Miner",&DAT_00062e48,0);
  uVar1 = FUN_00032cfc(uVar1,"CompileTime",&DAT_00062a0c,0);
  uVar1 = FUN_00032cfc(uVar1,&DAT_00053cec,&DAT_00062b0c,0);
  FUN_00032418(param_1,uVar1,param_4,0);
  if (0 < DAT_00063cc0) {
    iVar5 = 0;
    iVar3 = iVar5;
    do {
      iVar2 = FUN_0001ab68(iVar5);
      if ((iVar2 != 0) && (iVar6 = *(int *)(iVar2 + 4), iVar6 != 0)) {
        if (*(code **)(iVar6 + 0x1c) == (code *)0x0) {
          uVar1 = 0;
        }
        else {
          uVar1 = (**(code **)(iVar6 + 0x1c))();
          iVar6 = *(int *)(iVar2 + 4);
        }
        sprintf(acStack_3c,"%s%d",*(undefined4 *)(iVar6 + 8),*(undefined4 *)(iVar2 + 8));
        iVar3 = FUN_00035034(param_1,iVar3,acStack_3c,iVar2 + 0x124,uVar1,param_4);
      }
      iVar5 = iVar5 + 1;
    } while (iVar5 < DAT_00063cc0);
  }
  if (iVar4 != 0) {
    *(undefined1 *)(param_1 + 0xd) = 1;
  }
  return;
}




void FUN_00035400(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,0x12,param_3,param_4);
  return;
}




void FUN_00035424(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,0x13,param_3,param_4);
  return;
}




void FUN_00035448(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,0x14,param_3,param_4);
  return;
}




void FUN_0003546c(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,0x15,param_3,param_4);
  return;
}




void FUN_00035490(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,0x16,param_3,param_4);
  return;
}




void FUN_000354b4(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,0x17,param_3,param_4);
  return;
}




void FUN_000354d8(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,0x18,param_3,param_4);
  return;
}




void FUN_000354fc(int param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint uVar1;
  undefined4 uVar2;
  int iVar3;
  char *pcVar4;
  
  FUN_00032f3c(param_1,0x4e,0,0,param_4);
  pcVar4 = "COIN,";
  if (param_4 != 0) {
    pcVar4 = ",\"COIN\":[";
  }
  uVar1 = FUN_00030708(param_1,pcVar4);
  uVar2 = FUN_00032d20(0,"Hash Method","sha256",0);
  iVar3 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00063f78);
  if (iVar3 != 0) {
    FUN_0000b844("minecoin",0xe60);
  }
  FUN_00032074(&DAT_00063f90,"minecoin",0xe60);
  iVar3 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063f78);
  if (iVar3 != 0) {
    FUN_0000b91c("minecoin",0xe60);
  }
  uVar2 = FUN_00032ef4(uVar2,"Current Block Time",&DAT_00063618,1);
  uVar2 = FUN_00032cfc(uVar2,"Current Block Hash",&DAT_000640c8,1);
  iVar3 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_00063f90);
  if (iVar3 != 0) {
    FUN_0000b8b0("minecoin",0xe63);
  }
  (*DAT_00060178)();
  uVar2 = FUN_00032ed0(uVar2,&DAT_0004ebdc,&DAT_00064219,0);
  uVar2 = FUN_000354d8(uVar2,"Network Difficulty",&DAT_00060080,1);
  FUN_00032418(param_1,uVar2,param_4,0);
  if ((uVar1 & param_4) != 0) {
    *(undefined1 *)(param_1 + 0xd) = 1;
  }
  return;
}




void FUN_00035684(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,0x19,param_3,param_4);
  return;
}




void FUN_000356a8(int param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  longlong lVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  undefined4 uVar5;
  char *pcVar6;
  double dVar7;
  double dVar8;
  undefined8 uVar9;
  double local_70;
  double local_68;
  double local_60;
  undefined4 local_58;
  undefined4 uStack_54;
  undefined4 local_50;
  undefined4 uStack_4c;
  undefined4 local_48;
  undefined4 uStack_44;
  double dStack_40;
  
  FUN_00032f3c(param_1,0xb,0,0,param_4);
  pcVar6 = "SUMMARY,";
  if (param_4 != 0) {
    pcVar6 = ",\"SUMMARY\":[";
  }
  uVar2 = FUN_00030708(param_1,pcVar6);
  iVar3 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0006392c);
  if (iVar3 != 0) {
    FUN_0000b844("summary",0xae4);
  }
  dVar8 = DAT_00063b88 + DAT_00063c10 + DAT_000639d0;
  uVar9 = FUN_00049488(SUB84(dVar8,0),(int)((ulonglong)dVar8 >> 0x20));
  iVar3 = (int)((ulonglong)uVar9 >> 0x20);
  uVar4 = (uint)uVar9;
  DAT_000636a8 = uVar4;
  DAT_000636ac = iVar3;
  local_70 = (double)FUN_000493dc(DAT_000639c8,DAT_000639cc);
  dVar8 = DAT_0005f898;
  if (DAT_0005f898 == 0.0) {
    local_68 = DAT_00063268 / DAT_0005f898;
    local_70 = local_70 * 60.0;
    dVar7 = (double)FUN_000493dc(uVar4,iVar3);
    dVar8 = 1.0;
  }
  else {
    local_68 = DAT_00063268 / DAT_0005f898;
    local_70 = (local_70 / DAT_0005f898) * 60.0;
    dVar7 = (double)FUN_000493dc(uVar4,iVar3);
  }
  local_60 = (dVar7 / dVar8) * 60.0;
  uVar5 = FUN_00032eac(0,"Elapsed",&DAT_0005f898,1);
  uVar5 = FUN_00032cfc(uVar5,"GHS 5s",&DAT_00062e38,0);
  uVar5 = FUN_00034d90(uVar5,"GHS av",&local_68,0);
  uVar5 = FUN_00032dd4(uVar5,"Found Blocks",&DAT_00063e58,1);
  uVar5 = FUN_00032e64(uVar5,"Getworks",&DAT_00063be8,1);
  uVar5 = FUN_00032e64(uVar5,"Accepted",&DAT_000639c8,1);
  uVar5 = FUN_00032e64(uVar5,"Rejected",&DAT_00063c98,1);
  uVar5 = FUN_00032db0(uVar5,"Hardware Errors",&DAT_00063e44,1);
  uVar5 = FUN_00035448(uVar5,"Utility",&local_70,0);
  uVar5 = FUN_00032e64(uVar5,"Discarded",&DAT_00063d68,1);
  uVar5 = FUN_00032e64(uVar5,"Stale",&DAT_00064220,1);
  uVar5 = FUN_00032dd4(uVar5,"Get Failures",&DAT_000639e4,1);
  uVar5 = FUN_00032dd4(uVar5,"Local Work",&DAT_00063a70,1);
  uVar5 = FUN_00032dd4(uVar5,"Remote Failures",&DAT_00063410,1);
  uVar5 = FUN_00032dd4(uVar5,"Network Blocks",&DAT_000640bc,1);
  uVar5 = FUN_00035400(uVar5,"Total MH",&DAT_00063268,1);
  uVar5 = FUN_00035448(uVar5,"Work Utility",&local_60,0);
  uVar5 = FUN_000354d8(uVar5,"Difficulty Accepted",&DAT_00063b88,1);
  uVar5 = FUN_000354d8(uVar5,"Difficulty Rejected",&DAT_00063c10,1);
  uVar5 = FUN_000354d8(uVar5,"Difficulty Stale",&DAT_000639d0,1);
  uVar5 = FUN_00032e40(uVar5,"Best Share",&DAT_000611c8,1);
  if (DAT_000636a8 + DAT_00063e44 == 0 &&
      DAT_000636ac + ((int)DAT_00063e44 >> 0x1f) + (uint)CARRY4(DAT_000636a8,DAT_00063e44) == 0) {
    dVar8 = 0.0;
  }
  else {
    lVar1 = (longlong)(int)DAT_00063e44;
    dVar8 = (double)FUN_000493dc();
    dVar8 = (double)lVar1 / dVar8;
  }
  uStack_54 = (undefined4)((ulonglong)dVar8 >> 0x20);
  local_58 = SUB84(dVar8,0);
  uVar5 = FUN_00035684(uVar5,"Device Hardware%",&local_58,0);
  if (DAT_000636a8 == 0 && DAT_000636ac == 0) {
    dVar8 = 0.0;
  }
  else {
    dVar8 = (double)FUN_000493dc();
    dVar8 = DAT_00063c10 / dVar8;
  }
  uStack_4c = (undefined4)((ulonglong)dVar8 >> 0x20);
  local_50 = SUB84(dVar8,0);
  uVar5 = FUN_00035684(uVar5,"Device Rejected%",&local_50,0);
  dVar8 = DAT_00063c10 + DAT_00063b88 + DAT_000639d0;
  if (dVar8 == 0.0) {
    dVar8 = 0.0;
  }
  else {
    dVar8 = DAT_00063c10 / dVar8;
  }
  uStack_44 = (undefined4)((ulonglong)dVar8 >> 0x20);
  local_48 = SUB84(dVar8,0);
  uVar5 = FUN_00035684(uVar5,"Pool Rejected%",&local_48,0);
  dStack_40 = DAT_00063b88 + DAT_00063c10 + DAT_000639d0;
  if (dStack_40 == 0.0) {
    dStack_40 = 0.0;
  }
  else {
    dStack_40 = DAT_000639d0 / dStack_40;
  }
  uVar5 = FUN_00035684(uVar5,"Pool Stale%",&dStack_40,0);
  uVar5 = FUN_00032f18(uVar5,"Last getwork",&DAT_00063ee8,0);
  iVar3 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0006392c);
  if (iVar3 != 0) {
    FUN_0000b91c("summary",0xb1a);
  }
  (*DAT_00060178)();
  FUN_00032418(param_1,uVar5,param_4,0);
  if ((uVar2 & param_4) != 0) {
    *(undefined1 *)(param_1 + 0xd) = 1;
  }
  return;
}




void FUN_00035b8c(int param_1,undefined4 param_2,undefined4 param_3,int param_4)

{
  time_t tVar1;
  uint uVar2;
  undefined4 uVar3;
  undefined *puVar4;
  int iVar5;
  int iVar6;
  char *pcVar7;
  undefined4 uVar8;
  double dVar9;
  int local_144;
  int local_13c;
  undefined4 local_138;
  undefined4 local_134;
  undefined4 local_130;
  undefined4 local_12c;
  undefined2 local_128 [130];
  
  memset(local_128,0,0x100);
  if (DAT_00063740 == 0) {
    FUN_00032f3c(param_1,8,0,0,param_4);
  }
  else {
    FUN_00032f3c(param_1,7,0,0,param_4);
    if (param_4 == 0) {
      local_144 = 0;
    }
    else {
      local_144 = FUN_00030708(param_1,",\"POOLS\":[");
    }
    local_13c = 0;
    if (0 < DAT_00063740) {
      uVar8 = 0;
      do {
        iVar6 = *(int *)(DAT_000639e0 + local_13c * 4);
        if (*(char *)(iVar6 + 0x69) == '\0') {
          iVar5 = *(int *)(iVar6 + 100);
          if (iVar5 == 1) {
            pcVar7 = "Alive";
            if (*(char *)(iVar6 + 0x61) != '\0') {
              pcVar7 = "Dead";
            }
          }
          else if (iVar5 == 0) {
            pcVar7 = "Disabled";
          }
          else {
            pcVar7 = "Rejecting";
            if (iVar5 != 2) {
              pcVar7 = "Unknown";
            }
          }
          puVar4 = &UNK_00053b98;
          if (*(int *)(iVar6 + 0x6c) != 0) {
            puVar4 = &DAT_00053b94;
          }
          if (*(int *)(iVar6 + 0x160) < 1) {
            local_128[0] = 0x30;
          }
          else {
            tVar1 = time((time_t *)0x0);
            uVar2 = tVar1 - *(int *)(iVar6 + 0x160);
            uVar2 = uVar2 & ~((int)uVar2 >> 0x1f);
            iVar5 = (int)uVar2 % 0xe10;
            sprintf((char *)local_128,"%d:%02d:%02d",(int)uVar2 / 0xe10,iVar5 / 0x3c,iVar5 % 0x3c);
          }
          uVar8 = FUN_00032db0(uVar8,&DAT_00053f68,&local_13c,0);
          uVar8 = FUN_00032cd8(uVar8,"URL",*(undefined4 *)(iVar6 + 0xa4),0);
          uVar8 = FUN_00032cfc(uVar8,"Status",pcVar7,0);
          uVar8 = FUN_00032db0(uVar8,"Priority",iVar6 + 4,0);
          uVar8 = FUN_00032db0(uVar8,"Quota",iVar6 + 0x38,0);
          uVar8 = FUN_00032cfc(uVar8,"Long Poll",puVar4,0);
          uVar8 = FUN_00032dd4(uVar8,"Getworks",iVar6 + 0x74,0);
          uVar8 = FUN_00032e64(uVar8,"Accepted",iVar6 + 8,0);
          uVar8 = FUN_00032e64(uVar8,"Rejected",iVar6 + 0x10,0);
          uVar8 = FUN_00032dd4(uVar8,"Discarded",iVar6 + 0x7c,0);
          uVar8 = FUN_00032dd4(uVar8,"Stale",iVar6 + 0x78,0);
          uVar8 = FUN_00032dd4(uVar8,"Get Failures",iVar6 + 0x80,0);
          uVar8 = FUN_00032dd4(uVar8,"Remote Failures",iVar6 + 0x84,0);
          uVar8 = FUN_00032cd8(uVar8,&DAT_00053f98,*(undefined4 *)(iVar6 + 0xac),0);
          uVar8 = FUN_00032cfc(uVar8,"Last Share Time",local_128,0);
          uVar8 = FUN_00032cfc(uVar8,&DAT_00053fb0,iVar6 + 0x30,0);
          uVar8 = FUN_00032e64(uVar8,"Diff1 Shares",iVar6 + 0x28,0);
          if (*(int *)(iVar6 + 0xb8) == 0) {
            uVar8 = FUN_00032d20(uVar8,"Proxy Type",&DAT_0005220c,0);
            uVar8 = FUN_00032d20(uVar8,"Proxy",&DAT_0005220c,0);
          }
          else {
            uVar3 = FUN_00029418(*(undefined4 *)(iVar6 + 0xb4));
            uVar8 = FUN_00032d20(uVar8,"Proxy Type",uVar3,0);
            uVar8 = FUN_00032cd8(uVar8,"Proxy",*(undefined4 *)(iVar6 + 0xb8),0);
          }
          uVar8 = FUN_000354d8(uVar8,"Difficulty Accepted",iVar6 + 0x48,0);
          uVar8 = FUN_000354d8(uVar8,"Difficulty Rejected",iVar6 + 0x50,0);
          uVar8 = FUN_000354d8(uVar8,"Difficulty Stale",iVar6 + 0x58,0);
          uVar8 = FUN_000354d8(uVar8,"Last Share Difficulty",iVar6 + 0x168,0);
          uVar8 = FUN_00032ed0(uVar8,"Has Stratum",iVar6 + 0x278,0);
          uVar8 = FUN_00032ed0(uVar8,"Stratum Active",iVar6 + 0x279,0);
          if (*(char *)(iVar6 + 0x279) == '\0') {
            uVar8 = FUN_00032d20(uVar8,"Stratum URL",&DAT_0005220c);
          }
          else {
            uVar8 = FUN_00032cd8(uVar8,"Stratum URL",*(undefined4 *)(iVar6 + 0x238),0);
          }
          uVar8 = FUN_00032ed0(uVar8,&DAT_0005401c,iVar6 + 0x2c0,0);
          uVar8 = FUN_00032e40(uVar8,"Best Share",iVar6 + 0x170,1);
          dVar9 = *(double *)(iVar6 + 0x50) + *(double *)(iVar6 + 0x48) + *(double *)(iVar6 + 0x58);
          if (dVar9 == 0.0) {
            dVar9 = 0.0;
          }
          else {
            dVar9 = *(double *)(iVar6 + 0x50) / dVar9;
          }
          local_134 = (undefined4)((ulonglong)dVar9 >> 0x20);
          local_138 = SUB84(dVar9,0);
          uVar8 = FUN_00035684(uVar8,"Pool Rejected%",&local_138,0);
          dVar9 = *(double *)(iVar6 + 0x48) + *(double *)(iVar6 + 0x50) + *(double *)(iVar6 + 0x58);
          if (dVar9 == 0.0) {
            dVar9 = 0.0;
          }
          else {
            dVar9 = *(double *)(iVar6 + 0x58) / dVar9;
          }
          local_12c = (undefined4)((ulonglong)dVar9 >> 0x20);
          local_130 = SUB84(dVar9,0);
          uVar8 = FUN_00035684(uVar8,"Pool Stale%",&local_130,0);
          uVar8 = FUN_00032418(param_1,uVar8,param_4);
        }
        local_13c = local_13c + 1;
      } while (local_13c < DAT_00063740);
    }
    if (local_144 != 0) {
      *(undefined1 *)(param_1 + 0xd) = 1;
    }
  }
  return;
}




void FUN_000360e0(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  FUN_00031c10(param_1,param_2,0x1a,param_3,param_4);
  return;
}




void FUN_00036104(undefined4 param_1,int param_2,int param_3,undefined4 param_4)

{
  undefined4 uVar1;
  char *pcVar2;
  int local_1c [2];
  
  if (*(int *)(param_3 + 0xf4) == 0) {
    pcVar2 = "None";
  }
  else if (*(uint *)(param_3 + 0xf8) < 9) {
    pcVar2 = (&PTR_s_Thread_failed_to_init_000534f8)[*(uint *)(param_3 + 0xf8)];
  }
  else {
    pcVar2 = "Unknown reason - code bug";
  }
  local_1c[0] = param_2;
  uVar1 = FUN_00032db0(0,"NOTIFY",local_1c,0);
  uVar1 = FUN_00032cfc(uVar1,&DAT_00053bd0,*(undefined4 *)(*(int *)(param_3 + 4) + 8),0);
  uVar1 = FUN_00032db0(uVar1,&DAT_00053bd8,param_3 + 8,0);
  uVar1 = FUN_00032f18(uVar1,"Last Well",param_3 + 0xf0,0);
  uVar1 = FUN_00032f18(uVar1,"Last Not Well",param_3 + 0xf4,0);
  uVar1 = FUN_00032cfc(uVar1,"Reason Not Well",pcVar2,0);
  uVar1 = FUN_00032db0(uVar1,"*Thread Fail Init",param_3 + 0xfc,0);
  uVar1 = FUN_00032db0(uVar1,"*Thread Zero Hash",param_3 + 0x100,0);
  uVar1 = FUN_00032db0(uVar1,"*Thread Fail Queue",param_3 + 0x104,0);
  uVar1 = FUN_00032db0(uVar1,"*Dev Sick Idle 60s",param_3 + 0x108,0);
  uVar1 = FUN_00032db0(uVar1,"*Dev Dead Idle 600s",param_3 + 0x10c,0);
  uVar1 = FUN_00032db0(uVar1,"*Dev Nostart",param_3 + 0x110,0);
  uVar1 = FUN_00032db0(uVar1,"*Dev Over Heat",param_3 + 0x114,0);
  uVar1 = FUN_00032db0(uVar1,"*Dev Thermal Cutoff",param_3 + 0x118,0);
  uVar1 = FUN_00032db0(uVar1,"*Dev Comms Error",param_3 + 0x11c,0);
  uVar1 = FUN_00032db0(uVar1,"*Dev Throttle",param_3 + 0x120,0);
  FUN_00032418(param_1,uVar1,param_4);
  return;
}




void FUN_000362d8(int param_1,undefined4 param_2,undefined4 param_3,int param_4,undefined1 param_5)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  if (DAT_00063cc0 == 0) {
    FUN_00032f3c(param_1,10,0,0);
    return;
  }
  FUN_00032f3c(param_1,0x3c,0,0,param_4);
  if (param_4 == 0) {
    iVar2 = 0;
  }
  else {
    iVar2 = FUN_00030708(param_1,",\"NOTIFY\":[");
  }
  if (0 < DAT_00063cc0) {
    iVar3 = 0;
    do {
      uVar1 = FUN_0001ab68(iVar3);
      iVar4 = iVar3 + 1;
      FUN_00036104(param_1,iVar3,uVar1,param_4,param_5);
      iVar3 = iVar4;
    } while (iVar4 < DAT_00063cc0);
  }
  if (iVar2 != 0) {
    *(undefined1 *)(param_1 + 0xd) = 1;
  }
  return;
}




void FUN_000363a4(void)

{
  void *pvVar1;
  int iVar2;
  char local_808 [4];
  char acStack_804 [4];
  char acStack_800 [4];
  char acStack_7fc [4];
  char local_7f8 [4];
  char acStack_7f4 [4];
  undefined3 uStack_7f0;
  char cStack_7ed;
  undefined2 uStack_7ec;
  undefined1 local_7ea;
  
  pvVar1 = calloc(1,0x40);
  if (pvVar1 == (void *)0x0) {
    local_808[0] = 'F';
    local_808[1] = 'a';
    local_808[2] = 'i';
    local_808[3] = 'l';
    acStack_804[0] = 'e';
    acStack_804[1] = 'd';
    acStack_804[2] = ' ';
    acStack_804[3] = 't';
    acStack_800[0] = 'o';
    acStack_800[1] = ' ';
    acStack_800[2] = 'c';
    acStack_800[3] = 'a';
    acStack_7fc[0] = 'l';
    acStack_7fc[1] = 'l';
    acStack_7fc[2] = 'o';
    acStack_7fc[3] = 'c';
    local_7f8[0] = ' ';
    local_7f8[1] = 'm';
    local_7f8[2] = 'c';
    local_7f8[3] = 'a';
    acStack_7f4[0] = 's';
    acStack_7f4[1] = 't';
    acStack_7f4[2] = ' ';
    acStack_7f4[3] = 't';
    _uStack_7f0 = CONCAT13(cStack_7ed,0x7268);
    FUN_00038438(3,local_808,1);
    FUN_00016724(1);
  }
  iVar2 = FUN_0002f0ec(pvVar1,0,FUN_00031bd4,pvVar1);
  if (iVar2 != 0) {
    local_808[0] = 'A';
    local_808[1] = 'P';
    local_808[2] = 'I';
    local_808[3] = ' ';
    acStack_804[0] = 'm';
    acStack_804[1] = 'c';
    acStack_804[2] = 'a';
    acStack_804[3] = 's';
    acStack_800[0] = 't';
    acStack_800[1] = ' ';
    acStack_800[2] = 't';
    acStack_800[3] = 'h';
    acStack_7fc[0] = 'r';
    acStack_7fc[1] = 'e';
    acStack_7fc[2] = 'a';
    acStack_7fc[3] = 'd';
    local_7f8[0] = ' ';
    local_7f8[1] = 'c';
    local_7f8[2] = 'r';
    local_7f8[3] = 'e';
    acStack_7f4[0] = 'a';
    acStack_7f4[1] = 't';
    acStack_7f4[2] = 'e';
    acStack_7f4[3] = ' ';
    uStack_7f0._0_1_ = 'f';
    uStack_7f0._1_1_ = 'a';
    uStack_7f0._2_1_ = 'i';
    cStack_7ed = 'l';
    uStack_7ec = 0x6465;
    local_7ea = 0;
    FUN_00038438(3,local_808,1);
    FUN_00016724(1);
  }
  return;
}




/* WARNING: Restarted to delay deadcode elimination for space: ram */

void FUN_0003646c(undefined4 param_1)

{
  uint uVar1;
  undefined4 *puVar2;
  int *__ptr;
  undefined4 *puVar3;
  undefined1 *puVar4;
  undefined4 *puVar5;
  int iVar6;
  size_t sVar7;
  byte *pbVar8;
  char *pcVar9;
  byte *pbVar10;
  int iVar11;
  char *pcVar12;
  byte *pbVar13;
  ushort **ppuVar14;
  byte *pbVar15;
  long lVar16;
  int iVar17;
  time_t tVar18;
  ssize_t sVar19;
  uint *puVar20;
  int iVar21;
  time_t tVar22;
  int *piVar23;
  undefined4 uVar24;
  byte bVar25;
  __int32_t *p_Var26;
  bool bVar27;
  char *unaff_r4;
  byte *__cp;
  addrinfo *paVar28;
  char **ppcVar29;
  int *piVar30;
  int *piVar31;
  byte *pbVar32;
  uint *__s;
  uint uVar33;
  uint *__s_00;
  int *__s_01;
  bool bVar34;
  undefined8 uVar35;
  byte *local_4bbc;
  __int32_t **local_4bb0;
  char *local_4ba8;
  char *local_4b94;
  byte *local_4b88;
  byte bStack_4b5e;
  undefined1 uStack_4b5d;
  undefined4 uStack_4b5c;
  socklen_t sStack_4b58;
  addrinfo *paStack_4b54;
  undefined4 uStack_4b50;
  char acStack_4b4c [12];
  addrinfo aStack_4b40;
  char acStack_4b20 [100];
  sockaddr asStack_4abc [8];
  undefined1 auStack_4a3c [252];
  __pthread_unwind_buf_t a_Stack_4940 [6];
  char local_4828 [44];
  undefined2 uStack_47fc;
  undefined1 local_47fa;
  uint local_4028;
  char acStack_4024 [36];
  undefined2 local_4000;
  undefined4 local_2028;
  char acStack_2024 [20];
  undefined4 local_2010;
  undefined2 local_200c;
  
  uVar24 = DAT_00060170;
  __ptr = (int *)malloc(4);
  bVar34 = DAT_00063d71 == '\0';
  *__ptr = -1;
  if (bVar34) {
    if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      snprintf((char *)&local_2028,0x800,"API not running%s"," - API will not be available");
      FUN_00038438(7,&local_2028,0);
    }
    goto LAB_00036524;
  }
  puVar3 = (undefined4 *)malloc(0x10);
  puVar4 = (undefined1 *)malloc(0x10000);
  puVar3[1] = puVar4;
  puVar3[2] = puVar4;
  *(undefined1 *)(puVar3 + 3) = 1;
  *puVar3 = 0x10000;
  *puVar4 = 0;
  *(undefined1 *)((int)puVar3 + 0xd) = 0;
  puVar5 = (undefined4 *)malloc(0xc);
  puVar2 = DAT_00062f88;
  bVar34 = DAT_00062f88 == (undefined4 *)0x0;
  *puVar5 = puVar3;
  if (bVar34) {
    puVar5[1] = puVar5;
    puVar5[2] = puVar5;
    DAT_00062f88 = puVar5;
  }
  else {
    puVar5[2] = puVar2;
    puVar5[1] = puVar2[1];
    puVar2[1] = puVar5;
    *(undefined4 **)(puVar5[1] + 8) = puVar5;
  }
  iVar6 = pthread_mutex_init((pthread_mutex_t *)&DAT_00062f70,(pthread_mutexattr_t *)0x0);
  if (iVar6 != 0) {
    piVar23 = __errno_location();
    unaff_r4 = "api";
    snprintf((char *)&local_2028,0x800,"Failed to pthread_mutex_init errno=%d in %s %s():%d",*piVar23,"api.c",
             &DAT_0005351c,0x149f);
    FUN_00038438(3,&local_2028,1);
    FUN_00016724(1);
  }
  iVar6 = __sigsetjmp(a_Stack_4940,0);
  if (iVar6 == 0) {
    __pthread_register_cancel(a_Stack_4940);
    pcVar9 = DAT_00063ee4;
    DAT_00062f94 = param_1;
    if (DAT_00063ee4 == (char *)0x0) {
      sVar7 = 1;
      pcVar9 = "";
    }
    else {
      sVar7 = strlen(DAT_00063ee4);
      sVar7 = sVar7 + 1;
    }
    local_4b88 = (byte *)malloc(sVar7);
    if (local_4b88 == (byte *)0x0) {
      local_2028._0_1_ = 'F';
      local_2028._1_1_ = 'a';
      local_2028._2_1_ = 'i';
      local_2028._3_1_ = 'l';
      builtin_strncpy(acStack_2024,"ed to malloc ipgroup",0x14);
      local_2010._0_1_ = 's';
      local_2010._1_1_ = ' ';
      local_2010._2_1_ = 'b';
      local_2010._3_1_ = 'u';
      local_200c = 0x66;
      FUN_00038438(3,&local_2028,1);
      FUN_00016724(1);
      strcpy((char *)0x0,pcVar9);
      local_4bb0 = __ctype_toupper_loc();
    }
    else {
      memcpy(local_4b88,pcVar9,sVar7);
      if (*local_4b88 == 0) {
        local_4bb0 = __ctype_toupper_loc();
      }
      else {
        local_4bb0 = __ctype_toupper_loc();
        pbVar32 = local_4b88;
        do {
          local_4bbc = (byte *)strchr((char *)pbVar32,0x2c);
          pbVar8 = local_4bbc;
          if (local_4bbc != (byte *)0x0) {
            pbVar8 = local_4bbc + 1;
            *local_4bbc = 0;
          }
          if (local_4bbc != (byte *)0x0) {
            local_4bbc = pbVar8;
          }
          if (pbVar32[1] != 0x3a) {
            pcVar9 = strchr((char *)pbVar32,0x3a);
            if (pcVar9 != (char *)0x0) {
              *pcVar9 = '\0';
            }
            snprintf((char *)&local_4028,0x800,"API invalid group name \'%s\'",pbVar32);
            FUN_00038438(3,&local_4028,1);
            FUN_00016724(1);
          }
          p_Var26 = *local_4bb0;
          uVar33 = (uint)*(byte *)(p_Var26 + *pbVar32);
          if ((p_Var26[uVar33] < p_Var26[0x41]) || (p_Var26[0x5a] < p_Var26[uVar33])) {
            snprintf((char *)&local_4028,0x800,"API invalid group name \'%c\'");
            FUN_00038438(3,&local_4028,1);
            FUN_00016724(1);
            p_Var26 = *local_4bb0;
          }
          if (uVar33 == p_Var26[0x57]) {
            snprintf((char *)&local_4028,0x800,"API group name can\'t be \'%c\'",uVar33);
            FUN_00038438(3,&local_4028,1);
            FUN_00016724(1);
            p_Var26 = *local_4bb0;
          }
          if (uVar33 == p_Var26[0x52]) {
            snprintf((char *)&local_4028,0x800,"API group name can\'t be \'%c\'",uVar33);
            FUN_00038438(3,&local_4028,1);
            FUN_00016724(1);
            p_Var26 = *local_4bb0;
          }
          if (*(int *)(&DAT_000642c4 + (p_Var26[uVar33] - p_Var26[0x41]) * 4) != 0) {
            snprintf((char *)&local_4028,0x800,"API duplicate group name \'%c\'",(uint)*pbVar32);
            FUN_00038438(3,&local_4028,1);
            FUN_00016724(1);
          }
          bVar34 = false;
          local_4ba8 = (char *)((int)&local_2028 + 1);
          local_2028 = CONCAT22(local_2028._2_2_,0x7c);
          if ((pbVar32 + 2 != (byte *)0x0) && (pbVar8 = pbVar32 + 2, pbVar32[2] != 0)) {
            do {
              pbVar10 = (byte *)strchr((char *)pbVar8,0x3a);
              pbVar32 = pbVar10;
              if (pbVar10 != (byte *)0x0) {
                pbVar32 = pbVar10 + 1;
                *pbVar10 = 0;
              }
              if ((*pbVar8 == 0x2a) && (pbVar8[1] == 0)) {
                bVar34 = true;
              }
              else {
                if (DAT_000607cc != (char *)0x0) {
                  ppcVar29 = &DAT_000607cc;
                  iVar6 = 0;
                  pcVar9 = DAT_000607cc;
                  do {
                    iVar11 = strcasecmp((char *)pbVar8,pcVar9);
                    if (iVar11 == 0) {
                      sprintf(local_4828,"|%s|",pcVar9);
                      pcVar9 = strstr((char *)&local_2028,local_4828);
                      if (pcVar9 == (char *)0x0) {
                        pcVar9 = (&DAT_000607cc)[iVar6 * 3];
                        strcpy(local_4ba8,pcVar9);
                        sVar7 = strlen(pcVar9);
                        local_4ba8[sVar7] = '|';
                        local_4ba8[sVar7 + 1] = '\0';
                        local_4ba8 = local_4ba8 + sVar7 + 1;
                      }
                      goto joined_r0x00036918;
                    }
                    ppcVar29 = ppcVar29 + 3;
                    pcVar9 = *ppcVar29;
                    iVar6 = iVar6 + 1;
                  } while (pcVar9 != (char *)0x0);
                }
                snprintf((char *)&local_4028,0x800,"API unknown command \'%s\' in group \'%c\'",pbVar8,uVar33);
                FUN_00038438(3,&local_4028,1);
                FUN_00016724(1);
              }
joined_r0x00036918:
            } while ((pbVar32 != (byte *)0x0) && (pbVar8 = pbVar32, *pbVar32 != 0));
            if ((bVar34) && (DAT_000607cc != (char *)0x0)) {
              pcVar9 = &DAT_000607d4;
LAB_0003695c:
              do {
                if (*pcVar9 == '\0') {
                  sprintf(local_4828,"|%s|");
                  pcVar12 = strstr((char *)&local_2028,local_4828);
                  if (pcVar12 == (char *)0x0) {
                    pcVar12 = *(char **)(pcVar9 + -8);
                    strcpy(local_4ba8,pcVar12);
                    sVar7 = strlen(pcVar12);
                    local_4ba8[sVar7] = '|';
                    local_4ba8[sVar7 + 1] = '\0';
                    piVar23 = (int *)(pcVar9 + 4);
                    pcVar9 = pcVar9 + 0xc;
                    local_4ba8 = local_4ba8 + sVar7 + 1;
                    if (*piVar23 == 0) break;
                    goto LAB_0003695c;
                  }
                }
                piVar23 = (int *)(pcVar9 + 4);
                pcVar9 = pcVar9 + 0xc;
              } while (*piVar23 != 0);
            }
          }
          iVar11 = (*local_4bb0)[uVar33];
          iVar6 = (*local_4bb0)[0x41];
          sVar7 = strlen((char *)&local_2028);
          pcVar9 = (char *)malloc(sVar7 + 1);
          *(char **)(&DAT_000642c4 + (iVar11 - iVar6) * 4) = pcVar9;
          if (pcVar9 == (char *)0x0) {
            local_4028._0_1_ = 'F';
            local_4028._1_1_ = 'a';
            local_4028._2_1_ = 'i';
            local_4028._3_1_ = 'l';
            builtin_strncpy(acStack_4024,"ed to malloc group commands buf",0x20);
            FUN_00038438(3,&local_4028,1);
            FUN_00016724(1);
          }
          strcpy(pcVar9,(char *)&local_2028);
        } while ((local_4bbc != (byte *)0x0) && (pbVar32 = local_4bbc, *local_4bbc != 0));
      }
    }
    ppcVar29 = (char **)&DAT_0006039c;
    if (DAT_000607cc != (char *)0x0) {
      ppcVar29 = &DAT_000607cc;
    }
    local_2028 = CONCAT22(local_2028._2_2_,0x7c);
    if (DAT_000607cc != (char *)0x0) {
      pcVar9 = DAT_000607cc;
      pcVar12 = (char *)((int)&local_2028 + 1);
      do {
        while (*(char *)(ppcVar29 + 2) == '\0') {
          strcpy(pcVar12,pcVar9);
          sVar7 = strlen(pcVar9);
          pcVar12[sVar7] = '|';
          pcVar12[sVar7 + 1] = '\0';
          ppcVar29 = ppcVar29 + 3;
          pcVar9 = *ppcVar29;
          pcVar12 = pcVar12 + sVar7 + 1;
          if (pcVar9 == (char *)0x0) goto LAB_00036bd8;
        }
        ppcVar29 = ppcVar29 + 3;
        pcVar9 = *ppcVar29;
      } while (pcVar9 != (char *)0x0);
    }
LAB_00036bd8:
    p_Var26 = *local_4bb0;
    iVar6 = p_Var26[0x52];
    if (iVar6 + 0x80U < 0x180) {
      iVar6 = p_Var26[iVar6];
    }
    iVar11 = p_Var26[0x41];
    sVar7 = strlen((char *)&local_2028);
    unaff_r4 = (char *)malloc(sVar7 + 1);
    *(char **)(&DAT_000642c4 + (iVar6 - iVar11) * 4) = unaff_r4;
    if (unaff_r4 == (char *)0x0) goto LAB_00037f70;
  }
  else {
    FUN_00032320(__ptr);
    __pthread_unwind_next(a_Stack_4940);
LAB_00037f70:
    local_4028._0_1_ = 'F';
    local_4028._1_1_ = 'a';
    local_4028._2_1_ = 'i';
    local_4028._3_1_ = 'l';
    builtin_strncpy(acStack_4024,"ed to malloc noprivgroup commands bu",0x24);
    local_4000 = 0x66;
    FUN_00038438(3,&local_4028,1);
    FUN_00016724(1);
  }
  strcpy(unaff_r4,(char *)&local_2028);
  free(local_4b88);
  pcVar9 = DAT_00062f4c;
  if (DAT_00062f4c != (char *)0x0) {
    sVar7 = strlen(DAT_00062f4c);
    pbVar32 = (byte *)malloc(sVar7 + 1);
    if (pbVar32 == (byte *)0x0) {
      local_2028._0_1_ = 'F';
      local_2028._1_1_ = 'a';
      local_2028._2_1_ = 'i';
      local_2028._3_1_ = 'l';
      builtin_strncpy(acStack_2024,"ed to malloc ipacces",0x14);
      local_2010._0_1_ = 's';
      local_2010._1_1_ = ' ';
      local_2010._2_1_ = 'b';
      local_2010._3_1_ = 'u';
      local_200c = 0x66;
      FUN_00038438(3,&local_2028,1);
      FUN_00016724(1);
      pcVar9 = DAT_00062f4c;
    }
    strcpy((char *)pbVar32,pcVar9);
    pbVar8 = pbVar32 + -1;
    sVar7 = 1;
    while( true ) {
      pbVar8 = pbVar8 + 1;
      if (*pbVar8 == 0) break;
      if (*pbVar8 == 0x2c) {
        sVar7 = sVar7 + 1;
      }
    }
    DAT_00062f6c = calloc(sVar7,0x24);
    if (DAT_00062f6c == (void *)0x0) {
      local_2028._0_1_ = 'F';
      local_2028._1_1_ = 'a';
      local_2028._2_1_ = 'i';
      local_2028._3_1_ = 'l';
      builtin_strncpy(acStack_2024,"ed to calloc ipacces",0x14);
      local_2010._0_2_ = 0x73;
      FUN_00038438(3,&local_2028,1);
      FUN_00016724(1);
    }
    iVar6 = 0;
    DAT_00062f68 = 0;
    if ((pbVar32 == (byte *)0x0) || (bVar25 = *pbVar32, pbVar8 = pbVar32, bVar25 == 0)) {
      free(pbVar32);
    }
    else {
      do {
        if (bVar25 == 0x20 || bVar25 == 9) {
          do {
            pbVar8 = pbVar8 + 1;
            bVar25 = *pbVar8;
          } while (bVar25 == 0x20 || bVar25 == 9);
        }
        if (bVar25 == 0x2c) {
          pbVar10 = pbVar8 + 1;
          goto LAB_00036dd4;
        }
        pbVar13 = (byte *)strchr((char *)pbVar8,0x2c);
        pbVar10 = pbVar13;
        if (pbVar13 != (byte *)0x0) {
          pbVar10 = pbVar13 + 1;
          *pbVar13 = 0;
        }
        ppuVar14 = __ctype_b_loc();
        p_Var26 = *local_4bb0;
        bVar25 = *(byte *)(p_Var26 + 0x52);
        if ((((*ppuVar14)[*pbVar8] & 0x400) != 0) && (pbVar8[1] == 0x3a)) {
          iVar11 = p_Var26[*pbVar8];
          if ((iVar11 == p_Var26[0x57]) || (*(int *)(&DAT_000642c4 + (iVar11 - p_Var26[0x41]) * 4) != 0)) {
            bVar25 = (byte)iVar11;
          }
          pbVar8 = pbVar8 + 2;
        }
        pbVar13 = (byte *)((int)DAT_00062f6c + iVar6 * 0x24);
        pbVar13[0x20] = bVar25;
        bVar25 = *pbVar8;
        if ((((bVar25 == 0x30) && (pbVar8[1] == 0x2f)) && (pbVar8[2] == 0x30)) && (pbVar8[3] == 0)) {
          iVar11 = 0;
          pbVar8 = pbVar13 + -1;
          do {
            iVar11 = iVar11 + 1;
            pbVar8[1] = 0;
            pbVar8[0x11] = 0;
            pbVar8 = pbVar8 + 1;
          } while (iVar11 != 0x10);
LAB_00036dcc:
          iVar6 = iVar6 + 1;
          DAT_00062f68 = iVar6;
        }
        else {
          pbVar15 = (byte *)strchr((char *)pbVar8,0x2f);
          if (pbVar15 == (byte *)0x0) {
            iVar11 = 0;
            pbVar15 = pbVar13;
            do {
              iVar11 = iVar11 + 1;
              pbVar15[0x10] = 0xff;
              pbVar15 = pbVar15 + 1;
            } while (iVar11 != 0x10);
            sVar7 = strlen((char *)pbVar8);
            bVar25 = *pbVar8;
            pbVar15 = pbVar8 + sVar7;
          }
          if ((bVar25 == 0x5b) && (pbVar15[-1] == 0x5d)) {
            bVar34 = true;
            __cp = pbVar8 + 1;
            *pbVar8 = 0;
            pbVar15[-1] = 0;
          }
          else {
            bVar34 = false;
            __cp = pbVar8;
          }
          if (*pbVar15 == 0) {
LAB_00036f34:
            iVar11 = 0;
            do {
              pbVar13[iVar11] = 0;
              iVar11 = iVar11 + 1;
            } while (iVar11 != 0x10);
            if (bVar34) {
              iVar11 = inet_pton(10,(char *)__cp,pbVar13);
            }
            else {
              sprintf((char *)&local_2028,"::ffff:%s",__cp);
              iVar6 = DAT_00062f68;
              pbVar13 = (byte *)((int)DAT_00062f6c + DAT_00062f68 * 0x24);
              iVar11 = inet_pton(10,(char *)&local_2028,pbVar13);
            }
            if (iVar11 == 1) {
              iVar11 = 0;
              do {
                iVar11 = iVar11 + 1;
                *pbVar13 = *pbVar13 & pbVar13[0x10];
                pbVar13 = pbVar13 + 1;
              } while (iVar11 != 0x10);
              goto LAB_00036dcc;
            }
          }
          else {
            *pbVar15 = 0;
            lVar16 = strtol((char *)(pbVar15 + 1),(char **)0x0,10);
            if (0 < lVar16) {
              if (bVar34) {
                iVar11 = 0;
              }
              else {
                iVar11 = 0x60;
              }
              iVar11 = lVar16 + iVar11;
              if (iVar11 < 0x81) {
                iVar21 = 0;
                pbVar8 = pbVar13;
                do {
                  iVar21 = iVar21 + 1;
                  pbVar8[0x10] = 0;
                  pbVar8 = pbVar8 + 1;
                } while (iVar21 != 0x10);
                uVar33 = 7;
                iVar21 = 0;
                while (0 < iVar11) {
                  iVar17 = iVar21;
                  if (uVar33 == 0) {
                    iVar17 = iVar21 + 1;
                  }
                  iVar11 = iVar11 + -1;
                  uVar1 = uVar33 & 0xff;
                  if (uVar33 == 0) {
                    uVar33 = 7;
                  }
                  else {
                    uVar33 = uVar33 - 1;
                  }
                  pbVar13[iVar21 + 0x10] = pbVar13[iVar21 + 0x10] | (byte)(1 << uVar1);
                  iVar21 = iVar17;
                }
                goto LAB_00036f34;
              }
            }
          }
        }
LAB_00036dd4:
      } while ((pbVar10 != (byte *)0x0) && (bVar25 = *pbVar10, pbVar8 = pbVar10, bVar25 != 0));
      free(pbVar32);
      if (iVar6 != 0) goto LAB_00036dfc;
    }
    if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
      snprintf((char *)&local_2028,0x800,"API not running (no valid IPs specified)%s"," - API will not be available");
      FUN_00038438(4,&local_2028,0);
    }
LAB_00036524:
    free(__ptr);
    return;
  }
LAB_00036dfc:
  iVar11 = (int)(short)uVar24;
  FUN_0002b21c(DAT_0006006c * 1000);
  sprintf(acStack_4b4c,"%d",iVar11);
  aStack_4b40.ai_flags = 1;
  aStack_4b40.ai_family = 0;
  aStack_4b40.ai_socktype = 0;
  aStack_4b40.ai_protocol = 0;
  aStack_4b40.ai_addrlen = 0;
  aStack_4b40.ai_addr = (sockaddr *)0x0;
  aStack_4b40.ai_canonname = (char *)0x0;
  aStack_4b40.ai_next = (addrinfo *)0x0;
  iVar6 = getaddrinfo(DAT_0006016c,acStack_4b4c,&aStack_4b40,&paStack_4b54);
  if (iVar6 != 0) {
    if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
      snprintf((char *)&local_2028,0x800,"API failed to resolve %s",DAT_0006016c);
LAB_00036ef0:
      FUN_00038438(3,&local_2028,0);
    }
    goto LAB_00036524;
  }
  paVar28 = paStack_4b54;
  if (paStack_4b54 == (addrinfo *)0x0) {
    iVar6 = *__ptr;
  }
  else {
    do {
      iVar6 = socket(paStack_4b54->ai_family,1,0);
      *__ptr = iVar6;
      if (0 < iVar6) goto LAB_000371f4;
      paVar28 = paVar28->ai_next;
    } while (paVar28 != (addrinfo *)0x0);
  }
  if (iVar6 == -1) {
    if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
      piVar23 = __errno_location();
      pcVar9 = strerror(*piVar23);
      snprintf((char *)&local_2028,0x800,"API initialisation failed (%s)%s",pcVar9," - API will not be available");
      FUN_00038438(3,&local_2028,0);
    }
    freeaddrinfo(paStack_4b54);
    free(__ptr);
    return;
  }
  paVar28 = (addrinfo *)0x0;
LAB_000371f4:
  uStack_4b50 = 1;
  iVar6 = setsockopt(iVar6,1,2,&uStack_4b50,4);
  if (((iVar6 < 0) && (DAT_000630c1 != '\0')) &&
     ((DAT_000632f0 != '\0' || ((DAT_000630c0 != '\0' || (6 < DAT_00060964)))))) {
    piVar23 = __errno_location();
    pcVar9 = strerror(*piVar23);
    snprintf((char *)&local_2028,0x800,"API setsockopt SO_REUSEADDR failed (ignored): %s",pcVar9);
    FUN_00038438(7,&local_2028,0);
  }
  tVar18 = time((time_t *)0x0);
  while (iVar6 = bind(*__ptr,paVar28->ai_addr,paVar28->ai_addrlen), iVar6 < 0) {
    piVar23 = __errno_location();
    pcVar9 = strerror(*piVar23);
    tVar22 = time((time_t *)0x0);
    if (0x3d < tVar22 - tVar18) {
      freeaddrinfo(paStack_4b54);
      if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 3)) goto LAB_00036524;
      snprintf((char *)&local_2028,0x800,"API bind to port %d failed (%s)%s",iVar11,pcVar9,
               " - API will not be available");
      goto LAB_00036ef0;
    }
    if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
      snprintf((char *)&local_2028,0x800,"API bind to port %d failed - trying again in 30sec",iVar11);
      FUN_00038438(4,&local_2028,0);
    }
    FUN_0002b21c(30000);
  }
  freeaddrinfo(paStack_4b54);
  iVar6 = listen(*__ptr,100);
  if (iVar6 < 0) {
    if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
      piVar23 = __errno_location();
      pcVar9 = strerror(*piVar23);
      snprintf((char *)&local_2028,0x800,"API3 initialisation failed (%s)%s",pcVar9," - API will not be available");
      FUN_00038438(3,&local_2028,0);
    }
    close(*__ptr);
    goto LAB_00036524;
  }
  if (DAT_00062f4c == (char *)0x0) {
    if (DAT_00063d64 == '\0') {
      if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
        pcVar9 = "API running in local read access mode on port %d (%d)";
        iVar6 = *__ptr;
        goto LAB_00037308;
      }
    }
    else if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
      pcVar9 = "API running in UNRESTRICTED read access mode on port %d (%d)";
      iVar6 = *__ptr;
LAB_00037308:
      snprintf((char *)&local_2028,0x800,pcVar9,iVar11,iVar6);
      FUN_00038438(4,&local_2028,0);
    }
  }
  else if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
    pcVar9 = "API running in IP access mode on port %d (%d)";
    iVar6 = *__ptr;
    goto LAB_00037308;
  }
  if (DAT_00063bc4 != '\0') {
    FUN_000363a4();
  }
  DAT_00062f8c = FUN_00038c34("StrBufs",0xc,2,0,0,"api.c",&DAT_0005351c,0x150f);
  if (DAT_00062f64 == '\0') {
    bVar34 = false;
    piVar23 = (int *)0x0;
    do {
      sStack_4b58 = 0x80;
      iVar6 = accept(*__ptr,asStack_4abc,&sStack_4b58);
      if (iVar6 < 0) {
        if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
          piVar23 = __errno_location();
          pcVar9 = strerror(*piVar23);
          snprintf(local_4828,0x800,"API failed (%s)%s (%d)",pcVar9," - API will not be available",*__ptr);
          FUN_00038438(3,local_4828,0);
        }
        break;
      }
      iVar11 = FUN_00030928(asStack_4abc,&uStack_4b5c,&bStack_4b5e);
      if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
        if (iVar11 == 0) {
          pcVar9 = "Ignored";
        }
        else {
          pcVar9 = "Accepted";
        }
        snprintf(local_4828,0x800,"API: connection from %s - %s",uStack_4b5c,pcVar9);
        FUN_00038438(7,local_4828,0);
      }
      if (iVar11 != 0) {
        sVar19 = recv(iVar6,&local_4028,0x1fff,0);
        if (sVar19 < 0) {
          local_4028 = local_4028 & 0xffffff00;
          if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
            piVar30 = __errno_location();
            pcVar9 = strerror(*piVar30);
            snprintf(local_4828,0x800,"API: recv failed: %s",pcVar9);
            FUN_00038438(7,local_4828,0);
          }
        }
        else {
          *(undefined1 *)((int)&local_4028 + sVar19) = 0;
          if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
            snprintf(local_4828,0x800,"API: recv command: (%d) \'%s\'",sVar19,&local_4028);
            FUN_00038438(7,local_4828,0);
          }
          piVar30 = (int *)0x0;
          DAT_00062f90 = time((time_t *)0x0);
          puVar3[2] = (undefined1 *)puVar3[1];
          *(undefined1 *)puVar3[1] = 0;
          *(undefined1 *)((int)puVar3 + 0xd) = 0;
          if ((char)local_4028 != '{') {
            pcVar9 = strchr((char *)&local_4028,0x7c);
            if (pcVar9 == (char *)0x0) {
              __s_00 = &local_4028;
              piVar30 = (int *)0x0;
              __s_01 = (int *)0x0;
            }
            else {
              __s_01 = (int *)(pcVar9 + 1);
              *pcVar9 = '\0';
              __s_00 = &local_4028;
            }
            goto LAB_000375e8;
          }
          piVar23 = (int *)FUN_00045b3c(&local_4028,sVar19,0,auStack_4a3c);
          if ((piVar23 == (int *)0x0) || (*piVar23 != 0)) {
            uVar24 = 0x17;
LAB_0003810c:
            FUN_00032f3c(puVar3,uVar24,0,0,1);
            FUN_00030ac8(puVar3,iVar6,1);
            piVar30 = (int *)0x1;
            piVar31 = piVar23;
            if (piVar23 != (int *)0x0) {
              piVar31 = (int *)0x1;
            }
          }
          else {
            piVar30 = (int *)FUN_00046698(piVar23,"command");
            if (piVar30 == (int *)0x0) {
              uVar24 = 0x18;
              goto LAB_0003810c;
            }
            if (*piVar30 != 2) {
              uVar24 = 0xe;
              goto LAB_0003810c;
            }
            __s_00 = (uint *)FUN_000469f0();
            __s_01 = (int *)FUN_00046698(piVar23,"parameter");
            if (__s_01 == (int *)0x0) {
LAB_000383b4:
              piVar30 = (int *)0x1;
            }
            else {
              iVar11 = *__s_01;
              if (iVar11 == 2) {
                __s_01 = (int *)FUN_000469f0();
                piVar30 = (int *)0x1;
              }
              else if (iVar11 == 3) {
                uVar24 = FUN_00046ac0();
                piVar30 = (int *)0x1;
                __s_01 = &local_2028;
                sprintf((char *)__s_01,"%d",uVar24);
              }
              else {
                if (iVar11 != 4) {
                  __s_01 = (int *)0x0;
                  goto LAB_000383b4;
                }
                uVar35 = FUN_00046b70();
                __s_01 = &local_2028;
                piVar30 = (int *)0x1;
                sprintf((char *)__s_01,"%f",(int)uVar35,(int)((ulonglong)uVar35 >> 0x20));
              }
            }
LAB_000375e8:
            pcVar9 = strchr((char *)__s_00,0x2b);
            if (pcVar9 == (char *)0x0) {
              uStack_4b5d = 0;
              bVar34 = false;
              local_4b94 = (char *)0x0;
            }
            else {
              uStack_4b5d = 1;
              sVar7 = strlen((char *)__s_00);
              local_4b94 = (char *)malloc(sVar7 + 3);
              if (local_4b94 == (char *)0x0) {
                snprintf(local_4828,0x800,"OOM cmdsbuf in %s %s():%d","api.c",&DAT_0005351c,0x157e);
                FUN_00038438(3,local_4828,1);
                FUN_00016724(1);
              }
              bVar34 = true;
              __s_01 = (int *)0x0;
              local_4b94[0] = '|';
              local_4b94[1] = '\0';
            }
            __s = __s_00;
            do {
              if (bVar34) {
                puVar20 = (uint *)strchr((char *)__s,0x2b);
                __s_00 = puVar20;
                if (puVar20 != (uint *)0x0) {
                  __s_00 = (uint *)((int)puVar20 + 1);
                  *(char *)puVar20 = '\0';
                }
                puVar20 = __s_00;
                if ((char)*__s != '\0') goto LAB_000376dc;
              }
              else {
LAB_000376dc:
                puVar20 = __s_00;
                if (DAT_000607cc != (char *)0x0) {
                  ppcVar29 = &DAT_000607cc;
                  iVar11 = 0;
                  pcVar9 = DAT_000607cc;
                  do {
                    iVar21 = strcmp((char *)__s,pcVar9);
                    if (iVar21 == 0) {
                      sprintf(acStack_4b20,"|%s|",__s);
                      if (bVar34) {
                        pcVar9 = strstr(local_4b94,acStack_4b20);
                        if (pcVar9 != (char *)0x0) goto LAB_00037748;
                        sVar7 = strlen(local_4b94);
                        pcVar9 = stpcpy(local_4b94 + sVar7,(char *)__s);
                        pcVar9[0] = '|';
                        pcVar9[1] = '\0';
                        FUN_0003079c(puVar3,__s,piVar30,&uStack_4b5d);
                        if ((&DAT_000607d5)[iVar11 * 0xc] == '\0') {
                          FUN_00032f3c(puVar3,0x2d,0,(&DAT_000607cc)[iVar11 * 3],piVar30);
                          FUN_00031e94(puVar3,piVar30);
                          goto LAB_00037748;
                        }
                      }
                      p_Var26 = *local_4bb0;
                      uVar33 = (uint)bStack_4b5e;
                      if ((p_Var26[uVar33] == p_Var26[0x57]) ||
                         (pcVar9 = strstr(*(char **)(&DAT_000642c4 + (p_Var26[uVar33] - p_Var26[0x41]) * 4),acStack_4b20
                                         ), pcVar9 != (char *)0x0)) {
                        (*(code *)(&DAT_000607d0)[iVar11 * 3])(puVar3,iVar6,__s_01,piVar30,uVar33);
                      }
                      else {
                        FUN_00032f3c(puVar3,0x2d,0,(&DAT_000607cc)[iVar11 * 3],piVar30);
                        if ((DAT_000630c1 != '\0') &&
                           (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
                          snprintf(local_4828,0x800,"API: access denied to \'%s\' for \'%s\' command",uStack_4b5c,
                                   (&DAT_000607cc)[iVar11 * 3]);
                          FUN_00038438(7,local_4828,0);
                        }
                      }
                      if (bVar34) goto LAB_00037a48;
                      goto LAB_000379b0;
                    }
                    ppcVar29 = ppcVar29 + 3;
                    pcVar9 = *ppcVar29;
                    iVar11 = iVar11 + 1;
                  } while (pcVar9 != (char *)0x0);
                }
                if (bVar34) {
                  FUN_0003079c(puVar3,__s,piVar30,&uStack_4b5d);
                  FUN_00032f3c(puVar3,0xe,0,0,piVar30);
LAB_00037a48:
                  FUN_00031e94(puVar3,piVar30);
                }
                else {
                  FUN_00032f3c(puVar3,0xe,0,0,piVar30);
LAB_000379b0:
                  FUN_00030ac8(puVar3,iVar6,piVar30);
                  puVar20 = __s;
                }
              }
LAB_00037748:
              bVar27 = bVar34;
              if (puVar20 == (uint *)0x0) {
                bVar27 = false;
              }
              piVar31 = piVar30;
              __s = puVar20;
            } while (bVar27);
          }
          if (bVar34) {
            FUN_00030ac8(puVar3,iVar6,piVar30);
          }
          if (((piVar31 != (int *)0x0) && (*piVar23 == 0)) &&
             ((piVar23[1] != -1 && (iVar11 = piVar23[1] + -1, piVar23[1] = iVar11, iVar11 == 0)))) {
            FUN_00046c5c(piVar23);
          }
        }
      }
      close(iVar6);
    } while (DAT_00062f64 == '\0');
  }
  __pthread_unregister_cancel(a_Stack_4940);
  FUN_00032320(__ptr);
  free(__ptr);
  if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    if (DAT_00062f66 == '\0') {
      if (DAT_00062f65 == '\0') {
        if (DAT_00062f64 == '\0') {
          pcVar9 = "UNKNOWN!";
        }
        else {
          pcVar9 = "BYE";
        }
      }
      else {
        pcVar9 = "RESTART";
      }
    }
    else {
      pcVar9 = "QUIT";
    }
    snprintf(local_4828,0x800,"API: terminating due to: %s",pcVar9);
    FUN_00038438(7,local_4828,0);
  }
  iVar6 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00062f70);
  if (iVar6 != 0) {
    FUN_0000b844(&DAT_0005351c,0x15e1);
  }
  if (DAT_00062f65 == '\0') {
    if (DAT_00062f66 == '\0') goto LAB_00037be0;
    iVar6 = FUN_0002f0ec(a_Stack_4940,0,FUN_00032224,a_Stack_4940);
    if (iVar6 != 0) {
      FUN_000320f0(&DAT_00062f70,&DAT_0005351c,0x15f0);
      builtin_strncpy(local_4828,"API failed to initiate a clean quit - aborti",0x2c);
      uStack_47fc = 0x676e;
      local_47fa = 0;
      FUN_00038438(3,local_4828,1);
      FUN_00016724(1);
    }
  }
  else {
    iVar6 = FUN_0002f0ec(a_Stack_4940,0,FUN_0003212c,a_Stack_4940);
    if (iVar6 != 0) {
      FUN_000320f0(&DAT_00062f70,&DAT_0005351c,0x15e7);
      builtin_strncpy(local_4828,"API failed to initiate a restart - aborting",0x2c);
      FUN_00038438(3,local_4828,1);
      FUN_00016724(1);
    }
  }
  pthread_detach(a_Stack_4940[0].__cancel_jmp_buf[0].__cancel_jmp_buf[3]);
LAB_00037be0:
  iVar6 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00062f70);
  if (iVar6 != 0) {
    FUN_0000b91c(&DAT_0005351c,0x15f6);
  }
  (*DAT_00060178)();
  return;
}




void FUN_00038438(uint param_1,char *param_2,undefined4 param_3)

{
  FILE *__s;
  tm *ptVar1;
  int iVar2;
  size_t sVar3;
  uint local_64;
  uint local_60;
  uint local_5c;
  char acStack_58 [64];
  
  local_60 = (uint)DAT_000632f0;
  if (local_60 == 0) {
    local_5c = local_60;
    FUN_0002b13c(&local_60);
    local_64 = local_60;
    ptVar1 = localtime((time_t *)&local_64);
    snprintf(acStack_58,0x40," [%d-%02d-%02d %02d:%02d:%02d] ",ptVar1->tm_year + 0x76c,ptVar1->tm_mon + 1,
             ptVar1->tm_mday,ptVar1->tm_hour,ptVar1->tm_min,ptVar1->tm_sec);
    iVar2 = fileno(stderr);
    iVar2 = isatty(iVar2);
    if (iVar2 == 0) {
      fprintf(stderr,"%s%s\n",acStack_58,param_2);
      fflush(stderr);
    }
    if ((DAT_00062f98 != '\0') &&
       ((DAT_00062f9c != (FILE *)0x0 ||
        (DAT_00062f9c = fopen((char *)&DAT_00062fa0,(char *)&DAT_000630a0), DAT_00062f9c != (FILE *)0x0)))) {
      __s = DAT_00062f9c;
      sVar3 = strlen(acStack_58);
      fwrite(acStack_58,sVar3,1,__s);
      sVar3 = strlen(param_2);
      fwrite(param_2,sVar3,1,DAT_00062f9c);
      fwrite(&DAT_00054ea0,1,1,DAT_00062f9c);
      fflush(DAT_00062f9c);
    }
    FUN_000386f4(param_1,acStack_58,param_2,param_3);
  }
  else {
    syslog(param_1 | 0x80,"%s",param_2);
  }
  return;
}




void FUN_000385ec(void)

{
  int iVar1;
  int *piVar2;
  char acStack_808 [2052];
  
  iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00063d48);
  if (iVar1 != 0) {
    piVar2 = __errno_location();
    snprintf(acStack_808,0x800,"WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d",*piVar2,"logging.c","my_log_curses",
             0x2f);
    FUN_00038438(3,acStack_808,1);
    FUN_00016724(1);
  }
  return;
}




void FUN_00038674(undefined4 param_1)

{
  int iVar1;
  int *piVar2;
  char acStack_808 [2048];
  
  iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063d48);
  if (iVar1 != 0) {
    piVar2 = __errno_location();
    snprintf(acStack_808,0x800,"WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d",*piVar2,"logging.c","my_log_curses",
             param_1);
    FUN_00038438(3,acStack_808,1);
    FUN_00016724(1);
  }
  return;
}




void FUN_000386f4(int param_1,undefined4 param_2,undefined4 param_3,int param_4)

{
  int iVar1;
  
  if ((DAT_00064218 != '\0') && (param_1 != 3)) {
    return;
  }
  if (param_4 == 0) {
    if (DAT_0006007c == '\0') goto LAB_0003874c;
  }
  else {
    pthread_mutex_trylock((pthread_mutex_t *)&DAT_00063d48);
    FUN_00038674(0x26);
    (*DAT_00060178)();
    if (DAT_0006007c == '\0') goto LAB_0003874c;
  }
  iVar1 = FUN_00019438(param_1,param_2,param_3);
  if (iVar1 != 0) {
    return;
  }
LAB_0003874c:
  FUN_000385ec();
  printf("%s%s%s",param_2,param_3,&DAT_00054e8c);
  FUN_00038674(0x31);
  (*DAT_00060178)();
  return;
}




void FUN_00038858(undefined4 *param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  void *pvVar1;
  undefined4 *puVar2;
  undefined4 uVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  undefined4 *puVar7;
  size_t __nmemb;
  uint uVar8;
  bool bVar9;
  char acStack_818 [2048];
  
  if (*(char *)(param_1 + 1) == '\0') {
    iVar6 = param_1[10];
  }
  else {
    snprintf(acStack_818,0x800,"List %s store can\'t %s() - from %s %s() line %d in %s %s():%d",*param_1,"k_alloc_items"
             ,param_2,param_3,param_4,"klist.c","k_alloc_items",0x13);
    FUN_00038438(3,acStack_818,1);
    FUN_00016724(1);
    iVar6 = param_1[10];
  }
  if (iVar6 < 1) {
    __nmemb = param_1[9];
  }
  else {
    iVar4 = param_1[6];
    if (iVar6 <= iVar4) {
      return;
    }
    __nmemb = param_1[9];
    if (iVar6 < (int)(iVar4 + __nmemb)) {
      __nmemb = iVar6 - iVar4;
    }
  }
  iVar6 = param_1[0xc];
  param_1[0xc] = iVar6 + 1;
  pvVar1 = realloc((void *)param_1[0xd],(iVar6 + 1) * 4);
  param_1[0xd] = pvVar1;
  if (pvVar1 == (void *)0x0) {
    snprintf(acStack_818,0x800,"List %s item_memory failed to realloc count=%d in %s %s():%d",*param_1,param_1[0xc],
             "klist.c","k_alloc_items",0x21);
    FUN_00038438(3,acStack_818,1);
    FUN_00016724(1);
  }
  puVar2 = (undefined4 *)calloc(__nmemb,0x10);
  if (puVar2 == (undefined4 *)0x0) {
    snprintf(acStack_818,0x800,"List %s failed to calloc %d new items - total was %d, limit was %d in %s %s():%d",
             *param_1,__nmemb,param_1[6],param_1[10],"klist.c","k_alloc_items",0x26);
    FUN_00038438(3,acStack_818,1);
    FUN_00016724(1);
  }
  uVar8 = __nmemb - 1;
  bVar9 = (int)(__nmemb - 2) < 0;
  *(undefined4 **)(param_1[0xd] + (param_1[0xc] + -1) * 4) = puVar2;
  param_1[7] = __nmemb;
  param_1[8] = __nmemb;
  param_1[6] = param_1[6] + __nmemb;
  *puVar2 = *param_1;
  puVar2[1] = 0;
  puVar2[2] = puVar2 + 4;
  puVar7 = puVar2 + 4;
  if (1 < (int)uVar8) {
    puVar7 = puVar2;
  }
  uVar5 = (uint)(uVar8 != 1 && bVar9 == SBORROW4(uVar8,1));
  if (uVar8 != 1 && bVar9 == SBORROW4(uVar8,1)) {
    do {
      uVar3 = *param_1;
      uVar5 = uVar5 + 1;
      puVar7[5] = puVar7;
      puVar7[6] = puVar7 + 8;
      puVar7[4] = uVar3;
      puVar7 = puVar7 + 4;
    } while (uVar5 != uVar8);
  }
  puVar7 = puVar2 + uVar8 * 4;
  puVar2[uVar8 * 4] = *param_1;
  puVar7[1] = puVar2 + (__nmemb - 2) * 4;
  puVar7[2] = 0;
  param_1[3] = puVar2;
  if (*(char *)(param_1 + 0xb) != '\0') {
    param_1[4] = puVar7;
  }
  do {
    iVar6 = param_1[0xe];
    param_1[0xe] = iVar6 + 1;
    pvVar1 = realloc((void *)param_1[0xf],(iVar6 + 1) * 4);
    param_1[0xf] = pvVar1;
    if (pvVar1 == (void *)0x0) {
      snprintf(acStack_818,0x800,"List %s data_memory failed to realloc count=%d in %s %s():%d",*param_1,param_1[0xe],
               "klist.c","k_alloc_items",0x45);
      FUN_00038438(3,acStack_818,1);
      FUN_00016724(1);
    }
    pvVar1 = calloc(1,param_1[5]);
    puVar2[3] = pvVar1;
    if (pvVar1 == (void *)0x0) {
      snprintf(acStack_818,0x800,"List %s failed to calloc item data in %s %s():%d",*param_1,"klist.c","k_alloc_items",
               0x49);
      FUN_00038438(3,acStack_818,1);
      FUN_00016724(1);
      pvVar1 = (void *)puVar2[3];
    }
    *(void **)(param_1[0xf] + (param_1[0xe] + -1) * 4) = pvVar1;
    puVar2 = (undefined4 *)puVar2[2];
  } while (puVar2 != (undefined4 *)0x0);
  return;
}




undefined4 * FUN_00038b8c(undefined4 *param_1)

{
  undefined4 *puVar1;
  char acStack_810 [2052];
  
  puVar1 = (undefined4 *)calloc(1,0x40);
  if (puVar1 == (undefined4 *)0x0) {
    snprintf(acStack_810,0x800,"Failed to calloc store for %s in %s %s():%d",*param_1,"klist.c","k_new_store",0x55);
    FUN_00038438(3,acStack_810,1);
    FUN_00016724(1);
  }
  *(undefined1 *)(puVar1 + 1) = 1;
  puVar1[2] = param_1[2];
  *puVar1 = *param_1;
  *(undefined1 *)(puVar1 + 0xb) = *(undefined1 *)(param_1 + 0xb);
  return puVar1;
}




undefined4 *
FUN_00038c34(undefined4 param_1,undefined4 param_2,int param_3,int param_4,undefined1 param_5,undefined4 param_6,
            undefined4 param_7,undefined4 param_8)

{
  undefined4 *puVar1;
  pthread_mutex_t *__mutex;
  int iVar2;
  int *piVar3;
  char acStack_828 [2052];
  
  if (param_3 < 1) {
    snprintf(acStack_828,0x800,"Invalid new list %s with allocate %d must be > 0 in %s %s():%d",param_1,param_3,
             "klist.c","_k_new_list",100);
    FUN_00038438(3,acStack_828,1);
    FUN_00016724(1);
  }
  if (param_4 < 0) {
    snprintf(acStack_828,0x800,"Invalid new list %s with limit %d must be >= 0 in %s %s():%d",param_1,param_4,"klist.c",
             "_k_new_list",0x67);
    FUN_00038438(3,acStack_828,1);
    FUN_00016724(1);
  }
  puVar1 = (undefined4 *)calloc(1,0x40);
  if (puVar1 == (undefined4 *)0x0) {
    snprintf(acStack_828,0x800,"Failed to calloc list %s in %s %s():%d",param_1,"klist.c","_k_new_list",0x6b);
    FUN_00038438(3,acStack_828,1);
    FUN_00016724(1);
  }
  *(undefined1 *)(puVar1 + 1) = 0;
  __mutex = (pthread_mutex_t *)calloc(1,0x38);
  puVar1[2] = __mutex;
  if (__mutex == (pthread_mutex_t *)0x0) {
    snprintf(acStack_828,0x800,"Failed to calloc lock for list %s in %s %s():%d",param_1,"klist.c","_k_new_list",0x71);
    FUN_00038438(3,acStack_828,1);
    FUN_00016724(1);
    __mutex = (pthread_mutex_t *)puVar1[2];
  }
  iVar2 = pthread_mutex_init(__mutex,(pthread_mutexattr_t *)0x0);
  if (iVar2 != 0) {
    piVar3 = __errno_location();
    snprintf(acStack_828,0x800,"Failed to pthread_mutex_init errno=%d in %s %s():%d",*piVar3,"klist.c","_k_new_list",
             0x73);
    FUN_00038438(3,acStack_828,1);
    FUN_00016724(1);
  }
  iVar2 = pthread_rwlock_init((pthread_rwlock_t *)(__mutex + 1),(pthread_rwlockattr_t *)0x0);
  if (iVar2 != 0) {
    piVar3 = __errno_location();
    snprintf(acStack_828,0x800,"Failed to pthread_rwlock_init errno=%d in %s %s():%d",*piVar3,"klist.c","_k_new_list",
             0x73);
    FUN_00038438(3,acStack_828,1);
    FUN_00016724(1);
  }
  *puVar1 = param_1;
  puVar1[5] = param_2;
  puVar1[9] = param_3;
  puVar1[10] = param_4;
  *(undefined1 *)(puVar1 + 0xb) = param_5;
  FUN_00038858(puVar1,param_6,param_7,param_8);
  return puVar1;
}




int FUN_00038eec(int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = *(int *)(param_1 + 0xc);
  if (iVar2 == 0) {
    if (*(char *)(param_1 + 4) != '\0') {
      return 0;
    }
    FUN_00038858();
    iVar2 = *(int *)(param_1 + 0xc);
    if (iVar2 == 0) {
      return 0;
    }
  }
  iVar1 = *(int *)(iVar2 + 8);
  *(int *)(param_1 + 0xc) = iVar1;
  if (iVar1 == 0) {
    if (*(char *)(param_1 + 0x2c) != '\0') {
      *(undefined4 *)(param_1 + 0x10) = 0;
    }
  }
  else {
    *(undefined4 *)(iVar1 + 4) = 0;
  }
  *(undefined4 *)(iVar2 + 8) = 0;
  *(undefined4 *)(iVar2 + 4) = 0;
  *(int *)(param_1 + 0x1c) = *(int *)(param_1 + 0x1c) + -1;
  return iVar2;
}




int FUN_00038f6c(int param_1)

{
  int iVar1;
  
  iVar1 = FUN_00038eec();
  if (iVar1 != 0) {
    memset(*(void **)(iVar1 + 0xc),0,*(size_t *)(param_1 + 0x14));
  }
  return iVar1;
}




void FUN_00038f98(undefined4 *param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  int iVar1;
  int iVar2;
  char acStack_810 [2048];
  
  if (*(char *)(param_1 + 0xb) == '\0') {
    snprintf(acStack_810,0x800,"List %s can\'t %s() - do_tail is false - from %s %s() line %d in %s %s():%d",*param_1,
             "_k_unlink_tail",param_2,param_3,param_4,"klist.c","_k_unlink_tail",0xb5);
    FUN_00038438(3,acStack_810,1);
    FUN_00016724(1);
  }
  iVar1 = param_1[4];
  if (iVar1 != 0) {
    iVar2 = *(int *)(iVar1 + 4);
    param_1[4] = iVar2;
    if (iVar2 == 0) {
      param_1[3] = 0;
    }
    else {
      *(undefined4 *)(iVar2 + 8) = 0;
    }
    *(undefined4 *)(iVar1 + 8) = 0;
    *(undefined4 *)(iVar1 + 4) = 0;
    param_1[7] = param_1[7] + -1;
  }
  return;
}




void FUN_00039058(int *param_1,int *param_2,undefined4 param_3,undefined4 param_4,undefined4 param_5)

{
  char acStack_810 [2048];
  
  if (*param_2 != *param_1) {
    snprintf(acStack_810,0x800,"List %s can\'t %s() a %s item - from %s %s() line %d in %s %s():%d",*param_1,
             "_k_add_head",*param_2,param_3,param_4,param_5,"klist.c","_k_add_head",0xcd);
    FUN_00038438(3,acStack_810,1);
    FUN_00016724(1);
  }
  param_2[1] = 0;
  param_2[2] = param_1[3];
  if (param_1[3] != 0) {
    *(int **)(param_1[3] + 4) = param_2;
  }
  param_1[3] = (int)param_2;
  if (((char)param_1[0xb] != '\0') && (param_1[4] == 0)) {
    param_1[4] = (int)param_2;
  }
  param_1[7] = param_1[7] + 1;
  param_1[8] = param_1[8] + 1;
  return;
}




void FUN_0003913c(int *param_1,int *param_2,undefined4 param_3,undefined4 param_4,undefined4 param_5)

{
  int iVar1;
  char acStack_818 [2048];
  
  if (*param_2 != *param_1) {
    snprintf(acStack_818,0x800,"List %s can\'t %s() a %s item - from %s %s() line %d in %s %s():%d",*param_1,
             "_k_add_tail",*param_2,param_3,param_4,param_5,"klist.c","_k_add_tail",0xec);
    FUN_00038438(3,acStack_818,1);
    FUN_00016724(1);
  }
  if ((char)param_1[0xb] == '\0') {
    snprintf(acStack_818,0x800,"List %s can\'t %s() - do_tail is false - from %s %s() line %d in %s %s():%d",*param_1,
             "_k_add_tail",param_3,param_4,param_5,"klist.c","_k_add_tail",0xf1);
    FUN_00038438(3,acStack_818,1);
    FUN_00016724(1);
  }
  iVar1 = param_1[4];
  param_2[2] = 0;
  param_2[1] = iVar1;
  if (param_1[4] != 0) {
    *(int **)(param_1[4] + 8) = param_2;
  }
  param_1[4] = (int)param_2;
  if (param_1[3] == 0) {
    param_1[3] = (int)param_2;
  }
  param_1[7] = param_1[7] + 1;
  param_1[8] = param_1[8] + 1;
  return;
}




void FUN_00039284(int *param_1,int *param_2,int param_3,undefined4 param_4,undefined4 param_5,undefined4 param_6)

{
  char acStack_818 [2048];
  
  if (*param_2 != *param_1) {
    snprintf(acStack_818,0x800,"List %s can\'t %s() a %s item - from %s %s() line %d in %s %s():%d",*param_1,
             "_k_insert_before",*param_2,param_4,param_5,param_6,"klist.c","_k_insert_before",0x106);
    FUN_00038438(3,acStack_818,1);
    FUN_00016724(1);
  }
  if (param_3 == 0) {
    snprintf(acStack_818,0x800,"%s() (%s) can\'t before a null item - from %s %s() line %d in %s %s():%d",
             "_k_insert_before",*param_1,param_4,param_5,param_6,"klist.c","_k_insert_before",0x10b);
    FUN_00038438(3,acStack_818,1);
    FUN_00016724(1);
  }
  param_2[2] = param_3;
  param_2[1] = *(int *)(param_3 + 4);
  if (*(int *)(param_3 + 4) == 0) {
    param_1[3] = (int)param_2;
  }
  else {
    *(int **)(*(int *)(param_3 + 4) + 8) = param_2;
  }
  *(int **)(param_3 + 4) = param_2;
  param_1[7] = param_1[7] + 1;
  param_1[8] = param_1[8] + 1;
  return;
}




void FUN_000393c8(int *param_1,int *param_2,int param_3,undefined4 param_4,undefined4 param_5,undefined4 param_6)

{
  char acStack_818 [2048];
  
  if (*param_2 != *param_1) {
    snprintf(acStack_818,0x800,"List %s can\'t %s() a %s item - from %s %s() line %d in %s %s():%d",*param_1,
             "_k_insert_after",*param_2,param_4,param_5,param_6,"klist.c","_k_insert_after",0x11e);
    FUN_00038438(3,acStack_818,1);
    FUN_00016724(1);
  }
  if (param_3 == 0) {
    snprintf(acStack_818,0x800,"%s() (%s) can\'t after a null item - from %s %s() line %d in %s %s():%d",
             "_k_insert_after",*param_1,param_4,param_5,param_6,"klist.c","_k_insert_after",0x123);
    FUN_00038438(3,acStack_818,1);
    FUN_00016724(1);
  }
  param_2[1] = param_3;
  param_2[2] = *(int *)(param_3 + 8);
  if (*(int *)(param_3 + 8) == 0) {
    if ((char)param_1[0xb] != '\0') {
      param_1[4] = (int)param_2;
    }
  }
  else {
    *(int **)(*(int *)(param_3 + 8) + 4) = param_2;
  }
  *(int **)(param_3 + 8) = param_2;
  param_1[7] = param_1[7] + 1;
  param_1[8] = param_1[8] + 1;
  return;
}




void FUN_0003951c(int *param_1,int *param_2,undefined4 param_3,undefined4 param_4,undefined4 param_5)

{
  char acStack_810 [2048];
  
  if (*param_2 != *param_1) {
    snprintf(acStack_810,0x800,"List %s can\'t %s() a %s item - from %s %s() line %d in %s %s():%d",*param_1,
             "_k_unlink_item",*param_2,param_3,param_4,param_5,"klist.c","_k_unlink_item",0x138);
    FUN_00038438(3,acStack_810,1);
    FUN_00016724(1);
  }
  if (param_2[1] != 0) {
    *(int *)(param_2[1] + 8) = param_2[2];
  }
  if (param_2[2] != 0) {
    *(int *)(param_2[2] + 4) = param_2[1];
  }
  if ((int *)param_1[3] == param_2) {
    param_1[3] = param_2[2];
  }
  if (((char)param_1[0xb] != '\0') && ((int *)param_1[4] == param_2)) {
    param_1[4] = param_2[1];
  }
  param_2[2] = 0;
  param_2[1] = 0;
  param_1[7] = param_1[7] + -1;
  return;
}




void FUN_00039614(int *param_1,int *param_2,undefined4 param_3,undefined4 param_4,undefined4 param_5)

{
  int iVar1;
  char acStack_818 [2048];
  
  if (*param_1 != *param_2) {
    snprintf(acStack_818,0x800,"List %s can\'t %s() to a %s list - from %s %s() line %d in %s %s():%d",*param_1,
             "_k_list_transfer_to_head",*param_2,param_3,param_4,param_5,"klist.c","_k_list_transfer_to_head",0x152);
    FUN_00038438(3,acStack_818,1);
    FUN_00016724(1);
  }
  if ((char)param_1[0xb] == '\0') {
    snprintf(acStack_818,0x800,"List %s can\'t %s() - do_tail is false - from %s %s() line %d in %s %s():%d",*param_1,
             "_k_list_transfer_to_head",param_3,param_4,param_5,"klist.c","_k_list_transfer_to_head",0x157);
    FUN_00038438(3,acStack_818,1);
    FUN_00016724(1);
  }
  if (param_1[3] != 0) {
    if (param_2[3] == 0) {
      param_2[4] = param_1[4];
      iVar1 = 0;
    }
    else {
      *(int *)(param_2[3] + 4) = param_1[4];
      iVar1 = param_2[3];
    }
    *(int *)(param_1[4] + 8) = iVar1;
    param_2[3] = param_1[3];
    param_1[4] = 0;
    param_1[3] = 0;
    param_2[7] = param_2[7] + param_1[7];
    param_1[7] = 0;
    param_2[8] = param_2[8] + param_1[8];
    param_1[8] = 0;
  }
  return;
}




void FUN_00039784(int *param_1,int *param_2,undefined4 param_3,undefined4 param_4,undefined4 param_5)

{
  int iVar1;
  char acStack_818 [2048];
  
  if (*param_1 != *param_2) {
    snprintf(acStack_818,0x800,"List %s can\'t %s() to a %s list - from %s %s() line %d in %s %s():%d",*param_1,
             "_k_list_transfer_to_tail",*param_2,param_3,param_4,param_5,"klist.c","_k_list_transfer_to_tail",0x170);
    FUN_00038438(3,acStack_818,1);
    FUN_00016724(1);
  }
  if ((char)param_1[0xb] == '\0') {
    snprintf(acStack_818,0x800,"List %s can\'t %s() - do_tail is false - from %s %s() line %d in %s %s():%d",*param_1,
             "_k_list_transfer_to_tail",param_3,param_4,param_5,"klist.c","_k_list_transfer_to_tail",0x175);
    FUN_00038438(3,acStack_818,1);
    FUN_00016724(1);
  }
  iVar1 = param_1[3];
  if (iVar1 != 0) {
    if (param_2[4] == 0) {
      param_2[3] = iVar1;
      iVar1 = 0;
    }
    else {
      *(int *)(param_2[4] + 8) = iVar1;
      iVar1 = param_2[4];
    }
    *(int *)(param_1[3] + 4) = iVar1;
    param_2[4] = param_1[4];
    param_1[4] = 0;
    param_1[3] = 0;
    param_2[7] = param_2[7] + param_1[7];
    param_1[7] = 0;
    param_2[8] = param_2[8] + param_1[8];
    param_1[8] = 0;
  }
  return;
}




undefined4 FUN_000398ec(undefined4 *param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  int iVar1;
  int iVar2;
  pthread_mutex_t *__mutex;
  char acStack_810 [2048];
  
  if (*(char *)(param_1 + 1) != '\0') {
    snprintf(acStack_810,0x800,"List %s can\'t %s() a store - from %s %s() line %d in %s %s():%d",*param_1,
             "_k_free_list",param_2,param_3,param_4,"klist.c","_k_free_list",400);
    FUN_00038438(3,acStack_810,1);
    FUN_00016724(1);
  }
  if (0 < (int)param_1[0xc]) {
    iVar2 = 0;
    do {
      iVar1 = iVar2 * 4;
      iVar2 = iVar2 + 1;
      free(*(void **)(param_1[0xd] + iVar1));
    } while (iVar2 < (int)param_1[0xc]);
  }
  free((void *)param_1[0xd]);
  if (0 < (int)param_1[0xe]) {
    iVar2 = 0;
    do {
      iVar1 = iVar2 * 4;
      iVar2 = iVar2 + 1;
      free(*(void **)(param_1[0xf] + iVar1));
    } while (iVar2 < (int)param_1[0xe]);
  }
  free((void *)param_1[0xf]);
  __mutex = (pthread_mutex_t *)param_1[2];
  pthread_rwlock_destroy((pthread_rwlock_t *)(__mutex + 1));
  pthread_mutex_destroy(__mutex);
  free((void *)param_1[2]);
  free(param_1);
  return 0;
}




undefined4 FUN_00039a00(undefined4 *param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  char acStack_810 [2048];
  
  if (*(char *)(param_1 + 1) == '\0') {
    snprintf(acStack_810,0x800,"Store %s can\'t %s() the list - from %s %s() line %d in %s %s():%d",*param_1,
             "_k_free_store",param_2,param_3,param_4,"klist.c","_k_free_store",0x1a8);
    FUN_00038438(3,acStack_810,1);
    FUN_00016724(1);
  }
  free(param_1);
  return 0;
}




void FUN_00039a8c(int param_1,undefined4 param_2)

{
  undefined4 *puVar1;
  undefined4 uVar2;
  char acStack_818 [2052];
  
  puVar1 = (undefined4 *)calloc(1,0x20);
  if (puVar1 == (undefined4 *)0x0) {
    snprintf(acStack_818,0x800,"Failed to calloc dupdata in %s %s():%d","noncedup.c","dupalloc",0x24);
    FUN_00038438(3,acStack_818,1);
    FUN_00016724(1);
  }
  *puVar1 = param_2;
  uVar2 = FUN_00038c34("Nonces",0x10,0x400,0,1,"noncedup.c","dupalloc",0x27);
  puVar1[1] = uVar2;
  uVar2 = FUN_00038b8c();
  puVar1[2] = uVar2;
  *(undefined4 **)(param_1 + 0x18) = puVar1;
  return;
}




uint FUN_00039b8c(int param_1,int param_2,int param_3)

{
  int iVar1;
  int *piVar2;
  uint uVar3;
  uint uVar4;
  int *piVar5;
  pthread_mutex_t *ppVar6;
  int iVar7;
  undefined4 uVar8;
  undefined4 extraout_s1;
  undefined4 local_830;
  undefined4 uStack_82c;
  char acStack_828 [2052];
  
  piVar5 = *(int **)(param_1 + 0x18);
  if (piVar5 == (int *)0x0) {
    uVar3 = 0;
  }
  else {
    FUN_0002b13c(&local_830);
    uVar3 = piVar5[4];
    piVar5[4] = uVar3 + 1;
    piVar5[5] = piVar5[5] + (uint)(0xfffffffe < uVar3);
    ppVar6 = *(pthread_mutex_t **)(piVar5[1] + 8);
    iVar1 = pthread_mutex_lock(ppVar6);
    if (iVar1 != 0) {
      piVar2 = __errno_location();
      snprintf(acStack_828,0x800,"WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d",*piVar2,"noncedup.c","isdupnonce",
               0x46);
      FUN_00038438(3,acStack_828,1);
      FUN_00016724(1);
    }
    iVar1 = pthread_rwlock_wrlock((pthread_rwlock_t *)(ppVar6 + 1));
    if (iVar1 != 0) {
      piVar2 = __errno_location();
      snprintf(acStack_828,0x800,"WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d",*piVar2,"noncedup.c","isdupnonce",
               0x46);
      FUN_00038438(3,acStack_828,1);
      FUN_00016724(1);
    }
    uVar3 = 1;
    iVar1 = *(int *)(piVar5[2] + 0x10);
    while( true ) {
      uVar4 = uVar3;
      if (iVar1 == 0) {
        uVar4 = 0;
      }
      if (uVar4 == 0) break;
      if ((**(int **)(iVar1 + 0xc) == *(int *)(param_2 + 0x154)) && ((*(int **)(iVar1 + 0xc))[1] == param_3)) {
        uVar3 = 0;
        if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 4)) {
          uVar3 = 0;
        }
        else {
          snprintf(acStack_828,0x800,"%s%d: Duplicate nonce %08x",*(undefined4 *)(*(int *)(param_1 + 4) + 8),
                   *(undefined4 *)(param_1 + 8),param_3);
          FUN_00038438(4,acStack_828,0);
        }
      }
      else {
        iVar1 = *(int *)(iVar1 + 4);
      }
    }
    if (uVar3 != 0) {
      iVar1 = FUN_00038eec(piVar5[1],"noncedup.c","isdupnonce",0x51);
      **(undefined4 **)(iVar1 + 0xc) = *(undefined4 *)(param_2 + 0x154);
      *(int *)(*(int *)(iVar1 + 0xc) + 4) = param_3;
      iVar7 = *(int *)(iVar1 + 0xc);
      *(undefined4 *)(iVar7 + 8) = local_830;
      *(undefined4 *)(iVar7 + 0xc) = uStack_82c;
      FUN_00039058(piVar5[2],iVar1,"noncedup.c","isdupnonce",0x55);
    }
    iVar1 = *(int *)(piVar5[2] + 0x10);
    while ((iVar1 != 0 &&
           (uVar8 = FUN_0002b314(*(int *)(iVar1 + 0xc) + 8,&local_830),
           (double)(longlong)*piVar5 < (double)CONCAT44(extraout_s1,uVar8)))) {
      uVar8 = FUN_00038f98(piVar5[2],"noncedup.c","isdupnonce",0x59);
      FUN_00039058(piVar5[1],uVar8,"noncedup.c","isdupnonce",0x5a);
      iVar1 = *(int *)(piVar5[2] + 0x10);
    }
    ppVar6 = *(pthread_mutex_t **)(piVar5[1] + 8);
    iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)(ppVar6 + 1));
    if (iVar1 != 0) {
      piVar2 = __errno_location();
      snprintf(acStack_828,0x800,"WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d",*piVar2,"noncedup.c","isdupnonce",
               0x5d);
      FUN_00038438(3,acStack_828,1);
      FUN_00016724(1);
    }
    iVar1 = pthread_mutex_unlock(ppVar6);
    if (iVar1 != 0) {
      piVar2 = __errno_location();
      snprintf(acStack_828,0x800,"WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d",*piVar2,"noncedup.c","isdupnonce",
               0x5d);
      FUN_00038438(3,acStack_828,1);
      FUN_00016724(1);
    }
    (*DAT_00060178)();
    if (uVar3 == 0) {
      uVar4 = piVar5[6];
      piVar5[6] = uVar4 + 1;
      piVar5[7] = piVar5[7] + (uint)(0xfffffffe < uVar4);
    }
    uVar3 = uVar3 ^ 1;
  }
  return uVar3;
}




undefined8 FUN_0003a0a4(void *param_1)

{
  pthread_t local_c;
  
  DAT_000630d0 = 0;
  pthread_create(&local_c,(pthread_attr_t *)0x0,FUN_0003b44c,param_1);
  pthread_join(local_c,(void **)0x0);
  return DAT_000630d0;
}




void FUN_0003a10c(void)

{
  void *pvVar1;
  void *pvVar2;
  int iVar3;
  char local_810 [4];
  char acStack_80c [4];
  char acStack_808 [4];
  char acStack_804 [4];
  char local_800 [4];
  char acStack_7fc [4];
  char acStack_7f8 [4];
  char acStack_7f4 [2024];
  
  pvVar1 = calloc(1,0x188);
  if (pvVar1 == (void *)0x0) {
                    /* WARNING: Subroutine does not return */
    __assert_fail("cgpu","driver-btm-L3.c",0xeee,"bitmain_L3_detect");
  }
  *(undefined4 *)((int)pvVar1 + 0x94) = 1;
  *(undefined **)((int)pvVar1 + 4) = &DAT_00060d68;
  *(undefined4 *)((int)pvVar1 + 0x20) = 0;
  pvVar2 = calloc(0x328,1);
  *(void **)((int)pvVar1 + 0x14) = pvVar2;
  if (pvVar2 == (void *)0x0) {
    local_810[0] = 'F';
    local_810[1] = 'a';
    local_810[2] = 'i';
    local_810[3] = 'l';
    acStack_80c[0] = 'e';
    acStack_80c[1] = 'd';
    acStack_80c[2] = ' ';
    acStack_80c[3] = 't';
    acStack_808[0] = 'o';
    acStack_808[1] = ' ';
    acStack_808[2] = 'c';
    acStack_808[3] = 'a';
    acStack_804[0] = 'l';
    acStack_804[1] = 'l';
    acStack_804[2] = 'o';
    acStack_804[3] = 'c';
    local_800[0] = ' ';
    local_800[1] = 'c';
    local_800[2] = 'g';
    local_800[3] = 'p';
    acStack_7fc[0] = 'u';
    acStack_7fc[1] = '_';
    acStack_7fc[2] = 'i';
    acStack_7fc[3] = 'n';
    acStack_7f8[0] = 'f';
    acStack_7f8[1] = 'o';
    acStack_7f8[2] = ' ';
    acStack_7f8[3] = 'd';
    acStack_7f4[0] = 'a';
    acStack_7f4[1] = 't';
    acStack_7f4[2] = 'a';
    acStack_7f4[3] = '\0';
    FUN_00038438(3,local_810,1);
    FUN_00016724(1);
  }
  iVar3 = FUN_00027c18(pvVar1);
  if (iVar3 != 0) {
    if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      snprintf(local_810,0x800,"%s detect new device","bitmain_L3_detect");
      FUN_00038438(7,local_810,0);
    }
    return;
  }
                    /* WARNING: Subroutine does not return */
  __assert_fail("add_cgpu(cgpu)","driver-btm-L3.c",0xef6,"bitmain_L3_detect");
}




void FUN_0003a268(void)

{
  char *pcVar1;
  char *pcVar2;
  char local_90 [128];
  
  local_90[0] = '\0';
  local_90[1] = '\0';
  local_90[2] = '\0';
  local_90[3] = '\0';
  memset(local_90 + 4,0,0x7c);
  pcVar1 = "t";
  pcVar2 = pcVar1;
  do {
    pcVar2 = pcVar2 + 4;
    sprintf(local_90,"echo 0 > /sys/class/gpio/gpio%d/value",*(undefined4 *)pcVar2);
    system(local_90);
  } while (pcVar2 != "\x16");
  FUN_0002b21c(500);
  do {
    pcVar1 = pcVar1 + 4;
    sprintf(local_90,"echo 1 > /sys/class/gpio/gpio%d/value",*(undefined4 *)pcVar1);
    system(local_90);
  } while (pcVar1 != "\x16");
  return;
}




void FUN_0003a73c(char *param_1)

{
  char *pcVar1;
  char *__nptr;
  char *pcVar2;
  
  pcVar1 = strchr(param_1,0x3a);
  pcVar1 = pcVar1 + 1;
  do {
    __nptr = pcVar1;
    pcVar1 = __nptr + 1;
  } while (*__nptr == ' ');
  do {
    pcVar2 = pcVar1;
    pcVar1 = pcVar2 + 1;
  } while (*pcVar2 != ' ');
  *pcVar2 = '\0';
  strtol(__nptr,(char **)0x0,10);
  return;
}




void FUN_0003a788(void)

{
  FILE *__stream;
  char *pcVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  char cVar5;
  char cVar6;
  char local_128 [260];
  
  cVar6 = '\0';
  cVar5 = '\0';
  __stream = fopen("/proc/interrupts","r");
  uVar4 = 0;
  uVar3 = 0;
  do {
    fseek(__stream,0,0);
    local_128[0] = '\0';
    local_128[1] = '\0';
    local_128[2] = '\0';
    local_128[3] = '\0';
    memset(local_128 + 4,0,0xfc);
    while (pcVar1 = fgets(local_128,0x100,__stream), pcVar1 != (char *)0x0) {
      pcVar1 = strstr(local_128,"256:");
      if ((pcVar1 == (char *)0x0) || (pcVar1 = strstr(local_128,"gpiolib"), pcVar1 == (char *)0x0)) {
        pcVar1 = strstr(local_128,"254:");
        if ((pcVar1 != (char *)0x0) && (pcVar1 = strstr(local_128,"gpiolib"), pcVar1 != (char *)0x0)) {
          uVar2 = FUN_0003a73c(local_128);
          if (uVar2 < uVar4) {
            uVar4 = ~uVar4;
          }
          else {
            uVar4 = -uVar4;
          }
          DAT_000c544e = (uVar2 + uVar4) * 0x3c >> 1;
          uVar4 = uVar2;
          DAT_000c546f = DAT_000c544e;
          if (DAT_000c544e == 0) {
            cVar6 = '\0';
          }
          else {
            cVar6 = '\x01';
            if (0x19c8 < DAT_000c544e) {
              DAT_000c544e = 0x19c8;
              DAT_000c546f = DAT_000c544e;
            }
          }
        }
      }
      else {
        uVar2 = FUN_0003a73c(local_128);
        if (uVar2 < uVar3) {
          uVar3 = ~uVar3;
        }
        else {
          uVar3 = -uVar3;
        }
        DAT_000c544a = (uVar2 + uVar3) * 0x3c >> 1;
        uVar3 = uVar2;
        DAT_000c546b = DAT_000c544a;
        if (DAT_000c544a == 0) {
          cVar5 = '\0';
        }
        else {
          cVar5 = '\x01';
          if (0x19c8 < DAT_000c544a) {
            DAT_000c544a = 0x19c8;
            DAT_000c546b = DAT_000c544a;
          }
        }
      }
    }
    DAT_000c5469 = cVar5 + cVar6;
    sleep(1);
  } while( true );
}




void FUN_0003a904(int param_1,undefined4 param_2)

{
  size_t sVar1;
  int iVar2;
  char local_830 [2084];
  
  local_830[4] = '\0';
  local_830[5] = '\0';
  local_830[6] = '\0';
  local_830[7] = '\0';
  local_830[0] = '\0';
  local_830[1] = '\0';
  local_830[2] = '\0';
  local_830[3] = '\0';
  local_830[8] = '\0';
  local_830[9] = '\0';
  local_830[10] = '\0';
  local_830[0xb] = '\0';
  local_830[0xc] = '\0';
  local_830[0xd] = '\0';
  local_830[0xe] = '\0';
  local_830[0xf] = '\0';
  local_830[0x10] = '\0';
  local_830[0x11] = '\0';
  local_830[0x12] = '\0';
  local_830[0x13] = '\0';
  local_830[0x14] = '\0';
  local_830[0x15] = '\0';
  local_830[0x16] = '\0';
  local_830[0x17] = '\0';
  local_830[0x18] = '\0';
  local_830[0x19] = '\0';
  local_830[0x1a] = '\0';
  local_830[0x1b] = '\0';
  local_830[0x1c] = '\0';
  local_830[0x1d] = '\0';
  local_830[0x1e] = '\0';
  local_830[0x1f] = '\0';
  sprintf(local_830,"%08x",(&DAT_0005547c)[param_1 * 2]);
  if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    snprintf(local_830 + 0x20,0x800,"regdata: %s",local_830);
    FUN_00038438(7,local_830 + 0x20,0);
  }
  sVar1 = strlen(local_830);
  iVar2 = FUN_000295b8(param_2,local_830,sVar1 >> 1);
  if (iVar2 == 0) {
    snprintf(local_830 + 0x20,0x800,"Invalid vil plldata for reg data, hex2bin error now: %s",local_830);
    FUN_00038438(3,local_830 + 0x20,1);
    FUN_00016724(1);
  }
  return;
}




void FUN_0003aa38(uint param_1,int param_2,char *param_3,int param_4,char param_5)

{
  undefined4 uVar1;
  bool bVar2;
  double dVar3;
  undefined2 local_34 [2];
  
  bVar2 = param_2 == 0;
  if (param_2 == 0) {
    bVar2 = param_1 < 1000000000;
  }
  local_34[0] = 0;
  if (bVar2) {
    bVar2 = param_2 == 0;
    if (param_2 == 0) {
      bVar2 = param_1 < 1000000;
    }
    if (bVar2) {
      bVar2 = param_2 == 0;
      if (param_2 == 0) {
        bVar2 = param_1 < 1000;
      }
      if (bVar2) {
        dVar3 = (double)FUN_000493c8();
        if (param_4 == 0) {
          snprintf(param_3,0x10,"%d%s",(uint)(0.0 < dVar3) * (int)(longlong)dVar3,local_34);
          return;
        }
        goto LAB_0003ab08;
      }
      dVar3 = (double)FUN_000493c8();
      local_34[0] = 0x4b;
      dVar3 = dVar3 / 1000.0;
    }
    else {
      FUN_0004943c(param_1,param_2,1000,0);
      dVar3 = (double)FUN_000493c8();
      local_34[0] = 0x4d;
      dVar3 = dVar3 / 1000.0;
    }
  }
  else {
    FUN_0004943c(param_1,param_2,1000000,0);
    dVar3 = (double)FUN_000493c8();
    local_34[0] = 0x47;
    dVar3 = dVar3 / 1000.0;
  }
  if (param_4 == 0) {
    snprintf(param_3,0x10,"%.3g%s",local_34,dVar3,local_34);
    return;
  }
LAB_0003ab08:
  if (dVar3 <= 0.0) {
    dVar3 = 0.0;
  }
  else {
    dVar3 = log10(dVar3);
    dVar3 = floor(dVar3);
  }
  uVar1 = (undefined4)(longlong)((double)(longlong)(param_4 + -1) - dVar3);
  if (param_5 == '\0') {
    snprintf(param_3,0x10,"%*.*f",param_4 + 1,uVar1);
  }
  else {
    snprintf(param_3,0x10,"%*.*f%s",param_4 + 1,uVar1);
  }
  return;
}




void FUN_0003b068(pthread_rwlock_t *param_1)

{
  int iVar1;
  int *piVar2;
  char acStack_808 [2052];
  
  iVar1 = pthread_rwlock_init(param_1,(pthread_rwlockattr_t *)0x0);
  if (iVar1 != 0) {
    piVar2 = __errno_location();
    snprintf(acStack_808,0x800,"Failed to pthread_rwlock_init errno=%d in %s %s():%d",*piVar2,"driver-btm-L3.c",
             "bitmain_L3_prepare",0xead);
    FUN_00038438(3,acStack_808,1);
    FUN_00016724(1);
  }
  return;
}




void FUN_0003b0ec(void)

{
  int iVar1;
  int iVar2;
  char local_828 [2052];
  
  iVar2 = 0;
  do {
    if (((&DAT_000c4be4)[iVar2] != '\0') && (DAT_00060de9 != '\0')) {
      pthread_mutex_lock((pthread_mutex_t *)&DAT_00063120);
      iVar1 = ioctl(DAT_000c54a6,0x703,(int)(&DAT_000557ac)[iVar2] >> 1);
      if ((iVar1 < 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)))) {
        snprintf(local_828,0x800," %d ioctl error in %s",iVar2,"pic_heart_beat_func");
        FUN_00038438(3,local_828,0);
      }
      local_828[0] = 'U';
      local_828[1] = 0xaa;
      write(DAT_000c54a6,local_828,1);
      FUN_0002b244(200,0);
      write(DAT_000c54a6,local_828 + 1,1);
      FUN_0002b244(200,0);
      local_828[0] = '\x16';
      write(DAT_000c54a6,local_828,1);
      pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063120);
      FUN_0002b21c(10);
    }
    iVar2 = iVar2 + 1;
    if (3 < iVar2) {
      iVar2 = 0;
      sleep(10);
    }
  } while( true );
}




undefined4 FUN_0003b268(int param_1)

{
  if (param_1 == 0x1c200) {
    return 0x1002;
  }
  if (param_1 < 0x1c201) {
    if (param_1 == 0x4b00) {
      return 0xe;
    }
    if (param_1 < 0x4b01) {
      if (param_1 == 0x2580) {
        return 0xd;
      }
    }
    else {
      if (param_1 == 0x9600) {
        return 0xf;
      }
      if (param_1 == 0xe100) {
        return 0x1001;
      }
    }
  }
  else {
    if (param_1 == 0x70800) {
      return 0x1004;
    }
    if (param_1 < 0x70801) {
      if (param_1 == 0x38400) {
        return 0x1003;
      }
    }
    else {
      if (param_1 == 0xe1000) {
        return 0x1007;
      }
      if (param_1 == 3000000) {
        return 0x100d;
      }
    }
  }
  return 0;
}




uint FUN_0003b360(byte *param_1,uint param_2)

{
  bool bVar1;
  uint uVar2;
  char cVar3;
  bool bVar4;
  bool bVar5;
  bool bVar6;
  bool bVar7;
  bool bVar8;
  bool bVar9;
  bool bVar10;
  uint uVar11;
  
  if (param_2 == 0) {
    bVar4 = true;
    bVar5 = true;
    bVar9 = true;
    bVar10 = true;
  }
  else {
    cVar3 = '\0';
    uVar11 = 0;
    uVar2 = 0x80;
    bVar1 = true;
    bVar7 = true;
    bVar4 = true;
    bVar8 = true;
    bVar9 = true;
    do {
      bVar10 = bVar9;
      bVar5 = bVar4;
      bVar6 = bVar1;
      cVar3 = cVar3 + '\x01';
      bVar4 = bVar7;
      if ((uVar2 & *param_1) != 0) {
        bVar4 = (bool)(bVar7 ^ 1);
      }
      uVar11 = uVar11 + 1 & 0xff;
      uVar2 = uVar2 >> 1;
      if (cVar3 == '\b') {
        param_1 = param_1 + 1;
      }
      bVar9 = (bool)(bVar8 ^ bVar4);
      if (cVar3 == '\b') {
        cVar3 = '\0';
        uVar2 = 0x80;
      }
      bVar1 = bVar10;
      bVar7 = bVar6;
      bVar8 = bVar5;
    } while (uVar11 != param_2);
    if (!bVar6) {
      uVar2 = 0;
      goto LAB_0003b3fc;
    }
  }
  uVar2 = 0x10;
LAB_0003b3fc:
  if (bVar10) {
    uVar2 = uVar2 | 8;
  }
  if (bVar9) {
    uVar2 = uVar2 | 4;
  }
  if (bVar5) {
    uVar2 = uVar2 | 2;
  }
  if (bVar4) {
    uVar2 = uVar2 | 1;
  }
  return uVar2;
}




undefined4 FUN_0003b44c(int param_1)

{
  bool bVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  int *piVar6;
  undefined4 uVar7;
  int iVar8;
  pthread_mutex_t *__mutex;
  uint *puVar9;
  uint uVar10;
  undefined8 uVar11;
  uint local_838;
  int local_834;
  undefined1 auStack_830 [8];
  char acStack_828 [2052];
  
  iVar8 = *(int *)(param_1 + 0x24);
  __mutex = *(pthread_mutex_t **)(iVar8 + 0x14);
  local_834 = 0;
  FUN_0002b13c(auStack_830);
  DAT_000630d0 = 0;
  pthread_mutex_lock((pthread_mutex_t *)&DAT_000630dc);
  iVar2 = pthread_mutex_lock(__mutex);
  if (iVar2 != 0) {
    piVar6 = __errno_location();
    snprintf(acStack_828,0x800,"WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d",*piVar6,"driver-btm-L3.c",
             "bitmain_scanhash",0x1b1);
    FUN_00038438(3,acStack_828,1);
    FUN_00016724(1);
  }
  iVar2 = pthread_rwlock_rdlock((pthread_rwlock_t *)(__mutex + 1));
  if (iVar2 != 0) {
    piVar6 = __errno_location();
    snprintf(acStack_828,0x800,"WTF RDLOCK ERROR ON LOCK! errno=%d in %s %s():%d",*piVar6,"driver-btm-L3.c",
             "bitmain_scanhash",0x1b1);
    FUN_00038438(3,acStack_828,1);
    FUN_00016724(1);
  }
  iVar2 = pthread_mutex_unlock(__mutex);
  if (iVar2 != 0) {
    piVar6 = __errno_location();
    snprintf(acStack_828,0x800,"WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d",*piVar6,"driver-btm-L3.c",
             "bitmain_scanhash",0x1b1);
    FUN_00038438(3,acStack_828,1);
    FUN_00016724(1);
  }
  bVar1 = false;
  do {
    uVar4 = DAT_000c30bc;
    if (DAT_000c30c0 == 0) {
      iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)(__mutex + 1));
      if (iVar2 != 0) {
        piVar6 = __errno_location();
        snprintf(acStack_828,0x800,"WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d",*piVar6,"driver-btm-L3.c",
                 "bitmain_scanhash",0x20c);
        FUN_00038438(3,acStack_828,1);
        FUN_00016724(1);
      }
      (*DAT_00060178)();
      pthread_mutex_unlock((pthread_mutex_t *)&DAT_000630dc);
      FUN_0002b21c(1);
      if ((((uint)DAT_000630d0 != 0 || DAT_000630d0._4_4_ != 0) && (DAT_000630c1 != '\0')) &&
         ((DAT_000632f0 != '\0' || ((DAT_000630c0 != '\0' || (6 < DAT_00060964)))))) {
        uVar11 = VectorShiftLeft(DAT_000630d0,0x10,0x40,0);
        snprintf(acStack_828,0x800,"%s: hashes %llu...","bitmain_scanhash",(uint)uVar11 - (uint)DAT_000630d0,
                 (int)((ulonglong)uVar11 >> 0x20) - (DAT_000630d0._4_4_ + (uint)((uint)uVar11 < (uint)DAT_000630d0)));
        FUN_00038438(7,acStack_828,0);
      }
      uVar11 = VectorShiftLeft(CONCAT44(DAT_000630d0._4_4_,(uint)DAT_000630d0),0x10,0x40,0);
      DAT_000630d0 = CONCAT44((int)((ulonglong)uVar11 >> 0x20) -
                              (DAT_000630d0._4_4_ + (uint)((uint)uVar11 < (uint)DAT_000630d0)),
                              (uint)uVar11 - (uint)DAT_000630d0);
      return 0;
    }
    DAT_000c30c0 = DAT_000c30c0 + -1;
    iVar2 = (DAT_000c30bc + 1) * 8;
    puVar9 = (uint *)((int)&DAT_000c30bc + iVar2 + 2);
    uVar3 = FUN_0003b360(puVar9,0x33);
    if (uVar3 == ((byte)(&DAT_000c30c4)[iVar2] & 0x1f)) {
      uVar4 = *puVar9;
      uVar10 = (uint)*(byte *)((int)&DAT_000c30c0 + iVar2 + 3);
      uVar3 = (uint)(byte)(&DAT_000c30c5)[iVar2];
      local_838 = uVar4;
      pthread_mutex_lock((pthread_mutex_t *)&DAT_00063138);
      uVar4 = uVar4 << 0x18 | (uVar4 >> 8 & 0xff) << 0x10 | (uVar4 >> 0x10 & 0xff) << 8 | uVar4 >> 0x18;
      iVar2 = *(int *)((int)__mutex + uVar10 * 4 + 0xbf);
      pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063138);
      if (iVar2 == 0) {
        if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (uVar4 = DAT_000c30bc, 2 < DAT_00060964)) {
          snprintf(acStack_828,0x800,"%s%d: work %02x not find error",*(undefined4 *)(*(int *)(iVar8 + 4) + 8),
                   *(undefined4 *)(iVar8 + 8),uVar10);
LAB_0003b7bc:
          FUN_00038438(3,acStack_828,0);
          uVar4 = DAT_000c30bc;
        }
      }
      else {
        local_834 = 0;
        iVar5 = FUN_0001a2dc(param_1,iVar2,uVar4,&local_834);
        if (iVar5 == 0) {
          if (local_834 != 0) goto LAB_0003b6a4;
          if ((4 < uVar3) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)))) {
            snprintf(acStack_828,0x800,"Chain_ID [%d] Error!",uVar3);
            FUN_00038438(3,acStack_828,0);
          }
          uVar7 = 0;
          *(int *)(&DAT_000c4bcc + (uVar3 + 0x9e) * 4) = *(int *)(&DAT_000c4bcc + (uVar3 + 0x9e) * 4) + 1;
LAB_0003b958:
          FUN_0002f884(iVar2,&local_838,uVar7);
          uVar4 = DAT_000c30bc;
        }
        else {
          FUN_00025a80(iVar2);
LAB_0003b6a4:
          uVar10 = FUN_00048ec0((uVar4 << 4) >> 0x18,DAT_000c548c);
          if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
            snprintf(acStack_828,0x800,"%s: chain %d which_asic_nonce %d ","bitmain_scanhash",uVar3,uVar10);
            FUN_00038438(7,acStack_828,0);
          }
          uVar4 = DAT_000c30bc;
          if ((uVar3 < 5) && ((&DAT_000c4be4)[uVar3] != '\0')) {
            if ((uVar10 & 0xff) < 0x48) {
              uVar7 = 1;
              iVar5 = uVar10 + uVar3 * 0x48 + 0xa2;
              DAT_000630d0 = CONCAT44(DAT_000630d0._4_4_ + (uint)(0xfffffeff < (uint)DAT_000630d0),
                                      (uint)DAT_000630d0 + 0x100);
              *(int *)(&DAT_000c4bcc + iVar5 * 4) = *(int *)(&DAT_000c4bcc + iVar5 * 4) + 1;
              goto LAB_0003b958;
            }
            if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
              snprintf(acStack_828,0x800,"Which Nonce Cause Err![%d]",uVar10);
              goto LAB_0003b7bc;
            }
          }
          else if (!bVar1) {
            if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 3)) {
              bVar1 = true;
            }
            else {
              snprintf(acStack_828,0x800,"ChainID Cause Error! ChainID:[%d]",uVar3);
              FUN_00038438(3,acStack_828,0);
              bVar1 = true;
              uVar4 = DAT_000c30bc;
            }
          }
        }
      }
    }
    else {
      if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 3)) {
LAB_0003b500:
        if (DAT_00060964 < 5) goto LAB_0003b578;
      }
      else {
        snprintf(acStack_828,0x800,"crc5 error,should be %02x,but check as %02x",(byte)(&DAT_000c30c4)[iVar2] & 0x1f,
                 uVar3);
        FUN_00038438(3,acStack_828,0);
        uVar4 = DAT_000c30bc;
        if ((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) goto LAB_0003b500;
      }
      iVar2 = uVar4 * 8;
      iVar5 = (uVar4 + 1) * 8;
      snprintf(acStack_828,0x800,"get nonce %02x%02x%02x%02x wc %02x diff %02x crc5 %02x chainid %02x",
               (uint)*(byte *)((int)&DAT_000c30bc + iVar5 + 2),(uint)*(byte *)((int)&DAT_000c30c6 + iVar2 + 1),
               (uint)*(byte *)((int)&DAT_000c30c6 + iVar2 + 2),(uint)*(byte *)((int)&DAT_000c30c6 + iVar2 + 3),
               (uint)*(byte *)((int)&DAT_000c30c0 + iVar5 + 2),(uint)*(byte *)((int)&DAT_000c30c0 + iVar5 + 3),
               (uint)(byte)(&DAT_000c30c4)[iVar5],(uint)(byte)(&DAT_000c30c5)[iVar5]);
      FUN_00038438(5,acStack_828,0);
      uVar4 = DAT_000c30bc;
    }
LAB_0003b578:
    if (uVar4 < 0x35f) {
      DAT_000c30bc = uVar4 + 1;
    }
    else {
      DAT_000c30bc = 0;
    }
  } while( true );
}




size_t FUN_0003bbbc(int param_1,void *param_2,size_t param_3)

{
  size_t sVar1;
  char local_810 [4];
  char acStack_80c [4];
  char acStack_808 [4];
  undefined2 local_804;
  
  flock(param_1,2);
  sVar1 = write(param_1,param_2,param_3);
  if ((param_3 != sVar1) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)))) {
    local_810[0] = 'w';
    local_810[1] = 'r';
    local_810[2] = 'i';
    local_810[3] = 't';
    acStack_80c[0] = 'e';
    acStack_80c[1] = ' ';
    acStack_80c[2] = 'e';
    acStack_80c[3] = 'r';
    acStack_808[0] = 'r';
    acStack_808[1] = 'o';
    acStack_808[2] = 'r';
    acStack_808[3] = '!';
    local_804 = 0x21;
    FUN_00038438(3,local_810,0);
  }
  flock(param_1,8);
  FUN_0002b244(500,0);
  return sVar1;
}




void FUN_0003bc80(int param_1)

{
  char cVar1;
  pthread_t __th;
  void *__src;
  undefined4 uVar2;
  uint uVar3;
  int iVar4;
  char *pcVar5;
  byte bVar6;
  int iVar7;
  uint uVar8;
  uint uVar9;
  byte *pbVar10;
  char *local_978;
  byte *local_974;
  uint local_970;
  undefined1 *local_958;
  undefined1 *local_954;
  int local_94c;
  int *local_948;
  int *local_944;
  undefined1 *local_93c;
  undefined4 *local_938;
  int local_92c;
  int local_928;
  int local_924;
  int local_920;
  undefined1 auStack_91c [4];
  undefined1 auStack_918 [75];
  char cStack_8cd;
  undefined1 local_8cc [11];
  char local_8c1 [49];
  byte abStack_890 [18];
  undefined1 local_87e;
  byte local_87c [4];
  undefined1 auStack_878 [75];
  byte bStack_82d;
  ushort uStack_82c;
  char local_828 [4];
  char acStack_824 [4];
  char acStack_820 [4];
  char acStack_81c [4];
  char local_818 [2036];
  
  __th = pthread_self();
  pthread_detach(__th);
  if (DAT_000630c1 == '\0') {
    local_970 = (uint)*(byte *)(param_1 + 0x9c);
    local_938 = *(undefined4 **)(param_1 + 0x2bf);
    goto LAB_0003bdc4;
  }
  if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 7)) {
    local_970 = (uint)*(byte *)(param_1 + 0x9c);
    local_938 = *(undefined4 **)(param_1 + 0x2bf);
LAB_0003bd58:
    if (DAT_00060964 < 7) goto LAB_0003bdc4;
  }
  else {
    local_828[0] = 'S';
    local_828[1] = 't';
    local_828[2] = 'a';
    local_828[3] = 'r';
    acStack_824[0] = 't';
    acStack_824[1] = ' ';
    acStack_824[2] = 'T';
    acStack_824[3] = 'o';
    acStack_820[0] = ' ';
    acStack_820[1] = 'F';
    acStack_820[2] = 'i';
    acStack_820[3] = 'l';
    acStack_81c[0] = 'l';
    acStack_81c[1] = ' ';
    acStack_81c[2] = 'W';
    acStack_81c[3] = 'o';
    local_818[0] = 'r';
    local_818[1] = 'k';
    local_818[2] = '!';
    local_818[3] = '\0';
    FUN_00038438(7,local_828,0);
    local_970 = (uint)*(byte *)(param_1 + 0x9c);
    local_938 = *(undefined4 **)(param_1 + 0x2bf);
    if (DAT_000630c1 == '\0') goto LAB_0003bdc4;
    if ((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) goto LAB_0003bd58;
  }
  local_978 = local_828;
  snprintf(local_978,0x800,"Start To Fill Work!ChainIndex:[%d]");
  FUN_00038438(7,local_978,0);
LAB_0003bdc4:
  local_94c = local_970 + 0x28;
  local_958 = auStack_91c;
  local_974 = local_87c;
  local_978 = local_828;
  local_93c = auStack_918;
  local_944 = &local_924;
  local_948 = &local_92c;
  local_954 = auStack_878;
joined_r0x0003bddc:
  do {
    if (DAT_00063150 != '\0') {
      FUN_0002b13c(local_948);
      iVar4 = local_92c - local_924;
      iVar7 = local_928 - local_920;
      if (iVar7 < 0) {
        iVar4 = iVar4 + -1;
        iVar7 = iVar7 + 1000000;
      }
      if (((&DAT_000630c8)[local_970] != '\0') || ((uint)(DAT_000c4bec * 1000) <= (uint)(iVar4 * 1000 + iVar7 / 1000)))
      {
        FUN_0002b13c(local_944);
        do {
          pthread_mutex_lock((pthread_mutex_t *)&DAT_00063138);
          __src = (void *)FUN_000244c4(local_938,*local_938);
          pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063138);
        } while (__src == (void *)0x0);
        uVar9 = *(uint *)((int)__src + 0x154);
        (&DAT_000630c8)[local_970] = 0;
        memset(local_974,0,0x52);
        uVar9 = uVar9 & 0x7f;
        memcpy(local_958,__src,0x50);
        FUN_0002f560(local_958,0x50);
        memcpy(local_954,local_93c,0x4c);
        local_87c[1] = 0x50;
        uVar3 = 0x20;
        uVar8 = 0xffff;
        local_87c[2] = (byte)uVar9;
        local_87c[0] = 0x20;
        pbVar10 = local_974;
        while (uVar8 = ((uint)*(ushort *)(&DAT_000557d0 + (uVar3 ^ uVar8 >> 8) * 2) ^ uVar8 << 8) & 0xffff,
              pbVar10 != &bStack_82d) {
          pbVar10 = pbVar10 + 1;
          uVar3 = (uint)*pbVar10;
        }
        iVar4 = uVar9 + 0x2e;
        uStack_82c = (ushort)(uVar8 >> 8) | (ushort)(uVar8 << 8);
        iVar7 = param_1 + iVar4 * 4;
        pthread_mutex_lock((pthread_mutex_t *)&DAT_00063138);
        if (*(int *)(iVar7 + 7) != 0) {
          FUN_000152b8(*(int *)(iVar7 + 7));
          *(undefined1 *)(iVar7 + 7) = 0;
          *(uint *)(iVar7 + 8) = *(uint *)(iVar7 + 8) & 0xff000000;
        }
        uVar2 = FUN_00019e18(__src,0);
        *(undefined4 *)(param_1 + iVar4 * 4 + 7) = uVar2;
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063138);
        if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
          snprintf(local_978,0x800,"ChainID[%d] Wirte Work",local_970);
          FUN_00038438(7,local_978,0);
        }
        uVar3 = 0;
        FUN_0003bbbc(*(undefined4 *)(param_1 + local_94c * 4 + 1),local_974,0x52);
        DAT_000630f8 = 1;
LAB_0003c048:
        iVar4 = 1;
        iVar7 = 0;
        do {
          if ((iVar7 == 0x3c) || (iVar7 == 0x4d)) {
            local_8cc[iVar7] = 0x7c;
joined_r0x0003c08c:
            if (iVar4 == 0x50) goto LAB_0003c090;
          }
          else {
            if (iVar7 != 0x4e) {
              local_8cc[iVar7] = 0x20;
              goto joined_r0x0003c08c;
            }
            local_87e = 0;
          }
          iVar7 = iVar7 + 1;
          iVar4 = iVar4 + 1;
        } while( true );
      }
    }
    FUN_0002b21c(10);
  } while( true );
LAB_0003c090:
  uVar8 = 0x1c;
  pcVar5 = &cStack_8cd;
  do {
    uVar9 = uVar8 & 0xff;
    uVar8 = uVar8 - 4;
    pcVar5 = pcVar5 + 1;
    *pcVar5 = "0123456789abcdefbitmain_scanreg"[uVar3 >> uVar9 & 0xf];
  } while (uVar8 != 0xfffffffc);
  iVar4 = 0;
  pbVar10 = abStack_890;
  uVar8 = 0;
  do {
    iVar7 = (uVar8 >> 3) + iVar4;
    iVar4 = iVar4 + 3;
    if (0x51 < uVar8 + uVar3) break;
    bVar6 = local_974[uVar8 + uVar3];
    uVar9 = (uint)bVar6;
    uVar8 = uVar8 + 1;
    cVar1 = "0123456789abcdefbitmain_scanreg"[bVar6 >> 4];
    if (0x5e < uVar9 - 0x20) {
      bVar6 = 0x2e;
    }
    local_8c1[iVar7 + 1] = "0123456789abcdefbitmain_scanreg"[uVar9 & 0xf];
    local_8c1[iVar7] = cVar1;
    pbVar10 = pbVar10 + 1;
    *pbVar10 = bVar6;
  } while (uVar8 != 0x10);
  if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    snprintf(local_978,0x800,"%s",local_8cc);
    FUN_00038438(7,local_978,0);
  }
  uVar3 = uVar3 + 0x10;
  if (uVar3 == 0x60) goto code_r0x0003c1b0;
  goto LAB_0003c048;
code_r0x0003c1b0:
  FUN_0002b13c(&DAT_00063154);
  FUN_0002b21c(10);
  FUN_000152b8(__src);
  goto joined_r0x0003bddc;
}




undefined4 FUN_0003c338(void)

{
  byte *pbVar1;
  byte *pbVar2;
  int iVar3;
  byte *pbVar4;
  uint uVar5;
  uint uVar6;
  byte *pbVar7;
  char *pcVar8;
  int iVar9;
  undefined *puVar10;
  int iVar11;
  int iVar12;
  uint uVar13;
  int local_884;
  byte local_880 [84];
  ushort uStack_82c;
  char acStack_828 [2052];
  
  FUN_0002b13c(&DAT_00065e40);
  DAT_000630f8 = 1;
  if (DAT_000c548d == 0) {
    iVar12 = 0;
  }
  else {
    iVar12 = 0;
    local_884 = 0;
    do {
      iVar11 = 0;
      do {
        pcVar8 = (char *)((int)&DAT_000c4be0 + 3);
        iVar9 = iVar11 * 0x68 + local_884 * 0x1380;
        puVar10 = &DAT_000c4bcc;
        do {
          pcVar8 = pcVar8 + 1;
          if (*pcVar8 == '\x01') {
            FUN_0002b21c(10);
            memset(local_880,0,0x56);
            pbVar2 = (byte *)(iVar9 + 0x6a4c3);
            local_880[7] = *pbVar2;
            pbVar7 = local_880;
            local_880[2] = (char)*(undefined4 *)(&DAT_0006a4b8 + iVar9);
            pbVar1 = local_880 + 0x53;
            local_880[4] = *(undefined1 *)(iVar9 + 0x6a4c0);
            local_880[5] = *(undefined1 *)(iVar9 + 0x6a4c1);
            local_880[6] = *(undefined1 *)(iVar9 + 0x6a4c2);
            local_880[0] = 0x21;
            local_880[1] = 0x54;
            pbVar4 = local_880 + 7;
            do {
              pbVar2 = pbVar2 + 1;
              pbVar4 = pbVar4 + 1;
              *pbVar4 = *pbVar2;
            } while (pbVar4 != pbVar1);
            pbVar4 = local_880;
            uVar13 = 0x21;
            uVar5 = 0xffff;
            while (uVar5 = ((uint)*(ushort *)(&DAT_000557d0 + (uVar13 ^ uVar5 >> 8) * 2) ^ uVar5 << 8) & 0xffff,
                  pbVar4 != pbVar1) {
              pbVar4 = pbVar4 + 1;
              uVar13 = (uint)*pbVar4;
            }
            uVar13 = 0x21;
            uVar6 = 0xffff;
            while (uVar6 = ((uint)*(ushort *)(&DAT_000557d0 + (uVar13 ^ uVar6 >> 8) * 2) ^ uVar6 << 8) & 0xffff,
                  pbVar7 != pbVar1) {
              pbVar7 = pbVar7 + 1;
              uVar13 = (uint)*pbVar7;
            }
            uStack_82c = (ushort)(uVar5 >> 8) | (ushort)(uVar6 << 8);
            iVar3 = FUN_0003bbbc(*(undefined4 *)(puVar10 + 8),local_880,0x56,0xfffff7fc,local_880 + 7,local_880[7]);
            if (iVar3 != 0x56) {
              tcflush(*(int *)(puVar10 + 8),2);
              iVar3 = FUN_0003bbbc(*(undefined4 *)(puVar10 + 8),local_880,0x56);
              if (iVar3 != 0x56) {
                tcflush(*(int *)(puVar10 + 8),2);
                iVar3 = FUN_0003bbbc(*(undefined4 *)(puVar10 + 8),local_880,0x56);
                if (iVar3 != 0x56) {
                  perror("Send work error!");
                }
              }
            }
            iVar12 = iVar12 + 1;
          }
          puVar10 = puVar10 + 4;
        } while (pcVar8 != (char *)0xc4be7);
        iVar11 = iVar11 + 1;
      } while (iVar11 != 0x30);
      local_884 = local_884 + 1;
    } while (local_884 < (int)(uint)DAT_000c548d);
  }
  FUN_0002b21c(100);
  if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (4 < DAT_00060964)) {
    snprintf(acStack_828,0x800,"send_work : %d ",iVar12);
    FUN_00038438(5,acStack_828,0);
  }
  return 0;
}




size_t FUN_0003c604(int param_1,void *param_2,size_t param_3)

{
  size_t sVar1;
  char local_810 [4];
  char acStack_80c [4];
  char acStack_808 [4];
  undefined1 local_804;
  
  sVar1 = read(param_1,param_2,param_3);
  if ((param_3 != sVar1) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)))) {
    local_810[0] = 'r';
    local_810[1] = 'e';
    local_810[2] = 'a';
    local_810[3] = 'd';
    acStack_80c[0] = ' ';
    acStack_80c[1] = 'e';
    acStack_80c[2] = 'r';
    acStack_80c[3] = 'r';
    acStack_808[0] = 'o';
    acStack_808[1] = 'r';
    acStack_808[2] = '!';
    acStack_808[3] = '!';
    local_804 = 0;
    FUN_00038438(3,local_810,0);
  }
  return sVar1;
}




void FUN_0003c69c(void)

{
  pthread_mutex_lock((pthread_mutex_t *)&DAT_0006315c);
  DAT_0006432c = 0;
  DAT_00064330 = 0;
  DAT_00064334 = 0;
  pthread_mutex_unlock((pthread_mutex_t *)&DAT_0006315c);
  return;
}




void FUN_0003c6d4(void)

{
  byte bVar1;
  bool bVar2;
  int iVar3;
  byte bVar4;
  byte bVar5;
  byte bVar6;
  uint uVar7;
  long lVar8;
  undefined8 *puVar9;
  int iVar10;
  uint uVar11;
  char *pcVar12;
  uint uVar13;
  undefined4 *puVar14;
  uint uVar15;
  uint uVar16;
  int iVar17;
  char cVar18;
  bool bVar19;
  undefined8 uVar20;
  undefined8 uVar21;
  int local_854;
  uint local_84c;
  undefined4 local_848;
  char acStack_844 [12];
  char local_838 [4];
  char acStack_834 [4];
  char acStack_830 [4];
  char acStack_82c [4];
  char local_828 [2036];
  
  local_84c = 0;
  bVar2 = true;
  local_848 = 0;
  do {
    uVar20 = 0;
    FUN_0003c69c();
    local_854 = 0;
    while( true ) {
      FUN_0002b21c(3);
      pthread_mutex_lock((pthread_mutex_t *)&DAT_0006315c);
      uVar11 = DAT_00064334;
      if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
        snprintf(local_838,0x800,"%s: reg_value_num = %d","bitmain_scanreg",DAT_00064334);
        FUN_00038438(7,local_838,0);
      }
      pthread_mutex_unlock((pthread_mutex_t *)&DAT_0006315c);
      if ((0x35f < uVar11) || (0x35f < DAT_00064330)) break;
      if (uVar11 == 0) {
        if (DAT_000630d8 != '\0') {
          iVar10 = 0;
          puVar14 = (undefined4 *)&DAT_000630f8;
          do {
            iVar17 = iVar10 * 0x10;
            iVar10 = iVar10 + 1;
            puVar14[2] = 0;
            puVar14[3] = 0;
            FUN_0003aa38(0,0,&DAT_00065e6c + iVar17,3,1);
            puVar14 = puVar14 + 2;
          } while (iVar10 != 4);
        }
        uVar11 = local_84c + 1;
        if (3 < local_84c) {
          FUN_0003c69c();
          uVar11 = 0;
          DAT_000631e8 = '\0';
        }
        FUN_0002b21c(300);
        local_84c = uVar11;
      }
      else {
        uVar15 = 0;
        do {
          pthread_mutex_lock((pthread_mutex_t *)&DAT_0006315c);
          iVar17 = DAT_00064330 + 1;
          iVar10 = iVar17 * 8;
          uVar7 = FUN_0003b360(iVar10 + 0x64332,0x33);
          bVar1 = *(byte *)((int)&DAT_00064334 + iVar10 + 2);
          cVar18 = *(char *)((int)&DAT_00064334 + iVar10 + 3);
          uVar13 = (uint)(byte)(&DAT_00064339)[iVar10];
          if (uVar7 != ((byte)(&DAT_00064338)[iVar10] & 0x1f)) {
            if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
              snprintf(local_838,0x800,"%s,crc5 error,should be %02x,but check as %02x %d %d","bitmain_scanreg",
                       (byte)(&DAT_00064338)[iVar10] & 0x1f,uVar7,uVar15,uVar11);
              FUN_00038438(3,local_838,0);
              if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
                snprintf(local_838,0x800,"%s: reg_value = 0x%02x%02x%02x%02x","bitmain_scanreg",local_848 & 0xff,
                         local_848 >> 8 & 0xff,local_848 >> 0x10 & 0xff,local_848 >> 0x18);
                FUN_00038438(3,local_838,0);
                iVar17 = DAT_00064330 + 1;
                goto LAB_0003ca68;
              }
            }
            iVar17 = DAT_00064330 + 1;
          }
LAB_0003ca68:
          local_848 = *(uint *)((int)&DAT_00064330 + iVar17 * 8 + 2);
          pthread_mutex_unlock((pthread_mutex_t *)&DAT_0006315c);
          uVar7 = local_848;
          bVar4 = local_848._1_1_;
          bVar5 = local_848._2_1_;
          bVar6 = local_848._3_1_;
          if (cVar18 == '\0') {
            if (DAT_00063174 != '\0') {
              if (bVar2) {
                (&DAT_000c5462)[uVar13] = 0;
              }
              if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964))))
              {
                snprintf(local_838,0x800,"%s: reg_value = 0x%02x0x%02x0x%02x0x%02x","bitmain_scanreg",local_848 & 0xff,
                         (uint)local_848._1_1_,(uint)local_848._2_1_,(uint)local_848._3_1_);
                FUN_00038438(7,local_838,0);
              }
              cVar18 = (&DAT_000c5462)[uVar13];
              (&DAT_000c5462)[uVar13] = cVar18 + 1U;
              if ((byte)(cVar18 + 1U) < 0x49) {
                bVar2 = false;
              }
              else {
                (&DAT_000c5462)[uVar13] = 1;
                bVar2 = false;
              }
            }
LAB_0003c8b4:
            uVar7 = (uint)(byte)(&DAT_000c5462)[uVar13];
            cVar18 = DAT_000630c1;
            if ((uVar7 == 0x48) && (DAT_000630c1 != '\0')) {
              if ((DAT_000632f0 == '\0') && ((DAT_000630c0 == '\0' && (DAT_00060964 < 7)))) {
                cVar18 = '\x01';
              }
              else {
                snprintf(local_838,0x800,"chian %d get asicnum %d",uVar13,0x48);
                FUN_00038438(7,local_838,0);
                uVar7 = (uint)(byte)(&DAT_000c5462)[uVar13];
                cVar18 = DAT_000630c1;
              }
            }
            if (DAT_000c548d < uVar7) {
              DAT_000c548d = (byte)uVar7;
            }
            if ((cVar18 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
              snprintf(local_838,0x800,"%s: chain J%d has %d ASIC","bitmain_scanreg",uVar13 + 1,uVar7);
              FUN_00038438(7,local_838,0);
            }
          }
          else {
            if (cVar18 == '@') {
              iVar10 = (DAT_00064330 + 1) * 8;
              bVar1 = *(byte *)((int)&DAT_00064334 + iVar10 + 2);
              cVar18 = *(char *)((int)&DAT_00064334 + iVar10 + 3);
              uVar13 = (uint)(byte)(&DAT_00064339)[iVar10];
            }
            uVar16 = (uint)bVar1;
            if (cVar18 == '\b') {
              if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964))))
              {
                snprintf(local_838,0x800,"%s: reg_value = 0x%02x0x%02x0x%02x0x%02x","bitmain_scanreg",local_848 & 0xff,
                         (uint)local_848._1_1_,(uint)local_848._2_1_,(uint)local_848._3_1_);
                FUN_00038438(7,local_838,0);
              }
            }
            else if (cVar18 == '\x18') {
              if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964))))
              {
                snprintf(local_838,0x800,"Dump MISC Data:[%X][%X][%X][%X]@Chain[%d] -- Chip[%X]",local_848 & 0xff,
                         (uint)local_848._1_1_,(uint)local_848._2_1_,(uint)local_848._3_1_,uVar13,uVar16);
                FUN_00038438(7,local_838,0);
              }
            }
            else if (cVar18 == '\x1c') {
              if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (4 < DAT_00060964)) {
                snprintf(local_838,0x800,"Dump IIC Data:[%X][%X][%X][%X]@ChainID:[%d], Chip[%X]",local_848 & 0xff,
                         (uint)local_848._1_1_,(uint)local_848._2_1_,(uint)local_848._3_1_,uVar13,uVar16);
                FUN_00038438(5,local_838,0);
              }
              if ((bVar5 != 0x11) && ((uVar7 & 0xc0) == 0)) {
                if (uVar16 == 0x69) {
                  iVar10 = uVar13 * 0x18;
                  if (*(int *)(&DAT_00063188 + iVar10) == 4) {
                    (&DAT_0006318c)[iVar10] = bVar6;
                    *(undefined4 *)(&DAT_00063188 + iVar10) = 1;
                  }
                }
                else if (uVar16 == 0xc9) {
                  iVar10 = uVar13 * 0x18;
                  if (*(int *)(&DAT_00063180 + iVar10) == 4) {
                    (&DAT_00063184)[iVar10] = bVar6;
                    *(undefined4 *)(&DAT_00063180 + iVar10) = 1;
                  }
                }
                else if ((uVar16 == 0xc) && (iVar10 = uVar13 * 0x18, *(int *)(&DAT_00063178 + iVar10) == 4)) {
                  (&DAT_0006317c)[iVar10] = bVar6;
                  *(undefined4 *)(&DAT_00063178 + iVar10) = 1;
                }
              }
            }
            else if (cVar18 == '\x04') {
              iVar10 = 0;
              do {
                iVar17 = iVar10 * 2;
                iVar3 = iVar10 + -4;
                iVar10 = iVar10 + 1;
                sprintf(acStack_844 + iVar17,"%02x",(uint)(byte)acStack_844[iVar3]);
              } while (iVar10 != 4);
              if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964))))
              {
                snprintf(local_838,0x800,"%s: hashrate is %s","bitmain_scanreg",acStack_844);
                FUN_00038438(7,local_838,0);
              }
              local_854 = local_854 + 1;
              lVar8 = strtol(acStack_844,(char **)0x0,0x10);
              uVar21 = VectorShiftRight(CONCAT44(lVar8,lVar8),0x20);
              uVar21 = VectorShiftLeft(uVar21,8,0x40,0);
              uVar20 = VectorAdd(uVar20,uVar21,8);
              if (local_854 == 0x48) {
                *(undefined8 *)(&DAT_00063100 + uVar13 * 2) = uVar20;
                FUN_0003aa38((int)uVar20,(int)((ulonglong)uVar20 >> 0x20),&DAT_00065e6c + uVar13 * 0x10,5,0);
                bVar19 = DAT_000630c1 != '\0';
                *(undefined4 *)(&DAT_000631d8 + uVar13 * 4) = 0;
                if ((bVar19) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
                  snprintf(local_838,0x800,"%s: chain %d hashrate is %s","bitmain_scanreg",uVar13,
                           &DAT_00065e6c + uVar13 * 0x10);
                  FUN_00038438(7,local_838,0);
                }
                pcVar12 = (char *)((int)&DAT_000c4be0 + 3);
                uVar21 = 0;
                puVar9 = (undefined8 *)&DAT_00063100;
                do {
                  pcVar12 = pcVar12 + 1;
                  if (*pcVar12 == '\x01') {
                    uVar21 = VectorAdd(uVar21,*puVar9,8);
                  }
                  puVar9 = puVar9 + 1;
                } while (pcVar12 != (char *)0xc4be7);
                uVar20 = 0;
                local_854 = 0;
                FUN_0003aa38((int)uVar21,(int)((ulonglong)uVar21 >> 0x20),&DAT_00062e38,5,0);
              }
            }
            else if (cVar18 == 'D') {
              if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964))))
              {
                snprintf(local_838,0x800,"TEMP DATA @ Chain[%d]:local[%d] remote[%d] On Chip[%X]",uVar13,
                         (uint)local_848._1_1_,(uint)local_848._3_1_,uVar16);
                FUN_00038438(7,local_838,0);
              }
              if (uVar16 == 0x69) {
                *(ushort *)(&DAT_000c4cfc + uVar13 * 0x40) = (ushort)bVar4;
                *(ushort *)(&DAT_000c4cfe + uVar13 * 0x40) = (ushort)bVar6;
              }
              else if (uVar16 == 0xc9) {
                *(ushort *)(&DAT_000c4d04 + uVar13 * 0x40) = (ushort)bVar4;
                *(ushort *)(&DAT_000c4d06 + uVar13 * 0x40) = (ushort)bVar6;
              }
              else if (uVar16 == 0xc) {
                *(ushort *)(&DAT_000c4bcc + (uVar13 + 5) * 0x40) = (ushort)bVar4;
                *(ushort *)(&DAT_000c4d0e + uVar13 * 0x40) = (ushort)bVar6;
              }
            }
            else if (cVar18 == '\0') goto LAB_0003c8b4;
          }
          if (DAT_000630d8 == '\0') {
            if (((local_854 == 0) && (DAT_000631e8 != '\0')) &&
               (iVar10 = *(int *)(&DAT_000631d8 + uVar13 * 4), *(int *)(&DAT_000631d8 + uVar13 * 4) = iVar10 + 1,
               3 < iVar10 + 1)) goto LAB_0003c988;
          }
          else {
            *(int *)(&DAT_000631d8 + uVar13 * 4) = *(int *)(&DAT_000631d8 + uVar13 * 4) + 1;
LAB_0003c988:
            *(undefined8 *)(&DAT_00063100 + uVar13 * 2) = 0;
            FUN_0003aa38(0,0,&DAT_00065e6c + uVar13 * 0x10,3,1);
          }
          uVar15 = uVar15 + 1;
          DAT_00064330 = DAT_00064330 + 1;
          DAT_00064334 = DAT_00064334 - 1;
          if (0x35f < DAT_00064330) {
            DAT_00064330 = 0;
          }
        } while (uVar15 != uVar11);
      }
    }
    if ((DAT_000632f0 != '\0') || ((DAT_000630c0 != '\0' || (3 < DAT_00060964)))) {
      local_838[0] = 'r';
      local_838[1] = 'e';
      local_838[2] = 'g';
      local_838[3] = ' ';
      acStack_834[0] = 'f';
      acStack_834[1] = 'i';
      acStack_834[2] = 'f';
      acStack_834[3] = 'o';
      acStack_830[0] = ' ';
      acStack_830[1] = 'i';
      acStack_830[2] = 's';
      acStack_830[3] = ' ';
      acStack_82c[0] = 'f';
      acStack_82c[1] = 'u';
      acStack_82c[2] = 'l';
      acStack_82c[3] = 'l';
      local_828[0] = ' ';
      local_828[1] = '!';
      local_828[2] = '!';
      local_828[3] = '\0';
      FUN_00038438(4,local_838,0);
    }
  } while( true );
}




/* WARNING: Restarted to delay deadcode elimination for space: stack */

void FUN_0003d2f4(byte *param_1)

{
  int iVar1;
  byte bVar2;
  pthread_t __th;
  int iVar3;
  char cVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  int iVar8;
  uint __fd;
  int iVar9;
  bool bVar10;
  int *local_844;
  int local_834;
  uint local_830;
  byte local_82c;
  byte bStack_82b;
  byte local_82a;
  char local_828 [2052];
  
  __th = pthread_self();
  pthread_detach(__th);
  __fd = (uint)*param_1;
  bVar2 = param_1[4];
  uVar7 = (uint)bVar2;
  tcflush(__fd,2);
  if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (4 < DAT_00060964)) {
    snprintf(local_828,0x800,"Start A New Asic Response.Chain Id:[%d]",uVar7);
    FUN_00038438(5,local_828,0);
  }
  if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    snprintf(local_828,0x800,"%s %d","get_asic_response",uVar7);
    FUN_00038438(7,local_828,0);
  }
  local_844 = &local_834;
  do {
    while (iVar3 = ioctl(__fd,0x541b,local_844), iVar3 != 0) {
      perror("ioctl error");
      FUN_0002b21c(1);
    }
    iVar3 = local_834 >> 0x1f;
    iVar1 = local_834 / 7 + iVar3;
    iVar8 = iVar1 - iVar3;
    if (iVar1 != iVar3) {
      iVar3 = 0;
LAB_0003d4c4:
      do {
        local_830 = 0;
        bStack_82b = 0;
        local_82c = 0;
        local_82a = 0;
        FUN_0003c604(__fd,&local_830,7);
        if (DAT_000630c1 != '\0') {
          if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 7)) {
LAB_0003d51c:
            if (6 < DAT_00060964) {
LAB_0003d52c:
              snprintf(local_828,0x800,"get sth %02x%02x%02x%02x%02x%02x%02x",local_830 & 0xff,local_830 >> 8 & 0xff,
                       local_830 >> 0x10 & 0xff,local_830 >> 0x18,(uint)local_82c,(uint)bStack_82b,(uint)local_82a);
              FUN_00038438(7,local_828,0);
            }
          }
          else {
            snprintf(local_828,0x800,"Chain [%d] Read Data",uVar7);
            FUN_00038438(7,local_828,0);
            if (DAT_000630c1 != '\0') {
              if ((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) goto LAB_0003d51c;
              goto LAB_0003d52c;
            }
          }
        }
        if (-1 < (char)local_82a) {
          if ((DAT_00064334 < 0x360) && (DAT_0006432c < 0x360)) {
            pthread_mutex_lock((pthread_mutex_t *)&DAT_0006315c);
            uVar6 = DAT_0006432c;
            uVar5 = DAT_0006432c + 1;
            iVar1 = uVar5 * 8;
            *(uint *)((int)&DAT_00064330 + iVar1 + 2) = local_830;
            (&DAT_00064339)[iVar1] = bVar2;
            (&DAT_00064338)[iVar1] = local_82a;
            *(byte *)((int)&DAT_00064334 + iVar1 + 2) = local_82c;
            *(byte *)((int)&DAT_00064334 + iVar1 + 3) = bStack_82b;
            if (uVar6 < 0x35f) {
              if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964))))
              {
                snprintf(local_828,0x800,"%s: p_wr = %d reg_value_num = %d","get_asic_response",uVar6,DAT_00064334);
                FUN_00038438(7,local_828,0);
                uVar5 = DAT_0006432c + 1;
              }
            }
            else {
              DAT_0006432c = 0;
              uVar5 = DAT_0006432c;
            }
            DAT_0006432c = uVar5;
            if (DAT_00064334 < 0x360) {
              DAT_00064334 = DAT_00064334 + 1;
            }
            else {
              DAT_00064334 = 0x360;
            }
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_0006315c);
          }
          else {
            if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
              builtin_strncpy(local_828,"Will Clean!",0xc);
              FUN_00038438(7,local_828,0);
            }
            FUN_0003c69c();
          }
LAB_0003d4b8:
          iVar3 = iVar3 + 1;
          if (iVar8 == iVar3) break;
          goto LAB_0003d4c4;
        }
        if (DAT_000630f8 == '\0') goto LAB_0003d4b8;
        pthread_mutex_lock((pthread_mutex_t *)&DAT_000630dc);
        uVar6 = DAT_000c30b8;
        cVar4 = DAT_000630c1;
        bVar10 = DAT_000630c1 != '\0';
        iVar9 = DAT_000c30b8 + 1;
        iVar1 = iVar9 * 8;
        *(uint *)((int)&DAT_000c30bc + iVar1 + 2) = local_830;
        (&DAT_000c30c5)[iVar1] = bVar2;
        *(byte *)((int)&DAT_000c30c0 + iVar1 + 2) = local_82c;
        *(byte *)((int)&DAT_000c30c0 + iVar1 + 3) = bStack_82b;
        (&DAT_000c30c4)[iVar1] = local_82a;
        if (bVar10) {
          if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 7)) {
            cVar4 = '\x01';
          }
          else {
            iVar1 = uVar6 * 8;
            iVar9 = iVar9 * 8;
            snprintf(local_828,0x800,"get nonce %02x%02x%02x%02x wc %02x diff %02x crc5 %02x chainid %02x",
                     (uint)*(byte *)((int)&DAT_000c30bc + iVar9 + 2),(uint)*(byte *)((int)&DAT_000c30c6 + iVar1 + 1),
                     (uint)*(byte *)((int)&DAT_000c30c6 + iVar1 + 2),(uint)*(byte *)((int)&DAT_000c30c6 + iVar1 + 3),
                     (uint)*(byte *)((int)&DAT_000c30c0 + iVar9 + 2),(uint)*(byte *)((int)&DAT_000c30c0 + iVar9 + 3),
                     (uint)(byte)(&DAT_000c30c4)[iVar9],uVar7);
            FUN_00038438(7,local_828,0);
            uVar6 = DAT_000c30b8;
            cVar4 = DAT_000630c1;
          }
        }
        if (uVar6 < 0x35f) {
          DAT_000c30b8 = uVar6 + 1;
        }
        else {
          DAT_000c30b8 = 0;
        }
        if (DAT_000c30c0 < 0x360) {
          DAT_000c30c0 = DAT_000c30c0 + 1;
        }
        else {
          DAT_000c30c0 = 0x360;
        }
        if ((cVar4 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
          snprintf(local_828,0x800,"get nonce num %d",DAT_000c30c0);
          FUN_00038438(7,local_828,0);
        }
        iVar3 = iVar3 + 1;
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_000630dc);
      } while (iVar8 != iVar3);
    }
    FUN_0002b21c(1);
  } while( true );
}




void FUN_0003d9a4(int param_1)

{
  char acStack_6c [100];
  
  DAT_00060dea = DAT_00060dea ^ 1;
  if (param_1 == 0) {
    sprintf(acStack_6c,"echo %d > /sys/class/gpio/gpio%d/value",0,0x2d);
    system(acStack_6c);
    sprintf(acStack_6c,"echo %d > /sys/class/gpio/gpio%d/value",(uint)DAT_00060dea,0x17);
    system(acStack_6c);
  }
  else {
    sprintf(acStack_6c,"echo %d > /sys/class/gpio/gpio%d/value",0,0x17);
    system(acStack_6c);
    sprintf(acStack_6c,"echo %d > /sys/class/gpio/gpio%d/value",(uint)DAT_00060dea,0x2d);
    system(acStack_6c);
  }
  return;
}




void FUN_0003da40(int param_1)

{
  char acStack_810 [2052];
  
  if (param_1 < 0x14) {
    param_1 = 0x14;
    DAT_000c4bd0 = 20000;
  }
  else if (param_1 < 0x65) {
    DAT_000c4bd0 = param_1 * 1000;
  }
  else {
    DAT_000c4bd0 = 100000;
    param_1 = 100;
  }
  DAT_000c5467 = (undefined1)param_1;
  if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    snprintf(acStack_810,0x800,"set pwm duty_ns %d",DAT_000c4bd0);
    FUN_00038438(7,acStack_810,0);
  }
  sprintf(acStack_810,"echo %u > /sys/class/pwm/pwm1/duty_ns",DAT_000c4bd0);
  system(acStack_810);
  return;
}




void FUN_0003db30(void)

{
  uint uVar1;
  char *__format;
  char acStack_810 [2048];
  
  DAT_000631ec = DAT_000c5473;
  if (((0x4a < DAT_000c5473) && (DAT_000630c1 != '\0')) &&
     ((DAT_000632f0 != '\0' || ((DAT_000630c0 != '\0' || (6 < DAT_00060964)))))) {
    snprintf(acStack_810,0x800,"%s: Temperature is higher than %d \'C","set_PWM_according_to_temperature",DAT_000c5473);
    FUN_00038438(7,acStack_810,0);
  }
  if ((DAT_000c5490 != '\0') && (DAT_000c5491 < 0x65)) {
    FUN_0003da40();
    return;
  }
  if (DAT_000631ec == 0 || 0x4a < DAT_000631ec) {
    FUN_0003da40(100);
    DAT_000c5491 = 100;
    if (DAT_000630c1 == '\0') {
      DAT_000c5491 = 100;
      return;
    }
    if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 7)) {
      DAT_000c5491 = 100;
      return;
    }
    __format = "%s: Set PWM percent : MAX_PWM_PERCENT";
  }
  else {
    if (0x23 < DAT_000631ec) {
      if ((DAT_000631ec - DAT_000631f0) + 1U < 3) {
        return;
      }
      uVar1 = (DAT_000631ec + -0x19) * 2;
      DAT_000c5491 = (byte)uVar1;
      if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
        snprintf(acStack_810,0x800,"%s: Set PWM percent : %d","set_PWM_according_to_temperature",uVar1);
        FUN_00038438(7,acStack_810,0);
      }
      FUN_0003da40(uVar1 & 0xff);
      DAT_000631f0 = DAT_000631ec;
      return;
    }
    FUN_0003da40(0x14);
    DAT_000c5491 = 0x14;
    if (DAT_000630c1 == '\0') {
      DAT_000c5491 = 0x14;
      return;
    }
    if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 7)) {
      DAT_000c5491 = 0x14;
      return;
    }
    __format = "%s: Set PWM percent : MIN_PWM_PERCENT";
  }
  snprintf(acStack_810,0x800,__format,"set_PWM_according_to_temperature");
  FUN_00038438(7,acStack_810,0);
  return;
}




void FUN_0003ddb8(undefined1 param_1)

{
  undefined1 local_10;
  undefined1 local_f [3];
  undefined1 local_c;
  undefined1 local_b [3];
  
  local_c = 0x55;
  local_10 = 0x15;
  local_b[0] = 0xaa;
  local_f[0] = param_1;
  write(DAT_000c54a6,&local_c,1);
  FUN_0002b244(200,0);
  write(DAT_000c54a6,local_b,1);
  FUN_0002b244(200,0);
  write(DAT_000c54a6,&local_10,1);
  FUN_0002b244(200,0);
  write(DAT_000c54a6,local_f,1);
  FUN_0002b244(200,0);
  return;
}




/* WARNING: Restarted to delay deadcode elimination for space: ram */

void FUN_0003de5c(void)

{
  bool bVar1;
  undefined4 uVar2;
  char *__format;
  int iVar3;
  int iVar4;
  uint uVar5;
  undefined4 *puVar6;
  char *pcVar7;
  int *piVar8;
  int iVar9;
  uint uVar10;
  char *local_86c;
  uint local_868;
  int local_864;
  int local_860;
  int local_858;
  int local_854;
  int local_850;
  int local_84c;
  int local_848;
  int local_844;
  char local_840 [4];
  char acStack_83c [4];
  char acStack_838 [4];
  char acStack_834 [4];
  char local_830 [4];
  undefined3 uStack_82c;
  char cStack_829;
  char acStack_828 [4];
  char acStack_824 [4];
  char local_820 [4];
  char acStack_81c [4];
  char acStack_818 [4];
  char acStack_814 [4];
  undefined2 uStack_810;
  undefined1 local_80e;
  
  local_858 = 0;
  bVar1 = false;
  local_854 = 0;
  FUN_0002b13c(&local_850);
  FUN_0002b13c(&local_848);
  FUN_0002ae20(&local_858,&local_850);
  FUN_0002ae20(&DAT_00063154,&local_848);
  do {
    FUN_0002b13c(&local_850);
    FUN_0002b13c(&local_848);
    iVar3 = local_850 - local_858;
    if (local_84c - local_854 < 0) {
      iVar3 = iVar3 + -1;
    }
    if (600 < iVar3) {
      iVar3 = 0;
      iVar9 = 0;
      local_868 = 0;
      local_86c = (char *)((int)&DAT_000c4be0 + 3);
      pcVar7 = (char *)((int)&DAT_000c4be0 + 3);
      do {
        if ((pcVar7[1] != '\0') && (local_868 = local_868 + (byte)pcVar7[0x87f], (byte)pcVar7[0x87f] != 0)) {
          iVar4 = 0;
          piVar8 = (int *)(iVar9 * 0x120 + 0xc4e50);
          do {
            piVar8 = piVar8 + 1;
            iVar3 = *piVar8 + iVar3;
            if ((DAT_000630c1 != 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
              snprintf(local_840,0x800,"%s: chain %d asic %d asic_nonce_num %d","check_miner_status",iVar9,iVar4,*piVar8
                      );
              FUN_00038438(7,local_840,0);
            }
            iVar4 = iVar4 + 1;
          } while (iVar4 < (int)(uint)(byte)pcVar7[0x87f]);
        }
        uVar5 = local_868;
        iVar9 = iVar9 + 1;
        pcVar7 = pcVar7 + 1;
      } while (iVar9 != 4);
      if (local_868 == 0) {
        local_868 = 1;
      }
      else {
        local_868 = (uint)DAT_000630c1;
        if ((local_868 != 0) &&
           (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (local_868 = 0, 6 < DAT_00060964)))) {
          local_868 = 0;
          snprintf(local_840,0x800,"%s: avg_num %d asic_num %d","check_miner_status",iVar3,uVar5);
          FUN_00038438(7,local_840,0);
        }
      }
      local_864 = 0;
      do {
        if (local_86c[1] != '\0') {
          uVar5 = (uint)(byte)local_86c[0x87f];
          if (uVar5 != 0) {
            iVar3 = 0;
            uVar5 = 0;
            puVar6 = (undefined4 *)(local_864 * 0x120 + 0xc4e50);
            do {
              if ((uVar5 & 7) == 0) {
                iVar9 = uVar5 + iVar3;
                if ((0x58 < iVar9) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)))) {
                  snprintf(local_840,0x800,"asic num err![%d]",iVar9);
                  FUN_00038438(3,local_840,0);
                }
                iVar3 = iVar3 + 1;
                (&DAT_000c4bcc)[iVar9 + local_864 * 0x58 + 0x708] = 0x20;
              }
              iVar9 = uVar5 + iVar3;
              if (local_868 < (uint)puVar6[1]) {
                if ((0x58 < iVar9) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)))) {
                  snprintf(local_840,0x800,"asic num err![%d]",iVar9);
                  FUN_00038438(3,local_840,0);
                }
                (&DAT_000c4bcc)[iVar9 + local_864 * 0x58 + 0x708] = 0x6f;
              }
              else {
                if ((0x58 < iVar9) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)))) {
                  snprintf(local_840,0x800,"asic num err![%d]",iVar9);
                  FUN_00038438(3,local_840,0);
                }
                (&DAT_000c4bcc)[iVar9 + local_864 * 0x58 + 0x708] = 0x78;
              }
              if ((0x58 < (int)uVar5) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)))) {
                snprintf(local_840,0x800,"asic num err![%d]",uVar5);
                FUN_00038438(3,local_840,0);
              }
              uVar5 = uVar5 + 1;
              puVar6 = puVar6 + 1;
              *puVar6 = 0;
            } while ((int)uVar5 < (int)(uint)(byte)local_86c[0x87f]);
            uVar5 = iVar3 + uVar5;
            if ((0x58 < (int)uVar5) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)))) {
              snprintf(local_840,0x800,"asic num err![%d]",uVar5);
              FUN_00038438(3,local_840,0);
            }
          }
          (&DAT_000c52d4)[local_864 * 0x58 + uVar5] = 0;
        }
        local_864 = local_864 + 1;
        local_86c = local_86c + 1;
      } while (local_864 != 4);
      if ((DAT_00063268 / DAT_0005f898 <
           (((double)(longlong)(int)((uint)DAT_000c548b * (uint)DAT_000c5492 * (uint)DAT_000c5468 * 0x48) * 0.95) /
           2500.0) * 0.8) && (DAT_000630d8 == '\0')) {
        system("echo \"Rate too low, reboot!!\" >> /usr/bin/already_reboot");
      }
      FUN_0002ae20(&local_858,&local_850);
    }
    FUN_0003db30();
    iVar3 = local_848 - DAT_00063154;
    if (local_844 - DAT_00063158 < 0) {
      iVar3 = iVar3 + -1;
    }
    if (DAT_000c5469 == 0) {
      iVar9 = 1;
LAB_0003e5dc:
      DAT_000631f8 = DAT_000631f8 + 1;
      if (10 < DAT_000631f8) goto LAB_0003e48c;
    }
    else {
      if (DAT_000c546b < (uint)((ulonglong)((longlong)(int)((uint)DAT_000c5491 * 0x10cc) * 0x7e07e07f) >> 0x26)) {
        iVar9 = 2;
        goto LAB_0003e5dc;
      }
      if (DAT_000c546f < (uint)((ulonglong)((longlong)(int)((uint)DAT_000c5491 * 0xe10) * 0x7e07e07f) >> 0x26)) {
        iVar9 = 3;
        goto LAB_0003e5dc;
      }
      if ((DAT_000c5467 == 100) && ((DAT_000c546b < 0xf1e || (DAT_000c546f < 0xca8)))) {
        iVar9 = 4;
        goto LAB_0003e5dc;
      }
      iVar9 = 0;
      DAT_000631f8 = 0;
LAB_0003e48c:
      local_860 = iVar9;
    }
    if (((iVar3 < 0x79) && (DAT_000c5473 < 0x56)) && (local_860 == 0)) {
      uVar2 = 0;
      if (DAT_000631f4 == '\0') {
        DAT_000630d8 = '\0';
      }
    }
    else {
      DAT_000630d8 = '\x01';
      if ((DAT_000631f4 == '\0') && ((0x55 < DAT_000c5473 || (local_860 != 0)))) {
        pcVar7 = (char *)((int)&DAT_000c4be0 + 3);
        iVar3 = 0;
        DAT_000631f4 = '\x01';
        do {
          pcVar7 = pcVar7 + 1;
          if (*pcVar7 == '\x01') {
            pthread_mutex_lock((pthread_mutex_t *)&DAT_00063120);
            iVar9 = ioctl(DAT_000c54a6,0x703,*(int *)((int)&DAT_000557ac + iVar3) >> 1);
            if ((iVar9 < 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)))) {
              snprintf(local_840,0x800,"ioctl error @ line %d",0x408);
              FUN_00038438(3,local_840,0);
            }
            if (!bVar1) {
              if ((0x55 < DAT_000c5473) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)))) {
                local_840[0] = 'T';
                local_840[1] = 'e';
                local_840[2] = 'm';
                local_840[3] = 'p';
                acStack_83c[0] = ' ';
                acStack_83c[1] = 'E';
                acStack_83c[2] = 'r';
                acStack_83c[3] = 'r';
                acStack_838[0] = '!';
                acStack_838[1] = ' ';
                acStack_838[2] = 'D';
                acStack_838[3] = 'i';
                acStack_834[0] = 's';
                acStack_834[1] = 'a';
                acStack_834[2] = 'b';
                acStack_834[3] = 'l';
                local_830[0] = 'e';
                local_830[1] = ' ';
                local_830[2] = 'P';
                local_830[3] = 'I';
                uStack_82c = 0x2143;
                FUN_00038438(3,local_840,0);
              }
              uVar5 = DAT_000c546b;
              switch(local_860) {
              case 1:
                if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
                  bVar1 = true;
                  snprintf(local_840,0x800,"Fan Err! Disable PIC! Fan num is %d",(uint)DAT_000c5469);
                  FUN_00038438(3,local_840,0);
                  goto LAB_0003e6d0;
                }
                break;
              case 2:
                if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
                  __format = "Fan Err! Disable PIC! Fan1 speed is too low %d pwm %d ";
                  uVar10 = (uint)DAT_000c5467;
LAB_0003e72c:
                  bVar1 = true;
                  snprintf(local_840,0x800,__format,uVar5,uVar10);
                  FUN_00038438(3,local_840,0);
                  goto LAB_0003e6d0;
                }
                break;
              case 3:
                if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
                  __format = "Fan Err! Disable PIC! Fan2 speed is too low %d pwm %d ";
                  uVar5 = DAT_000c546f;
                  uVar10 = (uint)DAT_000c5467;
                  goto LAB_0003e72c;
                }
                break;
              case 4:
                if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
                  __format = "Fan Err! Disable PIC! MAX:%d MIN:%d";
                  uVar10 = DAT_000c546f;
                  goto LAB_0003e72c;
                }
              }
              bVar1 = true;
            }
LAB_0003e6d0:
            FUN_0003ddb8(0);
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063120);
          }
          iVar3 = iVar3 + 4;
        } while (iVar3 != 0x10);
        uVar2 = 1;
      }
      else if ((DAT_000632f0 == '\0') && ((DAT_000630c0 == '\0' && (DAT_00060964 < 3)))) {
        uVar2 = 1;
      }
      else {
        local_840[0] = 'N';
        local_840[1] = 'e';
        local_840[2] = 't';
        local_840[3] = ' ';
        acStack_83c[0] = 'E';
        acStack_83c[1] = 'r';
        acStack_83c[2] = 'r';
        acStack_83c[3] = '!';
        acStack_838[0] = ' ';
        acStack_838[1] = 'l';
        acStack_838[2] = 'a';
        acStack_838[3] = 's';
        acStack_834[0] = 't';
        acStack_834[1] = 'e';
        acStack_834[2] = 's';
        acStack_834[3] = 't';
        local_830[0] = ' ';
        local_830[1] = 'j';
        local_830[2] = 'o';
        local_830[3] = 'b';
        uStack_82c._0_1_ = ' ';
        uStack_82c._1_1_ = 'm';
        uStack_82c._2_1_ = 'o';
        cStack_829 = 'r';
        acStack_828[0] = 'e';
        acStack_828[1] = ' ';
        acStack_828[2] = 't';
        acStack_828[3] = 'h';
        acStack_824[0] = 'a';
        acStack_824[1] = 'n';
        acStack_824[2] = ' ';
        acStack_824[3] = '2';
        local_820[0] = ' ';
        local_820[1] = 'm';
        local_820[2] = 'i';
        local_820[3] = 'n';
        acStack_81c[0] = 's';
        acStack_81c[1] = '!';
        acStack_81c[2] = ' ';
        acStack_81c[3] = 'w';
        acStack_818[0] = 'a';
        acStack_818[1] = 'i';
        acStack_818[2] = 't';
        acStack_818[3] = 'i';
        acStack_814[0] = 'n';
        acStack_814[1] = 'g';
        acStack_814[2] = ' ';
        acStack_814[3] = '.';
        uStack_810 = 0x2e2e;
        local_80e = 0;
        FUN_00038438(3,local_840,0);
        uVar2 = 1;
      }
    }
    FUN_0003d9a4(uVar2);
    FUN_0002b21c(1000);
  } while( true );
}




void FUN_0003e8b8(undefined4 param_1)

{
  char acStack_88 [128];
  
  memset(acStack_88,0,0x80);
  sprintf(acStack_88,"echo %d > /sys/class/gpio/gpio%d/value",param_1,0x14);
  system(acStack_88);
  return;
}




void FUN_0003e8fc(void)

{
  uint uVar1;
  FILE *__stream;
  char *pcVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  uint local_93c;
  char local_938 [256];
  char local_838 [4];
  char acStack_834 [4];
  undefined3 local_830;
  char cStack_82d;
  char acStack_82c [4];
  char local_828 [4];
  char acStack_824 [4];
  undefined2 uStack_820;
  undefined1 local_81e;
  
  uVar4 = 0;
  local_938[0] = '\0';
  local_938[1] = '\0';
  local_938[2] = '\0';
  local_938[3] = '\0';
  memset(local_938 + 4,0,0xfc);
  __stream = fopen("/proc/interrupts","r");
  if (__stream != (FILE *)0x0) {
    fseek(__stream,0,0);
    uVar5 = 0;
    while (pcVar2 = fgets(local_938,0x100,__stream), pcVar2 != (char *)0x0) {
      pcVar2 = strstr(local_938,"256:");
      if ((pcVar2 != (char *)0x0) && (pcVar2 = strstr(local_938,"gpiolib"), pcVar2 != (char *)0x0)) {
        if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
          local_838[0] = 'f';
          local_838[1] = 'i';
          local_838[2] = 'n';
          local_838[3] = 'd';
          acStack_834[0] = ' ';
          acStack_834[1] = 'f';
          acStack_834[2] = 'a';
          acStack_834[3] = 'n';
          local_830 = 0x2e31;
          FUN_00038438(7,local_838,0);
        }
        uVar5 = FUN_0003a73c(local_938);
      }
      pcVar2 = strstr(local_938,"254:");
      if ((pcVar2 != (char *)0x0) && (pcVar2 = strstr(local_938,"gpiolib"), pcVar2 != (char *)0x0)) {
        if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
          local_838[0] = 'f';
          local_838[1] = 'i';
          local_838[2] = 'n';
          local_838[3] = 'd';
          acStack_834[0] = ' ';
          acStack_834[1] = 'f';
          acStack_834[2] = 'a';
          acStack_834[3] = 'n';
          local_830 = 0x2e32;
          FUN_00038438(7,local_838,0);
        }
        uVar4 = FUN_0003a73c(local_938);
      }
    }
    FUN_0002b21c(500);
    uVar6 = 0;
    local_93c = 0;
    while( true ) {
      if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
        snprintf(local_838,0x800,"test_loop = %d",0);
        FUN_00038438(7,local_838,0);
      }
      fseek(__stream,0,0);
      while (pcVar2 = fgets(local_938,0x100,__stream), pcVar2 != (char *)0x0) {
        pcVar2 = strstr(local_938,"256:");
        uVar3 = uVar5;
        if ((pcVar2 != (char *)0x0) && (pcVar2 = strstr(local_938,"gpiolib"), pcVar2 != (char *)0x0)) {
          if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
            local_838[0] = 'f';
            local_838[1] = 'i';
            local_838[2] = 'n';
            local_838[3] = 'd';
            acStack_834[0] = ' ';
            acStack_834[1] = 'f';
            acStack_834[2] = 'a';
            acStack_834[3] = 'n';
            local_830._0_2_ = 0x31;
            FUN_00038438(7,local_838,0);
          }
          uVar3 = FUN_0003a73c(local_938);
          if (uVar3 < uVar5) {
            uVar5 = ~uVar5;
          }
          else {
            uVar5 = -uVar5;
          }
          uVar5 = (uVar3 + uVar5) * 0x3c;
          if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
            snprintf(local_838,0x800,"fan1Speed = %d",uVar5);
            FUN_00038438(7,local_838,0);
          }
          if (3655.0 < (double)uVar5) {
            local_93c = local_93c + 1;
          }
        }
        pcVar2 = strstr(local_938,"254:");
        uVar5 = uVar3;
        if ((pcVar2 != (char *)0x0) && (pcVar2 = strstr(local_938,"gpiolib"), pcVar2 != (char *)0x0)) {
          if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
            local_838[0] = 'f';
            local_838[1] = 'i';
            local_838[2] = 'n';
            local_838[3] = 'd';
            acStack_834[0] = ' ';
            acStack_834[1] = 'f';
            acStack_834[2] = 'a';
            acStack_834[3] = 'n';
            local_830._0_2_ = 0x32;
            FUN_00038438(7,local_838,0);
          }
          uVar3 = FUN_0003a73c(local_938);
          if (uVar3 < uVar4) {
            uVar4 = ~uVar4;
          }
          else {
            uVar4 = -uVar4;
          }
          uVar1 = (uVar3 + uVar4) * 0x3c;
          if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
            snprintf(local_838,0x800,"fan2Speed = %d",uVar1);
            FUN_00038438(7,local_838,0);
          }
          uVar4 = uVar3;
          if (3060.0 < (double)uVar1) {
            uVar6 = uVar6 + 1;
          }
        }
      }
      uVar3 = uVar6;
      if (2 < uVar6) {
        uVar3 = local_93c;
      }
      if (2 < uVar3) break;
      FUN_0002b21c(500);
    }
    if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (3 < DAT_00060964)) {
      snprintf(local_838,0x800,"%s OK","check_fan_speed");
      FUN_00038438(4,local_838,0);
    }
    return;
  }
  do {
    if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
      local_838[0] = 'o';
      local_838[1] = 'p';
      local_838[2] = 'e';
      local_838[3] = 'n';
      acStack_834[0] = ' ';
      acStack_834[1] = '/';
      acStack_834[2] = 'p';
      acStack_834[3] = 'r';
      local_830._0_1_ = 'o';
      local_830._1_1_ = 'c';
      local_830._2_1_ = '/';
      cStack_82d = 'i';
      acStack_82c[0] = 'n';
      acStack_82c[1] = 't';
      acStack_82c[2] = 'e';
      acStack_82c[3] = 'r';
      local_828[0] = 'r';
      local_828[1] = 'u';
      local_828[2] = 'p';
      local_828[3] = 't';
      acStack_824[0] = ' ';
      acStack_824[1] = 'e';
      acStack_824[2] = 'r';
      acStack_824[3] = 'r';
      uStack_820 = 0x726f;
      local_81e = 0;
      FUN_00038438(3,local_838,0);
    }
    sleep(3);
  } while( true );
}




void FUN_0003ef84(undefined1 param_1,undefined1 param_2,int param_3)

{
  char *pcVar1;
  undefined *puVar2;
  undefined1 local_18;
  undefined1 local_17;
  undefined1 local_16;
  undefined1 local_15;
  undefined1 local_14;
  
  local_14 = 0;
  if (param_3 == 0) {
    local_18 = 0x42;
  }
  else {
    local_18 = 0x52;
  }
  local_17 = 4;
  local_16 = param_1;
  local_15 = param_2;
  local_14 = FUN_0003b360(&local_18,0x20);
  pcVar1 = (char *)((int)&DAT_000c4be0 + 3);
  puVar2 = &DAT_000c4bcc;
  do {
    pcVar1 = pcVar1 + 1;
    if (*pcVar1 != '\0') {
      FUN_0003bbbc(*(undefined4 *)(puVar2 + 8),&local_18,5);
    }
    puVar2 = puVar2 + 4;
    FUN_0002b21c(10);
  } while (pcVar1 != (char *)0xc4be7);
  return;
}




undefined4 FUN_0003f014(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  undefined1 uVar1;
  char *pcVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  
  iVar4 = 4;
  pcVar2 = "bitmain_L3_detect" + param_1;
  uVar1 = (&DAT_00055a74)[param_1];
  while( true ) {
    FUN_0003ef84(uVar1,0x1c,0,pcVar2,param_4);
    FUN_0002b21c(100);
    pcVar2 = (char *)0xc4be7;
    iVar3 = 0;
    iVar5 = 0;
    iVar6 = 0;
    do {
      pcVar2 = pcVar2 + 1;
      if ((*pcVar2 == '\x01') && (iVar6 = iVar6 + 1, *(int *)(&DAT_00063178 + iVar3 + param_1 * 8) == 1)) {
        iVar5 = iVar5 + 1;
      }
      iVar3 = iVar3 + 0x18;
    } while (iVar3 != 0x60);
    if (iVar6 == iVar5) break;
    iVar4 = iVar4 + -1;
    pcVar2 = (char *)0x60;
    if (iVar4 == 0) {
      return 0xffffffff;
    }
  }
  return 0;
}




void FUN_0003f0b0(void)

{
  char *pcVar1;
  int iVar2;
  
  do {
    FUN_0003ef84(0xc,0x44,0);
    FUN_0003ef84(0xc9,0x44,0);
    FUN_0002b21c(100);
    pcVar1 = (char *)((int)&DAT_000c4be0 + 3);
    iVar2 = 0;
    DAT_000c5473 = 0;
    do {
      pcVar1 = pcVar1 + 1;
      if ((*pcVar1 == '\x01') && ((int)DAT_000c5473 < (int)(short)*(ushort *)(iVar2 + 0xc4d0c))) {
        DAT_000c5473 = *(ushort *)(iVar2 + 0xc4d0c) & 0xff;
      }
      iVar2 = iVar2 + 0x40;
    } while (iVar2 != 0x100);
    sleep(10);
  } while( true );
}




void FUN_0003f138(void)

{
  do {
    pthread_mutex_lock((pthread_mutex_t *)&DAT_000631fc);
    FUN_0003ef84(0,4,1);
    DAT_000631e8 = 1;
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_000631fc);
    FUN_0002b21c(1000);
  } while( true );
}




void FUN_0003f17c(int param_1)

{
  char cVar1;
  int __fd;
  __off_t _Var2;
  ssize_t sVar3;
  int iVar4;
  int iVar5;
  undefined4 *puVar6;
  undefined *puVar7;
  char acStack_182c [4];
  char acStack_1828 [2048];
  char acStack_1028 [4100];
  
  puVar7 = &DAT_000c4bcc;
  puVar6 = (undefined4 *)&DAT_00055a74;
  iVar4 = 0;
  iVar5 = param_1;
  do {
    puVar6 = puVar6 + 1;
    sprintf(acStack_1028,"/sys/class/gpio/gpio%d/value",*puVar6);
    __fd = open(acStack_1028,0);
    if ((__fd < 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)))) {
      snprintf(acStack_1828,0x800,"%s :open %s failed","check_chain",acStack_1028);
      FUN_00038438(3,acStack_1828,0);
    }
    _Var2 = lseek(__fd,0,0);
    if (_Var2 < 0) {
      perror(acStack_1028);
    }
    sVar3 = read(__fd,acStack_182c,2);
    if ((sVar3 < 1) || (acStack_182c[0] != '1')) {
      *(undefined1 *)(iVar5 + 0x9d) = 0;
      puVar7[0x18] = 0;
    }
    else {
      *(char *)(param_1 + 0x3d) = *(char *)(param_1 + 0x3d) + '\x01';
      *(undefined1 *)(iVar5 + 0x9d) = 1;
      cVar1 = DAT_000632f0;
      puVar7[0x18] = 1;
      DAT_000c5468 = DAT_000c5468 + '\x01';
      if (((cVar1 != '\0') || (DAT_000630c0 != '\0')) || (4 < DAT_00060964)) {
        snprintf(acStack_1828,0x800," detected at %s  chain %d",acStack_1028,iVar4);
        FUN_00038438(5,acStack_1828,0);
      }
    }
    iVar4 = iVar4 + 1;
    iVar5 = iVar5 + 1;
    puVar7 = puVar7 + 1;
  } while (iVar4 != 4);
  if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (4 < DAT_00060964)) {
    snprintf(acStack_1828,0x800,"detect total chain num %d",(uint)*(byte *)(param_1 + 0x3d));
    FUN_00038438(5,acStack_1828,0);
  }
  return;
}




void FUN_0003f3b8(void *param_1,undefined4 param_2)

{
  int iVar1;
  speed_t __speed;
  int iVar2;
  void *pvVar3;
  int iVar4;
  int *piVar5;
  bool bVar6;
  termios tStack_1864;
  char local_1828 [4];
  char acStack_1824 [4];
  char acStack_1820 [4];
  char acStack_181c [4];
  undefined1 local_1818;
  char acStack_1028 [4100];
  
  acStack_1028[0] = '\0';
  acStack_1028[1] = '\0';
  acStack_1028[2] = '\0';
  acStack_1028[3] = '\0';
  memset(acStack_1028 + 4,0,0xffc);
  if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (4 < DAT_00060964)) {
    snprintf(local_1828,0x800,"in %s","tty_init");
    FUN_00038438(5,local_1828,0);
  }
  iVar4 = 0;
  iVar2 = 0;
  pvVar3 = param_1;
  do {
    if (*(char *)((int)pvVar3 + 0x9d) == '\x01') {
      sprintf(acStack_1028,"/dev/ttyO%d",*(undefined4 *)(&DAT_00055aa0 + iVar2 * 4));
      iVar1 = open(acStack_1028,0x102);
      *(int *)((int)param_1 + (iVar2 + 0x28) * 4 + 1) = iVar1;
      tcgetattr(iVar1,&tStack_1864);
      __speed = FUN_0003b268(param_2);
      if (__speed == 0) {
        if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 4)) {
          __speed = 0x1002;
        }
        else {
          snprintf(local_1828,0x800,"Unrecognized baud rate: %d,set default baud",param_2);
          FUN_00038438(4,local_1828,0);
          __speed = 0x1002;
        }
      }
      cfsetispeed(&tStack_1864,__speed);
      cfsetospeed(&tStack_1864,__speed);
      tStack_1864.c_cc[5] = '\0';
      piVar5 = (int *)((int)param_1 + (iVar2 + 0x28) * 4 + 1);
      tStack_1864.c_iflag = tStack_1864.c_iflag & 0xfffffa14;
      tStack_1864.c_lflag = tStack_1864.c_lflag & 0xffff7fb4;
      tStack_1864.c_cflag = tStack_1864.c_cflag & 0xfffffecf | 0x8b0;
      tStack_1864.c_oflag = tStack_1864.c_oflag & 0xfffffffe;
      tStack_1864.c_cc[6] = '\a';
      tcsetattr(*piVar5,0,&tStack_1864);
      tcflush(*piVar5,2);
      bVar6 = DAT_000632f0 != '\0';
      *(int *)(iVar4 + 0x65e50) = iVar2;
      *(char *)((int)param_1 + 0x9c) = (char)iVar2;
      *(char *)(iVar4 + 0x65e4c) = (char)*piVar5;
      if (((bVar6) || (DAT_000630c0 != '\0')) || (4 < DAT_00060964)) {
        snprintf(local_1828,0x800,"%s %d","tty_init",*(undefined4 *)(iVar4 + 0x65e50));
        FUN_00038438(5,local_1828,0);
      }
      iVar1 = pthread_create((pthread_t *)((int)param_1 + iVar2 * 4 + 0x2d7),(pthread_attr_t *)0x0,FUN_0003d2f4,
                             (void *)(iVar2 * 8 + 0x65e4c));
      if ((iVar1 != 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)))) {
        snprintf(local_1828,0x800,"create rx read thread for %s failed",acStack_1028);
        FUN_00038438(3,local_1828,0);
      }
      if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
        snprintf(local_1828,0x800,"Will Create Pthread @ ChainId[%d]\r",(uint)*(byte *)((int)param_1 + 0x9c));
        FUN_00038438(7,local_1828,0);
      }
      iVar1 = pthread_create((pthread_t *)((int)param_1 + iVar2 * 4 + 0x2c7),(pthread_attr_t *)0x0,FUN_0003bc80,param_1)
      ;
      FUN_0002b21c(200);
      if ((iVar1 != 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)))) {
        snprintf(local_1828,0x800,"create tx read thread for %s failed",acStack_1028);
        FUN_00038438(3,local_1828,0);
      }
    }
    iVar2 = iVar2 + 1;
    pvVar3 = (void *)((int)pvVar3 + 1);
    iVar4 = iVar4 + 8;
  } while (iVar2 != 4);
  if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (4 < DAT_00060964)) {
    local_1828[0] = 'o';
    local_1828[1] = 'p';
    local_1828[2] = 'e';
    local_1828[3] = 'n';
    acStack_1824[0] = ' ';
    acStack_1824[1] = 'd';
    acStack_1824[2] = 'e';
    acStack_1824[3] = 'v';
    acStack_1820[0] = 'i';
    acStack_1820[1] = 'c';
    acStack_1820[2] = 'e';
    acStack_1820[3] = ' ';
    acStack_181c[0] = 'o';
    acStack_181c[1] = 'v';
    acStack_181c[2] = 'e';
    acStack_181c[3] = 'r';
    local_1818 = 0;
    FUN_00038438(5,local_1828,0);
  }
  DAT_000c4bd4 = *(undefined4 *)((int)param_1 + 0xa1);
  DAT_000c4bd8 = *(undefined4 *)((int)param_1 + 0xa5);
  DAT_000c4bdc = *(undefined4 *)((int)param_1 + 0xa9);
  DAT_000c4be0 = *(undefined4 *)((int)param_1 + 0xad);
  return;
}




void FUN_0003f864(undefined4 param_1,int param_2,undefined4 param_3,int param_4,uint param_5)

{
  undefined4 uVar1;
  byte local_82c [3];
  undefined1 local_829;
  uint local_828;
  undefined1 local_824;
  char acStack_820 [2048];
  
  local_828 = 0;
  local_824 = 0;
  if (param_2 == 0) {
    local_82c[0] = 0x41;
  }
  else {
    local_82c[0] = 0x51;
  }
  local_82c[2] = (byte)param_3;
  local_829 = (undefined1)param_4;
  local_82c[1] = 8;
  if ((((param_4 == 0x18) || (param_4 == 0x1c)) || (param_4 == 0x20)) ||
     ((((param_4 == 0x34 || (param_4 == 0x3c)) || ((param_4 == 0x14 || ((param_4 == 0x10 || (param_4 == 0xc)))))) ||
      (param_4 == 8)))) {
    local_828 = param_5;
  }
  uVar1 = FUN_0003b360(local_82c,0x40);
  local_824 = (undefined1)uVar1;
  if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    snprintf(acStack_820,0x800,"Set config reg %02x : %02x%02x%02x%02x%02x%02x%02x%02x%02x",param_4,(uint)local_82c[0],8
             ,param_3,param_4,local_828 & 0xff,local_828 >> 8 & 0xff,local_828 >> 0x10 & 0xff,local_828 >> 0x18,uVar1);
    FUN_00038438(7,acStack_820,0);
  }
  FUN_0003bbbc(param_1,local_82c,9);
  return;
}




void FUN_0003f9d8(undefined1 param_1,int param_2,int param_3)

{
  undefined4 local_c;
  
  local_c = CONCAT13(param_1,0x119901);
  FUN_0003f864(*(undefined4 *)(&DAT_000c4bcc + (param_3 + 2) * 4),0,(&DAT_00055a74)[param_2],0x1c,local_c);
  usleep(2000);
  return;
}




void FUN_0003fa48(int param_1)

{
  undefined4 uVar1;
  undefined4 local_10;
  undefined1 local_c;
  
  uVar1 = *(undefined4 *)(&DAT_000c4bcc + (param_1 + 2) * 4);
  local_c = 0;
  local_10 = 0x453;
  local_c = FUN_0003b360(&local_10,0x20);
  FUN_0003bbbc(uVar1,&local_10,5);
  return;
}




void FUN_0003faa4(int param_1,byte param_2)

{
  undefined4 uVar1;
  undefined2 local_10;
  ushort uStack_e;
  undefined1 local_c;
  
  uVar1 = *(undefined4 *)(&DAT_000c4bcc + (param_1 + 2) * 4);
  local_c = 0;
  _local_10 = CONCAT22((ushort)param_2,0x440);
  local_c = FUN_0003b360(&local_10,0x20);
  FUN_0003bbbc(uVar1,&local_10,5);
  return;
}




void FUN_0003fb04(void)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  undefined *puVar5;
  char *pcVar6;
  char cVar7;
  undefined4 local_828;
  undefined1 local_824;
  
  if (DAT_000c548d == '\0') {
    DAT_000c548c = 7;
  }
  else {
    DAT_000c548c = FUN_00048f88(0x100);
    uVar1 = (uint)DAT_000c548c;
    if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (cVar7 = '\0', 4 < DAT_00060964)) {
      snprintf((char *)&local_828,0x800,"addrInterval = \'%d\'",uVar1);
      FUN_00038438(5,&local_828,0);
      uVar1 = (uint)DAT_000c548c;
      cVar7 = DAT_000632f0;
    }
    for (uVar3 = uVar1 - 1 & 0xff; uVar3 != 0; uVar3 = uVar3 >> 1) {
      DAT_000c5466 = DAT_000c5466 + '\x01';
    }
    if ((DAT_000630c1 != '\0') && (((cVar7 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      snprintf((char *)&local_828,0x800,"--- %s interval %d","software_set_address",uVar1);
      FUN_00038438(7,&local_828,0);
      cVar7 = DAT_000632f0;
    }
    pcVar6 = (char *)((int)&DAT_000c4be0 + 3);
    iVar4 = 0;
    puVar5 = &DAT_000c4bcc;
    do {
      if (((cVar7 != '\0') || (DAT_000630c0 != '\0')) || (4 < DAT_00060964)) {
        snprintf((char *)&local_828,0x800,"%s: chain %d has %d ASIC, and addrInterval is %d","software_set_address",
                 iVar4,(uint)(byte)pcVar6[0x87f],(uint)DAT_000c548c);
        FUN_00038438(5,&local_828,0);
      }
      pcVar6 = pcVar6 + 1;
      if (*pcVar6 == '\x01') {
        FUN_0003fa48(iVar4);
        FUN_0002b21c(0x1e);
        if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (4 < DAT_00060964)) {
          snprintf((char *)&local_828,0x800,"Now Set [%d] Chain Address",iVar4);
          FUN_00038438(5,&local_828,0);
        }
        iVar2 = FUN_00048f88(0x100,DAT_000c548c);
        if (iVar2 != 0) {
          cVar7 = '\0';
          uVar1 = 0;
          do {
            uVar1 = uVar1 + 1;
            local_828 = (uint)CONCAT12(cVar7,0x440);
            local_824 = 0;
            local_824 = FUN_0003b360(&local_828,0x20);
            FUN_0003bbbc(*(undefined4 *)(puVar5 + 8),&local_828,5);
            cVar7 = cVar7 + DAT_000c548c;
            FUN_0002b21c(10);
            uVar3 = FUN_00048f88(0x100,DAT_000c548c);
          } while (uVar1 < uVar3);
        }
      }
      iVar4 = iVar4 + 1;
      puVar5 = puVar5 + 4;
      cVar7 = DAT_000632f0;
    } while (iVar4 != 4);
  }
  return;
}




void FUN_0003fe10(uint param_1,uint param_2,int param_3)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  undefined *puVar5;
  char *pcVar6;
  
  pcVar6 = (char *)((int)&DAT_000c4be0 + 3);
  puVar5 = &DAT_000c4bcc;
  uVar4 = (param_2 & 1) << 7 | (param_1 & 0xff) << 0x10 | param_3 << 0x18;
  do {
    pcVar6 = pcVar6 + 1;
    if (*pcVar6 == '\x01') {
      uVar1 = 0;
      uVar2 = 0;
      while( true ) {
        uVar4 = uVar4 & 0xfffff0ff | (uVar1 & 0xf) << 8;
        uVar3 = uVar2 + 1;
        FUN_0003f864(*(undefined4 *)(puVar5 + 8),1,0,0x3c,uVar4);
        FUN_0002b21c(10);
        if (uVar3 == 0xc) break;
        uVar1 = uVar2 + 3;
        uVar2 = uVar3;
        if ((int)uVar3 < 6) {
          uVar1 = uVar3;
        }
      }
    }
    puVar5 = puVar5 + 4;
  } while (pcVar6 != (char *)0xc4be7);
  return;
}




void FUN_0003fea4(uint param_1,uint param_2,uint param_3,int param_4)

{
  char *pcVar1;
  undefined *puVar2;
  uint uVar3;
  char acStack_818 [2048];
  
  uVar3 = (param_3 & 1) << 7 | (param_2 & 0xf) << 8 | (param_1 & 0xff) << 0x10 | param_4 << 0x18;
  if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (4 < DAT_00060964)) {
    snprintf(acStack_818,0x800,"opt_bitmain_L3_core_temp : %x",(int)DAT_00060deb);
    FUN_00038438(5,acStack_818,0);
  }
  pcVar1 = (char *)((int)&DAT_000c4be0 + 3);
  puVar2 = &DAT_000c4bcc;
  do {
    pcVar1 = pcVar1 + 1;
    if (*pcVar1 == '\x01') {
      FUN_0003f864(*(undefined4 *)(puVar2 + 8),0,0xc,0x3c,uVar3);
      FUN_0002b21c(1);
      FUN_0003f864(*(undefined4 *)(puVar2 + 8),0,0xc9,0x3c,uVar3);
      FUN_0002b21c(1);
    }
    puVar2 = puVar2 + 4;
  } while (pcVar1 != (char *)0xc4be7);
  return;
}




void FUN_0003ffac(void)

{
  char *pcVar1;
  undefined *puVar2;
  undefined4 *puVar3;
  
  pcVar1 = (char *)((int)&DAT_000c4be0 + 3);
  puVar3 = (undefined4 *)&DAT_00063178;
  puVar2 = &DAT_000c4bcc;
  do {
    pcVar1 = pcVar1 + 1;
    if (*pcVar1 == '\x01') {
      FUN_0003f864(*(undefined4 *)(puVar2 + 8),0,0xc,0x1c,0x9803);
      *puVar3 = 4;
      usleep(200);
      FUN_0003f864(*(undefined4 *)(puVar2 + 8),0,0xc9,0x1c,0x9803);
      puVar3[2] = 4;
      usleep(200);
    }
    puVar2 = puVar2 + 4;
    puVar3 = puVar3 + 6;
  } while (pcVar1 != (char *)0xc4be7);
  return;
}




void FUN_00040064(byte param_1)

{
  char *pcVar1;
  undefined *puVar2;
  undefined4 *puVar3;
  undefined4 local_1c;
  
  pcVar1 = (char *)((int)&DAT_000c4be0 + 3);
  puVar3 = (undefined4 *)&DAT_00063178;
  puVar2 = &DAT_000c4bcc;
  local_1c = CONCAT22((ushort)param_1,0x9801);
  do {
    pcVar1 = pcVar1 + 1;
    if (*pcVar1 == '\x01') {
      FUN_0003f864(*(undefined4 *)(puVar2 + 8),0,0xc,0x1c,local_1c);
      *puVar3 = 4;
      usleep(200);
      FUN_0003f864(*(undefined4 *)(puVar2 + 8),0,0xc9,0x1c,local_1c);
      puVar3[2] = 4;
      usleep(200);
    }
    puVar2 = puVar2 + 4;
    puVar3 = puVar3 + 6;
  } while (pcVar1 != (char *)0xc4be7);
  FUN_0002b21c(200);
  return;
}




void FUN_00040128(void)

{
  char *pcVar1;
  undefined *puVar2;
  char *pcVar3;
  undefined *puVar4;
  
  pcVar1 = (char *)((int)&DAT_000c4be0 + 3);
  puVar2 = &DAT_000c4bcc;
  pcVar3 = pcVar1;
  puVar4 = puVar2;
  do {
    pcVar3 = pcVar3 + 1;
    if (*pcVar3 == '\x01') {
      FUN_0003f864(*(undefined4 *)(puVar4 + 8),1,0,0x18,0x103a4041);
      FUN_0002b21c(2);
    }
    puVar4 = puVar4 + 4;
  } while (pcVar3 != (char *)0xc4be7);
  do {
    pcVar1 = pcVar1 + 1;
    if (*pcVar1 == '\x01') {
      FUN_0003f864(*(undefined4 *)(puVar2 + 8),0,0xc,0x18,0x707a4041);
      FUN_0002b21c(2);
      FUN_0003f864(*(undefined4 *)(puVar2 + 8),0,0xc9,0x18,0x707a4041);
      FUN_0002b21c(2);
    }
    puVar2 = puVar2 + 4;
  } while (pcVar1 != (char *)0xc4be7);
  FUN_0002b21c(100);
  FUN_0003ef84(0,0x18,1);
  return;
}




void FUN_0004022c(int param_1)

{
  int iVar1;
  undefined4 uVar2;
  size_t sVar3;
  int iVar4;
  int iVar5;
  char *pcVar6;
  undefined *puVar7;
  undefined4 local_844;
  char local_840 [32];
  undefined4 local_820;
  char acStack_81c [4];
  char acStack_818 [4];
  char acStack_814 [4];
  char local_810 [4];
  char acStack_80c [4];
  char acStack_808 [4];
  undefined2 uStack_804;
  undefined1 local_802;
  
  iVar5 = 0;
  local_840[4] = '\0';
  local_840[5] = '\0';
  local_840[6] = '\0';
  local_840[7] = '\0';
  local_844 = 0;
  local_840[8] = '\0';
  local_840[9] = '\0';
  local_840[10] = '\0';
  local_840[0xb] = '\0';
  local_840[0] = '\0';
  local_840[1] = '\0';
  local_840[2] = '\0';
  local_840[3] = '\0';
  local_840[0xc] = '\0';
  local_840[0xd] = '\0';
  local_840[0xe] = '\0';
  local_840[0xf] = '\0';
  local_840[0x10] = '\0';
  local_840[0x11] = '\0';
  local_840[0x12] = '\0';
  local_840[0x13] = '\0';
  local_840[0x14] = '\0';
  local_840[0x15] = '\0';
  local_840[0x16] = '\0';
  local_840[0x17] = '\0';
  local_840[0x18] = '\0';
  local_840[0x19] = '\0';
  local_840[0x1a] = '\0';
  local_840[0x1b] = '\0';
  local_840[0x1c] = '\0';
  local_840[0x1d] = '\0';
  local_840[0x1e] = '\0';
  local_840[0x1f] = '\0';
  do {
    iVar1 = iVar5 * 2;
    iVar4 = iVar5 << 3;
    iVar5 = iVar5 + 1;
    if (param_1 == (&DAT_00055478)[iVar1]) goto LAB_00040290;
  } while (iVar5 != 100);
  if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 4)) {
    iVar4 = 0x20;
  }
  else {
    local_820._0_1_ = 'e';
    local_820._1_1_ = 'r';
    local_820._2_1_ = 'r';
    local_820._3_1_ = 'o';
    acStack_81c[0] = 'r';
    acStack_81c[1] = ' ';
    acStack_81c[2] = 'f';
    acStack_81c[3] = 'r';
    acStack_818[0] = 'e';
    acStack_818[1] = 'q';
    acStack_818[2] = ',';
    acStack_818[3] = 's';
    acStack_814[0] = 'e';
    acStack_814[1] = 't';
    acStack_814[2] = ' ';
    acStack_814[3] = 'd';
    local_810[0] = 'e';
    local_810[1] = 'f';
    local_810[2] = 'a';
    local_810[3] = 'u';
    acStack_80c[0] = 'l';
    acStack_80c[1] = 't';
    acStack_80c[2] = ' ';
    acStack_80c[3] = 'i';
    acStack_808[0] = 'n';
    acStack_808[1] = 's';
    acStack_808[2] = 't';
    acStack_808[3] = 'e';
    uStack_804 = 0x6461;
    local_802 = 0;
    FUN_00038438(4,&local_820,0);
    iVar4 = 0x20;
  }
LAB_00040290:
  sprintf(local_840,"%08x",*(undefined4 *)((int)&DAT_0005547c + iVar4));
  if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    snprintf((char *)&local_820,0x800,"regdata: %s",local_840);
    FUN_00038438(7,&local_820,0);
  }
  sVar3 = strlen(local_840);
  iVar5 = FUN_000295b8(&local_844,local_840,sVar3 >> 1);
  if (iVar5 == 0) {
    snprintf((char *)&local_820,0x800,"Invalid vil plldata for reg data, hex2bin error now: %s",local_840);
    FUN_00038438(3,&local_820,1);
    FUN_00016724(1);
  }
  if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    snprintf((char *)&local_820,0x800,"%s: frequency = %d","set_frequency",param_1);
    FUN_00038438(7,&local_820,0);
  }
  uVar2 = local_844;
  pcVar6 = (char *)((int)&DAT_000c4be0 + 3);
  iVar5 = 0;
  puVar7 = &DAT_000c4bcc;
  do {
    pcVar6 = pcVar6 + 1;
    if (*pcVar6 == '\x01') {
      FUN_0003f864(*(undefined4 *)(puVar7 + 8),1,0,8,uVar2);
      *(short *)(&DAT_000c549e + iVar5) = (short)param_1;
      FUN_0002b244(10000,0);
    }
    iVar5 = iVar5 + 2;
    puVar7 = puVar7 + 4;
  } while (iVar5 != 8);
  return;
}




void FUN_000404d8(undefined4 param_1)

{
  undefined4 uVar1;
  int iVar2;
  char *pcVar3;
  undefined *puVar4;
  undefined4 local_824;
  char acStack_820 [2052];
  
  local_824 = 0;
  FUN_0003a904(param_1,&local_824);
  if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    snprintf(acStack_820,0x800,"%s: frequency = %d","set_frequency_i",param_1);
    FUN_00038438(7,acStack_820,0);
  }
  uVar1 = local_824;
  pcVar3 = (char *)((int)&DAT_000c4be0 + 3);
  iVar2 = 0;
  puVar4 = &DAT_000c4bcc;
  do {
    pcVar3 = pcVar3 + 1;
    if (*pcVar3 == '\x01') {
      FUN_0003f864(*(undefined4 *)(puVar4 + 8),1,0,8,uVar1);
      *(short *)(&DAT_000c549e + iVar2) = (short)param_1;
      FUN_0002b244(10000,0);
    }
    iVar2 = iVar2 + 2;
    puVar4 = puVar4 + 4;
  } while (iVar2 != 8);
  return;
}




void FUN_000405f0(int param_1,undefined4 param_2,undefined4 param_3)

{
  undefined4 local_814;
  char acStack_810 [2048];
  
  local_814 = 0;
  FUN_0003a904(param_2,&local_814);
  if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    snprintf(acStack_810,0x800,"%s: frequency = %d","set_frequency_with_addr_i",param_2);
    FUN_00038438(7,acStack_810,0);
  }
  FUN_0003f864(*(undefined4 *)(&DAT_000c4bcc + (param_1 + 2) * 4),0,param_3,8,local_814);
  FUN_0002b21c(2);
  return;
}




void FUN_000406dc(void)

{
  char cVar1;
  char cVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  char *pcVar6;
  int iVar7;
  undefined4 *puVar8;
  char *pcVar9;
  char *pcVar10;
  char *pcVar11;
  int iVar12;
  char *pcVar13;
  int iVar14;
  int local_854;
  int local_850;
  char local_848 [2084];
  
  pcVar10 = (char *)0xc4be7;
  pcVar6 = local_848 + 0x18;
  iVar12 = 0;
  iVar5 = 0;
  local_848[0] = '\0';
  local_848[1] = '\0';
  local_848[2] = '\0';
  local_848[3] = '\0';
  local_848[4] = '\0';
  local_848[5] = '\0';
  local_848[6] = '\0';
  local_848[7] = '\0';
  local_848[8] = '\0';
  local_848[9] = '\0';
  local_848[10] = '\0';
  local_848[0xb] = '\0';
  local_848[0xc] = '\0';
  local_848[0xd] = '\0';
  local_848[0xe] = '\0';
  local_848[0xf] = '\0';
  local_848[0x10] = '\0';
  local_848[0x11] = '\0';
  local_848[0x12] = '\0';
  local_848[0x13] = '\0';
  local_848[0x14] = '\0';
  local_848[0x15] = '\0';
  local_848[0x16] = '\0';
  local_848[0x17] = '\0';
  FUN_0003fea4(3,DAT_00060deb,0,0);
  local_848[0x18] = 0xd8;
  local_848[0x19] = 0xd8;
  local_848[0x1a] = 0xd8;
  local_848[0x1b] = 0xd8;
  local_848[0x1c] = 0xd8;
  local_848[0x1d] = 0xd8;
  local_848[0x1e] = 0xd8;
  local_848[0x1f] = 0xd8;
  do {
    pcVar10 = pcVar10 + 1;
    if (*pcVar10 == '\x01') {
      iVar12 = iVar12 + 1;
      FUN_0003f9d8((int)*pcVar6,0,iVar5);
      FUN_0003f9d8((int)pcVar6[1],1,iVar5);
    }
    iVar5 = iVar5 + 1;
    pcVar6 = pcVar6 + 2;
  } while (iVar5 != 4);
  FUN_0002b21c(200);
  local_850 = 0xb;
  do {
    iVar5 = 0;
    FUN_00040064();
    do {
      iVar3 = FUN_0003f014(iVar5);
      if (iVar3 == 0) {
        pcVar6 = (char *)0xc4be7;
        puVar8 = (undefined4 *)(&DAT_00063178 + iVar5 * 8);
        iVar3 = 0;
        do {
          pcVar6 = pcVar6 + 1;
          if (*pcVar6 == '\x01') {
            cVar1 = *(char *)(puVar8 + 1);
            local_848[iVar3 * 2 + iVar5] = cVar1;
            if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
              snprintf(local_848 + 0x20,0x800,"Chain %d chip %d LocalTemp 0x%x ",iVar3,iVar5,(int)cVar1);
              FUN_00038438(7,local_848 + 0x20,0);
            }
            *puVar8 = 4;
          }
          iVar3 = iVar3 + 1;
          puVar8 = puVar8 + 6;
        } while (iVar3 != 4);
      }
      else if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)) {
        snprintf(local_848 + 0x20,0x800,"Get [%d]Temp Data Failed!",iVar5);
        FUN_00038438(3,local_848 + 0x20,0);
      }
      iVar5 = iVar5 + 1;
      FUN_0002b21c(2);
    } while (iVar5 != 2);
    FUN_00040064(1);
    iVar5 = 0;
    do {
      iVar3 = FUN_0003f014(iVar5);
      if (iVar3 == 0) {
        pcVar10 = (char *)0xc4be7;
        pcVar6 = &DAT_0006317c + iVar5 * 8;
        iVar3 = 0;
        do {
          cVar1 = DAT_000632f0;
          pcVar10 = pcVar10 + 1;
          if (*pcVar10 == '\x01') {
            pcVar6[-0xffffffff00000004] = '\x04';
            pcVar6[-0xffffffff00000003] = '\0';
            pcVar6[-0xffffffff00000002] = '\0';
            pcVar6[-0xffffffff00000001] = '\0';
            cVar2 = *pcVar6;
            local_848[iVar3 * 2 + iVar5 + 8] = cVar2;
            if (((cVar1 != '\0') || (DAT_000630c0 != '\0')) || (4 < DAT_00060964)) {
              snprintf(local_848 + 0x20,0x800,"Chain %d chip %d RemoteTemp 0x%x",iVar3,iVar5,(int)cVar2);
              FUN_00038438(5,local_848 + 0x20,0);
            }
          }
          iVar3 = iVar3 + 1;
          pcVar6 = pcVar6 + 0x18;
        } while (iVar3 != 4);
      }
      else if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
        snprintf(local_848 + 0x20,0x800,"Get [%d]Temp Data Failed!",iVar5);
        FUN_00038438(7,local_848 + 0x20,0);
      }
      iVar5 = iVar5 + 1;
      FUN_0002b21c(2);
    } while (iVar5 != 2);
    pcVar6 = (char *)0xc4be7;
    iVar5 = 0;
    local_854 = 0;
    do {
      pcVar6 = pcVar6 + 1;
      if (*pcVar6 == '\x01') {
        iVar3 = iVar5 * 2;
        pcVar11 = local_848 + iVar3 + 0x10;
        pcVar9 = local_848 + iVar3 + 0x18;
        iVar7 = 0;
        pcVar10 = local_848 + iVar3 + 8;
        pcVar13 = local_848 + iVar3;
        do {
          iVar14 = (int)*pcVar13;
          iVar3 = (int)*pcVar10;
          if ((*pcVar10 == '\0') && (*pcVar11 != '\x01')) {
            if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (4 < DAT_00060964)) {
              snprintf(local_848 + 0x20,0x800,"Remote = 0 Chain %d chip %d local 0x%x remote 0x%x offset 0x%x ",iVar5,
                       iVar7,iVar14,iVar3,(int)*pcVar9);
              FUN_00038438(5,local_848 + 0x20,0);
            }
            cVar1 = *pcVar9;
            *pcVar9 = cVar1 + '\x1e';
            FUN_0003f9d8((int)(char)(cVar1 + '\x1e'),iVar7,iVar5);
          }
          else {
            iVar4 = iVar3 - iVar14;
            if (iVar4 < 0) {
              iVar4 = -iVar4;
            }
            if (iVar4 < 3) {
              if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (4 < DAT_00060964)) {
                snprintf(local_848 + 0x20,0x800,"OK Chain %d chip %d local 0x%x remote 0x%x offset 0x%x ",iVar5,iVar7,
                         iVar14,iVar3,(int)*pcVar9);
                FUN_00038438(5,local_848 + 0x20,0);
              }
              if (*pcVar11 != '\x01') {
                *pcVar11 = '\x01';
                local_854 = local_854 + 1;
              }
            }
            else {
              if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (4 < DAT_00060964)) {
                snprintf(local_848 + 0x20,0x800,"2 Chain %d chip %d local 0x%x remote 0x%x offset 0x%x ",iVar5,iVar7,
                         iVar14,iVar3,(int)*pcVar9);
                FUN_00038438(5,local_848 + 0x20,0);
              }
              cVar1 = (*pcVar13 + *pcVar9) - *pcVar10;
              *pcVar9 = cVar1;
              FUN_0003f9d8((int)cVar1,iVar7,iVar5);
            }
          }
          iVar7 = iVar7 + 1;
          pcVar9 = pcVar9 + 1;
          pcVar11 = pcVar11 + 1;
          pcVar10 = pcVar10 + 1;
          pcVar13 = pcVar13 + 1;
        } while (iVar7 != 2);
      }
      iVar5 = iVar5 + 1;
    } while (iVar5 != 4);
    FUN_0002b21c(200);
    FUN_00040064(0x11);
    FUN_0003ef84(0xc,0x1c,0);
  } while ((iVar12 << 1 != local_854) && (local_850 = local_850 + -1, local_850 != 0));
  return;
}




void FUN_00040d00(uint param_1)

{
  char *pcVar1;
  undefined *puVar2;
  uint uVar3;
  char acStack_818 [2048];
  
  uVar3 = param_1 << 0x18 | (param_1 >> 8 & 0xff) << 0x10 | (param_1 >> 0x10 & 0xff) << 8 | param_1 >> 0x18;
  if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    snprintf(acStack_818,0x800,"%s tm=%d","set_asic_ticket_mask",uVar3);
    FUN_00038438(7,acStack_818,0);
  }
  pcVar1 = (char *)((int)&DAT_000c4be0 + 3);
  puVar2 = &DAT_000c4bcc;
  do {
    pcVar1 = pcVar1 + 1;
    if (*pcVar1 == '\x01') {
      FUN_0003f864(*(undefined4 *)(puVar2 + 8),1,0,0x14,uVar3);
      FUN_0002b21c(1);
    }
    puVar2 = puVar2 + 4;
  } while (pcVar1 != (char *)0xc4be7);
  return;
}




void FUN_00040dec(undefined1 param_1,void *param_2,int param_3)

{
  void *__buf;
  void *pvVar1;
  undefined1 local_14 [4];
  
  local_14[0] = param_1;
  write(DAT_000c54a6,local_14,1);
  FUN_0002b21c(100);
  if (param_3 != 0) {
    __buf = param_2;
    do {
      pvVar1 = (void *)((int)__buf + 1);
      read(DAT_000c54a6,__buf,1);
      FUN_0002b21c(100);
      __buf = pvVar1;
    } while (pvVar1 != (void *)((int)param_2 + (param_3 - 1U & 0xff) + 1));
  }
  return;
}




void FUN_00040e64(undefined4 param_1)

{
  undefined1 local_14;
  undefined1 local_13 [7];
  
  local_14 = 0x55;
  local_13[0] = 0xaa;
  write(DAT_000c54a6,&local_14,1);
  FUN_0002b244(200,0);
  write(DAT_000c54a6,local_13,1);
  FUN_0002b244(200,0);
  FUN_00040dec(0x13,param_1,0xc);
  return;
}




undefined4 FUN_00040ed8(void)

{
  undefined1 local_10 [4];
  undefined1 local_c;
  undefined1 local_b [3];
  
  local_10[0] = 6;
  local_c = 0x55;
  local_b[0] = 0xaa;
  write(DAT_000c54a6,&local_c,1);
  FUN_0002b244(200,0);
  write(DAT_000c54a6,local_b,1);
  FUN_0002b244(200,0);
  write(DAT_000c54a6,local_10,1);
  FUN_0002b244(100000,0);
  return 0;
}




undefined4 FUN_00040f64(void)

{
  undefined1 local_10 [4];
  undefined1 local_c;
  undefined1 local_b [3];
  
  local_10[0] = 7;
  local_c = 0x55;
  local_b[0] = 0xaa;
  write(DAT_000c54a6,&local_c,1);
  FUN_0002b244(200,0);
  write(DAT_000c54a6,local_b,1);
  FUN_0002b244(200,0);
  write(DAT_000c54a6,local_10,1);
  FUN_0002b244(100000,0);
  return 0;
}




void FUN_00040ff0(void)

{
  pthread_mutex_lock((pthread_mutex_t *)&DAT_00063214);
  write(DAT_000c54a6,&DAT_00060dec,1);
  write(DAT_000c54a6,&DAT_00060df0,1);
  pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063214);
  return;
}




void FUN_00041040(undefined1 param_1,undefined1 param_2)

{
  undefined1 local_12;
  undefined1 local_11 [5];
  
  local_12 = param_2;
  local_11[0] = param_1;
  FUN_00040ff0();
  pthread_mutex_lock((pthread_mutex_t *)&DAT_00063214);
  write(DAT_000c54a6,&DAT_00060df4,1);
  write(DAT_000c54a6,local_11,1);
  write(DAT_000c54a6,&local_12,1);
  pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063214);
  return;
}




void FUN_000410b0(void *param_1,void *param_2)

{
  FUN_00040ff0();
  pthread_mutex_lock((pthread_mutex_t *)&DAT_00063214);
  write(DAT_000c54a6,&DAT_00060df8,1);
  read(DAT_000c54a6,param_1,1);
  read(DAT_000c54a6,param_2,1);
  pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063214);
  return;
}




void FUN_00041118(int param_1)

{
  void *__buf;
  int iVar1;
  
  FUN_00040ff0();
  iVar1 = 0;
  pthread_mutex_lock((pthread_mutex_t *)&DAT_00063214);
  write(DAT_000c54a6,&DAT_00060dfc,1);
  do {
    __buf = (void *)(param_1 + iVar1);
    iVar1 = iVar1 + 1;
    write(DAT_000c54a6,__buf,1);
  } while (iVar1 != 0x10);
  pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063214);
  return;
}




void FUN_00041178(void)

{
  FUN_00040ff0();
  pthread_mutex_lock((pthread_mutex_t *)&DAT_00063214);
  write(DAT_000c54a6,&DAT_00060e00,1);
  pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063214);
  usleep(500000);
  return;
}




void FUN_000411c4(void)

{
  FUN_00040ff0();
  pthread_mutex_lock((pthread_mutex_t *)&DAT_00063214);
  write(DAT_000c54a6,&DAT_00060e04,1);
  pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063214);
  usleep(500000);
  return;
}




void FUN_00041210(int param_1)

{
  void *__buf;
  int iVar1;
  
  FUN_00040ff0();
  iVar1 = 0;
  pthread_mutex_lock((pthread_mutex_t *)&DAT_00063214);
  write(DAT_000c54a6,&DAT_00060e08,1);
  do {
    __buf = (void *)(param_1 + iVar1);
    iVar1 = iVar1 + 1;
    read(DAT_000c54a6,__buf,1);
  } while (iVar1 != 0x10);
  pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063214);
  return;
}




void FUN_00041270(void)

{
  FUN_00040ff0();
  printf("\n--- %s\n","pic_reset");
  pthread_mutex_lock((pthread_mutex_t *)&DAT_00063214);
  write(DAT_000c54a6,&DAT_00060e0c,1);
  pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063214);
  usleep(600000);
  return;
}




void FUN_000412d0(void)

{
  FUN_00040ff0();
  pthread_mutex_lock((pthread_mutex_t *)&DAT_00063214);
  write(DAT_000c54a6,&DAT_00060e10,1);
  pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063214);
  usleep(500000);
  return;
}




void FUN_0004131c(int param_1)

{
  void *__buf;
  int iVar1;
  
  FUN_00040ff0();
  iVar1 = 0;
  pthread_mutex_lock((pthread_mutex_t *)&DAT_00063214);
  write(DAT_000c54a6,&DAT_00060e14,1);
  do {
    __buf = (void *)(param_1 + iVar1);
    iVar1 = iVar1 + 1;
    write(DAT_000c54a6,__buf,1);
    usleep(5000);
  } while (iVar1 != 8);
  pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063214);
  usleep(500000);
  return;
}




void FUN_00041390(int param_1)

{
  void *__buf;
  int iVar1;
  
  FUN_00040ff0();
  iVar1 = 0;
  pthread_mutex_lock((pthread_mutex_t *)&DAT_00063214);
  write(DAT_000c54a6,&DAT_00060e18,1);
  do {
    __buf = (void *)(param_1 + iVar1);
    iVar1 = iVar1 + 1;
    read(DAT_000c54a6,__buf,1);
  } while (iVar1 != 8);
  pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063214);
  usleep(500000);
  return;
}




void FUN_000413fc(int param_1)

{
  void *__buf;
  int iVar1;
  
  FUN_00040ff0();
  iVar1 = 0;
  pthread_mutex_lock((pthread_mutex_t *)&DAT_00063214);
  write(DAT_000c54a6,&DAT_00060e1c,1);
  do {
    __buf = (void *)(param_1 + iVar1);
    iVar1 = iVar1 + 1;
    write(DAT_000c54a6,__buf,1);
    usleep(5000);
  } while (iVar1 != 6);
  pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063214);
  usleep(500000);
  return;
}




void FUN_00041470(int param_1)

{
  void *__buf;
  int iVar1;
  
  FUN_00040ff0();
  iVar1 = 0;
  pthread_mutex_lock((pthread_mutex_t *)&DAT_00063214);
  write(DAT_000c54a6,&DAT_00060e20,1);
  do {
    __buf = (void *)(param_1 + iVar1);
    iVar1 = iVar1 + 1;
    read(DAT_000c54a6,__buf,1);
  } while (iVar1 != 6);
  pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063214);
  usleep(500000);
  return;
}




void FUN_000414dc(int param_1)

{
  void *__buf;
  int iVar1;
  
  FUN_00040ff0();
  iVar1 = 0;
  pthread_mutex_lock((pthread_mutex_t *)&DAT_00063214);
  write(DAT_000c54a6,&DAT_00060e24,1);
  do {
    __buf = (void *)(param_1 + iVar1);
    iVar1 = iVar1 + 1;
    write(DAT_000c54a6,__buf,1);
    usleep(5000);
  } while (iVar1 != 0xc);
  pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063214);
  usleep(500000);
  return;
}




void FUN_00041550(int param_1)

{
  void *__buf;
  int iVar1;
  
  FUN_00040ff0();
  iVar1 = 0;
  pthread_mutex_lock((pthread_mutex_t *)&DAT_00063214);
  write(DAT_000c54a6,&DAT_00060e28,1);
  do {
    __buf = (void *)(param_1 + iVar1);
    iVar1 = iVar1 + 1;
    read(DAT_000c54a6,__buf,1);
  } while (iVar1 != 0xc);
  pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063214);
  usleep(500000);
  return;
}




void FUN_000415bc(int param_1)

{
  void *__buf;
  int iVar1;
  
  FUN_00040ff0();
  iVar1 = 0;
  pthread_mutex_lock((pthread_mutex_t *)&DAT_00063214);
  write(DAT_000c54a6,&DAT_00060e2c,1);
  do {
    __buf = (void *)(param_1 + iVar1);
    iVar1 = iVar1 + 1;
    write(DAT_000c54a6,__buf,1);
  } while (iVar1 != 0xc);
  pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063214);
  usleep(500000);
  return;
}




void FUN_00041628(int param_1,void *param_2)

{
  void *__buf;
  int iVar1;
  
  FUN_00040ff0();
  pthread_mutex_lock((pthread_mutex_t *)&DAT_00063214);
  write(DAT_000c54a6,&DAT_00060e30,1);
  write(DAT_000c54a6,param_2,1);
  pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063214);
  iVar1 = 0;
  FUN_00040ff0();
  pthread_mutex_lock((pthread_mutex_t *)&DAT_00063214);
  write(DAT_000c54a6,&DAT_00060e34,1);
  do {
    __buf = (void *)(param_1 + iVar1);
    iVar1 = iVar1 + 1;
    read(DAT_000c54a6,__buf,1);
  } while (iVar1 != 0x10);
  pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063214);
  usleep(500000);
  return;
}




void FUN_000416d0(void)

{
  undefined1 local_19 [5];
  
  local_19[0] = 1;
  FUN_00040ff0();
  pthread_mutex_lock((pthread_mutex_t *)&DAT_00063214);
  write(DAT_000c54a6,&DAT_00060e38,1);
  write(DAT_000c54a6,local_19,1);
  pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063214);
  return;
}




void FUN_00041734(void)

{
  undefined1 local_11;
  
  local_11 = 0;
  FUN_00040ff0();
  pthread_mutex_lock((pthread_mutex_t *)&DAT_00063214);
  write(DAT_000c54a6,&DAT_00060e38,1);
  write(DAT_000c54a6,&local_11,1);
  pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063214);
  return;
}




void FUN_00041798(void *param_1)

{
  FUN_00040ff0();
  pthread_mutex_lock((pthread_mutex_t *)&DAT_00063214);
  write(DAT_000c54a6,&DAT_00060e3c,1);
  read(DAT_000c54a6,param_1,1);
  pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063214);
  return;
}




void FUN_000417ec(void)

{
  int iVar1;
  
  iVar1 = 100;
  FUN_00041040(3,0);
  printf("%s: erase_loop = %d\n","pic_erase_flash_all",100);
  do {
    FUN_000411c4();
    iVar1 = iVar1 + -1;
  } while (iVar1 != 0);
  return;
}




void FUN_00041828(void)

{
  FILE *__stream;
  ulong uVar1;
  undefined4 *puVar2;
  int iVar3;
  int iVar4;
  char acStack_9d80 [8];
  undefined4 local_9d78;
  undefined4 uStack_9d74;
  undefined4 uStack_9d70;
  undefined4 local_9d6c;
  undefined4 local_9d68;
  undefined4 local_9d64 [10069];
  
  memset(&local_9d68,0,0x9d58);
  uStack_9d74 = 0;
  acStack_9d80[0] = '\0';
  uStack_9d70 = 0;
  local_9d78 = 0;
  local_9d6c = 0;
  acStack_9d80[1] = 0;
  acStack_9d80[2] = 0;
  acStack_9d80[3] = 0;
  acStack_9d80[4] = 0;
  puts("\n--- update pic program");
  __stream = fopen("/sbin/pic.txt","r");
  if (__stream == (FILE *)0x0) {
    printf("\n%s: open hash_s8_app.txt failed\n","update_pic_program");
  }
  else {
    fseek(__stream,0,0);
    memset(&local_9d68,0,0x9d58);
    puVar2 = &local_9d68;
    printf("pic_flash_length = %d\n",0xc80);
    do {
      fgets(acStack_9d80,0xfbb,__stream);
      uVar1 = strtoul(acStack_9d80,(char **)0x0,0x10);
      *(char *)((int)puVar2 + 1) = (char)uVar1;
      *(char *)puVar2 = (char)(uVar1 >> 8);
      puVar2 = (undefined4 *)((int)puVar2 + 2);
    } while (puVar2 != local_9d64 + 0x63f);
    fclose(__stream);
    FUN_00041270();
    FUN_000417ec();
    FUN_00041040(3,0);
    iVar3 = 0;
    do {
      iVar4 = iVar3 + 0x10;
      local_9d78 = *(undefined4 *)((int)&local_9d68 + iVar3);
      uStack_9d74 = *(undefined4 *)((int)local_9d64 + iVar3);
      uStack_9d70 = *(undefined4 *)((int)local_9d64 + iVar3 + 4);
      local_9d6c = *(undefined4 *)((int)local_9d64 + iVar3 + 8);
      FUN_00041118(&local_9d78);
      FUN_00041178();
      iVar3 = iVar4;
    } while (iVar4 != 0x1900);
  }
  return;
}




void FUN_00041998(void)

{
  printf("--- %s\n","clear_freq_value_in_pic");
  FUN_00041270();
  FUN_00041040(0xf,0xa0);
  usleep(100000);
  FUN_000411c4();
  FUN_000411c4();
  return;
}




void FUN_000419d8(int param_1)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  
  local_20 = 0;
  iVar2 = 0;
  local_1c = 0;
  local_18 = 0;
  local_14 = 0;
  printf("--- %s\n","flash_pic_freq");
  FUN_00041040(0xf,0xa0);
  do {
    puVar1 = (undefined4 *)(param_1 + iVar2);
    iVar2 = iVar2 + 0x10;
    local_20 = *puVar1;
    local_1c = puVar1[1];
    local_18 = puVar1[2];
    local_14 = puVar1[3];
    FUN_00041118(&local_20);
    FUN_00041178();
  } while (iVar2 != 0x80);
  return;
}




void FUN_00041a58(int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  char local_818 [4];
  char acStack_814 [4];
  char acStack_810 [2044];
  
  iVar1 = open("/dev/i2c-0",0x802);
  iVar2 = 0;
  *(int *)(param_1 + 0xbb) = iVar1;
  iVar3 = param_1;
  do {
    if (*(char *)(iVar3 + 0x9d) != '\0') {
      iVar1 = ioctl(iVar1,0x703,*(int *)((int)&DAT_000557ac + iVar2) >> 1);
      if (iVar1 < 0) {
        perror("set i2c slave addr  error");
      }
      iVar1 = *(int *)(param_1 + 0xbb);
    }
    iVar2 = iVar2 + 4;
    iVar3 = iVar3 + 1;
  } while (iVar2 != 0x10);
  DAT_000c54a6 = iVar1;
  if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (4 < DAT_00060964)) {
    local_818[0] = 'i';
    local_818[1] = '2';
    local_818[2] = 'c';
    local_818[3] = ' ';
    acStack_814[0] = 'i';
    acStack_814[1] = 'n';
    acStack_814[2] = 'i';
    acStack_814[3] = 't';
    acStack_810[0] = ' ';
    acStack_810[1] = 'o';
    acStack_810[2] = 'k';
    acStack_810[3] = '\0';
    FUN_00038438(5,local_818,0);
  }
  return;
}




uint FUN_00041b8c(uint param_1)

{
  uint uVar1;
  
  if (param_1 - 0x30 < 10) {
    return param_1 & 0xf;
  }
  param_1 = param_1 & 0xdf;
  if (param_1 == 0x41) {
    return 10;
  }
  if (param_1 == 0x42) {
    return 0xb;
  }
  if (param_1 != 0x43) {
    if (param_1 == 0x44) {
      return 0xd;
    }
    if (param_1 != 0x45) {
      if (param_1 == 0x46) {
        uVar1 = 0xf;
      }
      else {
        uVar1 = 0xff;
      }
      return uVar1;
    }
    return 0xe;
  }
  return 0xc;
}




byte FUN_00041c04(undefined4 param_1,undefined4 param_2)

{
  char cVar1;
  byte bVar2;
  
  cVar1 = FUN_00041b8c();
  bVar2 = FUN_00041b8c(param_2);
  return cVar1 << 4 ^ bVar2;
}




int FUN_00041c30(int param_1,undefined1 *param_2,uint param_3)

{
  int iVar1;
  undefined1 *puVar2;
  undefined1 uVar3;
  undefined1 *puVar4;
  undefined1 *puVar5;
  bool bVar6;
  
  bVar6 = (int)param_2 < 0;
  if (param_2 != (undefined1 *)0x0) {
    bVar6 = (int)param_3 < 0;
  }
  if (((param_2 != (undefined1 *)0x0 && param_3 != 0) && !bVar6) && (param_1 != 0)) {
    iVar1 = (int)param_3 >> 1;
    if (iVar1 != 0) {
      puVar5 = (undefined1 *)(param_1 + -1);
      puVar4 = param_2;
      do {
        uVar3 = *puVar4;
        puVar2 = puVar4 + 1;
        puVar4 = puVar4 + 2;
        uVar3 = FUN_00041c04(uVar3,*puVar2);
        puVar5 = puVar5 + 1;
        *puVar5 = uVar3;
      } while (puVar4 != param_2 + iVar1 * 2);
    }
    if ((param_3 & 1) != 0) {
      uVar3 = FUN_00041c04(param_2[iVar1 * 2],0);
      *(undefined1 *)(param_1 + iVar1) = uVar3;
    }
    return iVar1 + (param_3 & 1);
  }
  return -1;
}




void FUN_00041cac(void)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  int *piVar4;
  uint uVar5;
  int iVar6;
  int *piVar7;
  int iVar8;
  bool bVar9;
  bool bVar10;
  int local_834;
  int *local_830;
  char *local_82c;
  char local_828 [4];
  char acStack_824 [4];
  char acStack_820 [4];
  undefined1 local_81c;
  
  if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (4 < DAT_00060964)) {
    local_828[0] = 'p';
    local_828[1] = 'r';
    local_828[2] = 'i';
    local_828[3] = 'n';
    acStack_824[0] = 't';
    acStack_824[1] = '_';
    acStack_824[2] = 'r';
    acStack_824[3] = 'e';
    acStack_820[0] = 's';
    acStack_820[1] = 'u';
    acStack_820[2] = 'l';
    acStack_820[3] = 't';
    local_81c = 0;
    FUN_00038438(5,local_828,0);
  }
  iVar8 = 0xc20b8;
  local_830 = (int *)&DAT_00066edc;
  local_834 = 0;
  local_82c = (char *)((int)&DAT_000c4be0 + 3);
  do {
    local_82c = local_82c + 1;
    iVar1 = local_834 + 1;
    if (*local_82c == '\x01') {
      printf("Chain %d result\n",iVar1);
      iVar6 = 0;
      uVar5 = 0;
      piVar4 = local_830;
      piVar7 = &DAT_00065eac + local_834 * 0x100;
      do {
        iVar3 = 0;
        piVar2 = &DAT_00066eac + uVar5 * 0xc + local_834 * 0x360;
        do {
          piVar2 = piVar2 + 1;
          iVar3 = iVar3 + *piVar2;
        } while (piVar2 != piVar4);
        printf("A%02d=%d %d ",uVar5,iVar3,(&DAT_00055478)[*piVar7 * 2]);
        if (iVar3 == 0x30) {
          if (*(int *)(iVar8 + iVar6) == 0) {
            iVar3 = *piVar7 + 4;
            bVar10 = SBORROW4(iVar3,0x41);
            bVar9 = iVar3 != 0x41;
            if (0x41 < iVar3) {
              iVar3 = 0x41;
            }
            if (bVar9 && *piVar7 + -0x3d < 0 == bVar10) {
              *(undefined4 *)(iVar8 + iVar6) = 1;
            }
            *piVar7 = iVar3;
            DAT_00060de8 = 0;
          }
        }
        else {
          if (iVar3 < 0x2e) {
            iVar3 = *piVar7 + -1;
            DAT_00060de8 = 0;
            if (iVar3 < 0x1e) {
              iVar3 = 0x1e;
            }
            *piVar7 = iVar3;
          }
          *(undefined4 *)(iVar8 + iVar6) = 1;
        }
        uVar5 = uVar5 + 1;
        if ((uVar5 & 7) == 0) {
          putchar(10);
        }
        iVar6 = iVar6 + 4;
        piVar4 = piVar4 + 0xc;
        piVar7 = piVar7 + 1;
      } while (uVar5 != 0x48);
      putchar(10);
    }
    iVar8 = iVar8 + 0x400;
    local_830 = local_830 + 0x360;
    local_834 = iVar1;
  } while (iVar1 != 4);
  return;
}




void FUN_00041ec4(void)

{
  int *piVar1;
  
  piVar1 = &DAT_000c4bd0;
  pthread_mutex_lock((pthread_mutex_t *)&DAT_000630dc);
  DAT_000c30b8 = 0;
  DAT_000c30bc = 0;
  DAT_000c30c0 = 0;
  do {
    piVar1 = piVar1 + 1;
    tcflush(*piVar1,2);
  } while (piVar1 != &DAT_000c4be0);
  pthread_mutex_unlock((pthread_mutex_t *)&DAT_000630dc);
  return;
}




void FUN_00041f18(void)

{
  int iVar1;
  int iVar2;
  undefined *puVar3;
  char local_808 [4];
  char acStack_804 [4];
  char acStack_800 [4];
  char acStack_7fc [4];
  undefined2 uStack_7f8;
  undefined1 local_7f6;
  
  if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (4 < DAT_00060964)) {
    local_808[0] = 'r';
    local_808[1] = 'e';
    local_808[2] = 's';
    local_808[3] = 'e';
    acStack_804[0] = 't';
    acStack_804[1] = '_';
    acStack_804[2] = 'p';
    acStack_804[3] = 'a';
    acStack_800[0] = 't';
    acStack_800[1] = 't';
    acStack_800[2] = 'e';
    acStack_800[3] = 'n';
    acStack_7fc[0] = '_';
    acStack_7fc[1] = 's';
    acStack_7fc[2] = 't';
    acStack_7fc[3] = 'a';
    uStack_7f8 = 0x7374;
    local_7f6 = 0;
    FUN_00038438(5,local_808,0);
  }
  memset(&DAT_00066eb0,0,0x3600);
  DAT_00060de8 = 1;
  iVar1 = 0;
  DAT_000630f4 = 0;
  do {
    puVar3 = &DAT_0006a4b8 + iVar1 * 0x1380;
    iVar2 = 0x30;
    do {
      iVar2 = iVar2 + -1;
      *(undefined4 *)(puVar3 + 0x58) = 0;
      *(undefined4 *)(puVar3 + 0x5c) = 0;
      *(undefined4 *)(puVar3 + 0x60) = 0;
      *(undefined4 *)(puVar3 + 100) = 0;
      puVar3 = puVar3 + 0x68;
    } while (iVar2 != 0);
    iVar1 = iVar1 + 1;
  } while (iVar1 != 0x48);
  return;
}




void FUN_00042010(void)

{
  int iVar1;
  
  iVar1 = access("/usr/bin/need_reboot",0);
  if (iVar1 != -1) {
    system("echo 2 >> /usr/bin/already_reboot");
    return;
  }
  system("touch /usr/bin/need_reboot");
  system("echo 1 >> /usr/bin/already_reboot");
  system("/etc/init.d/cgminer.sh restart");
  return;
}




char FUN_00042064(void *param_1)

{
  undefined4 uVar1;
  FILE *__stream;
  char *pcVar2;
  char *pcVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  undefined4 *puVar9;
  int *__ptr;
  bool bVar10;
  int local_1880;
  int local_187c;
  int local_1878;
  pthread_t pStack_186c;
  pthread_t pStack_1868;
  char acStack_1864 [128];
  char acStack_17e4 [2048];
  char acStack_fe4 [4032];
  
  acStack_1864[0] = '\0';
  acStack_1864[1] = '\0';
  acStack_1864[2] = '\0';
  acStack_1864[3] = '\0';
  local_1878 = 0;
  memset(acStack_1864 + 4,0,0x7c);
  do {
    iVar8 = 0;
    iVar4 = local_1878 + 1;
    local_187c = 0;
    local_1880 = 0;
    do {
      local_1880 = local_1880 + 1;
      sprintf(acStack_1864,"/usr/bin/ltc-test/ltc-asic-%02d/ltc-core-%02d.txt",iVar4,local_1880);
      __stream = fopen(acStack_1864,"r");
      if (__stream == (FILE *)0x0) {
        printf("Open test file %s error\n",acStack_1864);
        return '\x01';
      }
      memset(acStack_fe4,0,0xfbc);
      iVar6 = 0;
      iVar7 = local_187c;
      while( true ) {
        pcVar2 = fgets(acStack_fe4,0xfbb,__stream);
        if ((pcVar2 == (char *)0x0) || (iVar6 == 4)) goto LAB_0004227c;
        __ptr = (int *)(&DAT_0006a4b8 + iVar7 + local_1878 * 0x1380);
        __ptr[0x16] = 0;
        __ptr[0x17] = 0;
        __ptr[0x18] = 0;
        __ptr[0x19] = 0;
        pcVar2 = strstr(acStack_fe4,"work");
        if (pcVar2 == (char *)0x0) break;
        pcVar3 = pcVar2 + 4;
        if (pcVar2[4] == ' ') {
          pcVar2 = pcVar2 + 5;
          do {
            pcVar3 = pcVar2;
            pcVar2 = pcVar3 + 1;
          } while (*pcVar3 == ' ');
        }
        FUN_00041c30(__ptr + 2,pcVar3,0xa0);
        pcVar2 = strstr(acStack_fe4,"nonce");
        if (pcVar2 == (char *)0x0) break;
        pcVar3 = pcVar2 + 5;
        if (pcVar2[5] == ' ') {
          pcVar2 = pcVar2 + 6;
          do {
            pcVar3 = pcVar2;
            pcVar2 = pcVar3 + 1;
          } while (*pcVar3 == ' ');
        }
        FUN_00041c30(__ptr + 1,pcVar3,8);
        uVar5 = __ptr[1];
        bVar10 = DAT_000630c1 != '\0';
        *__ptr = iVar8 + iVar6;
        uVar5 = uVar5 << 0x18 | (uVar5 >> 8 & 0xff) << 0x10 | (uVar5 >> 0x10 & 0xff) << 8 | uVar5 >> 0x18;
        __ptr[1] = uVar5;
        if ((bVar10) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
          snprintf(acStack_17e4,0x800,"asic %d wc %d nonce %08x",local_1878,iVar8 + iVar6,uVar5);
          FUN_00038438(7,acStack_17e4,0);
        }
        iVar6 = iVar6 + 1;
        iVar7 = iVar7 + 0x68;
      }
      free(__ptr);
LAB_0004227c:
      iVar8 = iVar8 + 4;
      local_187c = local_187c + 0x1a0;
      fclose(__stream);
    } while (local_1880 != 0xc);
    local_1878 = iVar4;
    if (iVar4 == 0x48) {
      iVar4 = 0;
      while( true ) {
        FUN_00041f18();
        FUN_0003da40(0x32);
        FUN_0002b21c(10);
        iVar4 = iVar4 + 1;
        FUN_0003a268();
        FUN_0002b21c(10);
        FUN_0003fb04();
        FUN_0002b21c(10);
        FUN_00040128();
        FUN_0002b21c(10);
        if (DAT_00060e3d == '\0') {
          pcVar2 = (char *)((int)&DAT_000c4be0 + 3);
          iVar8 = 0;
          do {
            pcVar2 = pcVar2 + 1;
            if ((*pcVar2 == '\x01') && (DAT_000c548d != 0)) {
              puVar9 = (undefined4 *)(iVar8 * 0x400 + 0x65ea8);
              iVar7 = 0;
              do {
                uVar5 = iVar7 * (uint)DAT_000c548c;
                puVar9 = puVar9 + 1;
                iVar7 = iVar7 + 1;
                FUN_000405f0(iVar8,*puVar9,uVar5 & 0xff);
                FUN_0002b21c(2);
              } while (iVar7 < (int)(uint)DAT_000c548d);
            }
            iVar8 = iVar8 + 1;
          } while (iVar8 != 4);
        }
        else {
          FUN_000404d8(DAT_00060e40);
          uVar1 = DAT_00060e40;
          uVar5 = (uint)DAT_000c548d;
          puVar9 = &DAT_00065eac;
          do {
            if (uVar5 != 0) {
              iVar8 = 0;
              do {
                *(undefined4 *)((int)puVar9 + iVar8) = uVar1;
                iVar8 = iVar8 + 4;
              } while (iVar8 != uVar5 * 4);
            }
            puVar9 = puVar9 + 0x100;
          } while (puVar9 != &DAT_00066eac);
          DAT_00060e3d = '\0';
        }
        FUN_0003fe10(0,0,1);
        FUN_0002b21c(100);
        FUN_00040d00(0x3f);
        iVar8 = pthread_create(&pStack_1868,(pthread_attr_t *)0x0,(__start_routine *)&LAB_0003a2f0,(void *)0x0);
        if (iVar8 != 0) {
          perror("receive_func create error");
          return '\0';
        }
        FUN_00041ec4();
        DAT_000630d9 = 1;
        iVar8 = pthread_create(&pStack_186c,(pthread_attr_t *)0x0,FUN_0003c338,param_1);
        if (iVar8 != 0) {
          perror("send_id create error");
          return '\0';
        }
        pthread_join(pStack_186c,(void **)0x0);
        FUN_0002b21c(100);
        DAT_000630d9 = 0;
        pthread_join(pStack_1868,(void **)0x0);
        FUN_00041cac();
        if (DAT_00060de8 != '\0') break;
        if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (4 < DAT_00060964)) {
          snprintf(acStack_fe4,0x800,"%d",iVar4);
          FUN_00038438(5,acStack_fe4,0);
        }
      }
      return DAT_00060de8;
    }
  } while( true );
}




/* WARNING: Restarted to delay deadcode elimination for space: ram */

undefined4 FUN_00042584(int param_1)

{
  bool bVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  byte *pbVar5;
  int iVar6;
  uint uVar7;
  int iVar8;
  char cVar9;
  uint *puVar10;
  uint *puVar11;
  char *pcVar12;
  undefined4 *puVar13;
  int iVar14;
  uint *puVar15;
  double dVar16;
  char *local_878;
  uint local_870 [8];
  uint local_850;
  undefined4 local_84c;
  undefined4 local_848;
  uint local_844;
  undefined4 uStack_840;
  uint local_83c;
  undefined4 uStack_838;
  undefined4 uStack_834;
  undefined4 uStack_830;
  undefined4 local_82c;
  char local_828 [4];
  char acStack_824 [4];
  char acStack_820 [4];
  char acStack_81c [4];
  char local_818 [4];
  undefined3 uStack_814;
  char cStack_811;
  char acStack_810 [4];
  undefined1 local_80c;
  
  puVar15 = (uint *)(param_1 + 0x2ff);
  puVar10 = local_870;
  do {
    uVar2 = *puVar15;
    uVar3 = puVar15[1];
    puVar11 = puVar10 + 4;
    uVar4 = puVar15[2];
    uVar7 = puVar15[3];
    puVar15 = puVar15 + 4;
    *puVar10 = uVar2;
    puVar10[1] = uVar3;
    puVar10[2] = uVar4;
    puVar10[3] = uVar7;
    puVar10 = puVar11;
  } while (puVar15 != (uint *)(param_1 + 799));
  *puVar11 = *puVar15;
  local_84c = local_870[0];
  local_848 = local_870[1];
  local_844 = local_870[2];
  uStack_840 = local_870[3];
  local_83c = local_870[4];
  uStack_838 = local_870[5];
  uStack_834 = local_870[6];
  uStack_830 = local_870[7];
  DAT_00062e48 = 0x2e302e31;
  local_82c = local_850;
  DAT_00062e4c = 0x332e31;
  FUN_0003da40(100);
  if ((local_84c & 0xff) != 0x51) {
    if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
      snprintf(local_828,0x800,"%s: config_parameter.token_type != 0x%x, it is 0x%x","bitmain_L3_init",0x51,
               local_84c & 0xff);
      FUN_00038438(7,local_828,0);
      return 0xffffffff;
    }
    return 0xffffffff;
  }
  pbVar5 = (byte *)&local_84c;
  uVar3 = 0xff;
  uVar2 = 0x51;
  while (uVar3 = ((uint)*(ushort *)(&DAT_000557d0 + (uVar2 ^ uVar3 >> 8) * 2) ^ uVar3 << 8) & 0xffff,
        pbVar5 != (byte *)((int)&local_82c + 1)) {
    pbVar5 = pbVar5 + 1;
    uVar2 = (uint)*pbVar5;
  }
  if (local_82c >> 0x10 == uVar3) {
    iVar8 = 0;
    do {
      iVar6 = iVar8 + 0x2e;
      iVar8 = iVar8 + 1;
      iVar6 = param_1 + iVar6 * 4;
      *(undefined1 *)(iVar6 + 7) = 0;
      *(uint *)(iVar6 + 8) = *(uint *)(iVar6 + 8) & 0xff000000;
    } while (iVar8 != 0x80);
    iVar8 = 0;
    local_878 = (char *)((int)&DAT_000c4be0 + 3);
    FUN_0003f17c(param_1);
    FUN_0002b21c(10);
    FUN_00041a58(param_1);
    FUN_0002b21c(10);
    pcVar12 = (char *)((int)&DAT_000c4be0 + 3);
    do {
      pcVar12 = pcVar12 + 1;
      if (*pcVar12 == '\x01') {
        pthread_mutex_lock((pthread_mutex_t *)&DAT_00063120);
        iVar6 = ioctl(*(int *)(param_1 + 0xbb),0x703,*(int *)((int)&DAT_000557ac + iVar8) >> 1);
        if ((iVar6 < 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)))) {
          snprintf(local_828,0x800,"ioctl error @ line %d",0xd73);
          FUN_00038438(3,local_828,0);
        }
        FUN_00040f64();
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063120);
      }
      iVar8 = iVar8 + 4;
    } while (iVar8 != 0x10);
    pcVar12 = (char *)((int)&DAT_000c4be0 + 3);
    FUN_0002b21c(1000);
    iVar8 = 0;
    do {
      pcVar12 = pcVar12 + 1;
      if (*pcVar12 == '\x01') {
        pthread_mutex_lock((pthread_mutex_t *)&DAT_00063120);
        iVar6 = ioctl(*(int *)(param_1 + 0xbb),0x703,*(int *)((int)&DAT_000557ac + iVar8) >> 1);
        if ((iVar6 < 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)))) {
          snprintf(local_828,0x800,"ioctl error @ line %d",0xd81);
          FUN_00038438(3,local_828,0);
        }
        FUN_00040ed8();
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063120);
      }
      iVar8 = iVar8 + 4;
    } while (iVar8 != 0x10);
    FUN_0002b21c(1000);
    DAT_000c4bc8 = calloc(1,0x40);
    iVar8 = FUN_0002f0ec(DAT_000c4bc8,0,FUN_0003b0ec,DAT_000c4bc8);
    if (iVar8 == 0) {
      pcVar12 = (char *)((int)&DAT_000c4be0 + 3);
      pthread_detach(*(pthread_t *)((int)DAT_000c4bc8 + 0xc));
      iVar8 = 0;
      do {
        pcVar12 = pcVar12 + 1;
        if (*pcVar12 == '\x01') {
          pthread_mutex_lock((pthread_mutex_t *)&DAT_00063120);
          iVar6 = ioctl(*(int *)(param_1 + 0xbb),0x703,*(int *)((int)&DAT_000557ac + iVar8) >> 1);
          if ((iVar6 < 0) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)))) {
            snprintf(local_828,0x800,"ioctl error @ line %d",0xdd0);
            FUN_00038438(3,local_828,0);
          }
          FUN_0003ddb8(1);
          pthread_mutex_unlock((pthread_mutex_t *)&DAT_00063120);
        }
        iVar8 = iVar8 + 4;
      } while (iVar8 != 0x10);
      FUN_0002b21c(5000);
      FUN_0003a268();
      FUN_0003a268();
      FUN_0002b21c(500);
      FUN_0003f3b8(param_1,local_848);
      FUN_0002b21c(10);
      FUN_0003c69c();
      FUN_0002b21c(100);
      DAT_0006a4b4 = calloc(1,0x40);
      iVar8 = FUN_0002f0ec(DAT_0006a4b4,0,FUN_0003c6d4,DAT_0006a4b4);
      if (iVar8 == 0) {
        pthread_detach(*(pthread_t *)((int)DAT_0006a4b4 + 0xc));
        FUN_0002b21c(100);
        if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (4 < DAT_00060964)) {
          local_828[0] = 's';
          local_828[1] = 'e';
          local_828[2] = 'n';
          local_828[3] = 'd';
          acStack_824[0] = ' ';
          acStack_824[1] = 'c';
          acStack_824[2] = 'm';
          acStack_824[3] = 'd';
          acStack_820[0] = ' ';
          acStack_820[1] = 't';
          acStack_820[2] = 'o';
          acStack_820[3] = ' ';
          acStack_81c[0] = 'g';
          acStack_81c[1] = 'e';
          acStack_81c[2] = 't';
          acStack_81c[3] = ' ';
          local_818[0] = 'c';
          local_818[1] = 'h';
          local_818[2] = 'i';
          local_818[3] = 'p';
          uStack_814._0_1_ = ' ';
          uStack_814._1_1_ = 'a';
          uStack_814._2_1_ = 'd';
          cStack_811 = 'd';
          acStack_810[0] = 'r';
          acStack_810[1] = 'e';
          acStack_810[2] = 's';
          acStack_810[3] = 's';
          local_80c = 0;
          FUN_00038438(5,local_828,0);
        }
        iVar8 = 0;
        while( true ) {
          DAT_00063174 = 1;
          FUN_0003ef84(0,0,1);
          sleep(2);
          bVar1 = false;
          iVar6 = 0;
          DAT_00063174 = 0;
          pcVar12 = &DAT_000c4be4;
          do {
            if (*pcVar12 == '\x01') {
              if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (4 < DAT_00060964)) {
                snprintf(local_828,0x800,"Chain %d ASIC %d !!!",iVar6,(uint)(byte)pcVar12[0x87e]);
                FUN_00038438(5,local_828,0);
              }
              if (pcVar12[0x87e] == 'H') {
                pcVar12[4] = '\x01';
                *(undefined1 *)(iVar6 + 0x6322c) = 0;
              }
              else {
                pcVar12[4] = '\0';
                iVar8 = iVar8 + 1;
                bVar1 = true;
                *(undefined1 *)(iVar6 + 0x6322c) = 1;
              }
            }
            iVar6 = iVar6 + 1;
            pcVar12 = pcVar12 + 1;
          } while (iVar6 != 4);
          if (5 < iVar8) {
            bVar1 = false;
          }
          if (!bVar1) break;
          if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (4 < DAT_00060964)) {
            local_828[0] = 'N';
            local_828[1] = 'e';
            local_828[2] = 'e';
            local_828[3] = 'd';
            acStack_824[0] = ' ';
            acStack_824[1] = 't';
            acStack_824[2] = 'o';
            acStack_824[3] = ' ';
            acStack_820[0] = 'r';
            acStack_820[1] = 'e';
            acStack_820[2] = 'c';
            acStack_820[3] = 'h';
            acStack_81c[0] = 'e';
            acStack_81c[1] = 'c';
            acStack_81c[2] = 'k';
            acStack_81c[3] = ' ';
            local_818[0] = 'a';
            local_818[1] = 's';
            local_818[2] = 'i';
            local_818[3] = 'c';
            uStack_814._0_1_ = ' ';
            uStack_814._1_1_ = 'n';
            uStack_814._2_1_ = 'u';
            cStack_811 = 'm';
            acStack_810[0] = ' ';
            acStack_810[1] = '!';
            acStack_810[2] = '!';
            acStack_810[3] = '!';
            local_80c = 0;
            FUN_00038438(5,local_828,0);
          }
          DAT_000c5462 = 0;
          DAT_000c5463 = 0;
          DAT_000c5464 = 0;
          DAT_000c5465 = 0;
          FUN_00042010(param_1);
        }
        iVar8 = access("/usr/bin/need_reboot",0);
        if (iVar8 != -1) {
          system("rm /usr/bin/need_reboot");
        }
        DAT_000c548b = 0xc;
        FUN_0003fb04();
        FUN_0002b21c(10);
        FUN_0003ef84(0,0,1);
        FUN_0002b21c(0x14);
        uVar2 = local_844;
        if ((local_844 & 8) != 0) {
          DAT_000c5492 = (ushort)local_83c;
          FUN_0004022c(local_83c & 0xffff);
          sprintf(&DAT_000c5494,"%u",(uint)DAT_000c5492);
        }
        FUN_0002b21c(10);
        uVar3 = (uint)uStack_840._2_1_;
        DAT_000c5490 = (byte)((local_844 << 0x1e) >> 0x1f);
        DAT_000c5491 = uStack_840._2_1_;
        if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
          snprintf(local_828,0x800,"%s: fan_eft : %d  fan_pwm : %d","bitmain_L3_init",(local_844 << 0x1e) >> 0x1f,uVar3)
          ;
          FUN_00038438(7,local_828,0);
        }
        if (((uVar2 & 2) == 0) || (100 < uVar3)) {
          FUN_0003db30();
        }
        else {
          FUN_0003da40(uVar3);
        }
        if ((uVar2 & 4) != 0) {
          if (uStack_838._2_2_ == 0) {
            if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (cVar9 = '\0', 4 < DAT_00060964)) {
              snprintf(local_828,0x800,"frequency = \'%d\'",(uint)DAT_000c5492);
              FUN_00038438(5,local_828,0);
              cVar9 = DAT_000632f0;
            }
            iVar8 = FUN_00048f88(0x100,DAT_000c548c);
            dVar16 = ((268435455.9375 / (double)(longlong)iVar8) / (double)(longlong)(int)((uint)DAT_000c5492 * 1000000)
                     ) * 0.95 * 2500.0;
            DAT_000c4bec = (uint)(0.0 < dVar16) * (int)(longlong)dVar16;
            if (((cVar9 != '\0') || (DAT_000630c0 != '\0')) || (4 < DAT_00060964)) {
              snprintf(local_828,0x800,"dev.timeout = %d",DAT_000c4bec);
              FUN_00038438(5,local_828,0);
            }
          }
          else {
            DAT_000c4bec = (uStack_838 >> 0x10 & 0xff) * 1000 + (uStack_838 >> 0x18);
          }
        }
        FUN_00040128();
        FUN_000406dc();
        FUN_0003ffac(1);
        if (((DAT_000632f0 != '\0') || (DAT_000630c0 != '\0')) || (4 < DAT_00060964)) {
          local_828[0] = 's';
          local_828[1] = 'e';
          local_828[2] = 'n';
          local_828[3] = 'd';
          acStack_824[0] = ' ';
          acStack_824[1] = 'c';
          acStack_824[2] = 'm';
          acStack_824[3] = 'd';
          acStack_820[0] = ' ';
          acStack_820[1] = 't';
          acStack_820[2] = 'o';
          acStack_820[3] = ' ';
          acStack_81c[0] = 'o';
          acStack_81c[1] = 'p';
          acStack_81c[2] = 'e';
          acStack_81c[3] = 'n';
          local_818[0] = ' ';
          local_818[1] = 'b';
          local_818[2] = 'l';
          local_818[3] = 'o';
          uStack_814 = 0x6b63;
          FUN_00038438(5,local_828,0);
        }
        FUN_0003fe10(0,0,1);
        FUN_00040d00(0xff);
        FUN_0002b21c(10);
        DAT_0006a4b0 = calloc(1,0x40);
        iVar8 = FUN_0002f0ec(DAT_0006a4b0,0,FUN_0003a788,DAT_0006a4b0);
        if (iVar8 == 0) {
          DAT_00066eac = calloc(1,0x40);
          iVar8 = FUN_0002f0ec(DAT_00066eac,0,FUN_0003f0b0,DAT_00066eac);
          if (iVar8 != 0) {
            if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
              snprintf(local_828,0x800,"%s: create thread for read temp","bitmain_L3_init");
              FUN_00038438(7,local_828,0);
              return 0xfffffff9;
            }
            return 0xfffffff9;
          }
          pthread_detach(*(pthread_t *)((int)DAT_00066eac + 0xc));
          sleep(2);
          DAT_00065e48 = calloc(1,0x40);
          iVar8 = FUN_0002f0ec(DAT_00065e48,0,FUN_0003de5c,DAT_00065e48);
          if (iVar8 == 0) {
            pthread_detach(*(pthread_t *)((int)DAT_00065e48 + 0xc));
            DAT_00065e3c = calloc(1,0x40);
            iVar8 = FUN_0002f0ec(DAT_00065e3c,0,FUN_0003f138,DAT_00065e3c);
            if (iVar8 == 0) {
              pthread_detach(*(pthread_t *)((int)DAT_00065e3c + 0xc));
              iVar8 = 0;
              do {
                if (local_878[1] != '\0') {
                  uVar2 = (uint)(byte)local_878[0x87f];
                  if (uVar2 != 0) {
                    iVar6 = 0;
                    puVar13 = (undefined4 *)(iVar8 * 0x120 + 0xc4e50);
                    uVar2 = 0;
                    do {
                      if ((uVar2 & 7) == 0) {
                        iVar14 = uVar2 + iVar6;
                        if ((0x58 < iVar14) &&
                           (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)))) {
                          snprintf(local_828,0x800,"offset[%d] ERR",iVar14);
                          FUN_00038438(3,local_828,0);
                        }
                        iVar6 = iVar6 + 1;
                        (&DAT_000c4bcc)[iVar14 + iVar8 * 0x58 + 0x708] = 0x20;
                      }
                      iVar14 = uVar2 + iVar6;
                      if ((0x58 < iVar14) && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (2 < DAT_00060964))))
                      {
                        snprintf(local_828,0x800,"offset[%d] ERR",iVar14);
                        FUN_00038438(3,local_828,0);
                      }
                      uVar2 = uVar2 + 1;
                      (&DAT_000c4bcc)[iVar14 + iVar8 * 0x58 + 0x708] = 0x6f;
                      puVar13 = puVar13 + 1;
                      *puVar13 = 0;
                    } while ((int)uVar2 < (int)(uint)(byte)local_878[0x87f]);
                    uVar2 = iVar6 + uVar2;
                    if ((0x58 < (int)uVar2) &&
                       (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (2 < DAT_00060964)))) {
                      snprintf(local_828,0x800,"offset[%d] ERR",uVar2);
                      FUN_00038438(3,local_828,0);
                    }
                  }
                  (&DAT_000c52d4)[iVar8 * 0x58 + uVar2] = 0;
                }
                iVar8 = iVar8 + 1;
                local_878 = local_878 + 1;
              } while (iVar8 != 4);
              DAT_00063150 = 1;
              return 0;
            }
            if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
              snprintf(local_828,0x800,"%s: create thread for get hashrate from asic failed","bitmain_L3_init");
              FUN_00038438(7,local_828,0);
              return 0xfffffffa;
            }
            return 0xfffffffa;
          }
        }
        if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
          snprintf(local_828,0x800,"%s: create thread for check miner_status","bitmain_L3_init");
          FUN_00038438(7,local_828,0);
        }
        return 0xfffffffb;
      }
      if (DAT_000630c1 == '\0') {
        return 0xfffffffd;
      }
      if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 7)) {
        return 0xfffffffd;
      }
      pcVar12 = "%s: create thread error for bitmain_scanreg";
    }
    else {
      if (DAT_000630c1 == '\0') {
        return 0xfffffffd;
      }
      if (((DAT_000632f0 == '\0') && (DAT_000630c0 == '\0')) && (DAT_00060964 < 7)) {
        return 0xfffffffd;
      }
      pcVar12 = "%s: create thread error for pic_heart_beat_func";
    }
    snprintf(local_828,0x800,pcVar12,"bitmain_L3_init");
    FUN_00038438(7,local_828,0);
    return 0xfffffffd;
  }
  if ((DAT_000630c1 != '\0') && (((DAT_000632f0 != '\0' || (DAT_000630c0 != '\0')) || (6 < DAT_00060964)))) {
    snprintf(local_828,0x800,"%s: config_parameter.crc = 0x%x, but we calculate it as 0x%x","bitmain_L3_init",
             local_82c >> 0x10,uVar3);
    FUN_00038438(7,local_828,0);
    return 0xfffffffe;
  }
  return 0xfffffffe;
}




undefined4 FUN_000434fc(int param_1)

{
  int iVar1;
  uint uVar2;
  undefined4 uVar3;
  byte *pbVar4;
  undefined4 uVar5;
  uint uVar6;
  undefined4 uVar7;
  pthread_mutex_t *__mutex;
  byte *pbVar8;
  undefined4 *puVar9;
  byte *pbVar10;
  byte local_4c [4];
  undefined4 local_48;
  undefined4 local_44;
  undefined1 local_40;
  undefined1 local_3f;
  undefined1 local_3e;
  undefined1 local_3d;
  undefined2 local_3c;
  undefined1 uStack_3a;
  undefined1 uStack_39;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  
  __mutex = *(pthread_mutex_t **)(*(int *)(param_1 + 0x24) + 0x14);
  *(int *)((int)__mutex + 0x2bf) = param_1;
  iVar1 = pthread_mutex_init((pthread_mutex_t *)((int)__mutex + 0x2e7),(pthread_mutexattr_t *)0x0);
  if (iVar1 != 0) {
    FUN_0000b988(0xeac);
  }
  iVar1 = pthread_mutex_init(__mutex,(pthread_mutexattr_t *)0x0);
  if (iVar1 != 0) {
    FUN_0000b988(0xead);
  }
  FUN_0003b068(__mutex + 1);
  uVar2 = 0x51;
  pbVar4 = local_4c;
  local_3e = (char)DAT_00060e44;
  uVar6 = 0xff;
  local_34 = 0;
  local_3c = (short)DAT_00060e48;
  local_48 = 0x1c200;
  local_44 = (uint)CONCAT11(0xf,~((byte)~(byte)((((DAT_00063230 & 1) << 1 | 1) << 0x1e) >> 0x18) >> 6));
  local_40 = 6;
  local_3f = 0x48;
  local_4c[0] = 0x51;
  local_4c[1] = 0;
  local_4c[2] = 0x18;
  local_4c[3] = 0;
  local_3d = 0x50;
  uStack_3a = 7;
  uStack_39 = 0x25;
  local_38 = 0xa0a;
  local_30 = 0x1900004;
  local_2c = 600;
  while( true ) {
    uVar2 = (uint)*(ushort *)(&DAT_000557d0 + (uVar2 ^ uVar6 >> 8) * 2) ^ uVar6 << 8;
    uVar6 = uVar2 & 0xffff;
    if (pbVar4 == (byte *)((int)&local_2c + 1)) break;
    pbVar4 = pbVar4 + 1;
    uVar2 = (uint)*pbVar4;
  }
  puVar9 = (undefined4 *)((int)__mutex + 0x2ff);
  local_2c = CONCAT22((short)uVar2,600);
  pbVar4 = local_4c;
  do {
    pbVar8 = pbVar4 + 0x10;
    uVar3 = *(undefined4 *)(pbVar4 + 4);
    uVar5 = *(undefined4 *)(pbVar4 + 8);
    uVar7 = *(undefined4 *)(pbVar4 + 0xc);
    pbVar10 = pbVar4 + 0x10;
    *puVar9 = *(undefined4 *)pbVar4;
    puVar9[1] = uVar3;
    puVar9[2] = uVar5;
    puVar9[3] = uVar7;
    puVar9 = puVar9 + 4;
    pbVar4 = pbVar8;
  } while (pbVar10 != (byte *)&local_2c);
  *puVar9 = *(undefined4 *)pbVar8;
  FUN_00042584(__mutex);
  return 1;
}




undefined4 FUN_000436e4(char *param_1,code *param_2,undefined4 param_3,uint param_4)

{
  int iVar1;
  char *pcVar2;
  undefined4 uVar3;
  char *pcVar4;
  uint local_34;
  char acStack_30 [20];
  
  iVar1 = (*param_2)(&DAT_0004d080,1);
joined_r0x0004370c:
  do {
    pcVar2 = param_1;
    if (iVar1 != 0) {
      return 0xffffffff;
    }
    while (pcVar4 = pcVar2, pcVar2 = pcVar4, *pcVar4 != '\0') {
      pcVar2 = (char *)FUN_00046490(pcVar4,&local_34);
      if (pcVar2 == (char *)0x0) {
        return 0xffffffff;
      }
      if ((((local_34 == 0x5c || local_34 == 0x22) || ((int)local_34 < 0x20)) ||
          (((param_4 & 0x400) != 0 && (local_34 == 0x2f)))) || (((param_4 & 0x40) != 0 && (0x7f < (int)local_34))))
      break;
    }
    if ((pcVar4 != param_1) && (iVar1 = (*param_2)(param_1,(int)pcVar4 - (int)param_1,param_3), iVar1 != 0)) {
      return 0xffffffff;
    }
    if (pcVar2 == pcVar4) {
      uVar3 = (*param_2)(&DAT_0004d080,1,param_3);
      return uVar3;
    }
    param_1 = pcVar2;
    if (local_34 == 0xc) {
      uVar3 = 2;
      pcVar2 = "\\f";
    }
    else if ((int)local_34 < 0xd) {
      if (local_34 == 9) {
        uVar3 = 2;
        pcVar2 = "\\t";
      }
      else if (local_34 == 10) {
        uVar3 = 2;
        pcVar2 = "\\n";
      }
      else {
        if (local_34 != 8) goto LAB_0004372c;
        uVar3 = 2;
        pcVar2 = "\\b";
      }
    }
    else if (local_34 == 0x22) {
      pcVar2 = "\\\"";
      uVar3 = 2;
    }
    else if ((int)local_34 < 0x23) {
      if (local_34 == 0xd) {
        iVar1 = (*param_2)(&DAT_00056dc8,2,param_3);
        goto joined_r0x0004370c;
      }
LAB_0004372c:
      if ((int)local_34 < 0x10000) {
        sprintf(acStack_30,"\\u%04x");
        pcVar2 = acStack_30;
        uVar3 = 6;
      }
      else {
        local_34 = local_34 - 0x10000;
        sprintf(acStack_30,"\\u%04x\\u%04x",local_34 * 0x1000 >> 0x16 | 0xd800,local_34 & 0x3ff | 0xdc00);
        pcVar2 = acStack_30;
        uVar3 = 0xc;
      }
    }
    else if (local_34 == 0x2f) {
      uVar3 = 2;
      pcVar2 = "\\/";
    }
    else {
      if (local_34 != 0x5c) goto LAB_0004372c;
      uVar3 = 2;
      pcVar2 = "\\\\";
    }
    iVar1 = (*param_2)(pcVar2,uVar3,param_3);
  } while( true );
}




undefined4 FUN_0004394c(uint param_1,int param_2,int param_3,code *param_4,undefined4 param_5)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  
  if ((param_1 & 0x1f) == 0) {
    if ((param_3 != 0) && ((param_1 & 0x20) == 0)) {
      uVar3 = (*param_4)(" ",1,param_5);
      return uVar3;
    }
  }
  else {
    iVar1 = (*param_4)(&DAT_00054ea0,1,param_5);
    if (iVar1 != 0) {
      return 0xffffffff;
    }
    if (0 < param_2) {
      iVar1 = 0;
      do {
        iVar1 = iVar1 + 1;
        iVar2 = (*param_4)("                                ",param_1 & 0x1f,param_5);
        if (iVar2 != 0) {
          return 0xffffffff;
        }
      } while (iVar1 != param_2);
    }
  }
  return 0;
}




undefined4 FUN_000439f0(undefined4 *param_1,uint param_2,int param_3,code *param_4,undefined4 param_5)

{
  undefined4 uVar1;
  undefined4 uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  uint uVar6;
  size_t __nmemb;
  void *__base;
  undefined *puVar7;
  __compar_fn_t __compar;
  undefined4 *puVar8;
  int iVar9;
  uint uVar10;
  char acStack_8c [104];
  
  if (param_1 == (undefined4 *)0x0) goto switchD_00043a18_default;
  switch(*param_1) {
  case 0:
    puVar7 = &DAT_00056dec;
    if ((param_2 & 0x20) == 0) {
      uVar1 = 2;
    }
    else {
      uVar1 = 1;
      puVar7 = &DAT_0005231c;
    }
    if (param_1[8] == 0) {
      param_1[8] = 1;
      iVar3 = FUN_00046714(param_1);
      iVar4 = (*param_4)(&DAT_00053584,1,param_5);
      if (iVar4 == 0) {
        if (iVar3 == 0) {
          param_1[8] = 0;
          uVar1 = (*param_4)("}",1,param_5);
          return uVar1;
        }
        iVar9 = param_3 + 1;
        iVar4 = FUN_0004394c(param_2,iVar9,0,param_4,param_5);
        if (iVar4 == 0) {
          if ((param_2 & 0x180) == 0) {
            while( true ) {
              iVar4 = FUN_00046760(param_1,iVar3);
              uVar2 = FUN_0004678c(iVar3);
              FUN_000436e4(uVar2,param_4,param_5,param_2);
              iVar5 = (*param_4)(puVar7,uVar1,param_5);
              if (iVar5 != 0) break;
              uVar2 = FUN_00046798(iVar3);
              iVar3 = FUN_000439f0(uVar2,param_2,iVar9,param_4,param_5);
              if (iVar3 != 0) break;
              if (iVar4 == 0) {
                iVar3 = FUN_0004394c(param_2,param_3,0,param_4,param_5);
                if (iVar3 == 0) goto LAB_00043d74;
                break;
              }
              iVar3 = (*param_4)(&DAT_0004cfd4,1,param_5);
              if ((iVar3 != 0) || (iVar5 = FUN_0004394c(param_2,iVar9,1,param_4,param_5), iVar3 = iVar4, iVar5 != 0))
              break;
            }
          }
          else {
            __nmemb = FUN_0004667c(param_1);
            __base = (void *)FUN_00045de4(__nmemb << 3);
            if (__base != (void *)0x0) {
              iVar4 = 0;
              uVar6 = 0;
              do {
                uVar10 = uVar6;
                uVar2 = FUN_000447b4(iVar3);
                puVar8 = (undefined4 *)((int)__base + iVar4);
                *puVar8 = uVar2;
                uVar2 = FUN_0004678c(iVar3);
                iVar4 = iVar4 + 8;
                puVar8[1] = uVar2;
                iVar3 = FUN_00046760(param_1,iVar3);
                uVar6 = uVar10 + 1;
              } while (iVar3 != 0);
              if (__nmemb != uVar6) {
                    /* WARNING: Subroutine does not return */
                __assert_fail("i == size","dump.c",0x141,"do_dump");
              }
              __compar = (__compar_fn_t)&LAB_00043908;
              if ((param_2 & 0x80) == 0) {
                __compar = (__compar_fn_t)&LAB_000436c0;
              }
              qsort(__base,__nmemb,8,__compar);
              if (__nmemb != 0) {
                uVar6 = 0;
                do {
                  uVar2 = *(undefined4 *)((int)__base + uVar6 * 8 + 4);
                  iVar3 = FUN_00046698(param_1,uVar2);
                  if (iVar3 == 0) {
                    /* WARNING: Subroutine does not return */
                    __assert_fail("value","dump.c",0x151,"do_dump");
                  }
                  FUN_000436e4(uVar2,param_4,param_5,param_2);
                  iVar4 = (*param_4)(puVar7,uVar1,param_5);
                  if ((iVar4 != 0) || (iVar3 = FUN_000439f0(iVar3,param_2,iVar9,param_4,param_5), iVar3 != 0)) {
LAB_00043f64:
                    FUN_00045e0c(__base);
                    goto LAB_00043bbc;
                  }
                  if (uVar6 < uVar10) {
                    iVar3 = (*param_4)(&DAT_0004cfd4,1,param_5);
                    if (iVar3 != 0) goto LAB_00043f64;
                    iVar3 = FUN_0004394c(param_2,iVar9,1,param_4,param_5);
                  }
                  else {
                    iVar3 = FUN_0004394c(param_2,param_3,0,param_4,param_5);
                  }
                  if (iVar3 != 0) goto LAB_00043f64;
                  uVar6 = uVar6 + 1;
                } while (__nmemb != uVar6);
              }
              FUN_00045e0c(__base);
LAB_00043d74:
              param_1[8] = 0;
              uVar1 = (*param_4)("}",1,param_5);
              return uVar1;
            }
          }
        }
      }
    }
LAB_00043bbc:
    uVar1 = 0xffffffff;
    param_1[8] = 0;
    break;
  case 1:
    if (param_1[5] == 0) {
      param_1[5] = 1;
      iVar3 = FUN_00046864(param_1);
      iVar4 = (*param_4)(&DAT_0004cf7c,1,param_5);
      if (iVar4 == 0) {
        if (iVar3 == 0) {
          param_1[5] = 0;
          uVar1 = (*param_4)("]",1,param_5);
          return uVar1;
        }
        iVar9 = param_3 + 1;
        iVar4 = FUN_0004394c(param_2,iVar9,0,param_4,param_5);
        if (iVar4 == 0) {
          if (0 < iVar3) {
            iVar4 = 0;
            do {
              uVar1 = FUN_00046880(param_1,iVar4);
              iVar5 = FUN_000439f0(uVar1,param_2,iVar9,param_4,param_5);
              if (iVar5 != 0) goto LAB_00043cd4;
              if (iVar4 < iVar3 + -1) {
                iVar5 = (*param_4)(&DAT_0004cfd4,1,param_5);
                if (iVar5 != 0) goto LAB_00043cd4;
                iVar5 = FUN_0004394c(param_2,iVar9,1,param_4,param_5);
              }
              else {
                iVar5 = FUN_0004394c(param_2,param_3,0,param_4,param_5);
              }
              if (iVar5 != 0) goto LAB_00043cd4;
              iVar4 = iVar4 + 1;
            } while (iVar3 != iVar4);
          }
          param_1[5] = 0;
          uVar1 = (*param_4)("]",1,param_5);
          return uVar1;
        }
      }
    }
LAB_00043cd4:
    uVar1 = 0xffffffff;
    param_1[5] = 0;
    break;
  case 2:
    uVar1 = FUN_000469f0(param_1);
    uVar1 = FUN_000436e4(uVar1,param_4,param_5,param_2);
    break;
  case 3:
    FUN_00046ac0(param_1);
    uVar6 = snprintf(acStack_8c,100,"%lld");
    if (uVar6 < 100) {
LAB_00043d1c:
      uVar1 = (*param_4)(acStack_8c,uVar6,param_5);
      return uVar1;
    }
  default:
switchD_00043a18_default:
    uVar1 = 0xffffffff;
    break;
  case 4:
    FUN_00046b70(param_1);
    uVar6 = FUN_00046120(acStack_8c,100);
    if (-1 < (int)uVar6) goto LAB_00043d1c;
    goto switchD_00043a18_default;
  case 5:
    uVar1 = (*param_4)(&DAT_00053a24,4,param_5);
    break;
  case 6:
    uVar1 = (*param_4)("false",5,param_5);
    break;
  case 7:
    uVar1 = (*param_4)(&DAT_00056df0,4,param_5);
  }
  return uVar1;
}




undefined4 FUN_0004401c(uint *param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  undefined4 uVar1;
  
  if (((param_4 & 0x200) == 0) && ((param_1 == (uint *)0x0 || (1 < *param_1)))) {
    uVar1 = 0xffffffff;
  }
  else {
    uVar1 = FUN_000439f0(param_1,param_4,0,param_2,param_3);
  }
  return uVar1;
}




void FUN_00044068(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  FUN_0004401c(param_1,&LAB_00043914,param_2,param_3);
  return;
}




undefined4 FUN_0004407c(undefined4 param_1,char *param_2,undefined4 param_3)

{
  FILE *__stream;
  undefined4 uVar1;
  
  __stream = fopen(param_2,"w");
  if (__stream == (FILE *)0x0) {
    uVar1 = 0xffffffff;
  }
  else {
    uVar1 = FUN_00044068(param_1,__stream,param_3);
    fclose(__stream);
  }
  return uVar1;
}




undefined4 FUN_000440cc(undefined4 param_1,undefined4 param_2)

{
  int iVar1;
  undefined4 uVar2;
  undefined1 auStack_1c [12];
  
  iVar1 = FUN_00045e94(auStack_1c);
  if (iVar1 == 0) {
    iVar1 = FUN_0004401c(param_1,&LAB_00043934,auStack_1c,param_2);
    uVar2 = 0;
    if (iVar1 == 0) {
      FUN_00045f0c(auStack_1c);
      uVar2 = FUN_00045e2c();
    }
    FUN_00045ecc(auStack_1c);
  }
  else {
    uVar2 = 0;
  }
  return uVar2;
}




void FUN_00044138(int param_1,undefined4 *param_2,int *param_3)

{
  int iVar1;
  int *piVar2;
  
  piVar2 = (int *)*param_2;
  if ((piVar2 == (int *)(param_1 + 0xc)) && (piVar2 == (int *)param_2[1])) {
    iVar1 = *(int *)(param_1 + 0xc);
    param_3[1] = (int)piVar2;
    *param_3 = iVar1;
    iVar1 = *(int *)(param_1 + 0xc);
    *(int **)(param_1 + 0xc) = param_3;
    *(int **)(iVar1 + 4) = param_3;
    param_2[1] = param_3;
    *param_2 = param_3;
    return;
  }
  *param_3 = *piVar2;
  param_3[1] = (int)piVar2;
  iVar1 = *piVar2;
  *piVar2 = (int)param_3;
  *(int **)(iVar1 + 4) = param_3;
  *param_2 = param_3;
  return;
}




int FUN_00044194(int param_1,int *param_2,char *param_3,int param_4)

{
  int iVar1;
  int iVar2;
  
  iVar2 = *param_2;
  if ((iVar2 != param_1 + 0xc) || (iVar2 != param_2[1])) {
    while( true ) {
      if (*(int *)(iVar2 + -4) == param_4) {
        iVar1 = strcmp((char *)(iVar2 + 0x10),param_3);
        if (iVar1 == 0) {
          return iVar2 + -4;
        }
      }
      if (param_2[1] == iVar2) break;
      iVar2 = *(int *)(iVar2 + 4);
    }
  }
  return 0;
}




void FUN_0004420c(int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  iVar2 = *(int *)(param_1 + 0x10);
  if (iVar2 == param_1 + 0xc) {
    return;
  }
  do {
    iVar1 = *(int *)(iVar2 + 8);
    iVar3 = iVar2 + -4;
    iVar2 = *(int *)(iVar2 + 4);
    if (iVar1 != 0) {
      iVar4 = *(int *)(iVar1 + 4) + -1;
      if ((*(int *)(iVar1 + 4) != -1) && (*(int *)(iVar1 + 4) = iVar4, iVar4 == 0)) {
        FUN_00046c5c();
      }
    }
    FUN_00045e0c(iVar3);
  } while (iVar2 != param_1 + 0xc);
  return;
}




undefined4 FUN_0004426c(undefined4 *param_1)

{
  int iVar1;
  undefined4 *puVar2;
  int iVar3;
  int iVar4;
  
  *param_1 = 0;
  param_1[2] = 0;
  iVar1 = FUN_00045de4(0x28);
  param_1[1] = iVar1;
  if (iVar1 == 0) {
    return 0xffffffff;
  }
  puVar2 = param_1 + 3;
  param_1[4] = puVar2;
  param_1[3] = puVar2;
  iVar4 = *(int *)(&DAT_00056e0c + param_1[2] * 4);
  if (iVar4 != 0) {
    iVar3 = 0;
    do {
      *(undefined4 **)(iVar1 + iVar3 + 4) = puVar2;
      *(undefined4 **)(iVar1 + iVar3) = puVar2;
      iVar3 = iVar3 + 8;
    } while (iVar3 != iVar4 << 3);
  }
  return 0;
}




void FUN_000442ec(int param_1)

{
  FUN_0004420c();
  FUN_00045e0c(*(undefined4 *)(param_1 + 4));
  return;
}




undefined4 FUN_00044304(uint *param_1,byte *param_2,int param_3,int param_4)

{
  uint *puVar1;
  int iVar2;
  size_t sVar3;
  int *piVar4;
  uint uVar5;
  int extraout_r1;
  int extraout_r1_00;
  int *piVar6;
  int iVar7;
  uint *puVar8;
  uint uVar9;
  int iVar10;
  uint *puVar11;
  uint uVar12;
  byte *pbVar13;
  
  uVar5 = *(uint *)(&DAT_00056e0c + param_1[2] * 4);
  if (*param_1 < uVar5) {
    uVar9 = param_1[1];
  }
  else {
    FUN_00045e0c(param_1[1]);
    uVar5 = param_1[2];
    param_1[2] = uVar5 + 1;
    iVar7 = *(int *)(&DAT_00056e0c + (uVar5 + 1) * 4);
    uVar9 = FUN_00045de4(iVar7 << 3);
    param_1[1] = uVar9;
    if (uVar9 == 0) {
      return 0xffffffff;
    }
    uVar5 = *(uint *)(&DAT_00056e0c + param_1[2] * 4);
    if (uVar5 != 0) {
      iVar2 = 0;
      do {
        *(uint **)(uVar9 + iVar2 + 4) = param_1 + 3;
        *(uint **)(uVar9 + iVar2) = param_1 + 3;
        iVar2 = iVar2 + 8;
      } while (iVar2 != uVar5 << 3);
    }
    puVar11 = (uint *)param_1[4];
    puVar1 = param_1 + 3;
    *puVar1 = (uint)puVar1;
    param_1[4] = (uint)puVar1;
    if (puVar11 != puVar1) {
      while( true ) {
        FUN_00048f68(puVar11[-1],iVar7);
        puVar8 = (uint *)puVar11[1];
        FUN_00044138(param_1,uVar9 + extraout_r1_00 * 8,puVar11);
        if (puVar1 == puVar8) break;
        uVar9 = param_1[1];
        puVar11 = puVar8;
      }
      uVar9 = param_1[1];
      uVar5 = *(uint *)(&DAT_00056e0c + param_1[2] * 4);
    }
  }
  uVar12 = (uint)*param_2;
  if (uVar12 == 0) {
    iVar7 = 0x1505;
  }
  else {
    iVar7 = 0x1505;
    pbVar13 = param_2;
    do {
      iVar7 = uVar12 + iVar7 * 0x21;
      pbVar13 = pbVar13 + 1;
      uVar12 = (uint)*pbVar13;
    } while (uVar12 != 0);
  }
  FUN_00048f68(iVar7,uVar5);
  iVar10 = uVar9 + extraout_r1 * 8;
  iVar2 = FUN_00044194(param_1,iVar10,param_2,iVar7);
  if (iVar2 == 0) {
    sVar3 = strlen((char *)param_2);
    piVar4 = (int *)FUN_00045de4(sVar3 + 0x15);
    if (piVar4 == (int *)0x0) {
      return 0xffffffff;
    }
    *piVar4 = iVar7;
    piVar4[4] = param_3;
    strcpy((char *)(piVar4 + 5),(char *)param_2);
    piVar6 = piVar4 + 1;
    piVar4[2] = (int)piVar6;
    piVar4[3] = param_4;
    piVar4[1] = (int)piVar6;
    FUN_00044138(param_1,iVar10,piVar6);
    *param_1 = *param_1 + 1;
    return 0;
  }
  iVar7 = *(int *)(iVar2 + 0xc);
  if (((iVar7 != 0) && (*(int *)(iVar7 + 4) != -1)) &&
     (iVar10 = *(int *)(iVar7 + 4) + -1, *(int *)(iVar7 + 4) = iVar10, iVar10 == 0)) {
    FUN_00046c5c();
  }
  *(int *)(iVar2 + 0xc) = param_4;
  return 0;
}




undefined4 FUN_00044584(int *param_1,byte *param_2)

{
  int extraout_r1;
  uint uVar1;
  int iVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  byte *pbVar7;
  
  uVar1 = (uint)*param_2;
  if (uVar1 == 0) {
    iVar4 = 0x1505;
  }
  else {
    iVar4 = 0x1505;
    pbVar7 = param_2;
    do {
      iVar4 = uVar1 + iVar4 * 0x21;
      pbVar7 = pbVar7 + 1;
      uVar1 = (uint)*pbVar7;
    } while (uVar1 != 0);
  }
  FUN_00048f68(iVar4,*(undefined4 *)(&DAT_00056e0c + param_1[2] * 4));
  iVar6 = param_1[1];
  iVar5 = iVar6 + extraout_r1 * 8;
  iVar4 = FUN_00044194(param_1,iVar5,param_2,iVar4);
  if (iVar4 == 0) {
    return 0xffffffff;
  }
  iVar2 = iVar4 + 4;
  if (iVar2 == *(int *)(iVar6 + extraout_r1 * 8)) {
    if (iVar2 == *(int *)(iVar5 + 4)) {
      piVar3 = param_1 + 3;
      *(int **)(iVar5 + 4) = piVar3;
    }
    else {
      piVar3 = *(int **)(iVar4 + 8);
    }
    *(int **)(iVar6 + extraout_r1 * 8) = piVar3;
  }
  else if (iVar2 == *(int *)(iVar5 + 4)) {
    *(undefined4 *)(iVar5 + 4) = *(undefined4 *)(iVar4 + 4);
  }
  iVar6 = *(int *)(iVar4 + 4);
  iVar5 = *(int *)(iVar4 + 0xc);
  *(undefined4 *)(iVar6 + 4) = *(undefined4 *)(iVar4 + 8);
  **(int **)(iVar4 + 8) = iVar6;
  if (((iVar5 != 0) && (*(int *)(iVar5 + 4) != -1)) &&
     (iVar6 = *(int *)(iVar5 + 4) + -1, *(int *)(iVar5 + 4) = iVar6, iVar6 == 0)) {
    FUN_00046c5c();
  }
  FUN_00045e0c(iVar4);
  *param_1 = *param_1 + -1;
  return 0;
}




void FUN_000446a0(undefined4 *param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  FUN_0004420c();
  iVar3 = *(int *)(&DAT_00056e0c + param_1[2] * 4);
  if (iVar3 != 0) {
    iVar1 = param_1[1];
    iVar2 = 0;
    do {
      *(undefined4 **)(iVar1 + iVar2 + 4) = param_1 + 3;
      *(undefined4 **)(iVar1 + iVar2) = param_1 + 3;
      iVar2 = iVar2 + 8;
    } while (iVar2 != iVar3 * 8);
  }
  param_1[4] = param_1 + 3;
  param_1[3] = param_1 + 3;
  *param_1 = 0;
  return;
}




int FUN_0004471c(int param_1,byte *param_2)

{
  int extraout_r1;
  uint uVar1;
  int iVar2;
  byte *pbVar3;
  
  uVar1 = (uint)*param_2;
  if (uVar1 == 0) {
    iVar2 = 0x1505;
  }
  else {
    iVar2 = 0x1505;
    pbVar3 = param_2;
    do {
      iVar2 = uVar1 + iVar2 * 0x21;
      pbVar3 = pbVar3 + 1;
      uVar1 = (uint)*pbVar3;
    } while (uVar1 != 0);
  }
  FUN_00048f68(iVar2,*(undefined4 *)(&DAT_00056e0c + *(int *)(param_1 + 8) * 4));
  iVar2 = FUN_00044194(param_1,*(int *)(param_1 + 4) + extraout_r1 * 8,param_2,iVar2);
  if (iVar2 != 0) {
    iVar2 = iVar2 + 4;
  }
  return iVar2;
}




undefined4 FUN_000447b4(int param_1)

{
  return *(undefined4 *)(param_1 + 0xc);
}




void FUN_000447c4(int param_1,undefined4 param_2)

{
  int iVar1;
  int iVar2;
  
  iVar1 = *(int *)(param_1 + 8);
  if ((iVar1 != 0) && (*(int *)(iVar1 + 4) != -1)) {
    iVar2 = *(int *)(iVar1 + 4) + -1;
    *(int *)(iVar1 + 4) = iVar2;
    if (iVar2 == 0) {
      FUN_00046c5c();
      *(undefined4 *)(param_1 + 8) = param_2;
      return;
    }
  }
  *(undefined4 *)(param_1 + 8) = param_2;
  return;
}




void FUN_000448ac(int param_1,int param_2,char *param_3,undefined4 param_4)

{
  char *pcVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  char acStack_168 [159];
  undefined1 local_c9;
  char acStack_c8 [159];
  undefined1 local_29;
  undefined4 uStack_4;
  
  if (param_1 != 0) {
    uStack_4 = param_4;
    vsnprintf(acStack_168,0xa0,param_3,&uStack_4);
    local_c9 = 0;
    if (param_2 == 0) {
      uVar2 = 0xffffffff;
      pcVar1 = acStack_168;
      uVar3 = 0;
      uVar4 = uVar2;
    }
    else {
      pcVar1 = (char *)FUN_00045f0c(param_2 + 0x28);
      uVar4 = *(undefined4 *)(param_2 + 0x18);
      uVar2 = *(undefined4 *)(param_2 + 0x1c);
      uVar3 = *(undefined4 *)(param_2 + 0x24);
      if ((pcVar1 == (char *)0x0) || (*pcVar1 == '\0')) {
        pcVar1 = acStack_168;
        if (*(int *)(param_2 + 0x14) != -2) {
          snprintf(acStack_c8,0xa0,"%s near end of file");
          pcVar1 = acStack_c8;
          local_29 = 0;
        }
      }
      else if (*(uint *)(param_2 + 0x2c) < 0x15) {
        snprintf(acStack_c8,0xa0,"%s near \'%s\'",acStack_168,pcVar1);
        pcVar1 = acStack_c8;
        local_29 = 0;
      }
      else {
        pcVar1 = acStack_168;
      }
    }
    FUN_00047910(param_1,uVar4,uVar2,uVar3,"%s",pcVar1);
  }
  return;
}




undefined4 FUN_000449cc(undefined4 *param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  undefined4 uVar2;
  
  *param_1 = param_2;
  param_1[1] = param_3;
  *(undefined1 *)(param_1 + 2) = 0;
  param_1[4] = 0;
  param_1[5] = 0;
  param_1[7] = 0;
  param_1[9] = 0;
  param_1[6] = 1;
  iVar1 = FUN_00045e94(param_1 + 10);
  if (iVar1 == 0) {
    param_1[0xd] = 0xffffffff;
    uVar2 = 0;
  }
  else {
    uVar2 = 0xffffffff;
  }
  return uVar2;
}




void FUN_00044a18(int param_1)

{
  if (*(int *)(param_1 + 0x34) == 0x100) {
    FUN_00045e0c(*(undefined4 *)(param_1 + 0x38));
  }
  FUN_00045ecc(param_1 + 0x28);
  return;
}




int FUN_00044a44(char *param_1)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  
  if (*param_1 != 'u') {
                    /* WARNING: Subroutine does not return */
    __assert_fail("str[0] == \'u\'","load.c",0x120,"decode_unicode_escape");
  }
  iVar1 = 0;
  iVar4 = 1;
  do {
    uVar3 = (uint)(byte)param_1[iVar4];
    uVar2 = uVar3 - 0x30;
    if (9 < (uVar2 & 0xff)) {
      if (uVar3 - 0x61 < 0x1a) {
        uVar2 = uVar3 - 0x57;
      }
      else {
        if (0x19 < uVar3 - 0x41) {
                    /* WARNING: Subroutine does not return */
          __assert_fail("0","load.c",300,"decode_unicode_escape");
        }
        uVar2 = uVar3 - 0x37;
      }
    }
    iVar1 = uVar2 + iVar1 * 0x10;
    iVar4 = iVar4 + 1;
  } while (iVar4 != 5);
  return iVar1;
}




void FUN_00044aec(int param_1,uint param_2)

{
  int iVar1;
  
  if (param_2 + 2 < 2) {
    return;
  }
  *(int *)(param_1 + 0x24) = *(int *)(param_1 + 0x24) + -1;
  if (param_2 == 10) {
    *(undefined4 *)(param_1 + 0x1c) = *(undefined4 *)(param_1 + 0x20);
    *(int *)(param_1 + 0x18) = *(int *)(param_1 + 0x18) + -1;
  }
  else {
    iVar1 = FUN_0004633c(param_2 & 0xff);
    if (iVar1 != 0) {
      *(int *)(param_1 + 0x1c) = *(int *)(param_1 + 0x1c) + -1;
    }
  }
  if (*(int *)(param_1 + 0x10) == 0) {
                    /* WARNING: Subroutine does not return */
    __assert_fail("stream->buffer_pos > 0","load.c",0xe0,"stream_unget");
  }
  iVar1 = *(int *)(param_1 + 0x10) + -1;
  *(int *)(param_1 + 0x10) = iVar1;
  if (*(byte *)(param_1 + iVar1 + 8) != param_2) {
                    /* WARNING: Subroutine does not return */
    __assert_fail("stream->buffer[stream->buffer_pos] == c","load.c",0xe2,"stream_unget");
  }
  return;
}




uint FUN_00044ba4(undefined4 *param_1,undefined4 param_2)

{
  undefined1 uVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  undefined4 uVar6;
  undefined4 *puVar7;
  
  if (param_1[5] != 0) {
    return param_1[5];
  }
  uVar2 = (uint)*(byte *)((int)param_1 + param_1[4] + 8);
  if (uVar2 == 0) {
    uVar3 = (*(code *)*param_1)(param_1[1]);
    if (uVar3 == 0xffffffff) {
      param_1[5] = 0xffffffff;
      return 0xffffffff;
    }
    param_1[4] = 0;
    uVar2 = uVar3 & 0xff;
    if (0x7f < uVar3 - 0x80) {
      *(undefined1 *)((int)param_1 + 9) = 0;
    }
    *(char *)(param_1 + 2) = (char)uVar3;
    if (uVar3 - 0x80 < 0x80) {
      iVar5 = FUN_0004633c();
      if (iVar5 != 0) {
        if (iVar5 < 2) {
                    /* WARNING: Subroutine does not return */
          __assert_fail("count >= 2","load.c",0xaf,"stream_get");
        }
        puVar7 = param_1;
        do {
          uVar1 = (*(code *)*param_1)(param_1[1]);
          *(undefined1 *)((int)puVar7 + 9) = uVar1;
          puVar7 = (undefined4 *)((int)puVar7 + 1);
        } while (puVar7 != (undefined4 *)((int)param_1 + iVar5 + -1));
        iVar4 = FUN_000463b8(param_1 + 2,iVar5,0);
        if (iVar4 != 0) {
          iVar4 = param_1[4];
          *(undefined1 *)((int)param_1 + iVar5 + 8) = 0;
          iVar5 = iVar4 + 1;
          uVar2 = (uint)*(byte *)((int)param_1 + iVar4 + 8);
          goto LAB_00044bd4;
        }
      }
      param_1[5] = 0xfffffffe;
      FUN_000448ac(param_2,param_1,"unable to decode byte 0x%x",uVar3);
      return 0xfffffffe;
    }
    iVar5 = 1;
  }
  else {
    iVar5 = param_1[4] + 1;
  }
LAB_00044bd4:
  param_1[4] = iVar5;
  param_1[9] = param_1[9] + 1;
  if (uVar2 != 10) {
    iVar5 = FUN_0004633c();
    if (iVar5 != 0) {
      param_1[7] = param_1[7] + 1;
    }
    return uVar2;
  }
  uVar6 = param_1[7];
  param_1[7] = 0;
  param_1[8] = uVar6;
  param_1[6] = param_1[6] + 1;
  return 10;
}




void FUN_00044d28(int param_1,int param_2)

{
  int iVar1;
  
  if (param_2 + 2U < 2) {
    return;
  }
  FUN_00044aec();
  iVar1 = FUN_00046038(param_1 + 0x28);
  if (iVar1 == param_2) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __assert_fail("c == d","load.c",0x10c,"lex_unget_unsave");
}




uint FUN_00044d74(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  uint uVar1;
  undefined4 extraout_r2;
  
  uVar1 = FUN_00044ba4();
  if (1 < uVar1 + 2) {
    FUN_00045fec(param_1 + 0x28,uVar1 & 0xff,extraout_r2,uVar1 + 2,param_4);
  }
  return uVar1;
}




uint FUN_00044da4(int param_1,undefined4 param_2)

{
  char cVar1;
  byte bVar2;
  uint uVar3;
  char *pcVar4;
  int *piVar5;
  byte *__dest;
  uint uVar6;
  int iVar7;
  int iVar8;
  byte *pbVar9;
  bool bVar10;
  bool bVar11;
  longlong lVar12;
  undefined1 auStack_3c [4];
  size_t local_38;
  char *local_34;
  undefined4 local_30;
  undefined4 uStack_2c;
  
  iVar8 = param_1 + 0x28;
  FUN_00045ef8(iVar8);
  if (*(int *)(param_1 + 0x34) == 0x100) {
    FUN_00045e0c(*(undefined4 *)(param_1 + 0x38));
    *(undefined4 *)(param_1 + 0x38) = 0;
  }
  do {
    do {
      uVar3 = FUN_00044ba4(param_1,param_2);
    } while (uVar3 == 0x20 || uVar3 == 9);
  } while (uVar3 == 10 || uVar3 == 0xd);
  if (uVar3 == 0xffffffff) {
    *(undefined4 *)(param_1 + 0x34) = 0;
    return 0;
  }
  if (uVar3 != 0xfffffffe) {
    FUN_00045fec(iVar8,uVar3 & 0xff);
    if (((uVar3 == 0x7b || uVar3 == 0x7d) || (uVar3 == 0x5b || uVar3 == 0x5d)) || (uVar3 == 0x3a || uVar3 == 0x2c))
    goto LAB_00044ec8;
    if (uVar3 == 0x22) {
      *(undefined4 *)(param_1 + 0x38) = 0;
      *(undefined4 *)(param_1 + 0x34) = 0xffffffff;
      do {
        uVar3 = FUN_00044d74(param_1,param_2);
        while( true ) {
          if (uVar3 == 0x22) {
            __dest = (byte *)FUN_00045de4(*(int *)(param_1 + 0x2c) + 1);
            *(byte **)(param_1 + 0x38) = __dest;
            if (__dest == (byte *)0x0) goto LAB_00045220;
            iVar8 = FUN_00045f0c(iVar8);
            pbVar9 = (byte *)(iVar8 + 1);
            goto LAB_00045280;
          }
          if (uVar3 == 0xfffffffe) goto LAB_00045240;
          if (uVar3 == 0xffffffff) {
            FUN_000448ac(param_2,param_1,"premature end of input");
            __dest = *(byte **)(param_1 + 0x38);
            goto LAB_00045220;
          }
          if (uVar3 < 0x20) {
            FUN_00044d28(param_1,uVar3);
            if (uVar3 == 10) {
              pcVar4 = "unexpected newline";
            }
            else {
              pcVar4 = "control character 0x%x";
            }
            FUN_000448ac(param_2,param_1,pcVar4,uVar3);
            __dest = *(byte **)(param_1 + 0x38);
            goto LAB_00045220;
          }
          if (uVar3 != 0x5c) break;
          uVar3 = FUN_00044d74(param_1,param_2);
          if (uVar3 == 0x75) {
            uVar3 = FUN_00044d74(param_1,param_2);
            iVar7 = 4;
            do {
              uVar6 = uVar3 - 0x41;
              bVar11 = 4 < uVar6;
              bVar10 = uVar6 == 5;
              if (5 < uVar6) {
                bVar11 = 8 < uVar3 - 0x30;
                bVar10 = uVar3 - 0x30 == 9;
              }
              if ((bVar11 && !bVar10) && (5 < uVar3 - 0x61)) goto LAB_000454bc;
              uVar3 = FUN_00044d74(param_1,param_2);
              iVar7 = iVar7 + -1;
            } while (iVar7 != 0);
          }
          else {
            if ((((uVar3 != 0x22 && uVar3 != 0x5c) && (uVar3 != 0x2f && uVar3 != 0x62)) &&
                ((uVar3 & 0xfffffff7) != 0x66)) && (uVar3 != 0x72 && uVar3 != 0x74)) {
LAB_000454bc:
              FUN_000448ac(param_2,param_1,"invalid escape");
              __dest = *(byte **)(param_1 + 0x38);
              goto LAB_00045220;
            }
            uVar3 = FUN_00044d74(param_1,param_2);
          }
        }
      } while( true );
    }
    bVar10 = 0x2c < uVar3;
    if (uVar3 != 0x2d) {
      bVar10 = 8 < uVar3 - 0x30;
    }
    if (!bVar10 || (uVar3 == 0x2d || uVar3 - 0x30 == 9)) {
      *(undefined4 *)(param_1 + 0x34) = 0xffffffff;
      if (uVar3 == 0x2d) {
        uVar3 = FUN_00044d74(param_1,param_2);
      }
      if (uVar3 == 0x30) {
        uVar3 = FUN_00044d74(param_1,param_2);
        if (uVar3 - 0x30 < 10) goto LAB_000451e4;
      }
      else {
        if (9 < uVar3 - 0x30) {
          FUN_00044d28(param_1,uVar3);
          return *(uint *)(param_1 + 0x34);
        }
        do {
          uVar3 = FUN_00044d74(param_1,param_2);
        } while (uVar3 - 0x30 < 10);
      }
      if (uVar3 == 0x45 || uVar3 == 0x2e) {
        if (uVar3 == 0x2e) {
          uVar3 = FUN_00044ba4(param_1,param_2);
          if (9 < uVar3 - 0x30) {
            FUN_00044aec(param_1,uVar3);
            return *(uint *)(param_1 + 0x34);
          }
          FUN_00045fec(iVar8,uVar3 & 0xff);
          do {
            uVar3 = FUN_00044d74(param_1,param_2);
          } while (uVar3 - 0x30 < 10);
        }
        if ((uVar3 & 0xffffffdf) != 0x45) goto LAB_000450f4;
      }
      else if (uVar3 != 0x65) {
        FUN_00044d28(param_1,uVar3);
        pcVar4 = (char *)FUN_00045f0c(iVar8);
        piVar5 = __errno_location();
        *piVar5 = 0;
        lVar12 = strtoll(pcVar4,&local_34,10);
        if (*piVar5 == 0x22) {
          if (lVar12 < 0) {
            pcVar4 = "too big negative integer";
          }
          else {
            pcVar4 = "too big integer";
          }
          FUN_000448ac(param_2,param_1,pcVar4);
          return *(uint *)(param_1 + 0x34);
        }
        if (local_34 == pcVar4 + *(int *)(param_1 + 0x2c)) {
          *(longlong *)(param_1 + 0x38) = lVar12;
          *(undefined4 *)(param_1 + 0x34) = 0x101;
          return 0x101;
        }
                    /* WARNING: Subroutine does not return */
        __assert_fail("end == saved_text + lex->saved_text.length","load.c",0x206,"lex_scan_number");
      }
      uVar3 = FUN_00044d74(param_1,param_2);
      if (uVar3 == 0x2b || uVar3 == 0x2d) {
        uVar3 = FUN_00044d74(param_1,param_2);
      }
      if (9 < uVar3 - 0x30) {
LAB_000451e4:
        FUN_00044d28(param_1,uVar3);
        return *(uint *)(param_1 + 0x34);
      }
      do {
        uVar3 = FUN_00044d74(param_1,param_2);
      } while (uVar3 - 0x30 < 10);
LAB_000450f4:
      FUN_00044d28(param_1,uVar3);
      iVar8 = FUN_00046060(iVar8,&local_30);
      if (iVar8 == 0) {
        *(undefined4 *)(param_1 + 0x34) = 0x102;
        *(undefined4 *)(param_1 + 0x38) = local_30;
        *(undefined4 *)(param_1 + 0x3c) = uStack_2c;
        return 0x102;
      }
      FUN_000448ac(param_2,param_1,"real number overflow");
      return *(uint *)(param_1 + 0x34);
    }
    if ((uVar3 & 0xffffffdf) - 0x41 < 0x1a) {
      do {
        uVar3 = FUN_00044d74(param_1,param_2);
      } while ((uVar3 & 0xffffffdf) - 0x41 < 0x1a);
      FUN_00044d28(param_1,uVar3);
      pcVar4 = (char *)FUN_00045f0c(iVar8);
      iVar8 = strcmp(pcVar4,"true");
      if (iVar8 == 0) {
        *(undefined4 *)(param_1 + 0x34) = 0x103;
        return 0x103;
      }
      iVar8 = strcmp(pcVar4,"false");
      if (iVar8 == 0) {
        *(undefined4 *)(param_1 + 0x34) = 0x104;
        return 0x104;
      }
      iVar8 = strcmp(pcVar4,"null");
      if (iVar8 == 0) {
        *(undefined4 *)(param_1 + 0x34) = 0x105;
        return 0x105;
      }
    }
    else {
      cVar1 = *(char *)(param_1 + *(int *)(param_1 + 0x10) + 8);
      while (cVar1 != '\0') {
        FUN_00045fec(iVar8);
        iVar7 = *(int *)(param_1 + 0x10) + 1;
        *(int *)(param_1 + 0x10) = iVar7;
        *(int *)(param_1 + 0x24) = *(int *)(param_1 + 0x24) + 1;
        cVar1 = *(char *)(param_1 + iVar7 + 8);
      }
    }
  }
  uVar3 = 0xffffffff;
LAB_00044ec8:
  *(uint *)(param_1 + 0x34) = uVar3;
  return uVar3;
LAB_00045280:
  while( true ) {
    bVar2 = *pbVar9;
    if (bVar2 == 0x22) {
      *__dest = 0;
      *(undefined4 *)(param_1 + 0x34) = 0x100;
      return 0x100;
    }
    if (bVar2 == 0x5c) break;
    *__dest = bVar2;
    pbVar9 = pbVar9 + 1;
    __dest = __dest + 1;
  }
  bVar2 = pbVar9[1];
  if (bVar2 == 0x75) {
    iVar8 = FUN_00044a44(pbVar9 + 1);
    if (iVar8 - 0xd800U < 0x400) {
      if ((pbVar9[6] != 0x5c) || (pbVar9[7] != 0x75)) {
LAB_0004522c:
        FUN_000448ac(param_2,param_1,"invalid Unicode \'\\u%04X\'",iVar8);
LAB_00045240:
        __dest = *(byte **)(param_1 + 0x38);
LAB_00045220:
        FUN_00045e0c(__dest);
        return *(uint *)(param_1 + 0x34);
      }
      iVar7 = FUN_00044a44(pbVar9 + 7);
      pbVar9 = pbVar9 + 0xc;
      if (0x3ff < iVar7 - 0xdc00U) {
        FUN_000448ac(param_2,param_1,"invalid Unicode \'\\u%04X\\u%04X\'",iVar8,iVar7);
        goto LAB_00045240;
      }
      iVar8 = (iVar7 - 0xdc00U) + (iVar8 - 0xd800U) * 0x400 + 0x10000;
    }
    else {
      if (iVar8 - 0xdc00U < 0x400) goto LAB_0004522c;
      if (iVar8 == 0) {
        FUN_000448ac(param_2,param_1,"\\u0000 is not allowed");
        goto LAB_00045240;
      }
      pbVar9 = pbVar9 + 6;
    }
    iVar8 = FUN_00046254(iVar8,auStack_3c,&local_38);
    if (iVar8 != 0) {
                    /* WARNING: Subroutine does not return */
      __assert_fail("0","load.c",0x1ae,"lex_scan_string");
    }
    memcpy(__dest,auStack_3c,local_38);
    __dest = __dest + local_38;
    goto LAB_00045280;
  }
  if (bVar2 == 0x66) {
    *__dest = 0xc;
  }
  else if (bVar2 < 0x67) {
    if (bVar2 != 0x5c) {
      if (0x5c < bVar2) {
        if (bVar2 != 0x62) goto LAB_000452d0;
        *__dest = 8;
        goto LAB_00045304;
      }
      if ((bVar2 != 0x22) && (bVar2 != 0x2f)) {
LAB_000452d0:
                    /* WARNING: Subroutine does not return */
        __assert_fail("0","load.c",0x1bc,"lex_scan_string");
      }
    }
    *__dest = bVar2;
  }
  else if (bVar2 == 0x72) {
    *__dest = 0xd;
  }
  else if (bVar2 == 0x74) {
    *__dest = 9;
  }
  else {
    if (bVar2 != 0x6e) goto LAB_000452d0;
    *__dest = 10;
  }
LAB_00045304:
  __dest = __dest + 1;
  pbVar9 = pbVar9 + 2;
  goto LAB_00045280;
}




int FUN_00045578(int param_1,uint param_2,undefined4 param_3)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined4 local_30 [3];
  
  iVar3 = *(int *)(param_1 + 0x34);
  if (iVar3 == 0x101) {
    if ((param_2 & 8) == 0) {
      iVar3 = FUN_00046a94(*(undefined4 *)(param_1 + 0x38),*(undefined4 *)(param_1 + 0x3c));
      return iVar3;
    }
    iVar3 = FUN_00046060(param_1 + 0x28,local_30);
    if (iVar3 != 0) {
      FUN_000448ac(param_3,param_1,"real number overflow");
      return 0;
    }
    iVar3 = FUN_00046b14(local_30[0]);
    return iVar3;
  }
  if (iVar3 < 0x102) {
    if (iVar3 == 0x5b) {
      iVar3 = FUN_000467f8();
      if (iVar3 == 0) {
        return 0;
      }
      FUN_00044da4(param_1,param_3);
      iVar1 = *(int *)(param_1 + 0x34);
      if (iVar1 == 0x5d) {
        return iVar3;
      }
      while (iVar1 != 0) {
        iVar1 = FUN_00045578(param_1,param_2,param_3);
        if (iVar1 == 0) goto LAB_00045844;
        if (*(int *)(iVar1 + 4) != -1) {
          *(int *)(iVar1 + 4) = *(int *)(iVar1 + 4) + 1;
        }
        iVar4 = FUN_00046f60(iVar3,iVar1);
        if (iVar4 != 0) {
          iVar4 = *(int *)(iVar1 + 4);
          goto joined_r0x000458e4;
        }
        iVar4 = *(int *)(iVar1 + 4) + -1;
        if ((*(int *)(iVar1 + 4) != -1) && (*(int *)(iVar1 + 4) = iVar4, iVar4 == 0)) {
          FUN_00046c5c(iVar1);
        }
        FUN_00044da4(param_1,param_3);
        if (*(int *)(param_1 + 0x34) != 0x2c) {
          if (*(int *)(param_1 + 0x34) == 0x5d) {
            return iVar3;
          }
          break;
        }
        FUN_00044da4(param_1,param_3);
        iVar1 = *(int *)(param_1 + 0x34);
      }
      FUN_000448ac(param_3,param_1,"\']\' expected");
LAB_00045844:
      if ((*(int *)(iVar3 + 4) != -1) && (iVar1 = *(int *)(iVar3 + 4) + -1, *(int *)(iVar3 + 4) = iVar1, iVar1 == 0)) {
        FUN_00046c5c(iVar3);
        return 0;
      }
      return 0;
    }
    if (iVar3 < 0x5c) {
      if (iVar3 == -1) {
        FUN_000448ac(param_3,param_1,"invalid token");
        return 0;
      }
    }
    else {
      if (iVar3 == 0x7b) {
        iVar3 = FUN_00046620();
        if (iVar3 == 0) {
          return 0;
        }
        FUN_00044da4(param_1,param_3);
        if (*(int *)(param_1 + 0x34) == 0x7d) {
          return iVar3;
        }
        if (*(int *)(param_1 + 0x34) == 0x100) {
          iVar4 = *(int *)(param_1 + 0x38);
          *(undefined4 *)(param_1 + 0x38) = 0;
          if (iVar4 == 0) {
            return 0;
          }
          do {
            if (((param_2 & 1) != 0) && (iVar1 = FUN_00046698(iVar3,iVar4), iVar1 != 0)) {
              FUN_00045e0c(iVar4);
              FUN_000448ac(param_3,param_1,"duplicate object key");
              goto LAB_00045844;
            }
            FUN_00044da4(param_1,param_3);
            if (*(int *)(param_1 + 0x34) != 0x3a) {
              FUN_00045e0c(iVar4);
              FUN_000448ac(param_3,param_1,"\':\' expected");
              goto LAB_00045844;
            }
            FUN_00044da4(param_1,param_3);
            iVar1 = FUN_00045578(param_1,param_2,param_3);
            if (iVar1 == 0) {
              FUN_00045e0c(iVar4);
              goto LAB_00045844;
            }
            if (*(int *)(iVar1 + 4) != -1) {
              *(int *)(iVar1 + 4) = *(int *)(iVar1 + 4) + 1;
            }
            iVar2 = FUN_00047098(iVar3,iVar4,iVar1);
            if (iVar2 != 0) {
              FUN_00045e0c(iVar4);
              iVar4 = *(int *)(iVar1 + 4);
joined_r0x000458e4:
              if ((iVar4 != -1) && (*(int *)(iVar1 + 4) = iVar4 + -1, iVar4 + -1 == 0)) {
                FUN_00046c5c(iVar1);
              }
              goto LAB_00045844;
            }
            if ((*(int *)(iVar1 + 4) != -1) &&
               (iVar2 = *(int *)(iVar1 + 4) + -1, *(int *)(iVar1 + 4) = iVar2, iVar2 == 0)) {
              FUN_00046c5c(iVar1);
            }
            FUN_00045e0c(iVar4);
            FUN_00044da4(param_1,param_3);
            if (*(int *)(param_1 + 0x34) != 0x2c) {
              if (*(int *)(param_1 + 0x34) == 0x7d) {
                return iVar3;
              }
              FUN_000448ac(param_3,param_1,"\'}\' expected");
              goto LAB_00045844;
            }
            FUN_00044da4(param_1,param_3);
            if (*(int *)(param_1 + 0x34) != 0x100) break;
            iVar4 = *(int *)(param_1 + 0x38);
            *(undefined4 *)(param_1 + 0x38) = 0;
            if (iVar4 == 0) {
              return 0;
            }
          } while( true );
        }
        FUN_000448ac(param_3,param_1,"string or \'}\' expected");
        goto LAB_00045844;
      }
      if (iVar3 == 0x100) {
        iVar3 = FUN_00046964(*(undefined4 *)(param_1 + 0x38));
        return iVar3;
      }
    }
  }
  else {
    if (iVar3 == 0x103) {
      iVar3 = FUN_00046c38();
      return iVar3;
    }
    if (iVar3 < 0x103) {
      iVar3 = FUN_00046b14((int)*(undefined8 *)(param_1 + 0x38));
      return iVar3;
    }
    if (iVar3 == 0x104) {
      iVar3 = FUN_00046c44();
      return iVar3;
    }
    if (iVar3 == 0x105) {
      iVar3 = FUN_00046c50();
      return iVar3;
    }
  }
  FUN_000448ac(param_3,param_1,"unexpected token");
  return 0;
}




int FUN_000459cc(int param_1,uint param_2,int param_3,undefined4 param_4)

{
  int iVar1;
  int iVar2;
  
  FUN_00044da4(param_1,param_3,param_3,param_4,param_4);
  if (((param_2 & 4) == 0) && ((*(uint *)(param_1 + 0x34) & 0xffffffdf) != 0x5b)) {
    FUN_000448ac(param_3,param_1,"\'[\' or \'{\' expected");
  }
  else {
    iVar1 = FUN_00045578(param_1,param_2,param_3);
    if (iVar1 != 0) {
      if (((param_2 & 2) != 0) || (FUN_00044da4(param_1,param_3), *(int *)(param_1 + 0x34) == 0)) {
        if (param_3 != 0) {
          *(undefined4 *)(param_3 + 8) = *(undefined4 *)(param_1 + 0x24);
          return iVar1;
        }
        return iVar1;
      }
      FUN_000448ac(param_3,param_1,"end of file expected");
      if ((*(int *)(iVar1 + 4) != -1) && (iVar2 = *(int *)(iVar1 + 4) + -1, *(int *)(iVar1 + 4) = iVar2, iVar2 == 0)) {
        FUN_00046c5c(iVar1);
        return 0;
      }
    }
  }
  return 0;
}




undefined4 FUN_00045aa8(int param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  undefined4 uVar2;
  int local_58 [2];
  undefined1 auStack_50 [64];
  
  FUN_0004788c(param_3,"<string>");
  if (param_1 == 0) {
    FUN_000448ac(param_3,0,"wrong arguments");
    uVar2 = 0;
  }
  else {
    uVar2 = 0;
    local_58[1] = 0;
    local_58[0] = param_1;
    iVar1 = FUN_000449cc(auStack_50,&LAB_0004480c,local_58);
    if (iVar1 == 0) {
      uVar2 = FUN_000459cc(auStack_50,param_2,param_3);
      FUN_00044a18(auStack_50);
    }
  }
  return uVar2;
}




undefined4 FUN_00045b3c(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  int iVar1;
  undefined4 uVar2;
  int local_64;
  undefined4 local_60;
  undefined4 local_5c;
  undefined1 auStack_58 [68];
  
  FUN_0004788c(param_4,"<buffer>");
  if (param_1 == 0) {
    FUN_000448ac(param_4,0,"wrong arguments");
    uVar2 = 0;
  }
  else {
    uVar2 = 0;
    local_5c = 0;
    local_64 = param_1;
    local_60 = param_2;
    iVar1 = FUN_000449cc(auStack_58,&LAB_0004482c,&local_64);
    if (iVar1 == 0) {
      uVar2 = FUN_000459cc(auStack_58,param_3,param_4);
      FUN_00044a18(auStack_58);
    }
  }
  return uVar2;
}




undefined4 FUN_00045bd8(int param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  undefined4 uVar2;
  char *pcVar3;
  undefined1 auStack_50 [64];
  
  pcVar3 = "<stream>";
  if (param_1 == stdin) {
    pcVar3 = "<stdin>";
  }
  FUN_0004788c(param_3,pcVar3);
  if (param_1 == 0) {
    FUN_000448ac(param_3,0,"wrong arguments");
    uVar2 = 0;
  }
  else {
    iVar1 = FUN_000449cc(auStack_50,fgetc,param_1);
    if (iVar1 == 0) {
      uVar2 = FUN_000459cc(auStack_50,param_2,param_3);
      FUN_00044a18(auStack_50);
    }
    else {
      uVar2 = 0;
    }
  }
  return uVar2;
}




undefined4 FUN_00045c84(char *param_1,undefined4 param_2,undefined4 param_3)

{
  FILE *__stream;
  undefined4 uVar1;
  int *piVar2;
  char *pcVar3;
  
  FUN_0004788c(param_3,param_1);
  if (param_1 == (char *)0x0) {
    FUN_000448ac(param_3,0,"wrong arguments");
    uVar1 = 0;
  }
  else {
    __stream = fopen(param_1,"rb");
    if (__stream == (FILE *)0x0) {
      piVar2 = __errno_location();
      pcVar3 = strerror(*piVar2);
      FUN_000448ac(param_3,0,"unable to open %s: %s",param_1,pcVar3);
      uVar1 = 0;
    }
    else {
      uVar1 = FUN_00045bd8(__stream,param_2,param_3);
      fclose(__stream);
    }
  }
  return uVar1;
}




undefined4 FUN_00045d34(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  int iVar1;
  undefined4 uVar2;
  undefined1 auStack_468 [64];
  undefined1 auStack_428 [1032];
  int local_20;
  undefined4 local_1c;
  
  memset(auStack_428,0,0x410);
  local_20 = param_1;
  local_1c = param_2;
  FUN_0004788c(param_4,"<callback>");
  if (param_1 == 0) {
    FUN_000448ac(param_4,0,"wrong arguments");
    uVar2 = 0;
  }
  else {
    iVar1 = FUN_000449cc(auStack_468,&LAB_00044850,auStack_428);
    if (iVar1 == 0) {
      uVar2 = FUN_000459cc(auStack_468,param_3,param_4);
      FUN_00044a18(auStack_468);
    }
    else {
      uVar2 = 0;
    }
  }
  return uVar2;
}




undefined4 FUN_00045de4(int param_1)

{
  undefined4 uVar1;
  
  if (param_1 != 0) {
    uVar1 = (*DAT_00060e50)();
    return uVar1;
  }
  return 0;
}




void FUN_00045e0c(int param_1)

{
  if (param_1 == 0) {
    return;
  }
  (*DAT_00060e54)();
  return;
}




void * FUN_00045e2c(char *param_1)

{
  size_t sVar1;
  void *__dest;
  
  sVar1 = strlen(param_1);
  if (((sVar1 != 0xffffffff) && (sVar1 = sVar1 + 1, sVar1 != 0)) &&
     (__dest = (void *)(*DAT_00060e50)(sVar1), __dest != (void *)0x0)) {
    memcpy(__dest,param_1,sVar1);
    return __dest;
  }
  return (void *)0x0;
}




undefined4 FUN_00045e94(undefined4 *param_1)

{
  undefined1 *puVar1;
  undefined4 uVar2;
  
  param_1[2] = 0x10;
  param_1[1] = 0;
  puVar1 = (undefined1 *)FUN_00045de4(0x10);
  *param_1 = puVar1;
  if (puVar1 == (undefined1 *)0x0) {
    uVar2 = 0xffffffff;
  }
  else {
    *puVar1 = 0;
    uVar2 = 0;
  }
  return uVar2;
}




void FUN_00045ecc(int *param_1)

{
  if (*param_1 != 0) {
    FUN_00045e0c();
  }
  param_1[2] = 0;
  param_1[1] = 0;
  *param_1 = 0;
  return;
}




void FUN_00045ef8(undefined4 *param_1)

{
  param_1[1] = 0;
  *(undefined1 *)*param_1 = 0;
  return;
}




undefined4 FUN_00045f0c(undefined4 *param_1)

{
  return *param_1;
}




undefined4 FUN_00045f28(int *param_1,void *param_2,size_t param_3)

{
  int iVar1;
  uint uVar2;
  void *__dest;
  uint uVar3;
  
  uVar2 = param_1[1];
  iVar1 = param_1[2];
  if (param_3 < iVar1 - uVar2) {
    __dest = (void *)*param_1;
LAB_00045fb4:
    memcpy((void *)((int)__dest + uVar2),param_2,param_3);
    iVar1 = param_1[1];
    param_1[1] = param_3 + iVar1;
    *(undefined1 *)(*param_1 + param_3 + iVar1) = 0;
    return 0;
  }
  if (((-1 < iVar1) && (param_3 != 0xffffffff)) && (uVar2 <= -param_3 - 2)) {
    uVar3 = uVar2 + 1 + param_3;
    if (uVar3 < (uint)(iVar1 << 1)) {
      uVar3 = iVar1 << 1;
    }
    __dest = (void *)FUN_00045de4(uVar3);
    if (__dest != (void *)0x0) {
      memcpy(__dest,(void *)*param_1,param_1[1]);
      FUN_00045e0c(*param_1);
      uVar2 = param_1[1];
      *param_1 = (int)__dest;
      param_1[2] = uVar3;
      goto LAB_00045fb4;
    }
  }
  return 0xffffffff;
}




void FUN_00045fec(undefined4 param_1,undefined1 param_2)

{
  undefined1 local_9 [5];
  
  local_9[0] = param_2;
  FUN_00045f28(param_1,local_9,1);
  return;
}




void FUN_00046010(undefined4 param_1,char *param_2,undefined4 param_3,undefined4 param_4)

{
  size_t sVar1;
  
  sVar1 = strlen(param_2);
  FUN_00045f28(param_1,param_2,sVar1,param_4);
  return;
}




undefined1 FUN_00046038(int *param_1)

{
  undefined1 uVar1;
  int iVar2;
  
  if (param_1[1] == 0) {
    uVar1 = 0;
  }
  else {
    iVar2 = param_1[1] + -1;
    param_1[1] = iVar2;
    uVar1 = *(undefined1 *)(*param_1 + iVar2);
    *(undefined1 *)(*param_1 + iVar2) = 0;
  }
  return uVar1;
}




undefined4 FUN_00046060(int *param_1,double *param_2)

{
  char cVar1;
  lconv *plVar2;
  char *pcVar3;
  int *piVar4;
  undefined4 uVar5;
  char *__s;
  double dVar6;
  char *local_1c [2];
  
  plVar2 = localeconv();
  __s = (char *)*param_1;
  cVar1 = *plVar2->decimal_point;
  if ((cVar1 != '.') && (pcVar3 = strchr(__s,0x2e), pcVar3 != (char *)0x0)) {
    *pcVar3 = cVar1;
    __s = (char *)*param_1;
  }
  piVar4 = __errno_location();
  *piVar4 = 0;
  dVar6 = strtod(__s,local_1c);
  if (local_1c[0] != (char *)(*param_1 + param_1[1])) {
                    /* WARNING: Subroutine does not return */
    __assert_fail("end == strbuffer->value + strbuffer->length","strconv.c",0x46,"jsonp_strtod");
  }
  if ((*piVar4 == 0x22) && (dVar6 != 0.0)) {
    uVar5 = 0xffffffff;
  }
  else {
    uVar5 = 0;
    *param_2 = dVar6;
  }
  return uVar5;
}




char * FUN_00046120(char *param_1,char *param_2)

{
  char *pcVar1;
  lconv *plVar2;
  char *pcVar3;
  char *pcVar4;
  char *__src;
  
  pcVar1 = (char *)snprintf(param_1,(size_t)param_2,"%.17g");
  if (((int)pcVar1 < 0) || (param_2 <= pcVar1)) {
    return (char *)0xffffffff;
  }
  plVar2 = localeconv();
  if (((byte)*plVar2->decimal_point != 0x2e) &&
     (pcVar3 = strchr(param_1,(uint)(byte)*plVar2->decimal_point), pcVar3 != (char *)0x0)) {
    *pcVar3 = '.';
  }
  pcVar4 = strchr(param_1,0x2e);
  pcVar3 = pcVar1;
  if (pcVar4 == (char *)0x0) {
    pcVar4 = strchr(param_1,0x65);
    if (pcVar4 != (char *)0x0) goto LAB_000461a0;
    if (param_2 <= pcVar1 + 3) {
      return (char *)0xffffffff;
    }
    pcVar3 = pcVar1 + 2;
    param_1[(int)pcVar1] = '.';
    (param_1 + (int)pcVar1)[1] = '0';
    param_1[(int)pcVar3] = '\0';
  }
  pcVar4 = strchr(param_1,0x65);
  pcVar1 = pcVar3;
  if (pcVar4 == (char *)0x0) {
    return pcVar3;
  }
LAB_000461a0:
  __src = pcVar4 + 2;
  pcVar3 = __src;
  if (pcVar4[1] != '-') {
    pcVar3 = pcVar4 + 1;
  }
  if (pcVar4[2] == '0') {
    pcVar4 = pcVar4 + 3;
    do {
      __src = pcVar4;
      pcVar4 = __src + 1;
    } while (*__src == '0');
  }
  if (__src != pcVar3) {
    memmove(pcVar3,__src,(size_t)(param_1 + ((int)pcVar1 - (int)__src)));
    pcVar1 = pcVar3 + ((int)pcVar1 - (int)__src);
  }
  return pcVar1;
}




undefined4 FUN_00046254(int param_1,byte *param_2,undefined4 *param_3)

{
  byte bVar1;
  
  if (-1 < param_1) {
    bVar1 = (byte)param_1;
    if (param_1 < 0x80) {
      *param_2 = bVar1;
      *param_3 = 1;
      return 0;
    }
    if (param_1 < 0x800) {
      *param_2 = (byte)((uint)(param_1 << 0x15) >> 0x1b) - 0x40;
      param_2[1] = (bVar1 & 0x3f) + 0x80;
      *param_3 = 2;
      return 0;
    }
    if (param_1 < 0x10000) {
      param_2[1] = (byte)((uint)(param_1 << 0x14) >> 0x1a) + 0x80;
      param_2[2] = (bVar1 & 0x3f) + 0x80;
      *param_2 = ((byte)((uint)param_1 >> 8) >> 4) - 0x20;
      *param_3 = 3;
      return 0;
    }
    if (param_1 < 0x110000) {
      param_2[3] = (bVar1 & 0x3f) + 0x80;
      param_2[2] = (byte)((uint)(param_1 << 0x14) >> 0x1a) + 0x80;
      *param_2 = (byte)((uint)(param_1 << 0xb) >> 0x1d) - 0x10;
      param_2[1] = (byte)((uint)(param_1 << 0xe) >> 0x1a) + 0x80;
      *param_3 = 4;
      return 0;
    }
  }
  return 0xffffffff;
}




undefined4 FUN_0004633c(uint param_1)

{
  undefined4 uVar1;
  
  if ((param_1 & 0x80) == 0) {
    return 1;
  }
  if (((param_1 ^ 0x80) < 0x40) || ((param_1 + 0x40 & 0xff) < 2)) {
    return 0;
  }
  if ((param_1 + 0x3e & 0xff) < 0x1e) {
    return 2;
  }
  if (0xf < (param_1 + 0x20 & 0xff)) {
    if ((param_1 + 0x10 & 0xff) < 5) {
      uVar1 = 4;
    }
    else {
      uVar1 = 0;
    }
    return uVar1;
  }
  return 3;
}




undefined4 FUN_000463b8(byte *param_1,int param_2,uint *param_3)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  bool bVar4;
  
  uVar2 = (uint)*param_1;
  if (param_2 == 2) {
    uVar2 = uVar2 & 0x1f;
  }
  else if (param_2 == 3) {
    uVar2 = uVar2 & 0xf;
  }
  else {
    if (param_2 != 4) {
      return 0;
    }
    uVar2 = uVar2 & 7;
  }
  uVar3 = (uint)param_1[1];
  if ((uVar3 ^ 0x80) < 0x40) {
    iVar1 = 1;
    do {
      iVar1 = iVar1 + 1;
      uVar2 = (uVar3 & 0x3f) + uVar2 * 0x40;
      if (param_2 <= iVar1) {
        if (0x10ffff < (int)uVar2) {
          return 0;
        }
        if (uVar2 - 0xd800 < 0x800) {
          return 0;
        }
        bVar4 = uVar2 == 0x7f;
        if ((int)uVar2 < 0x80) {
          bVar4 = param_2 == 2;
        }
        if (bVar4) {
          return 0;
        }
        bVar4 = uVar2 == 0x7ff;
        if ((int)uVar2 < 0x800) {
          bVar4 = param_2 == 3;
        }
        if (!bVar4) {
          if (param_2 == 4 && (int)uVar2 < 0x10000) {
            return 0;
          }
          if (param_3 != (uint *)0x0) {
            *param_3 = uVar2;
            return 1;
          }
          return 1;
        }
        return 0;
      }
      uVar3 = (uint)param_1[iVar1];
    } while ((uVar3 ^ 0x80) < 0x40);
  }
  return 0;
}




byte * FUN_00046490(byte *param_1,uint *param_2)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  uint local_1c [2];
  
  uVar3 = (uint)*param_1;
  if (uVar3 != 0) {
    iVar1 = FUN_0004633c(uVar3);
    if ((iVar1 < 1) || ((iVar1 != 1 && (iVar2 = FUN_000463b8(param_1,iVar1,local_1c), uVar3 = local_1c[0], iVar2 == 0)))
       ) {
      param_1 = (byte *)0x0;
    }
    else {
      local_1c[0] = uVar3;
      param_1 = param_1 + iVar1;
      if (param_2 != (uint *)0x0) {
        *param_2 = local_1c[0];
      }
    }
  }
  return param_1;
}




undefined4 FUN_00046504(char *param_1,size_t param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  if (param_2 == 0xffffffff) {
    param_2 = strlen(param_1);
  }
  if (0 < (int)param_2) {
    iVar3 = 0;
    do {
      iVar2 = FUN_0004633c(param_1[iVar3]);
      if (iVar2 == 0) {
        return 0;
      }
      if (1 < iVar2) {
        if ((int)param_2 < iVar3 + iVar2) {
          return 0;
        }
        iVar1 = FUN_000463b8(param_1 + iVar3,iVar2,0);
        iVar3 = iVar3 + iVar2 + -1;
        if (iVar1 == 0) {
          return 0;
        }
      }
      iVar3 = iVar3 + 1;
    } while (iVar3 < (int)param_2);
  }
  return 1;
}




void * FUN_00046598(int param_1,int param_2,int param_3)

{
  void *__dest;
  uint uVar1;
  uint uVar2;
  void *__src;
  
  uVar2 = *(uint *)(param_1 + 8);
  if (uVar2 < (uint)(param_2 + *(int *)(param_1 + 0xc))) {
    uVar1 = param_2 + uVar2;
    if (uVar1 < uVar2 << 1) {
      uVar1 = uVar2 << 1;
    }
    __src = *(void **)(param_1 + 0x10);
    __dest = (void *)FUN_00045de4(uVar1 << 2);
    if (__dest == (void *)0x0) {
      return (void *)0x0;
    }
    *(uint *)(param_1 + 8) = uVar1;
    *(void **)(param_1 + 0x10) = __dest;
    if (param_3 == 0) {
      return __src;
    }
    memcpy(__dest,__src,*(int *)(param_1 + 0xc) << 2);
    FUN_00045e0c(__src);
  }
  return *(void **)(param_1 + 0x10);
}




undefined4 * FUN_00046620(void)

{
  undefined4 *puVar1;
  int iVar2;
  
  puVar1 = (undefined4 *)FUN_00045de4(0x24);
  if (puVar1 == (undefined4 *)0x0) {
    return (undefined4 *)0x0;
  }
  puVar1[1] = 1;
  *puVar1 = 0;
  iVar2 = FUN_0004426c(puVar1 + 2);
  if (iVar2 == 0) {
    puVar1[7] = 0;
    puVar1[8] = 0;
    return puVar1;
  }
  FUN_00045e0c(puVar1);
  return (undefined4 *)0x0;
}




int FUN_0004667c(int *param_1)

{
  int iVar1;
  
  if (param_1 != (int *)0x0) {
    if (*param_1 == 0) {
      iVar1 = param_1[2];
    }
    else {
      iVar1 = 0;
    }
    return iVar1;
  }
  return 0;
}




int FUN_00046698(int *param_1,byte *param_2)

{
  int extraout_r1;
  uint uVar1;
  int iVar2;
  byte *pbVar3;
  
  if ((param_1 != (int *)0x0) && (*param_1 == 0)) {
    uVar1 = (uint)*param_2;
    if (uVar1 == 0) {
      iVar2 = 0x1505;
    }
    else {
      iVar2 = 0x1505;
      pbVar3 = param_2;
      do {
        iVar2 = uVar1 + iVar2 * 0x21;
        pbVar3 = pbVar3 + 1;
        uVar1 = (uint)*pbVar3;
      } while (uVar1 != 0);
    }
    FUN_00048f68(iVar2,*(undefined4 *)(&DAT_00056e0c + param_1[4] * 4));
    iVar2 = FUN_00044194(param_1 + 2,param_1[3] + extraout_r1 * 8,param_2,iVar2);
    if (iVar2 != 0) {
      iVar2 = *(int *)(iVar2 + 0xc);
    }
    return iVar2;
  }
  return 0;
}




undefined4 FUN_000466e0(int *param_1)

{
  if ((param_1 != (int *)0x0) && (*param_1 == 0)) {
    FUN_000446a0(param_1 + 2);
    param_1[7] = 0;
    return 0;
  }
  return 0xffffffff;
}




int * FUN_00046714(int *param_1)

{
  int *piVar1;
  
  if ((param_1 != (int *)0x0) && (*param_1 == 0)) {
    piVar1 = (int *)param_1[6];
    if (piVar1 == param_1 + 5) {
      piVar1 = (int *)0x0;
    }
    return piVar1;
  }
  return (int *)0x0;
}




int * FUN_00046760(int *param_1,int param_2)

{
  int *piVar1;
  
  if (((param_1 != (int *)0x0) && (*param_1 == 0)) && (param_2 != 0)) {
    piVar1 = *(int **)(param_2 + 4);
    if (piVar1 == param_1 + 5) {
      piVar1 = (int *)0x0;
    }
    return piVar1;
  }
  return (int *)0x0;
}




int FUN_0004678c(int param_1)

{
  if (param_1 == 0) {
    return 0;
  }
  return param_1 + 0x10;
}




undefined4 FUN_00046798(int param_1)

{
  if (param_1 == 0) {
    return 0;
  }
  return *(undefined4 *)(param_1 + 8);
}




undefined4 * FUN_000467f8(void)

{
  undefined4 *puVar1;
  int iVar2;
  
  puVar1 = (undefined4 *)FUN_00045de4(0x18);
  if (puVar1 == (undefined4 *)0x0) {
    return (undefined4 *)0x0;
  }
  *puVar1 = 1;
  puVar1[1] = 1;
  puVar1[3] = 0;
  puVar1[2] = 8;
  iVar2 = FUN_00045de4(0x20);
  puVar1[4] = iVar2;
  if (iVar2 != 0) {
    puVar1[5] = 0;
    return puVar1;
  }
  FUN_00045e0c(puVar1);
  return (undefined4 *)0x0;
}




int FUN_00046864(int *param_1)

{
  int iVar1;
  
  if (param_1 != (int *)0x0) {
    if (*param_1 == 1) {
      iVar1 = param_1[3];
    }
    else {
      iVar1 = 0;
    }
    return iVar1;
  }
  return 0;
}




undefined4 FUN_00046880(int *param_1,uint param_2)

{
  if (param_1 == (int *)0x0) {
    return 0;
  }
  if ((*param_1 == 1) && (param_2 < (uint)param_1[3])) {
    return *(undefined4 *)(param_1[4] + param_2 * 4);
  }
  return 0;
}




undefined4 FUN_000468b4(int *param_1,int *param_2,undefined4 param_3,undefined4 param_4)

{
  size_t __n;
  int iVar1;
  int *piVar2;
  int *__src;
  size_t sVar4;
  int *piVar3;
  
  if ((((param_1 != (int *)0x0) && (*param_1 == 1)) && (param_2 != (int *)0x0)) &&
     ((*param_2 == 1 && (iVar1 = FUN_00046598(param_1,param_2[3],1,1,param_4), iVar1 != 0)))) {
    sVar4 = param_2[3];
    __src = (int *)param_2[4];
    __n = sVar4;
    if (sVar4 != 0) {
      __n = sVar4 * 4;
      piVar2 = __src;
      do {
        piVar3 = piVar2 + 1;
        iVar1 = *piVar2;
        if ((iVar1 != 0) && (*(int *)(iVar1 + 4) != -1)) {
          *(int *)(iVar1 + 4) = *(int *)(iVar1 + 4) + 1;
        }
        piVar2 = piVar3;
      } while (piVar3 != __src + sVar4);
    }
    memcpy((void *)(param_1[4] + param_1[3] * 4),__src,__n);
    param_1[3] = param_1[3] + param_2[3];
    return 0;
  }
  return 0xffffffff;
}




undefined4 * FUN_00046964(int param_1)

{
  undefined4 *puVar1;
  int iVar2;
  
  if ((param_1 != 0) && (puVar1 = (undefined4 *)FUN_00045de4(0xc), puVar1 != (undefined4 *)0x0)) {
    *puVar1 = 2;
    puVar1[1] = 1;
    iVar2 = FUN_00045e2c(param_1);
    puVar1[2] = iVar2;
    if (iVar2 != 0) {
      return puVar1;
    }
    FUN_00045e0c(puVar1);
    return (undefined4 *)0x0;
  }
  return (undefined4 *)0x0;
}




undefined4 FUN_000469c0(int param_1)

{
  int iVar1;
  undefined4 uVar2;
  
  if ((param_1 != 0) && (iVar1 = FUN_00046504(param_1,0xffffffff), iVar1 != 0)) {
    uVar2 = FUN_00046964(param_1);
    return uVar2;
  }
  return 0;
}




int FUN_000469f0(int *param_1)

{
  int iVar1;
  
  if (param_1 != (int *)0x0) {
    if (*param_1 == 2) {
      iVar1 = param_1[2];
    }
    else {
      iVar1 = 0;
    }
    return iVar1;
  }
  return 0;
}




undefined4 FUN_00046a0c(int *param_1,int param_2)

{
  int iVar1;
  
  if ((((param_1 != (int *)0x0) && (*param_1 == 2)) && (param_2 != 0)) && (iVar1 = FUN_00045e2c(param_2), iVar1 != 0)) {
    FUN_00045e0c(param_1[2]);
    param_1[2] = iVar1;
    return 0;
  }
  return 0xffffffff;
}




undefined4 FUN_00046a58(undefined4 param_1,int param_2,undefined4 param_3,undefined4 param_4)

{
  int iVar1;
  undefined4 uVar2;
  undefined4 extraout_r2;
  
  if ((param_2 != 0) && (iVar1 = FUN_00046504(param_2,0xffffffff), iVar1 != 0)) {
    uVar2 = FUN_00046a0c(param_1,param_2,extraout_r2,param_4);
    return uVar2;
  }
  return 0xffffffff;
}




void FUN_00046a94(undefined4 param_1,undefined4 param_2)

{
  undefined4 *puVar1;
  
  puVar1 = (undefined4 *)FUN_00045de4(0x10);
  if (puVar1 != (undefined4 *)0x0) {
    puVar1[2] = param_1;
    puVar1[3] = param_2;
    *puVar1 = 3;
    puVar1[1] = 1;
  }
  return;
}




undefined8 FUN_00046ac0(int *param_1)

{
  if ((param_1 != (int *)0x0) && (*param_1 == 3)) {
    return *(undefined8 *)(param_1 + 2);
  }
  return 0;
}




undefined4 * FUN_00046b14(void)

{
  int iVar1;
  undefined4 *puVar2;
  double in_d0;
  
  iVar1 = __isnan(in_d0);
  if (((iVar1 == 0) && (iVar1 = __isinf(in_d0), iVar1 == 0)) &&
     (puVar2 = (undefined4 *)FUN_00045de4(0x10), puVar2 != (undefined4 *)0x0)) {
    *(double *)(puVar2 + 2) = in_d0;
    *puVar2 = 4;
    puVar2[1] = 1;
  }
  else {
    puVar2 = (undefined4 *)0x0;
  }
  return puVar2;
}




undefined4 FUN_00046b70(int *param_1)

{
  if ((param_1 != (int *)0x0) && (*param_1 == 4)) {
    return (int)*(undefined8 *)(param_1 + 2);
  }
  return 0;
}




undefined4 FUN_00046ba0(int *param_1)

{
  int iVar1;
  undefined4 uVar2;
  double in_d0;
  
  if ((((param_1 == (int *)0x0) || (*param_1 != 4)) || (iVar1 = __isnan(in_d0), iVar1 != 0)) ||
     (iVar1 = __isinf(in_d0), iVar1 != 0)) {
    uVar2 = 0xffffffff;
  }
  else {
    *(double *)(param_1 + 2) = in_d0;
    uVar2 = 0;
  }
  return uVar2;
}




undefined4 FUN_00046bf0(int *param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  undefined4 uVar1;
  
  if (param_1 != (int *)0x0) {
    if (*param_1 == 3) {
      uVar1 = FUN_000493dc(param_1[2],param_1[3],param_3,3,param_4);
      return uVar1;
    }
    if (*param_1 == 4) {
      return (int)*(undefined8 *)(param_1 + 2);
    }
  }
  return 0;
}




undefined * FUN_00046c38(void)

{
  return &DAT_00060e58;
}




undefined * FUN_00046c44(void)

{
  return &DAT_00060e60;
}




undefined * FUN_00046c50(void)

{
  return &DAT_00060e68;
}




void FUN_00046c5c(int *param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  
  if (param_1 == (int *)0x0) {
    return;
  }
  iVar4 = *param_1;
  if (iVar4 == 0) {
    FUN_000442ec(param_1 + 2);
    FUN_00045e0c(param_1);
    return;
  }
  if (iVar4 == 1) {
    uVar2 = param_1[3];
    iVar4 = param_1[4];
    if (uVar2 != 0) {
      uVar5 = 0;
      do {
        iVar1 = *(int *)(iVar4 + uVar5 * 4);
        uVar5 = uVar5 + 1;
        if (((iVar1 != 0) && (iVar3 = *(int *)(iVar1 + 4) + -1, *(int *)(iVar1 + 4) != -1)) &&
           (*(int *)(iVar1 + 4) = iVar3, iVar3 == 0)) {
          FUN_00046c5c();
          iVar4 = param_1[4];
          uVar2 = param_1[3];
        }
      } while (uVar5 < uVar2);
    }
    FUN_00045e0c(iVar4);
    FUN_00045e0c(param_1);
    return;
  }
  if (iVar4 == 2) {
    FUN_00045e0c(param_1[2]);
    FUN_00045e0c(param_1);
    return;
  }
  if ((iVar4 != 3) && (iVar4 != 4)) {
    return;
  }
  FUN_00045e0c(param_1,param_2,param_3,param_4);
  return;
}




undefined4 FUN_00046d30(int *param_1)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  
  if ((param_1 != (int *)0x0) && (*param_1 == 1)) {
    uVar2 = param_1[3];
    if (uVar2 != 0) {
      uVar4 = 0;
      do {
        iVar1 = *(int *)(param_1[4] + uVar4 * 4);
        uVar4 = uVar4 + 1;
        if (((iVar1 != 0) && (iVar3 = *(int *)(iVar1 + 4) + -1, *(int *)(iVar1 + 4) != -1)) &&
           (*(int *)(iVar1 + 4) = iVar3, iVar3 == 0)) {
          FUN_00046c5c();
          uVar2 = param_1[3];
        }
      } while (uVar4 < uVar2);
    }
    param_1[3] = 0;
    return 0;
  }
  return 0xffffffff;
}




undefined4 FUN_00046dac(int *param_1,uint param_2)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  
  if (((param_1 != (int *)0x0) && (*param_1 == 1)) && (uVar3 = param_1[3], param_2 < uVar3)) {
    iVar1 = *(int *)(param_1[4] + param_2 * 4);
    if (((iVar1 != 0) && (*(int *)(iVar1 + 4) != -1)) &&
       (iVar2 = *(int *)(iVar1 + 4) + -1, *(int *)(iVar1 + 4) = iVar2, iVar2 == 0)) {
      FUN_00046c5c();
      uVar3 = param_1[3];
    }
    uVar3 = uVar3 - 1;
    if (param_2 < uVar3) {
      memmove((void *)(param_1[4] + param_2 * 4),(void *)(param_1[4] + (param_2 + 1) * 4),(uVar3 - param_2) * 4);
      uVar3 = param_1[3] - 1;
    }
    param_1[3] = uVar3;
    return 0;
  }
  return 0xffffffff;
}




undefined4 FUN_00046e60(int *param_1,uint param_2,int *param_3)

{
  void *__src;
  void *__dest;
  int iVar1;
  
  if (param_3 != (int *)0x0) {
    if ((((param_1 != (int *)0x0) && (*param_1 == 1)) && (param_1 != param_3)) &&
       ((param_2 <= (uint)param_1[3] && (__src = (void *)FUN_00046598(param_1,1,0), __src != (void *)0x0)))) {
      __dest = (void *)param_1[4];
      if (__dest == __src) {
        memmove((void *)((int)__dest + (param_2 + 1) * 4),(void *)((int)__dest + param_2 * 4),(param_1[3] - param_2) * 4
               );
      }
      else {
        memcpy(__dest,__src,param_2 * 4);
        memcpy((void *)(param_1[4] + (param_2 + 1) * 4),(void *)((int)__src + param_2 * 4),(param_1[3] - param_2) * 4);
        FUN_00045e0c(__src);
      }
      iVar1 = param_1[3];
      *(int **)(param_1[4] + param_2 * 4) = param_3;
      param_1[3] = iVar1 + 1;
      return 0;
    }
    if (param_3[1] != -1) {
      iVar1 = param_3[1] + -1;
      param_3[1] = iVar1;
      if (iVar1 == 0) {
        FUN_00046c5c(param_3);
      }
    }
  }
  return 0xffffffff;
}




undefined4 FUN_00046f60(int *param_1,int *param_2,undefined4 param_3,undefined4 param_4)

{
  int iVar1;
  
  if (param_2 != (int *)0x0) {
    if ((((param_1 != (int *)0x0) && (*param_1 == 1)) && (param_1 != param_2)) &&
       (iVar1 = FUN_00046598(param_1,1,1,param_4,param_4), iVar1 != 0)) {
      iVar1 = param_1[3];
      *(int **)(param_1[4] + iVar1 * 4) = param_2;
      param_1[3] = iVar1 + 1;
      return 0;
    }
    if (param_2[1] != -1) {
      iVar1 = param_2[1] + -1;
      param_2[1] = iVar1;
      if (iVar1 == 0) {
        FUN_00046c5c(param_2);
      }
    }
  }
  return 0xffffffff;
}




undefined4 FUN_00046fe4(int *param_1,uint param_2,int *param_3)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  
  if (param_3 != (int *)0x0) {
    if ((((param_1 != (int *)0x0) && (*param_1 == 1)) && (param_1 != param_3)) && (param_2 < (uint)param_1[3])) {
      piVar2 = (int *)(param_1[4] + param_2 * 4);
      iVar1 = *(int *)(param_1[4] + param_2 * 4);
      if ((iVar1 != 0) && (*(int *)(iVar1 + 4) != -1)) {
        iVar3 = *(int *)(iVar1 + 4) + -1;
        *(int *)(iVar1 + 4) = iVar3;
        if (iVar3 == 0) {
          FUN_00046c5c();
          piVar2 = (int *)(param_1[4] + param_2 * 4);
        }
      }
      *piVar2 = (int)param_3;
      return 0;
    }
    if (param_3[1] != -1) {
      iVar1 = param_3[1] + -1;
      param_3[1] = iVar1;
      if (iVar1 == 0) {
        FUN_00046c5c(param_3);
      }
    }
  }
  return 0xffffffff;
}




undefined4 FUN_00047098(int *param_1,int param_2,int *param_3)

{
  int iVar1;
  
  if (param_3 != (int *)0x0) {
    if (((param_1 != (int *)0x0 && param_2 != 0) && (*param_1 == 0)) && (param_1 != param_3)) {
      iVar1 = param_1[7];
      param_1[7] = iVar1 + 1;
      iVar1 = FUN_00044304(param_1 + 2,param_2,iVar1,param_3);
      if (iVar1 == 0) {
        return 0;
      }
    }
    if ((param_3[1] != -1) && (iVar1 = param_3[1] + -1, param_3[1] = iVar1, iVar1 == 0)) {
      FUN_00046c5c(param_3);
    }
  }
  return 0xffffffff;
}




undefined4 FUN_00047118(int *param_1,int *param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  if ((((param_1 != (int *)0x0) && (*param_1 == 0)) && (param_2 != (int *)0x0)) && (*param_2 == 0)) {
    FUN_00046714(param_2);
    iVar1 = FUN_0004678c();
    while( true ) {
      if (iVar1 == 0) {
        return 0;
      }
      iVar2 = FUN_00046798(iVar1 + -0x10);
      if (iVar2 == 0) break;
      iVar3 = FUN_00046698(param_1,iVar1);
      if (iVar3 == 0) {
        if (*(int *)(iVar2 + 4) != -1) {
          *(int *)(iVar2 + 4) = *(int *)(iVar2 + 4) + 1;
        }
        FUN_00047098(param_1,iVar1,iVar2);
      }
      FUN_00046760(param_2,iVar1 + -0x10);
      iVar1 = FUN_0004678c();
    }
    return 0;
  }
  return 0xffffffff;
}




undefined4 FUN_000471d4(undefined4 param_1,int param_2,int param_3)

{
  int iVar1;
  undefined4 uVar2;
  
  if ((param_2 != 0) && (iVar1 = FUN_00046504(param_2,0xffffffff), iVar1 != 0)) {
    uVar2 = FUN_00047098(param_1,param_2,param_3);
    return uVar2;
  }
  if ((param_3 != 0) && (*(int *)(param_3 + 4) != -1)) {
    iVar1 = *(int *)(param_3 + 4) + -1;
    *(int *)(param_3 + 4) = iVar1;
    if (iVar1 == 0) {
      FUN_00046c5c(param_3);
    }
  }
  return 0xffffffff;
}




undefined4 FUN_00047248(int *param_1,int *param_2,undefined4 param_3,undefined4 param_4)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  if ((((param_1 == (int *)0x0) || (*param_1 != 0)) || (param_2 == (int *)0x0)) || (*param_2 != 0)) {
    return 0xffffffff;
  }
  FUN_00046714(param_2);
  iVar1 = FUN_0004678c();
  while( true ) {
    if (iVar1 == 0) {
      return 0;
    }
    iVar2 = FUN_00046798(iVar1 + -0x10);
    if (iVar2 == 0) break;
    iVar3 = *(int *)(iVar2 + 4) + 1;
    if (*(int *)(iVar2 + 4) != -1) {
      *(int *)(iVar2 + 4) = iVar3;
    }
    iVar2 = FUN_00047098(param_1,iVar1,iVar2,iVar3,param_4);
    if (iVar2 != 0) {
      return 0xffffffff;
    }
    FUN_00046760(param_2,iVar1 + -0x10);
    iVar1 = FUN_0004678c();
  }
  return 0;
}




undefined4 FUN_000472f4(int *param_1,int *param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  if ((((param_1 != (int *)0x0) && (*param_1 == 0)) && (param_2 != (int *)0x0)) && (*param_2 == 0)) {
    FUN_00046714(param_2);
    iVar1 = FUN_0004678c();
    while( true ) {
      if (iVar1 == 0) {
        return 0;
      }
      iVar2 = FUN_00046798(iVar1 + -0x10);
      if (iVar2 == 0) break;
      iVar3 = FUN_00046698(param_1,iVar1);
      if (iVar3 != 0) {
        if (*(int *)(iVar2 + 4) != -1) {
          *(int *)(iVar2 + 4) = *(int *)(iVar2 + 4) + 1;
        }
        FUN_00047098(param_1,iVar1,iVar2);
      }
      FUN_00046760(param_2,iVar1 + -0x10);
      iVar1 = FUN_0004678c();
    }
    return 0;
  }
  return 0xffffffff;
}




void FUN_0004788c(undefined4 *param_1,char *param_2)

{
  size_t sVar1;
  
  if (param_1 != (undefined4 *)0x0) {
    *(undefined1 *)(param_1 + 0x17) = 0;
    param_1[2] = 0;
    *param_1 = 0xffffffff;
    param_1[1] = 0xffffffff;
    if (param_2 != (char *)0x0) {
      if (param_1 == (undefined4 *)0x0 || param_2 == (char *)0x0) {
        return;
      }
      sVar1 = strlen(param_2);
      if (0x4f < sVar1) {
        param_1[3] = 0x2e2e2e;
        strcpy((char *)((int)param_1 + 0xf),param_2 + (sVar1 - 0x4c));
        return;
      }
      memcpy(param_1 + 3,param_2,sVar1 + 1);
      return;
    }
    *(undefined1 *)(param_1 + 3) = 0;
  }
  return;
}




void FUN_000478d0(undefined4 *param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,char *param_5,
                 __gnuc_va_list param_6)

{
  if (param_1 == (undefined4 *)0x0) {
    return;
  }
  if (*(char *)(param_1 + 0x17) != '\0') {
    return;
  }
  *param_1 = param_2;
  param_1[1] = param_3;
  param_1[2] = param_4;
  vsnprintf((char *)(param_1 + 0x17),0xa0,param_5,param_6);
  *(undefined1 *)((int)param_1 + 0xfb) = 0;
  return;
}




void FUN_00047910(void)

{
  FUN_000478d0();
  return;
}




char * FUN_00047938(char *param_1,char *param_2)

{
  size_t sVar1;
  size_t sVar2;
  char *__s;
  
  sVar1 = strlen(param_1);
  sVar2 = strlen(param_2);
  __s = (char *)malloc(sVar2 + sVar1);
  sprintf(__s,param_1,param_2);
  return __s;
}




char * FUN_00047998(char *param_1,undefined1 *param_2)

{
  int iVar1;
  size_t sVar2;
  char *__s;
  
  iVar1 = strcasecmp(param_1,"yes");
  if ((iVar1 == 0) || (iVar1 = strcasecmp(param_1,"true"), iVar1 == 0)) {
    *param_2 = 1;
    return (char *)0x0;
  }
  iVar1 = strcasecmp(param_1,"no");
  if ((iVar1 != 0) && (iVar1 = strcasecmp(param_1,"false"), iVar1 != 0)) {
    sVar2 = strlen(param_1);
    __s = (char *)malloc(sVar2 + 0x16);
    sprintf(__s,"Invalid argument \'%s\'",param_1);
    return __s;
  }
  *param_2 = 0;
  return (char *)0x0;
}




undefined4 FUN_00047a4c(undefined4 param_1,undefined4 *param_2)

{
  *param_2 = param_1;
  return 0;
}




void FUN_00047a58(char *param_1,float *param_2)

{
  int *piVar1;
  float fVar2;
  char *local_14;
  
  piVar1 = __errno_location();
  *piVar1 = 0;
  fVar2 = strtof(param_1,&local_14);
  *param_2 = fVar2;
  if ((*local_14 == '\0') && (*param_1 != '\0')) {
    if (*piVar1 != 0) {
      FUN_00047938("\'%s\' is out of range",param_1);
    }
  }
  else {
    FUN_00047938("\'%s\' is not a number",param_1);
  }
  return;
}




void FUN_00047adc(char *param_1,long *param_2)

{
  int *piVar1;
  long lVar2;
  char *local_14;
  
  piVar1 = __errno_location();
  *piVar1 = 0;
  lVar2 = strtol(param_1,&local_14,0);
  *param_2 = lVar2;
  if ((*local_14 == '\0') && (*param_1 != '\0')) {
    if (*piVar1 != 0) {
      FUN_00047938("\'%s\' is out of range",param_1);
    }
  }
  else {
    FUN_00047938("\'%s\' is not a number",param_1);
  }
  return;
}




void FUN_00047b60(undefined4 param_1,undefined4 *param_2)

{
  int iVar1;
  undefined4 local_c;
  
  iVar1 = FUN_00047adc(param_1,&local_c);
  if (iVar1 == 0) {
    *param_2 = local_c;
  }
  return;
}




void FUN_00047b88(undefined4 param_1,int *param_2)

{
  int iVar1;
  int local_14 [2];
  
  iVar1 = FUN_00047b60(param_1,local_14);
  if (iVar1 == 0) {
    if (local_14[0] < 0) {
      FUN_00047938("\'%s\' is negative",param_1);
    }
    else {
      *param_2 = local_14[0];
    }
  }
  return;
}




void FUN_00047bd4(undefined4 param_1,int *param_2)

{
  int iVar1;
  int local_14 [2];
  
  iVar1 = FUN_00047adc(param_1,local_14);
  if (iVar1 == 0) {
    *param_2 = local_14[0];
    if (local_14[0] < 0) {
      FUN_00047938("\'%s\' is negative",param_1);
    }
  }
  return;
}




void FUN_00047c38(char *param_1)

{
  puts(param_1);
  fflush(stdout);
                    /* WARNING: Subroutine does not return */
  exit(0);
}




void FUN_00047c58(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  undefined4 uVar1;
  
  uVar1 = FUN_00048a84(DAT_000c54d4,param_1,param_3,&DAT_000c54d4,param_4);
  printf("%s",uVar1);
  fflush(stdout);
                    /* WARNING: Subroutine does not return */
  exit(0);
}




void FUN_00047ce0(undefined1 *param_1,undefined4 *param_2)

{
  size_t __n;
  
  __n = strlen((char *)*param_2);
  *param_1 = 0x22;
  if (0x4e < __n) {
    strncpy(param_1 + 1,(char *)*param_2,0x4e);
    param_1[0x4f] = 0x22;
    return;
  }
  strncpy(param_1 + 1,(char *)*param_2,__n);
  param_1[__n + 1] = 0x22;
  if (__n != 0x4e) {
    param_1[__n + 2] = 0;
  }
  return;
}




char * FUN_00047dbc(int param_1,int *param_2)

{
  char cVar1;
  char *pcVar2;
  int iVar3;
  int iVar4;
  char *pcVar5;
  
  iVar4 = param_1 + *param_2;
  cVar1 = *(char *)(param_1 + *param_2);
  if (cVar1 == ' ' || cVar1 == '=') {
    pcVar2 = (char *)0x0;
  }
  else {
    iVar3 = 0;
    if (cVar1 == '\0') {
      pcVar2 = (char *)0x0;
    }
    else {
      cVar1 = *(char *)(iVar4 + 2);
      pcVar2 = (char *)(iVar4 + 2);
      if (cVar1 == '\0') {
        iVar3 = 0;
      }
      else if (((cVar1 != '|') && (cVar1 != '=')) && (pcVar5 = pcVar2, cVar1 != ' ')) {
        while( true ) {
          cVar1 = pcVar5[1];
          iVar3 = iVar3 + 1;
          if ((cVar1 == '\0') || (cVar1 == '|')) break;
          if ((cVar1 == '=') || (pcVar5 = pcVar5 + 1, cVar1 == ' ')) break;
        }
      }
      *param_2 = iVar3;
    }
  }
  return pcVar2;
}




char * FUN_00047e64(uint *param_1,uint *param_2)

{
  int *piVar1;
  char cVar2;
  int *piVar3;
  char *pcVar4;
  uint uVar5;
  int *piVar6;
  char *pcVar7;
  
  *param_1 = 0;
  if (DAT_000c54c8 == 0) {
LAB_00047f34:
    pcVar4 = (char *)0x0;
  }
  else {
    piVar6 = DAT_000c54d0;
    if (DAT_000c54d0[1] == 8) {
      uVar5 = 1;
      piVar3 = DAT_000c54d0;
      do {
        piVar6 = piVar3 + 7;
        *param_1 = uVar5;
        if (DAT_000c54c8 <= uVar5) goto LAB_00047f34;
        piVar1 = piVar3 + 8;
        uVar5 = uVar5 + 1;
        piVar3 = piVar6;
      } while (*piVar1 == 8);
    }
    pcVar4 = (char *)(*piVar6 + 1);
    uVar5 = (uint)*(byte *)(*piVar6 + 1);
    if (uVar5 != 0) {
      if (((uVar5 == 0x7c) || (uVar5 == 0x3d)) || (uVar5 == 0x20)) {
        uVar5 = 0;
      }
      else {
        uVar5 = 0;
        pcVar7 = pcVar4;
        while( true ) {
          pcVar7 = pcVar7 + 1;
          cVar2 = *pcVar7;
          uVar5 = uVar5 + 1;
          if ((cVar2 == '\0') || (cVar2 == '|')) break;
          if ((cVar2 == '=') || (cVar2 == ' ')) break;
        }
      }
    }
    *param_2 = uVar5;
  }
  return pcVar4;
}




char * FUN_00047f4c(int param_1,uint *param_2,int *param_3)

{
  char cVar1;
  char *pcVar2;
  char *pcVar3;
  uint uVar4;
  int iVar5;
  int *piVar6;
  
  uVar4 = *param_2;
  if (uVar4 < DAT_000c54c8) {
    do {
      piVar6 = (int *)(DAT_000c54d0 + uVar4 * 0x1c);
      if (piVar6[1] != 8) {
        if (param_1 == 0) {
          iVar5 = *piVar6;
          pcVar2 = (char *)(iVar5 + 1);
          cVar1 = *(char *)(iVar5 + 1);
          iVar5 = 0;
          if ((((cVar1 == '\0') || (cVar1 == '|')) || (cVar1 == '=')) || (cVar1 == ' ')) goto LAB_00048028;
          iVar5 = 0;
          pcVar3 = pcVar2;
          goto LAB_00048018;
        }
        pcVar2 = (char *)FUN_00047dbc(param_1,param_3);
        if (pcVar2 != (char *)0x0) {
          return pcVar2;
        }
        uVar4 = *param_2;
        param_1 = 0;
      }
      uVar4 = uVar4 + 1;
      *param_2 = uVar4;
    } while (uVar4 < DAT_000c54c8);
  }
  return (char *)0x0;
LAB_00048018:
  pcVar3 = pcVar3 + 1;
  cVar1 = *pcVar3;
  iVar5 = iVar5 + 1;
  if ((cVar1 == '\0') || (cVar1 == '|')) {
LAB_00048028:
    *param_3 = iVar5;
    return pcVar2;
  }
  if ((cVar1 == '=') || (cVar1 == ' ')) goto LAB_00048028;
  goto LAB_00048018;
}




/* WARNING: Control flow encountered bad instruction data */

void FUN_00048040(undefined4 *param_1)

{
  char cVar1;
  undefined4 uVar2;
  uint uVar3;
  char *pcVar4;
  char *pcVar5;
  int iVar6;
  int extraout_r3;
  int extraout_r3_00;
  char *extraout_r12;
  bool bVar7;
  bool bVar8;
  bool bVar9;
  undefined8 uVar10;
  int local_1c;
  
  uVar3 = param_1[1];
  iVar6 = uVar3 - 1;
  bVar9 = 3 < uVar3;
  bVar7 = uVar3 == 4;
  if (!bVar7) {
    bVar9 = iVar6 != 0;
  }
  bVar8 = iVar6 == 1;
  if (!bVar9 || (bVar7 || bVar8)) {
    iVar6 = 0;
  }
  if (bVar9 && (!bVar7 && !bVar8)) {
    iVar6 = 1;
  }
  if (bVar9 && (!bVar7 && !bVar8)) {
LAB_000481d0:
    errx(1,"Option %s: unknown entry type %u",*param_1,uVar3);
  }
  else {
    pcVar5 = (char *)*param_1;
    if (param_1[6] == 0) goto LAB_000481f0;
    if (*pcVar5 == '-') {
      cVar1 = pcVar5[1];
      pcVar5 = pcVar5 + 1;
      if (cVar1 == '\0') {
        iVar6 = 0;
      }
      else if (((cVar1 != '|') && (cVar1 != '=')) && (pcVar4 = pcVar5, cVar1 != ' ')) {
        while( true ) {
          cVar1 = pcVar4[1];
          iVar6 = iVar6 + 1;
          if ((cVar1 == '\0') || (cVar1 == '|')) break;
          if ((cVar1 == '=') || (pcVar4 = pcVar4 + 1, cVar1 == ' ')) break;
        }
      }
      local_1c = iVar6;
      while (*pcVar5 != '-') {
        if (local_1c != 1) {
          uVar2 = errx(1,"Option %s: invalid short option \'%.*s\'",*param_1,local_1c + 1,pcVar5 + -1);
          iVar6 = extraout_r3;
          pcVar5 = extraout_r12;
LAB_000481ac:
          errx(uVar2,"Option %s: does not take arguments \'%s\'",*param_1,pcVar5 + iVar6 + 1);
          iVar6 = extraout_r3_00;
          goto LAB_000481c0;
        }
        iVar6 = param_1[1];
        DAT_000c54c4 = DAT_000c54c4 + 1;
        if (iVar6 == 2 || iVar6 == 4) {
          DAT_000c54cc = DAT_000c54cc + 1;
        }
LAB_00048128:
        if ((iVar6 == 1) && (uVar2 = 1, iVar6 = local_1c, pcVar5[local_1c] == ' ' || pcVar5[local_1c] == '='))
        goto LAB_000481ac;
        pcVar5 = (char *)FUN_00047dbc(pcVar5,&local_1c);
        if (pcVar5 == (char *)0x0) {
          return;
        }
      }
      iVar6 = local_1c;
      if (local_1c != 1) {
        iVar6 = param_1[1];
        DAT_000c54c0 = DAT_000c54c0 + 1;
        goto LAB_00048128;
      }
LAB_000481c0:
      uVar10 = errx(iVar6,"Option %s: invalid long option \'--\'",*param_1);
      uVar3 = (uint)((ulonglong)uVar10 >> 0x20);
      param_1 = (undefined4 *)uVar10;
      goto LAB_000481d0;
    }
  }
  errx(1,"Option %s: does not begin with \'-\'");
LAB_000481f0:
  errx(1,"Option %s: description cannot be NULL");
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}




void FUN_00048220(undefined4 *param_1)

{
  undefined4 uVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined4 *puVar4;
  
  DAT_000c54d0 = realloc(DAT_000c54d0,(DAT_000c54c8 + 1) * 0x1c);
  puVar4 = (undefined4 *)((int)DAT_000c54d0 + DAT_000c54c8 * 0x1c);
  uVar1 = param_1[1];
  uVar2 = param_1[2];
  uVar3 = param_1[3];
  *puVar4 = *param_1;
  puVar4[1] = uVar1;
  puVar4[2] = uVar2;
  puVar4[3] = uVar3;
  uVar1 = param_1[5];
  uVar2 = param_1[6];
  DAT_000c54c8 = DAT_000c54c8 + 1;
  puVar4[4] = param_1[4];
  puVar4[5] = uVar1;
  puVar4[6] = uVar2;
  return;
}




char * FUN_00048280(undefined4 param_1,int *param_2,undefined4 param_3,undefined4 param_4)

{
  char *pcVar1;
  
  pcVar1 = (char *)FUN_00047e64();
  while( true ) {
    if (pcVar1 == (char *)0x0) {
      return (char *)0x0;
    }
    if (*pcVar1 == '-') break;
    pcVar1 = (char *)FUN_00047f4c(pcVar1,param_1,param_2,*pcVar1,param_4);
  }
  *param_2 = *param_2 + -1;
  return pcVar1 + 1;
}




char * FUN_000482d8(undefined4 param_1,undefined4 param_2,int *param_3,undefined4 param_4)

{
  char *pcVar1;
  
  pcVar1 = (char *)FUN_00047f4c();
  while( true ) {
    if (pcVar1 == (char *)0x0) {
      return (char *)0x0;
    }
    if (*pcVar1 == '-') break;
    pcVar1 = (char *)FUN_00047f4c(pcVar1,param_2,param_3,*pcVar1,param_4);
  }
  *param_3 = *param_3 + -1;
  return pcVar1 + 1;
}




char * FUN_00048330(undefined4 param_1)

{
  char *pcVar1;
  undefined4 local_14 [2];
  
  local_14[0] = 0;
  pcVar1 = (char *)FUN_00047e64(param_1,local_14);
  while( true ) {
    if (pcVar1 == (char *)0x0) {
      return (char *)0x0;
    }
    if (*pcVar1 != '-') break;
    pcVar1 = (char *)FUN_00047f4c(pcVar1,param_1,local_14);
  }
  return pcVar1;
}




char * FUN_0004838c(undefined4 param_1,undefined4 param_2)

{
  char *pcVar1;
  undefined4 local_14 [2];
  
  local_14[0] = 1;
  pcVar1 = (char *)FUN_00047f4c(param_1,param_2,local_14);
  while( true ) {
    if (pcVar1 == (char *)0x0) {
      return (char *)0x0;
    }
    if (*pcVar1 != '-') break;
    pcVar1 = (char *)FUN_00047f4c(pcVar1,param_2,local_14);
  }
  return pcVar1;
}




void FUN_000483e8(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,undefined4 param_5,
                 undefined4 param_6,undefined4 param_7)

{
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  
  local_14 = param_5;
  local_10 = param_6;
  local_c = param_7;
  local_24 = param_1;
  local_20 = param_2;
  local_1c = param_3;
  local_18 = param_4;
  FUN_00048040(&local_24);
  FUN_00048220(&local_24);
  return;
}




void FUN_00048430(undefined4 *param_1,int param_2)

{
  int iVar1;
  undefined4 *puVar2;
  int iVar3;
  undefined4 *puVar4;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  int local_1c;
  
  iVar1 = DAT_000c54c8;
  if (param_2 != 0) {
    local_34 = 0;
    local_2c = 0;
    local_28 = 0;
    local_24 = 0;
    local_20 = 0;
    local_30 = 8;
    local_1c = param_2;
    FUN_00048220(&local_34);
  }
  iVar3 = param_1[1];
  if (iVar3 != 0x10) {
    puVar2 = param_1 + 7;
    do {
      puVar4 = puVar2;
      if (iVar3 == 8) {
        FUN_00048430(*param_1,param_1[6]);
      }
      else {
        FUN_00048040(param_1);
        FUN_00048220(param_1);
      }
      iVar3 = puVar4[1];
      puVar2 = puVar4 + 7;
      param_1 = puVar4;
    } while (iVar3 != 0x10);
  }
  if (param_2 != 0) {
    *(int *)(DAT_000c54d0 + iVar1 * 0x1c + 0x14) = DAT_000c54c8 - iVar1;
  }
  return;
}




int FUN_000484fc(undefined4 param_1,undefined4 *param_2,undefined4 param_3)

{
  uint uVar1;
  int iVar2;
  undefined4 local_1c [2];
  
  DAT_000c54d4 = *param_2;
  local_1c[0] = 0;
  do {
    uVar1 = FUN_00048664(param_1,param_2,local_1c,param_3);
  } while (uVar1 == 1);
  iVar2 = 1 - uVar1;
  if (1 < uVar1) {
    iVar2 = 0;
  }
  return iVar2;
}




void FUN_00048630(int *param_1,int param_2,int param_3)

{
  memmove((void *)(param_2 + param_3 * 4),(void *)(param_2 + (param_3 + 1) * 4),(*param_1 - param_3) * 4);
  *param_1 = *param_1 + -1;
  return;
}




undefined4 FUN_00048664(undefined4 param_1,undefined4 *param_2,int *param_3,code *param_4)

{
  int *piVar1;
  char *pcVar2;
  int iVar3;
  size_t sVar4;
  size_t sVar5;
  void *__ptr;
  int iVar6;
  int iVar7;
  int iVar8;
  int *piVar9;
  char *pcVar10;
  int iVar11;
  int iVar12;
  int local_30;
  size_t local_2c [2];
  
  pcVar2 = getenv("POSIXLY_CORRECT");
  pcVar10 = (char *)param_2[1];
  if (pcVar2 == (char *)0x0) {
    if (pcVar10 != (char *)0x0) {
      if (*pcVar10 == '-') {
        piVar9 = param_2 + 1;
        iVar8 = 1;
      }
      else {
        iVar8 = 1;
        piVar1 = param_2 + 2;
        do {
          piVar9 = piVar1;
          pcVar10 = (char *)*piVar9;
          iVar8 = iVar8 + 1;
          if (pcVar10 == (char *)0x0) {
            return 0;
          }
          piVar1 = piVar9 + 1;
        } while (*pcVar10 != '-');
      }
      goto LAB_000486b8;
    }
  }
  else {
    piVar9 = param_2 + 1;
    if ((pcVar10 != (char *)0x0) && (*pcVar10 == '-')) {
      iVar8 = 1;
LAB_000486b8:
      if (pcVar10[1] == '-') {
        if (pcVar10[2] == '\0') {
          FUN_00048630(param_1,param_2,iVar8);
          return 0;
        }
        if (*param_3 != 0) {
                    /* WARNING: Subroutine does not return */
          __assert_fail("*offset == 0","opt/parse.c",0x3b,"parse_one");
        }
        pcVar2 = (char *)FUN_00048280(&local_30,local_2c);
        sVar4 = local_2c[0];
        while (pcVar2 != (char *)0x0) {
          iVar6 = *piVar9;
          local_2c[0] = sVar4;
          iVar7 = strncmp((char *)(iVar6 + 2),pcVar2,sVar4);
          if (iVar7 == 0) {
            sVar5 = sVar4 + 2;
            if (*(char *)(iVar6 + sVar5) == '=') {
              iVar7 = iVar6 + sVar4 + 3;
              pcVar10 = pcVar2 + -2;
              iVar12 = DAT_000c54d0 + local_30 * 0x1c;
              iVar11 = *(int *)(iVar12 + 4);
              if (iVar11 == 1) {
                local_2c[0] = sVar5;
                if (iVar7 != 0) {
                  (*param_4)("%s: %.*s: %s",*param_2,sVar5,pcVar10,"doesn\'t allow an argument");
                  return 0xffffffff;
                }
                goto LAB_000487d8;
              }
              local_2c[0] = sVar5;
              if (iVar7 != 0) goto LAB_00048904;
            }
            else {
              if (*(char *)(iVar6 + sVar5) != '\0') goto LAB_0004885c;
              pcVar10 = pcVar2 + -2;
              iVar12 = local_30 * 0x1c + DAT_000c54d0;
              iVar11 = *(int *)(iVar12 + 4);
              local_2c[0] = sVar5;
              if (iVar11 == 1) goto LAB_000487d8;
            }
            pcVar10 = pcVar2 + -2;
            iVar3 = *param_3;
            local_2c[0] = sVar5;
            goto LAB_000488ec;
          }
LAB_0004885c:
          pcVar2 = (char *)FUN_000482d8(pcVar2,&local_30,local_2c);
          sVar4 = local_2c[0];
        }
      }
      else {
        for (pcVar10 = (char *)FUN_00048330(&local_30); pcVar10 != (char *)0x0;
            pcVar10 = (char *)FUN_0004838c(pcVar10,&local_30)) {
          iVar6 = *piVar9;
          iVar3 = *param_3 + 1;
          if (*(char *)(iVar6 + iVar3) == *pcVar10) {
            pcVar10 = pcVar10 + -1;
            *param_3 = iVar3;
            local_2c[0] = 2;
            iVar12 = DAT_000c54d0 + local_30 * 0x1c;
            iVar11 = *(int *)(iVar12 + 4);
            if (iVar11 == 1) {
LAB_000487d8:
              iVar7 = 0;
              __ptr = (void *)(**(code **)(iVar12 + 8))(*(undefined4 *)(iVar12 + 0x14));
            }
            else {
LAB_000488ec:
              if ((iVar3 == 0) || (iVar7 = iVar6 + iVar3 + 1, *(char *)(iVar6 + iVar3 + 1) == '\0')) {
                iVar7 = param_2[iVar8 + 1];
                if (iVar7 == 0) {
                  (*param_4)("%s: %.*s: %s",*param_2,local_2c[0],pcVar10,"requires an argument");
                  return 0xffffffff;
                }
              }
              else {
                *param_3 = 0;
              }
LAB_00048904:
              if (iVar11 == 4) {
                FUN_00047a4c(iVar7,*(undefined4 *)(iVar12 + 0x14));
              }
              iVar6 = DAT_000c54d0 + local_30 * 0x1c;
              __ptr = (void *)(**(code **)(iVar6 + 0xc))(iVar7,*(undefined4 *)(iVar6 + 0x14));
            }
            if (__ptr != (void *)0x0) {
              (*param_4)("%s: %.*s: %s",*param_2,local_2c[0],pcVar10,__ptr);
              free(__ptr);
              return 0xffffffff;
            }
            if (*param_3 != 0) {
              if (*(char *)(*piVar9 + *param_3 + 1) != '\0') {
                return 1;
              }
              *param_3 = 0;
            }
            FUN_00048630(param_1,param_2,iVar8);
            if ((iVar7 != 0) && (*piVar9 == iVar7)) {
              FUN_00048630(param_1,param_2,iVar8);
            }
            return 1;
          }
        }
      }
      pcVar2 = (char *)*piVar9;
      sVar4 = strlen(pcVar2);
      (*param_4)("%s: %.*s: %s",*param_2,sVar4,pcVar2,"unrecognized option");
      return 0xffffffff;
    }
  }
  return 0;
}




char * FUN_00048a84(char *param_1,char *param_2)

{
  size_t sVar1;
  size_t sVar2;
  size_t sVar3;
  char *pcVar4;
  int iVar5;
  char *pcVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  undefined4 *puVar10;
  undefined4 *puVar11;
  char *pcVar12;
  char *pcVar13;
  uint uVar14;
  uint uVar15;
  char *local_88;
  int local_80;
  undefined1 auStack_7c [80];
  undefined4 local_2c;
  
  puVar10 = DAT_000c54d0;
  uVar15 = DAT_000c54c8;
  if (param_2 == (char *)0x0) {
    if (DAT_000c54c8 == 0) {
      sVar2 = strlen(param_1);
      local_88 = "";
      sVar2 = DAT_000c54c4 + 0x14 + sVar2;
      goto LAB_00048b60;
    }
    uVar14 = 0;
    puVar11 = DAT_000c54d0;
    do {
      uVar14 = uVar14 + 1;
      if (((code *)puVar11[2] == FUN_00047c58) && (local_88 = (char *)puVar11[5], local_88 != (char *)0x0)) {
        sVar2 = strlen(local_88);
        goto LAB_00048e40;
      }
      puVar11 = puVar11 + 7;
    } while (uVar14 != DAT_000c54c8);
    sVar2 = 0;
    local_88 = "";
LAB_00048e40:
    sVar1 = strlen(param_1);
    sVar2 = DAT_000c54c4 + 0x14 + sVar1 + sVar2;
  }
  else {
    sVar1 = strlen(param_1);
    sVar2 = strlen(param_2);
    sVar2 = DAT_000c54c4 + 0x14 + sVar1 + sVar2;
    puVar10 = DAT_000c54d0;
    uVar15 = DAT_000c54c8;
    local_88 = param_2;
    if (DAT_000c54c8 == 0) goto LAB_00048b60;
  }
  uVar14 = 0;
  do {
    while (puVar10[1] == 8) {
      uVar14 = uVar14 + 1;
      sVar1 = strlen((char *)puVar10[6]);
      puVar10 = puVar10 + 7;
      sVar2 = sVar2 + 3 + sVar1;
      if (uVar15 <= uVar14) goto LAB_00048b60;
    }
    pcVar4 = (char *)puVar10[6];
    if (pcVar4 != (char *)&DAT_000c54d8) {
      sVar1 = strlen((char *)*puVar10);
      sVar3 = strlen(pcVar4);
      iVar5 = sVar2 + 6 + sVar1 + sVar3;
      iVar9 = iVar5 + 0x15;
      if (puVar10[4] != 0) {
        iVar9 = iVar5 + 0x76;
      }
      sVar2 = iVar9 + 1;
    }
    uVar14 = uVar14 + 1;
    puVar10 = puVar10 + 7;
  } while (uVar14 < uVar15);
LAB_00048b60:
  pcVar4 = (char *)malloc(sVar2);
  if (pcVar4 != (char *)0x0) {
    iVar5 = sprintf(pcVar4,"Usage: %s",param_1);
    pcVar12 = pcVar4 + iVar5;
    builtin_strncpy(pcVar4 + iVar5," [-",4);
    pcVar6 = (char *)FUN_00048330(&local_80);
    pcVar13 = pcVar12;
    if (pcVar6 != (char *)0x0) {
      iVar5 = 0;
      do {
        if ((undefined4 *)DAT_000c54d0[local_80 * 7 + 6] != &DAT_000c54d8) {
          pcVar12[iVar5 + 3] = *pcVar6;
          iVar5 = iVar5 + 1;
        }
        pcVar6 = (char *)FUN_0004838c(pcVar6,&local_80);
      } while (pcVar6 != (char *)0x0);
      if (iVar5 != 0) {
        pcVar13 = pcVar12 + iVar5 + 4;
        (pcVar12 + iVar5 + 3)[0] = ']';
        (pcVar12 + iVar5 + 3)[1] = '\0';
      }
    }
    iVar5 = sprintf(pcVar13," %s",local_88);
    (pcVar13 + iVar5)[0] = '\n';
    (pcVar13 + iVar5)[1] = '\0';
    pcVar13 = pcVar13 + iVar5 + 1;
    if (DAT_000c54c8 != 0) {
      iVar5 = 0;
      uVar15 = 0;
      do {
        puVar10 = (undefined4 *)((int)DAT_000c54d0 + iVar5);
        if ((undefined4 *)puVar10[6] != &DAT_000c54d8) {
          if (puVar10[1] == 8) {
            iVar9 = sprintf(pcVar13,"%s:\n");
            pcVar13 = pcVar13 + iVar9;
          }
          else {
            iVar9 = sprintf(pcVar13,"%s",*puVar10);
            if (*(int *)((int)DAT_000c54d0 + iVar5 + 4) == 2) {
              pcVar12 = *(char **)((int)DAT_000c54d0 + iVar5);
              pcVar6 = strchr(pcVar12,0x20);
              if ((pcVar6 == (char *)0x0) && (pcVar6 = strchr(pcVar12,0x3d), pcVar6 == (char *)0x0)) {
                builtin_strncpy(pcVar13 + iVar9," <arg>",7);
                iVar9 = iVar9 + 6;
              }
            }
            iVar7 = sprintf(pcVar13 + iVar9,"%.*s");
            iVar8 = sprintf(pcVar13 + iVar7 + iVar9,"%s",*(undefined4 *)((int)DAT_000c54d0 + iVar5 + 0x18));
            iVar8 = iVar7 + iVar9 + iVar8;
            if (*(int *)((int)DAT_000c54d0 + iVar5 + 0x10) != 0) {
              local_2c = 0x2e2e2e;
              (**(code **)((int)DAT_000c54d0 + iVar5 + 0x10))
                        (auStack_7c,*(undefined4 *)((int)DAT_000c54d0 + iVar5 + 0x14));
              iVar9 = sprintf(pcVar13 + iVar8," (default: %s)",auStack_7c);
              iVar8 = iVar8 + iVar9;
            }
            (pcVar13 + iVar8)[0] = '\n';
            (pcVar13 + iVar8)[1] = '\0';
            pcVar13 = pcVar13 + iVar8 + 1;
          }
        }
        uVar15 = uVar15 + 1;
        iVar5 = iVar5 + 0x1c;
      } while (uVar15 < DAT_000c54c8);
    }
    *pcVar13 = '\0';
  }
  return pcVar4;
}




ulonglong FUN_00048ec0(uint param_1,uint param_2)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  bool bVar4;
  
  if (param_2 - 1 == 0) {
    return CONCAT44(param_2,param_1);
  }
  if (param_2 == 0) {
    uVar1 = raise(8);
    return (ulonglong)uVar1;
  }
  if (param_1 <= param_2) {
    return CONCAT44(param_2,(uint)(param_1 == param_2));
  }
  if ((param_2 & param_2 - 1) == 0) {
    return CONCAT44(param_2,param_1 >> (0x1fU - LZCOUNT(param_2) & 0xff));
  }
  uVar2 = param_2 << (LZCOUNT(param_2) - LZCOUNT(param_1) & 0xffU);
  uVar1 = 1 << (LZCOUNT(param_2) - LZCOUNT(param_1) & 0xffU);
  uVar3 = 0;
  while( true ) {
    if (uVar2 <= param_1) {
      param_1 = param_1 - uVar2;
      uVar3 = uVar3 | uVar1;
    }
    if (uVar2 >> 1 <= param_1) {
      param_1 = param_1 - (uVar2 >> 1);
      uVar3 = uVar3 | uVar1 >> 1;
    }
    if (uVar2 >> 2 <= param_1) {
      param_1 = param_1 - (uVar2 >> 2);
      uVar3 = uVar3 | uVar1 >> 2;
    }
    if (uVar2 >> 3 <= param_1) {
      param_1 = param_1 - (uVar2 >> 3);
      uVar3 = uVar3 | uVar1 >> 3;
    }
    bVar4 = param_1 == 0;
    if (!bVar4) {
      uVar1 = uVar1 >> 4;
      bVar4 = uVar1 == 0;
    }
    if (bVar4) break;
    uVar2 = uVar2 >> 4;
  }
  return CONCAT44(uVar2,uVar3);
}




void FUN_00048f68(undefined4 param_1,int param_2)

{
  if (param_2 != 0) {
    FUN_00048ec0();
    return;
  }
  raise(8);
  return;
}




ulonglong FUN_00048f88(uint param_1,uint param_2)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  bool bVar6;
  
  if (param_2 == 0) {
    uVar2 = raise(8);
    return (ulonglong)uVar2;
  }
  uVar5 = param_1 ^ param_2;
  uVar2 = param_2;
  if ((int)param_2 < 0) {
    uVar2 = -param_2;
  }
  if (uVar2 - 1 == 0) {
    if ((int)param_2 < 0) {
      param_1 = -param_1;
    }
    return CONCAT44(uVar2,param_1);
  }
  uVar4 = param_1;
  if ((int)param_1 < 0) {
    uVar4 = -param_1;
  }
  if (uVar4 <= uVar2) {
    if (uVar4 < uVar2) {
      param_1 = 0;
    }
    if (uVar4 == uVar2) {
      param_1 = (int)uVar5 >> 0x1f | 1;
    }
    return CONCAT44(uVar2,param_1);
  }
  if ((uVar2 & uVar2 - 1) == 0) {
    uVar4 = uVar4 >> (0x1fU - LZCOUNT(uVar2) & 0xff);
    if ((int)uVar5 < 0) {
      uVar4 = -uVar4;
    }
    return CONCAT44(uVar2,uVar4);
  }
  uVar3 = uVar2 << (LZCOUNT(uVar2) - LZCOUNT(uVar4) & 0xffU);
  uVar2 = 1 << (LZCOUNT(uVar2) - LZCOUNT(uVar4) & 0xffU);
  uVar1 = 0;
  while( true ) {
    if (uVar3 <= uVar4) {
      uVar4 = uVar4 - uVar3;
      uVar1 = uVar1 | uVar2;
    }
    if (uVar3 >> 1 <= uVar4) {
      uVar4 = uVar4 - (uVar3 >> 1);
      uVar1 = uVar1 | uVar2 >> 1;
    }
    if (uVar3 >> 2 <= uVar4) {
      uVar4 = uVar4 - (uVar3 >> 2);
      uVar1 = uVar1 | uVar2 >> 2;
    }
    if (uVar3 >> 3 <= uVar4) {
      uVar4 = uVar4 - (uVar3 >> 3);
      uVar1 = uVar1 | uVar2 >> 3;
    }
    bVar6 = uVar4 == 0;
    if (!bVar6) {
      uVar2 = uVar2 >> 4;
      bVar6 = uVar2 == 0;
    }
    if (bVar6) break;
    uVar3 = uVar3 >> 4;
  }
  if ((int)uVar5 < 0) {
    uVar1 = -uVar1;
  }
  return CONCAT44(uVar3,uVar1);
}




ulonglong FUN_000493c8(uint param_1,uint param_2)

{
  byte bVar1;
  byte bVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  uint uVar7;
  uint uVar8;
  int iVar9;
  bool bVar10;
  bool bVar11;
  bool bVar12;
  
  if (param_1 == 0 && param_2 == 0) {
    return CONCAT44(param_2,param_1);
  }
  iVar9 = 0x432;
  uVar8 = param_2 >> 0x16;
  if (uVar8 != 0) {
    iVar9 = 3;
    if (param_2 >> 0x19 != 0) {
      iVar9 = 6;
    }
    if (param_2 >> 0x1c != 0) {
      iVar9 = iVar9 + 3;
    }
    iVar9 = iVar9 - ((int)param_2 >> 0x1f);
    uVar8 = param_1 << (0x20U - iVar9 & 0xff);
    param_1 = param_1 >> iVar9 | param_2 << (0x20U - iVar9 & 0xff);
    param_2 = param_2 >> iVar9;
    iVar9 = iVar9 + 0x432;
  }
  if (0xfffff < param_2) {
    if (0x1fffff < param_2) {
      bVar1 = (byte)param_2;
      param_2 = param_2 >> 1;
      bVar2 = (byte)param_1;
      param_1 = (uint)(bVar1 & 1) << 0x1f | param_1 >> 1;
      uVar8 = (uint)(bVar2 & 1) << 0x1f | uVar8 >> 1;
      iVar9 = iVar9 + 1;
      if (0xffbfffff < (uint)(iVar9 * 0x200000)) {
        return 0x7ff0000000000000;
      }
    }
LAB_000491a8:
    bVar11 = 0x7fffffff < uVar8;
    if (uVar8 == 0x80000000) {
      bVar11 = (bool)((byte)param_1 & 1);
    }
    return CONCAT44(param_2 + iVar9 * 0x100000 + (uint)CARRY4(param_1,(uint)bVar11),param_1 + bVar11);
  }
  bVar1 = (byte)(uVar8 >> 0x1f);
  uVar8 = uVar8 << 1;
  uVar3 = param_1 * 2;
  bVar11 = CARRY4(param_1,param_1);
  param_1 = param_1 * 2 + (uint)bVar1;
  param_2 = param_2 * 2 + (uint)(bVar11 || CARRY4(uVar3,(uint)bVar1));
  iVar9 = iVar9 + -1;
  if ((param_2 & 0x100000) != 0) goto LAB_000491a8;
  uVar3 = param_1;
  uVar4 = param_2;
  if (param_2 == 0) {
    uVar3 = 0;
    uVar4 = param_1;
  }
  iVar6 = LZCOUNT(uVar4);
  if (param_2 == 0) {
    iVar6 = iVar6 + 0x20;
  }
  uVar7 = iVar6 - 0xb;
  bVar12 = SBORROW4(uVar7,0x20);
  uVar5 = iVar6 - 0x2b;
  bVar11 = (int)uVar5 < 0;
  bVar10 = uVar5 == 0;
  if ((int)uVar7 < 0x20) {
    bVar12 = SCARRY4(uVar5,0xc);
    iVar6 = iVar6 + -0x1f;
    bVar11 = iVar6 < 0;
    bVar10 = iVar6 == 0;
    uVar5 = uVar7;
    if (!bVar10 && bVar11 == bVar12) {
      uVar3 = uVar4 << (uVar7 & 0xff);
      uVar4 = uVar4 >> (0xcU - iVar6 & 0xff);
      goto LAB_00049228;
    }
  }
  if (bVar10 || bVar11 != bVar12) {
    uVar8 = 0x20 - uVar5;
  }
  uVar4 = uVar4 << (uVar5 & 0xff);
  if (bVar10 || bVar11 != bVar12) {
    uVar4 = uVar4 | uVar3 >> (uVar8 & 0xff);
    uVar3 = uVar3 << (uVar5 & 0xff);
  }
LAB_00049228:
  if ((int)uVar7 <= iVar9) {
    return CONCAT44(uVar4 + (iVar9 - uVar7) * 0x100000,uVar3);
  }
  uVar8 = ~(iVar9 - uVar7);
  if (0x1e < (int)uVar8) {
    return (ulonglong)(uVar4 >> (uVar8 - 0x1f & 0xff));
  }
  iVar9 = uVar8 - 0x13;
  if (iVar9 == 0 || iVar9 < 0 != SCARRY4(uVar8 - 0x1f,0xc)) {
    uVar8 = uVar8 + 1;
    return CONCAT44(uVar4 >> (uVar8 & 0xff),uVar3 >> (uVar8 & 0xff) | uVar4 << (0x20 - uVar8 & 0xff));
  }
  return (ulonglong)(uVar3 >> (0x20 - (0xcU - iVar9) & 0xff) | uVar4 << (0xcU - iVar9 & 0xff));
}




ulonglong FUN_000493dc(uint param_1,uint param_2)

{
  byte bVar1;
  byte bVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  uint uVar7;
  int iVar8;
  uint uVar9;
  uint uVar10;
  bool bVar11;
  bool bVar12;
  bool bVar13;
  
  if (param_1 == 0 && param_2 == 0) {
    return CONCAT44(param_2,param_1);
  }
  uVar9 = param_2 & 0x80000000;
  uVar4 = param_2;
  if ((int)uVar9 < 0) {
    bVar12 = param_1 != 0;
    param_1 = -param_1;
    uVar4 = -(param_2 + bVar12);
  }
  iVar8 = 0x432;
  uVar10 = uVar4 >> 0x16;
  if (uVar10 != 0) {
    iVar8 = 3;
    if (uVar4 >> 0x19 != 0) {
      iVar8 = 6;
    }
    if (uVar4 >> 0x1c != 0) {
      iVar8 = iVar8 + 3;
    }
    iVar8 = iVar8 - ((int)uVar4 >> 0x1f);
    uVar10 = param_1 << (0x20U - iVar8 & 0xff);
    param_1 = param_1 >> iVar8 | uVar4 << (0x20U - iVar8 & 0xff);
    uVar4 = uVar4 >> iVar8;
    iVar8 = iVar8 + 0x432;
  }
  if (0xfffff < uVar4) {
    if (0x1fffff < uVar4) {
      bVar1 = (byte)uVar4;
      uVar4 = uVar4 >> 1;
      bVar2 = (byte)param_1;
      param_1 = (uint)(bVar1 & 1) << 0x1f | param_1 >> 1;
      uVar10 = (uint)(bVar2 & 1) << 0x1f | uVar10 >> 1;
      iVar8 = iVar8 + 1;
      if (0xffbfffff < (uint)(iVar8 * 0x200000)) {
        return (ulonglong)(uVar9 | 0x7ff00000) << 0x20;
      }
    }
LAB_000491a8:
    bVar12 = 0x7fffffff < uVar10;
    if (uVar10 == 0x80000000) {
      bVar12 = (bool)((byte)param_1 & 1);
    }
    return CONCAT44(uVar4 + iVar8 * 0x100000 + (uint)CARRY4(param_1,(uint)bVar12) | uVar9,param_1 + bVar12);
  }
  bVar1 = (byte)(uVar10 >> 0x1f);
  uVar10 = uVar10 << 1;
  uVar3 = param_1 * 2;
  bVar12 = CARRY4(param_1,param_1);
  param_1 = param_1 * 2 + (uint)bVar1;
  uVar4 = uVar4 * 2 + (uint)(bVar12 || CARRY4(uVar3,(uint)bVar1));
  iVar8 = iVar8 + -1;
  if ((uVar4 & 0x100000) != 0) goto LAB_000491a8;
  uVar3 = param_1;
  uVar5 = uVar4;
  if (uVar4 == 0) {
    uVar3 = 0;
    uVar5 = param_1;
  }
  iVar6 = LZCOUNT(uVar5);
  if (uVar4 == 0) {
    iVar6 = iVar6 + 0x20;
  }
  uVar7 = iVar6 - 0xb;
  bVar13 = SBORROW4(uVar7,0x20);
  uVar4 = iVar6 - 0x2b;
  bVar12 = (int)uVar4 < 0;
  bVar11 = uVar4 == 0;
  if ((int)uVar7 < 0x20) {
    bVar13 = SCARRY4(uVar4,0xc);
    iVar6 = iVar6 + -0x1f;
    bVar12 = iVar6 < 0;
    bVar11 = iVar6 == 0;
    uVar4 = uVar7;
    if (!bVar11 && bVar12 == bVar13) {
      uVar3 = uVar5 << (uVar7 & 0xff);
      uVar5 = uVar5 >> (0xcU - iVar6 & 0xff);
      goto LAB_00049228;
    }
  }
  if (bVar11 || bVar12 != bVar13) {
    uVar10 = 0x20 - uVar4;
  }
  uVar5 = uVar5 << (uVar4 & 0xff);
  if (bVar11 || bVar12 != bVar13) {
    uVar5 = uVar5 | uVar3 >> (uVar10 & 0xff);
    uVar3 = uVar3 << (uVar4 & 0xff);
  }
LAB_00049228:
  if ((int)uVar7 <= iVar8) {
    return CONCAT44(uVar5 + (iVar8 - uVar7) * 0x100000 | uVar9,uVar3);
  }
  uVar4 = ~(iVar8 - uVar7);
  if (0x1e < (int)uVar4) {
    return CONCAT44(param_2,uVar5 >> (uVar4 - 0x1f & 0xff)) & 0x80000000ffffffff;
  }
  iVar8 = uVar4 - 0x13;
  if (iVar8 == 0 || iVar8 < 0 != SCARRY4(uVar4 - 0x1f,0xc)) {
    uVar4 = uVar4 + 1;
    return CONCAT44(uVar9 | uVar5 >> (uVar4 & 0xff),uVar3 >> (uVar4 & 0xff) | uVar5 << (0x20 - uVar4 & 0xff));
  }
  return CONCAT44(param_2,uVar3 >> (0x20 - (0xcU - iVar8) & 0xff) | uVar5 << (0xcU - iVar8 & 0xff)) & 0x80000000ffffffff
  ;
}




void FUN_0004943c(undefined4 param_1,undefined4 param_2,int param_3,int param_4)

{
  if (param_4 != 0 || param_3 != 0) {
    FUN_00049544();
    return;
  }
  raise(8);
  return;
}




undefined8 FUN_00049488(undefined4 param_1,uint param_2,undefined4 param_3,undefined4 param_4)

{
  undefined8 uVar1;
  
  if ((double)CONCAT44(param_2,param_1) < 0.0) {
    uVar1 = FUN_000494c0(param_1,param_2 ^ 0x80000000,param_1,param_2,param_4);
    return CONCAT44(-((int)((ulonglong)uVar1 >> 0x20) + (uint)((int)uVar1 != 0)),-(int)uVar1);
  }
  uVar1 = FUN_000494c0();
  return uVar1;
}




undefined8 FUN_000494c0(undefined4 param_1,undefined4 param_2)

{
  uint uVar1;
  double dVar2;
  
  dVar2 = (double)CONCAT44(param_2,param_1) * 2.3283064365386963e-10;
  uVar1 = (uint)(0.0 < dVar2) * (int)(longlong)dVar2;
  dVar2 = (double)CONCAT44(param_2,param_1) - (double)uVar1 * 4294967296.0;
  return CONCAT44(uVar1,(uint)(0.0 < dVar2) * (int)(longlong)dVar2);
}




void FUN_00049508(uint param_1,int param_2,undefined4 param_3,undefined4 param_4,int *param_5)

{
  uint uVar1;
  longlong lVar2;
  
  lVar2 = FUN_00049580();
  lVar2 = lVar2 * CONCAT44(param_4,param_3);
  uVar1 = (uint)lVar2;
  *param_5 = param_1 - uVar1;
  param_5[1] = param_2 - ((int)((ulonglong)lVar2 >> 0x20) + (uint)(param_1 < uVar1));
  return;
}




void FUN_00049544(uint param_1,int param_2,undefined4 param_3,undefined4 param_4,int *param_5)

{
  uint uVar1;
  longlong lVar2;
  
  lVar2 = FUN_000499d8();
  lVar2 = lVar2 * CONCAT44(param_4,param_3);
  uVar1 = (uint)lVar2;
  *param_5 = param_1 - uVar1;
  param_5[1] = param_2 - ((int)((ulonglong)lVar2 >> 0x20) + (uint)(param_1 < uVar1));
  return;
}




undefined8 FUN_00049580(uint param_1,uint param_2,uint param_3,uint param_4)

{
  longlong lVar1;
  int iVar2;
  int iVar3;
  int extraout_r1;
  int extraout_r1_00;
  int extraout_r1_01;
  uint extraout_r1_02;
  int extraout_r1_03;
  int extraout_r1_04;
  int extraout_r1_05;
  int extraout_r1_06;
  int iVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  uint uVar9;
  uint uVar10;
  uint uVar11;
  uint uVar12;
  int iVar13;
  bool bVar14;
  
  if ((int)param_2 < 0) {
    uVar8 = -param_1;
    uVar11 = -(param_2 + (param_1 != 0));
    uVar6 = 0xffffffff;
  }
  else {
    uVar6 = 0;
    uVar8 = param_1;
    uVar11 = param_2;
  }
  uVar5 = param_3;
  if ((int)param_4 < 0) {
    uVar5 = -param_3;
    param_4 = -(param_4 + (param_3 != 0));
    uVar6 = ~uVar6;
  }
  if (param_4 == 0) {
    if (uVar5 <= uVar11) {
      if (uVar5 == 0) {
        uVar5 = FUN_00048ec0(1,0);
      }
      iVar4 = LZCOUNT(uVar5);
      if (iVar4 == 0) {
        iVar4 = uVar11 - uVar5;
        uVar7 = 1;
      }
      else {
        uVar5 = uVar5 << iVar4;
        uVar12 = uVar11 >> (0x20U - iVar4 & 0xff);
        uVar7 = uVar5 >> 0x10;
        uVar9 = uVar8 >> (0x20U - iVar4 & 0xff) | uVar11 << iVar4;
        uVar8 = uVar8 << iVar4;
        FUN_00048f68(uVar12,uVar7);
        iVar4 = FUN_00048ec0(uVar12,uVar7);
        uVar12 = uVar9 >> 0x10 | extraout_r1_01 << 0x10;
        uVar11 = (uVar5 & 0xffff) * iVar4;
        iVar2 = iVar4;
        if (uVar12 < uVar11) {
          bVar14 = CARRY4(uVar12,uVar5);
          uVar12 = uVar12 + uVar5;
          iVar2 = iVar4 + -1;
          if ((!bVar14) && (uVar12 < uVar11)) {
            uVar12 = uVar12 + uVar5;
            iVar2 = iVar4 + -2;
          }
        }
        FUN_00048f68(uVar12 - uVar11,uVar7,uVar11,uVar12,param_1,param_2,param_3);
        param_1 = extraout_r1_02;
        uVar11 = FUN_00048ec0(uVar12 - uVar11,uVar7);
        uVar12 = uVar9 & 0xffff | param_1 << 0x10;
        uVar9 = (uVar5 & 0xffff) * uVar11;
        uVar7 = uVar11;
        if (uVar12 < uVar9) {
          bVar14 = CARRY4(uVar12,uVar5);
          uVar12 = uVar12 + uVar5;
          uVar7 = uVar11 - 1;
          if ((!bVar14) && (uVar12 < uVar9)) {
            uVar12 = uVar12 + uVar5;
            uVar7 = uVar11 - 2;
          }
        }
        iVar4 = uVar12 - uVar9;
        uVar7 = uVar7 | iVar2 << 0x10;
      }
      uVar11 = uVar5 >> 0x10;
      FUN_00048f68(iVar4,uVar11);
      iVar2 = FUN_00048ec0(iVar4,uVar11);
      uVar9 = uVar8 >> 0x10 | extraout_r1_03 << 0x10;
      uVar12 = (uVar5 & 0xffff) * iVar2;
      iVar4 = iVar2;
      if (uVar9 < uVar12) {
        bVar14 = CARRY4(uVar9,uVar5);
        uVar9 = uVar9 + uVar5;
        iVar4 = iVar2 + -1;
        if ((!bVar14) && (uVar9 < uVar12)) {
          uVar9 = uVar9 + uVar5;
          iVar4 = iVar2 + -2;
        }
      }
      FUN_00048f68(uVar9 - uVar12,uVar11,uVar12,uVar9,param_1,param_2,param_3);
      iVar2 = extraout_r1_04;
      uVar11 = FUN_00048ec0(uVar9 - uVar12,uVar11);
      uVar9 = uVar8 & 0xffff | iVar2 << 0x10;
      uVar12 = (uVar5 & 0xffff) * uVar11;
      uVar8 = uVar11;
      if (uVar9 < uVar12) {
        uVar8 = uVar11 - 1;
        if ((!CARRY4(uVar9,uVar5)) && (uVar9 + uVar5 < uVar12)) {
          uVar8 = uVar11 - 2;
        }
      }
      uVar11 = uVar8 | iVar4 << 0x10;
      goto LAB_000499b8;
    }
    iVar4 = LZCOUNT(uVar5);
    uVar7 = uVar5;
    if (iVar4 != 0) {
      uVar7 = uVar5 << iVar4;
      uVar5 = uVar8 >> (0x20U - iVar4 & 0xff);
      uVar8 = uVar8 << iVar4;
      uVar11 = uVar5 | uVar11 << iVar4;
    }
    uVar12 = uVar7 >> 0x10;
    FUN_00048f68(uVar11,uVar12,uVar5,iVar4,param_1,param_2,param_3);
    iVar2 = FUN_00048ec0(uVar11,uVar12);
    uVar5 = uVar8 >> 0x10 | extraout_r1 << 0x10;
    uVar11 = (uVar7 & 0xffff) * iVar2;
    iVar4 = iVar2;
    if (uVar5 < uVar11) {
      bVar14 = CARRY4(uVar5,uVar7);
      uVar5 = uVar5 + uVar7;
      iVar4 = iVar2 + -1;
      if ((!bVar14) && (uVar5 < uVar11)) {
        uVar5 = uVar5 + uVar7;
        iVar4 = iVar2 + -2;
      }
    }
    FUN_00048f68(uVar5 - uVar11,uVar12,uVar11,uVar5,param_1,param_2,param_3);
    uVar5 = FUN_00048ec0(uVar5 - uVar11,uVar12);
    uVar12 = uVar8 & 0xffff | extraout_r1_00 << 0x10;
    uVar8 = (uVar7 & 0xffff) * uVar5;
    uVar11 = uVar5;
    if (uVar12 < uVar8) {
      uVar11 = uVar5 - 1;
      if ((!CARRY4(uVar12,uVar7)) && (uVar12 + uVar7 < uVar8)) {
        uVar11 = uVar5 - 2;
      }
    }
    uVar11 = uVar11 | iVar4 << 0x10;
LAB_000499a8:
    uVar7 = 0;
  }
  else {
    if (param_4 <= uVar11) {
      iVar4 = LZCOUNT(param_4);
      if (iVar4 != 0) {
        uVar12 = 0x20 - iVar4;
        uVar7 = uVar11 >> (uVar12 & 0xff);
        uVar9 = uVar5 >> (uVar12 & 0xff) | param_4 << iVar4;
        uVar10 = uVar8 >> (uVar12 & 0xff) | uVar11 << iVar4;
        uVar11 = uVar9 >> 0x10;
        FUN_00048f68(uVar7,uVar11,uVar7,param_4,param_1,uVar7,param_3);
        iVar2 = extraout_r1_05;
        iVar3 = FUN_00048ec0(uVar7,uVar11);
        uVar7 = uVar10 >> 0x10 | iVar2 << 0x10;
        uVar12 = (uVar9 & 0xffff) * iVar3;
        iVar2 = iVar3;
        if (uVar7 < uVar12) {
          bVar14 = CARRY4(uVar7,uVar9);
          uVar7 = uVar7 + uVar9;
          iVar2 = iVar3 + -1;
          if ((!bVar14) && (uVar7 < uVar12)) {
            uVar7 = uVar7 + uVar9;
            iVar2 = iVar3 + -2;
          }
        }
        iVar13 = uVar7 - uVar12;
        FUN_00048f68(iVar13,uVar11);
        iVar3 = extraout_r1_06;
        uVar7 = FUN_00048ec0(iVar13,uVar11);
        uVar12 = uVar10 & 0xffff | iVar3 << 0x10;
        uVar10 = (uVar9 & 0xffff) * uVar7;
        uVar11 = uVar7;
        if (uVar12 < uVar10) {
          bVar14 = CARRY4(uVar12,uVar9);
          uVar12 = uVar12 + uVar9;
          uVar11 = uVar7 - 1;
          if ((!bVar14) && (uVar12 < uVar10)) {
            uVar12 = uVar12 + uVar9;
            uVar11 = uVar7 - 2;
          }
        }
        uVar11 = uVar11 | iVar2 << 0x10;
        lVar1 = (ulonglong)(uVar5 << iVar4) * (ulonglong)uVar11;
        uVar5 = (uint)((ulonglong)lVar1 >> 0x20);
        if (uVar5 <= uVar12 - uVar10) {
          uVar7 = (uint)(uVar5 == uVar12 - uVar10);
          if ((uint)lVar1 <= uVar8 << iVar4) {
            uVar7 = 0;
          }
          if (uVar7 == 0) goto LAB_000499b8;
        }
        uVar11 = uVar11 - 1;
        goto LAB_000499a8;
      }
      bVar14 = param_4 <= uVar11;
      if (uVar11 <= param_4) {
        bVar14 = uVar5 <= uVar8;
      }
      if (bVar14) {
        uVar7 = 0;
        uVar11 = 1;
        goto LAB_000499b8;
      }
    }
    uVar7 = 0;
    uVar11 = uVar7;
  }
LAB_000499b8:
  if (uVar6 != 0) {
    bVar14 = uVar11 != 0;
    uVar11 = -uVar11;
    uVar7 = -(uVar7 + bVar14);
  }
  return CONCAT44(uVar7,uVar11);
}




undefined8 FUN_000499d8(uint param_1,uint param_2,uint param_3,uint param_4)

{
  longlong lVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  int extraout_r1;
  int extraout_r1_00;
  int extraout_r1_01;
  int extraout_r1_02;
  int extraout_r1_03;
  int extraout_r1_04;
  int extraout_r1_05;
  int extraout_r1_06;
  uint uVar5;
  int iVar6;
  uint uVar7;
  uint uVar8;
  uint uVar9;
  uint uVar10;
  uint uVar11;
  uint uVar12;
  int iVar13;
  bool bVar14;
  
  if (param_4 == 0) {
    if (param_3 <= param_2) {
      uVar3 = param_1;
      uVar12 = param_2;
      uVar10 = param_3;
      if (param_3 == 0) {
        param_3 = FUN_00048ec0(1,0);
      }
      iVar6 = LZCOUNT(param_3);
      if (iVar6 == 0) {
        iVar6 = param_2 - param_3;
        uVar9 = 1;
        uVar7 = param_1;
      }
      else {
        param_3 = param_3 << iVar6;
        uVar5 = param_2 >> (0x20U - iVar6 & 0xff);
        uVar7 = param_1 << iVar6;
        uVar9 = param_3 >> 0x10;
        uVar11 = param_1 >> (0x20U - iVar6 & 0xff) | param_2 << iVar6;
        FUN_00048f68(uVar5,uVar9);
        iVar6 = FUN_00048ec0(uVar5,uVar9);
        uVar8 = uVar11 >> 0x10 | extraout_r1_01 << 0x10;
        uVar5 = (param_3 & 0xffff) * iVar6;
        iVar2 = iVar6;
        if (uVar8 < uVar5) {
          bVar14 = CARRY4(uVar8,param_3);
          uVar8 = uVar8 + param_3;
          iVar2 = iVar6 + -1;
          if ((!bVar14) && (uVar8 < uVar5)) {
            uVar8 = uVar8 + param_3;
            iVar2 = iVar6 + -2;
          }
        }
        FUN_00048f68(uVar8 - uVar5,uVar9,uVar5,uVar8,uVar3,uVar12,uVar10);
        uVar5 = FUN_00048ec0(uVar8 - uVar5,uVar9);
        uVar8 = uVar11 & 0xffff | extraout_r1_02 << 0x10;
        uVar11 = (param_3 & 0xffff) * uVar5;
        uVar9 = uVar5;
        if (uVar8 < uVar11) {
          bVar14 = CARRY4(uVar8,param_3);
          uVar8 = uVar8 + param_3;
          uVar9 = uVar5 - 1;
          if ((!bVar14) && (uVar8 < uVar11)) {
            uVar8 = uVar8 + param_3;
            uVar9 = uVar5 - 2;
          }
        }
        iVar6 = uVar8 - uVar11;
        uVar9 = uVar9 | iVar2 << 0x10;
      }
      uVar5 = param_3 >> 0x10;
      FUN_00048f68(iVar6,uVar5);
      iVar2 = FUN_00048ec0(iVar6,uVar5);
      uVar11 = uVar7 >> 0x10 | extraout_r1_03 << 0x10;
      uVar8 = (param_3 & 0xffff) * iVar2;
      iVar6 = iVar2;
      if (uVar11 < uVar8) {
        bVar14 = CARRY4(uVar11,param_3);
        uVar11 = uVar11 + param_3;
        iVar6 = iVar2 + -1;
        if ((!bVar14) && (uVar11 < uVar8)) {
          uVar11 = uVar11 + param_3;
          iVar6 = iVar2 + -2;
        }
      }
      FUN_00048f68(uVar11 - uVar8,uVar5,uVar8,uVar11,uVar3,uVar12,uVar10);
      uVar12 = FUN_00048ec0(uVar11 - uVar8,uVar5);
      uVar10 = uVar7 & 0xffff | extraout_r1_04 << 0x10;
      uVar7 = (param_3 & 0xffff) * uVar12;
      uVar3 = uVar12;
      if (uVar10 < uVar7) {
        uVar3 = uVar12 - 1;
        if ((!CARRY4(uVar10,param_3)) && (uVar10 + param_3 < uVar7)) {
          uVar3 = uVar12 - 2;
        }
      }
      uVar3 = uVar3 | iVar6 << 0x10;
      goto LAB_00049dac;
    }
    iVar6 = LZCOUNT(param_3);
    uVar12 = param_2;
    uVar9 = param_3;
    uVar3 = param_1;
    if (iVar6 != 0) {
      uVar9 = param_3 << iVar6;
      uVar3 = param_1 << iVar6;
      uVar12 = param_1 >> (0x20U - iVar6 & 0xff) | param_2 << iVar6;
    }
    uVar10 = uVar9 >> 0x10;
    FUN_00048f68(uVar12,uVar10,param_3,iVar6,param_1,param_2,param_3);
    iVar2 = FUN_00048ec0(uVar12,uVar10);
    uVar7 = uVar3 >> 0x10 | extraout_r1 << 0x10;
    uVar12 = (uVar9 & 0xffff) * iVar2;
    iVar6 = iVar2;
    if (uVar7 < uVar12) {
      bVar14 = CARRY4(uVar7,uVar9);
      uVar7 = uVar7 + uVar9;
      iVar6 = iVar2 + -1;
      if ((!bVar14) && (uVar7 < uVar12)) {
        uVar7 = uVar7 + uVar9;
        iVar6 = iVar2 + -2;
      }
    }
    FUN_00048f68(uVar7 - uVar12,uVar10,uVar12,uVar7,param_1,param_2,param_3);
    uVar12 = FUN_00048ec0(uVar7 - uVar12,uVar10);
    uVar10 = uVar3 & 0xffff | extraout_r1_00 << 0x10;
    uVar7 = (uVar9 & 0xffff) * uVar12;
    uVar3 = uVar12;
    if (uVar10 < uVar7) {
      uVar3 = uVar12 - 1;
      if ((!CARRY4(uVar10,uVar9)) && (uVar10 + uVar9 < uVar7)) {
        uVar3 = uVar12 - 2;
      }
    }
    uVar3 = uVar3 | iVar6 << 0x10;
LAB_00049d9c:
    uVar9 = 0;
  }
  else {
    if (param_4 <= param_2) {
      iVar6 = LZCOUNT(param_4);
      if (iVar6 != 0) {
        uVar3 = 0x20 - iVar6;
        uVar9 = param_2 >> (uVar3 & 0xff);
        uVar12 = param_3 >> (uVar3 & 0xff) | param_4 << iVar6;
        uVar10 = param_1 >> (uVar3 & 0xff) | param_2 << iVar6;
        uVar3 = uVar12 >> 0x10;
        FUN_00048f68(uVar9,uVar3,param_3,param_4,param_1,param_2,param_3);
        iVar2 = extraout_r1_05;
        iVar4 = FUN_00048ec0(uVar9,uVar3);
        uVar7 = uVar10 >> 0x10 | iVar2 << 0x10;
        uVar9 = (uVar12 & 0xffff) * iVar4;
        iVar2 = iVar4;
        if (uVar7 < uVar9) {
          bVar14 = CARRY4(uVar7,uVar12);
          uVar7 = uVar7 + uVar12;
          iVar2 = iVar4 + -1;
          if ((!bVar14) && (uVar7 < uVar9)) {
            uVar7 = uVar7 + uVar12;
            iVar2 = iVar4 + -2;
          }
        }
        iVar13 = uVar7 - uVar9;
        FUN_00048f68(iVar13,uVar3);
        iVar4 = extraout_r1_06;
        uVar9 = FUN_00048ec0(iVar13,uVar3);
        uVar10 = uVar10 & 0xffff | iVar4 << 0x10;
        uVar7 = (uVar12 & 0xffff) * uVar9;
        uVar3 = uVar9;
        if (uVar10 < uVar7) {
          bVar14 = CARRY4(uVar10,uVar12);
          uVar10 = uVar10 + uVar12;
          uVar3 = uVar9 - 1;
          if ((!bVar14) && (uVar10 < uVar7)) {
            uVar10 = uVar10 + uVar12;
            uVar3 = uVar9 - 2;
          }
        }
        uVar3 = uVar3 | iVar2 << 0x10;
        lVar1 = (ulonglong)(param_3 << iVar6) * (ulonglong)uVar3;
        uVar9 = (uint)((ulonglong)lVar1 >> 0x20);
        if (uVar9 <= uVar10 - uVar7) {
          uVar9 = (uint)(uVar9 == uVar10 - uVar7);
          if ((uint)lVar1 <= param_1 << iVar6) {
            uVar9 = 0;
          }
          if (uVar9 == 0) goto LAB_00049dac;
        }
        uVar3 = uVar3 - 1;
        goto LAB_00049d9c;
      }
      bVar14 = param_4 <= param_2;
      if (param_2 <= param_4) {
        bVar14 = param_3 <= param_1;
      }
      if (bVar14) {
        uVar3 = 1;
        uVar9 = 0;
        goto LAB_00049dac;
      }
    }
    uVar3 = 0;
    uVar9 = uVar3;
  }
LAB_00049dac:
  return CONCAT44(uVar9,uVar3);
}




/* WARNING: Removing unreachable block (ram,0x00049de4) */

void FUN_00049db8(EVP_PKEY_CTX *param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  int iVar1;
  undefined4 *puVar2;
  
  _init(param_1);
  puVar2 = (undefined4 *)0x5f444;
  iVar1 = 0;
  do {
    iVar1 = iVar1 + 1;
    puVar2 = puVar2 + 1;
    (*(code *)*puVar2)(param_1,param_2,param_3,(code *)*puVar2,param_4);
  } while (iVar1 != 1);
  return;
}




void _fini(void)

{
  return;
}



